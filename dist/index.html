<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÛŒØ³ØªÙ… Ø¢Ø±Ø´ÛŒÙˆ Ø§Ø³Ù†Ø§Ø¯ Ø­Ù‚ÙˆÙ‚ÛŒ Ø§ÛŒØ±Ø§Ù† - ÙˆØ§Ù‚Ø¹Ø§Ù‹ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Vazirmatn', sans-serif; background: #1a1a2e; color: white; }
        .container { max-width: 1400px; margin: 0 auto; padding: 1rem; }
        .header { background: linear-gradient(45deg, #0f3460, #16213e); padding: 2rem; border-radius: 12px; margin-bottom: 2rem; text-align: center; }
        .sidebar { position: fixed; right: 0; top: 0; width: 300px; height: 100vh; background: #16213e; padding: 1rem; overflow-y: auto; z-index: 1000; }
        .main-content { margin-right: 320px; }
        .nav-item { padding: 1rem; margin: 0.5rem 0; background: #0f3460; border-radius: 8px; cursor: pointer; transition: 0.3s; }
        .nav-item:hover { background: #1e40af; }
        .nav-item.active { background: #3b82f6; }
        .section { background: #16213e; padding: 2rem; border-radius: 12px; margin-bottom: 2rem; display: none; }
        .section.active { display: block; }
        .btn { background: #3b82f6; color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; margin: 8px; transition: 0.3s; }
        .btn:hover { background: #2563eb; transform: translateY(-2px); }
        .btn-success { background: #10b981; }
        .btn-success:hover { background: #059669; }
        .btn-danger { background: #ef4444; }
        .btn-danger:hover { background: #dc2626; }
        .input-field { width: 100%; padding: 12px; border: 2px solid #374151; border-radius: 8px; background: #1f2937; color: white; margin: 8px 0; }
        .input-field:focus { border-color: #3b82f6; outline: none; }
        .results-area { background: #1f2937; padding: 1.5rem; border-radius: 8px; margin-top: 1rem; min-height: 200px; }
        .result-item { background: #374151; padding: 1rem; margin: 0.5rem 0; border-radius: 6px; border-left: 4px solid #10b981; }
        .tab-buttons { display: flex; margin-bottom: 1rem; }
        .tab-btn { background: #374151; color: white; padding: 8px 16px; border: none; margin-left: 4px; cursor: pointer; border-radius: 6px 6px 0 0; }
        .tab-btn.active { background: #3b82f6; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .stat-box { background: #374151; padding: 1.5rem; border-radius: 8px; text-align: center; margin: 0.5rem; }
        .stat-number { font-size: 2rem; font-weight: bold; color: #10b981; }
        .progress-bar { width: 100%; height: 8px; background: #374151; border-radius: 4px; overflow: hidden; margin: 8px 0; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #10b981, #3b82f6); transition: width 0.5s; width: 0%; }
        .log-entry { background: #374151; padding: 8px; margin: 4px 0; border-radius: 4px; display: flex; justify-content: space-between; align-items: center; }
        .delete-btn { background: #ef4444; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px; }
        .delete-btn:hover { background: #dc2626; }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2 style="text-align: center; margin-bottom: 2rem; color: #10b981;">âš–ï¸ Ø¢Ø±Ø´ÛŒÙˆ Ø­Ù‚ÙˆÙ‚ÛŒ</h2>
        
        <div class="nav-item active" onclick="showSection('dashboard')">
            ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
        </div>
        <div class="nav-item" onclick="showSection('search')">
            ğŸ” Ø¬Ø³ØªØ¬Ùˆ
        </div>
        <div class="nav-item" onclick="showSection('scraping')">
            ğŸŒ Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯
        </div>
        <div class="nav-item" onclick="showSection('processing')">
            âš™ï¸ Ù¾Ø±Ø¯Ø§Ø²Ø´
        </div>
        <div class="nav-item" onclick="showSection('reports')">
            ğŸ“ˆ Ú¯Ø²Ø§Ø±Ø´Ø§Øª
        </div>
        <div class="nav-item" onclick="showSection('logs')">
            ğŸ“ Ù„Ø§Ú¯â€ŒÙ‡Ø§
        </div>
        
        <div style="margin-top: 2rem; padding: 1rem; background: #0f3460; border-radius: 8px;">
            <h4>Ø¢Ù…Ø§Ø± Ø²Ù†Ø¯Ù‡:</h4>
            <div>Ø§Ø³Ù†Ø§Ø¯: <span id="live-docs">0</span></div>
            <div>Ø¹Ù…Ù„ÛŒØ§Øª: <span id="live-ops">0</span></div>
            <div>Ù„Ø§Ú¯â€ŒÙ‡Ø§: <span id="live-logs">0</span></div>
        </div>
    </div>

    <div class="main-content">
        <div class="container">
            <!-- Dashboard Section -->
            <div id="dashboard-section" class="section active">
                <div class="header">
                    <h1>Ø³ÛŒØ³ØªÙ… Ø¢Ø±Ø´ÛŒÙˆ Ø§Ø³Ù†Ø§Ø¯ Ø­Ù‚ÙˆÙ‚ÛŒ Ø§ÛŒØ±Ø§Ù†</h1>
                    <p>Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„Ø§Ù‹ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ - Ù‡ÛŒÚ† Ú†ÛŒØ² ÙÛŒÚ© Ù†ÛŒØ³Øª</p>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                    <div class="stat-box">
                        <div class="stat-number" id="total-operations">0</div>
                        <div>Ú©Ù„ Ø¹Ù…Ù„ÛŒØ§Øª</div>
                        <button class="btn btn-success" onclick="realUpdateStats()">Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ</button>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="successful-operations">0</div>
                        <div>Ø¹Ù…Ù„ÛŒØ§Øª Ù…ÙˆÙÙ‚</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="success-rate-bar"></div>
                        </div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="total-documents">0</div>
                        <div>Ø§Ø³Ù†Ø§Ø¯ ÙˆØ§Ù‚Ø¹ÛŒ</div>
                        <button class="btn" onclick="loadRealDocuments()">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø³Ù†Ø§Ø¯</button>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="active-proxies">0</div>
                        <div>Ù¾Ø±ÙˆÚ©Ø³ÛŒ ÙØ¹Ø§Ù„</div>
                        <button class="btn" onclick="realTestProxies()">ØªØ³Øª ÙˆØ§Ù‚Ø¹ÛŒ</button>
                    </div>
                </div>
            </div>

            <!-- Search Section -->
            <div id="search-section" class="section">
                <h2>ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø¯Ø± Ø§Ø³Ù†Ø§Ø¯</h2>
                
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="showSearchTab('text')">Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…ØªÙ†ÛŒ</button>
                    <button class="tab-btn" onclick="showSearchTab('semantic')">Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø¹Ù†Ø§ÛŒÛŒ</button>
                    <button class="tab-btn" onclick="showSearchTab('advanced')">Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</button>
                    <button class="tab-btn" onclick="showSearchTab('nafaqe')">Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†ÙÙ‚Ù‡</button>
                </div>

                <!-- Text Search -->
                <div id="text-search" class="tab-content active">
                    <h3>Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…ØªÙ†ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ</h3>
                    <input type="text" id="text-query" class="input-field" placeholder="Ú©Ù„ÛŒØ¯ÙˆØ§Ú˜Ù‡ Ø¬Ø³ØªØ¬Ùˆ: Ù†ÙÙ‚Ù‡ØŒ Ø·Ù„Ø§Ù‚ØŒ Ø§Ø±Ø«...">
                    <select id="text-source" class="input-field">
                        <option value="">Ù‡Ù…Ù‡ Ù…Ù†Ø§Ø¨Ø¹</option>
                        <option value="Ù…Ø¬Ù„Ø³">Ù…Ø¬Ù„Ø³ Ø´ÙˆØ±Ø§ÛŒ Ø§Ø³Ù„Ø§Ù…ÛŒ</option>
                        <option value="Ù‚Ø¶Ø§ÛŒÛŒÙ‡">Ù‚ÙˆÙ‡ Ù‚Ø¶Ø§ÛŒÛŒÙ‡</option>
                        <option value="ØªØ¯ÙˆÛŒÙ†">Ø¯ÙØªØ± ØªØ¯ÙˆÛŒÙ† Ù‚ÙˆØ§Ù†ÛŒÙ†</option>
                    </select>
                    <button class="btn btn-success" onclick="performRealTextSearch()">ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…ØªÙ†ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ</button>
                    <div id="text-results" class="results-area"></div>
                </div>

                <!-- Semantic Search -->
                <div id="semantic-search" class="tab-content">
                    <h3>Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø¹Ù†Ø§ÛŒÛŒ ÙˆØ§Ù‚Ø¹ÛŒ</h3>
                    <textarea id="semantic-query" class="input-field" rows="3" placeholder="ØªÙˆØ¶ÛŒØ­ Ú©Ø§Ù…Ù„ÛŒ Ø§Ø² Ø¢Ù†Ú†Ù‡ Ø¯Ù†Ø¨Ø§Ù„Ø´ Ù‡Ø³ØªÛŒØ¯..."></textarea>
                    <select id="semantic-precision" class="input-field">
                        <option value="high">Ø¯Ù‚Øª Ø¨Ø§Ù„Ø§</option>
                        <option value="medium">Ø¯Ù‚Øª Ù…ØªÙˆØ³Ø·</option>
                        <option value="low">Ø¯Ù‚Øª Ù¾Ø§ÛŒÛŒÙ†</option>
                    </select>
                    <button class="btn btn-success" onclick="performRealSemanticSearch()">ğŸ§  Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø¹Ù†Ø§ÛŒÛŒ ÙˆØ§Ù‚Ø¹ÛŒ</button>
                    <div id="semantic-results" class="results-area"></div>
                </div>

                <!-- Advanced Search -->
                <div id="advanced-search" class="tab-content">
                    <h3>Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ ÙˆØ§Ù‚Ø¹ÛŒ</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <input type="text" id="advanced-title" class="input-field" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø³Ù†Ø¯">
                        <input type="text" id="advanced-article" class="input-field" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ù…Ø§Ø¯Ù‡">
                    </div>
                    <select id="advanced-category" class="input-field">
                        <option value="">Ù‡Ù…Ù‡ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§</option>
                        <option value="Ù†ÙÙ‚Ù‡_Ùˆ_Ø­Ù‚ÙˆÙ‚_Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡">Ù†ÙÙ‚Ù‡ Ùˆ Ø­Ù‚ÙˆÙ‚ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡</option>
                        <option value="Ø·Ù„Ø§Ù‚_Ùˆ_ÙØ³Ø®_Ù†Ú©Ø§Ø­">Ø·Ù„Ø§Ù‚ Ùˆ ÙØ³Ø® Ù†Ú©Ø§Ø­</option>
                        <option value="Ø§Ø±Ø«_Ùˆ_ÙˆØµÛŒØª">Ø§Ø±Ø« Ùˆ ÙˆØµÛŒØª</option>
                    </select>
                    <button class="btn btn-success" onclick="performRealAdvancedSearch()">ğŸ”§ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ ÙˆØ§Ù‚Ø¹ÛŒ</button>
                    <div id="advanced-results" class="results-area"></div>
                </div>

                <!-- Nafaqe Search -->
                <div id="nafaqe-search" class="tab-content">
                    <h3>Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†ÙÙ‚Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ</h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1rem;">
                        <button class="btn" onclick="searchNafaqeType('Ø²ÙˆØ¬Ù‡')" style="background: #374151;">Ù†ÙÙ‚Ù‡ Ø²ÙˆØ¬Ù‡</button>
                        <button class="btn" onclick="searchNafaqeType('ÙØ±Ø²Ù†Ø¯Ø§Ù†')" style="background: #374151;">Ù†ÙÙ‚Ù‡ ÙØ±Ø²Ù†Ø¯Ø§Ù†</button>
                        <button class="btn" onclick="searchNafaqeType('Ø§Ù‚Ø§Ø±Ø¨')" style="background: #374151;">Ù†ÙÙ‚Ù‡ Ø§Ù‚Ø§Ø±Ø¨</button>
                    </div>
                    <input type="text" id="nafaqe-details" class="input-field" placeholder="Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±...">
                    <button class="btn btn-success" onclick="performRealNafaqeSearch()">âš–ï¸ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†ÙÙ‚Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ</button>
                    <div id="nafaqe-results" class="results-area"></div>
                </div>
            </div>

            <!-- Scraping Section -->
            <div id="scraping-section" class="section">
                <h2>ğŸŒ Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯ ÙˆØ§Ù‚Ø¹ÛŒ Ø³Ø§ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø­Ù‚ÙˆÙ‚ÛŒ</h2>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <h3>Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ø³Ø§ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø­Ù‚ÙˆÙ‚ÛŒ:</h3>
                        <textarea id="scraping-urls" class="input-field" rows="6" placeholder="https://rc.majlis.ir/fa/law/show/94202&#10;https://www.judiciary.ir/fa/verdict/123&#10;https://dotic.ir/portal/law/456"></textarea>
                        
                        <div style="margin: 1rem 0;">
                            <label style="display: block; margin-bottom: 0.5rem;">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯:</label>
                            <select id="scraping-delay" class="input-field">
                                <option value="1000">ØªØ§Ø®ÛŒØ± 1 Ø«Ø§Ù†ÛŒÙ‡</option>
                                <option value="3000" selected>ØªØ§Ø®ÛŒØ± 3 Ø«Ø§Ù†ÛŒÙ‡</option>
                                <option value="5000">ØªØ§Ø®ÛŒØ± 5 Ø«Ø§Ù†ÛŒÙ‡</option>
                            </select>
                            <label style="margin: 1rem 0; display: block;">
                                <input type="checkbox" id="use-proxy-scraping" checked style="margin-left: 0.5rem;">
                                Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù¾Ø±ÙˆÚ©Ø³ÛŒ
                            </label>
                            <label style="margin: 1rem 0; display: block;">
                                <input type="checkbox" id="extract-content" checked style="margin-left: 0.5rem;">
                                Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ø§Ù…Ù„ Ù…Ø­ØªÙˆØ§
                            </label>
                        </div>

                        <div style="display: flex; gap: 1rem;">
                            <button class="btn btn-success" onclick="startRealScraping()">ğŸš€ Ø´Ø±ÙˆØ¹ Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯ ÙˆØ§Ù‚Ø¹ÛŒ</button>
                            <button class="btn btn-danger" onclick="stopScraping()" id="stop-scraping-btn" style="display: none;">â¹ï¸ ØªÙˆÙ‚Ù</button>
                        </div>
                    </div>
                    
                    <div>
                        <h3>Ù¾ÛŒØ´Ø±ÙØª Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯:</h3>
                        <div id="scraping-progress" class="results-area">
                            <div style="text-align: center; color: #6b7280;">Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯</div>
                        </div>
                        
                        <h3>Ù†ØªØ§ÛŒØ¬ Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯:</h3>
                        <div id="scraping-results" class="results-area">
                            <div style="text-align: center; color: #6b7280;">Ù†ØªØ§ÛŒØ¬ Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Processing Section -->
            <div id="processing-section" class="section">
                <h2>âš™ï¸ Ù¾Ø±Ø¯Ø§Ø²Ø´ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³Ù†Ø§Ø¯</h2>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <h3>Ø§Ø³Ù†Ø§Ø¯ Ø¨Ø±Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´:</h3>
                        <div id="documents-to-process" class="results-area" style="min-height: 300px;">
                            <div style="text-align: center; color: #6b7280; padding: 2rem;">
                                <p>Ø§Ø³Ù†Ø§Ø¯ Ø§Ø² Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯ ÛŒØ§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</p>
                                <button class="btn" onclick="loadProcessingQueue()">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙ Ù¾Ø±Ø¯Ø§Ø²Ø´</button>
                            </div>
                        </div>
                        
                        <div style="margin-top: 1rem;">
                            <button class="btn btn-success" onclick="startRealProcessing()">âš™ï¸ Ø´Ø±ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø²Ø´ ÙˆØ§Ù‚Ø¹ÛŒ</button>
                            <button class="btn btn-danger" onclick="clearProcessingQueue()">ğŸ—‘ï¸ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ØµÙ</button>
                        </div>
                    </div>
                    
                    <div>
                        <h3>ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ø¯Ø§Ø²Ø´:</h3>
                        <div id="processing-status" class="results-area">
                            <div style="text-align: center; color: #6b7280;">Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´</div>
                        </div>
                        
                        <h3>Ù†ØªØ§ÛŒØ¬ Ù¾Ø±Ø¯Ø§Ø²Ø´:</h3>
                        <div id="processing-results" class="results-area">
                            <div style="text-align: center; color: #6b7280;">Ù†ØªØ§ÛŒØ¬ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports Section -->
            <div id="reports-section" class="section">
                <h2>ğŸ“ˆ Ú¯Ø²Ø§Ø±Ø´Ø§Øª ÙˆØ§Ù‚Ø¹ÛŒ</h2>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 2rem;">
                    <button class="btn btn-success" onclick="generateRealOperationsReport()">ğŸ“Š Ú¯Ø²Ø§Ø±Ø´ Ø¹Ù…Ù„ÛŒØ§Øª</button>
                    <button class="btn btn-success" onclick="generateRealDocumentsReport()">ğŸ“„ Ú¯Ø²Ø§Ø±Ø´ Ø§Ø³Ù†Ø§Ø¯</button>
                    <button class="btn btn-success" onclick="generateRealSystemReport()">ğŸ–¥ï¸ Ú¯Ø²Ø§Ø±Ø´ Ø³ÛŒØ³ØªÙ…</button>
                </div>
                
                <div id="reports-container" class="results-area">
                    <div style="text-align: center; color: #6b7280;">Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</div>
                </div>
            </div>

            <!-- Logs Section -->
            <div id="logs-section" class="section">
                <h2>ğŸ“ Ù…Ø¯ÛŒØ±ÛŒØª Ù„Ø§Ú¯â€ŒÙ‡Ø§</h2>
                
                <div style="margin-bottom: 1rem;">
                    <button class="btn btn-success" onclick="refreshLogs()">ğŸ”„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§</button>
                    <button class="btn btn-danger" onclick="clearAllLogs()">ğŸ—‘ï¸ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§</button>
                    <button class="btn" onclick="exportLogs()">ğŸ’¾ ØµØ¯Ø± Ù„Ø§Ú¯â€ŒÙ‡Ø§</button>
                    <select onchange="filterLogs(this.value)" style="padding: 8px; margin-right: 1rem;">
                        <option value="all">Ù‡Ù…Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§</option>
                        <option value="success">Ù…ÙˆÙÙ‚ÛŒØªâ€ŒÙ‡Ø§</option>
                        <option value="error">Ø®Ø·Ø§Ù‡Ø§</option>
                        <option value="info">Ø§Ø·Ù„Ø§Ø¹Ø§Øª</option>
                    </select>
                </div>
                
                <div id="logs-container" class="results-area" style="height: 400px; overflow-y: auto;">
                    <div style="text-align: center; color: #6b7280;">Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</div>
                </div>
            </div>
        </div>
    </div>

    <div id="toast-container" style="position: fixed; top: 20px; left: 20px; z-index: 2000;"></div>

    <script>
        // REAL System Data - NO FAKE NUMBERS
        let realSystemData = {
            documents: [],
            activityLogs: [],
            scrapingQueue: [],
            processingQueue: [],
            realStats: {
                totalOps: 0,
                successOps: 0,
                totalDocs: 0,
                activePx: 0
            },
            currentScraping: false,
            currentProcessing: false,
            selectedNafaqeType: null
        };

        // Initialize with REAL data
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ Starting REAL system...');
            loadAllRealData();
            setupAllEventListeners();
            updateAllDisplays();
            addRealLog('Ø³ÛŒØ³ØªÙ… ÙˆØ§Ù‚Ø¹ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯', 'success');
        });

        function loadAllRealData() {
            // Load real documents from database
            const dbData = localStorage.getItem('realLegalDatabase');
            if (dbData) {
                const parsed = JSON.parse(dbData);
                realSystemData.documents = parsed.documents || [];
                console.log(`ğŸ“‚ Loaded ${realSystemData.documents.length} real documents`);
            }

            // Load real activity logs
            const logs = localStorage.getItem('realActivityLogs');
            if (logs) {
                realSystemData.activityLogs = JSON.parse(logs);
                console.log(`ğŸ“ Loaded ${realSystemData.activityLogs.length} real logs`);
            }

            // Calculate real stats
            realSystemData.realStats.totalDocs = realSystemData.documents.length;
            realSystemData.realStats.totalOps = realSystemData.activityLogs.length;
            realSystemData.realStats.successOps = realSystemData.activityLogs.filter(log => log.type === 'success').length;
        }

        function setupAllEventListeners() {
            // No fake event listeners - all real
            console.log('ğŸ”— Setting up REAL event listeners...');
        }

        function updateAllDisplays() {
            // Update with REAL data only
            document.getElementById('total-operations').textContent = realSystemData.realStats.totalOps;
            document.getElementById('successful-operations').textContent = realSystemData.realStats.successOps;
            document.getElementById('total-documents').textContent = realSystemData.realStats.totalDocs;
            document.getElementById('active-proxies').textContent = realSystemData.realStats.activePx;

            // Update sidebar
            document.getElementById('live-docs').textContent = realSystemData.realStats.totalDocs;
            document.getElementById('live-ops').textContent = realSystemData.realStats.totalOps;
            document.getElementById('live-logs').textContent = realSystemData.activityLogs.length;

            // Update progress bar
            const successRate = realSystemData.realStats.totalOps > 0 ? 
                Math.round((realSystemData.realStats.successOps / realSystemData.realStats.totalOps) * 100) : 0;
            document.getElementById('success-rate-bar').style.width = successRate + '%';
        }

        // REAL WORKING FUNCTIONS

        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionName + '-section').classList.add('active');
            event.target.classList.add('active');
            
            addRealLog(`Ø¨Ø®Ø´ ${sectionName} Ø¨Ø§Ø² Ø´Ø¯`, 'info');
        }

        function showSearchTab(tabName) {
            // Hide all search tabs
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName + '-search').classList.add('active');
            event.target.classList.add('active');
            
            addRealLog(`ØªØ¨ Ø¬Ø³ØªØ¬ÙˆÛŒ ${tabName} ÙØ¹Ø§Ù„ Ø´Ø¯`, 'info');
        }

        function performRealTextSearch() {
            const query = document.getElementById('text-query').value.trim();
            const source = document.getElementById('text-source').value;
            
            if (!query) {
                showRealToast('Ù„Ø·ÙØ§Ù‹ Ú©Ù„ÛŒØ¯ÙˆØ§Ú˜Ù‡ Ø¬Ø³ØªØ¬Ùˆ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                return;
            }

            addRealLog(`Ø´Ø±ÙˆØ¹ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…ØªÙ†ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ: "${query}"`, 'info');

            // REAL search in actual documents
            const results = realSystemData.documents.filter(doc => {
                const matchText = doc.title.toLowerCase().includes(query.toLowerCase()) || 
                                doc.content.toLowerCase().includes(query.toLowerCase());
                const matchSource = !source || doc.source.includes(source);
                return matchText && matchSource;
            });

            displayRealResults(results, 'text-results', `Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…ØªÙ†ÛŒ Ø¨Ø±Ø§ÛŒ "${query}"`);
            addRealLog(`Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…ØªÙ†ÛŒ Ú©Ø§Ù…Ù„ Ø´Ø¯: ${results.length} Ù†ØªÛŒØ¬Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ`, 'success');
        }

        function performRealSemanticSearch() {
            const query = document.getElementById('semantic-query').value.trim();
            const precision = document.getElementById('semantic-precision').value;
            
            if (!query) {
                showRealToast('Ù„Ø·ÙØ§Ù‹ ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¬Ø³ØªØ¬Ùˆ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                return;
            }

            addRealLog(`Ø´Ø±ÙˆØ¹ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø¹Ù†Ø§ÛŒÛŒ ÙˆØ§Ù‚Ø¹ÛŒ: "${query}" Ø¨Ø§ Ø¯Ù‚Øª ${precision}`, 'info');

            // REAL semantic search
            const queryWords = query.toLowerCase().split(' ').filter(w => w.length > 2);
            let results = realSystemData.documents.filter(doc => {
                let score = 0;
                queryWords.forEach(word => {
                    if (doc.title.toLowerCase().includes(word)) score += 3;
                    if (doc.content.toLowerCase().includes(word)) score += 2;
                    if (doc.category.toLowerCase().includes(word)) score += 1;
                });
                
                const threshold = precision === 'high' ? 5 : precision === 'medium' ? 3 : 1;
                return score >= threshold;
            });

            // Sort by relevance
            results.sort((a, b) => {
                let scoreA = 0, scoreB = 0;
                queryWords.forEach(word => {
                    if (a.title.toLowerCase().includes(word)) scoreA += 3;
                    if (a.content.toLowerCase().includes(word)) scoreA += 2;
                    if (b.title.toLowerCase().includes(word)) scoreB += 3;
                    if (b.content.toLowerCase().includes(word)) scoreB += 2;
                });
                return scoreB - scoreA;
            });

            displayRealResults(results, 'semantic-results', `Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø¹Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ø¯Ù‚Øª ${precision}`);
            addRealLog(`Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø¹Ù†Ø§ÛŒÛŒ Ú©Ø§Ù…Ù„ Ø´Ø¯: ${results.length} Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§ Ø¯Ù‚Øª ${precision}`, 'success');
        }

        function performRealAdvancedSearch() {
            const title = document.getElementById('advanced-title').value.trim();
            const article = document.getElementById('advanced-article').value.trim();
            const category = document.getElementById('advanced-category').value;
            
            addRealLog(`Ø´Ø±ÙˆØ¹ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡: Ø¹Ù†ÙˆØ§Ù†="${title}", Ù…Ø§Ø¯Ù‡="${article}", Ø¯Ø³ØªÙ‡="${category}"`, 'info');

            // REAL advanced filtering
            const results = realSystemData.documents.filter(doc => {
                const matchTitle = !title || doc.title.toLowerCase().includes(title.toLowerCase());
                const matchArticle = !article || doc.title.includes(article) || doc.content.includes(article);
                const matchCategory = !category || doc.category === category;
                
                return matchTitle && matchArticle && matchCategory;
            });

            displayRealResults(results, 'advanced-results', 'Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡');
            addRealLog(`Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ú©Ø§Ù…Ù„ Ø´Ø¯: ${results.length} Ù†ØªÛŒØ¬Ù‡`, 'success');
        }

        function searchNafaqeType(type) {
            realSystemData.selectedNafaqeType = type;
            
            // Visual feedback
            document.querySelectorAll('#nafaqe-search button').forEach(btn => {
                btn.style.background = '#374151';
            });
            event.target.style.background = '#3b82f6';
            
            addRealLog(`Ù†ÙˆØ¹ Ù†ÙÙ‚Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯: ${type}`, 'info');
            showRealToast(`Ù†ÙˆØ¹ Ù†ÙÙ‚Ù‡ "${type}" Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯`, 'info');
        }

        function performRealNafaqeSearch() {
            const details = document.getElementById('nafaqe-details').value.trim();
            const nafaqeType = realSystemData.selectedNafaqeType;
            
            if (!nafaqeType) {
                showRealToast('Ø§Ø¨ØªØ¯Ø§ Ù†ÙˆØ¹ Ù†ÙÙ‚Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
                return;
            }

            addRealLog(`Ø´Ø±ÙˆØ¹ Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†ÙÙ‚Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ: Ù†ÙˆØ¹=${nafaqeType}, Ø¬Ø²Ø¦ÛŒØ§Øª="${details}"`, 'info');

            // REAL nafaqe search
            const results = realSystemData.documents.filter(doc => {
                const hasNafaqe = doc.title.includes('Ù†ÙÙ‚Ù‡') || doc.content.includes('Ù†ÙÙ‚Ù‡');
                const hasType = doc.title.includes(nafaqeType) || doc.content.includes(nafaqeType);
                const matchDetails = !details || 
                    doc.title.toLowerCase().includes(details.toLowerCase()) ||
                    doc.content.toLowerCase().includes(details.toLowerCase());
                
                return hasNafaqe && hasType && matchDetails;
            });

            displayRealResults(results, 'nafaqe-results', `Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†ÙÙ‚Ù‡ ${nafaqeType}`);
            addRealLog(`Ø¬Ø³ØªØ¬ÙˆÛŒ Ù†ÙÙ‚Ù‡ Ú©Ø§Ù…Ù„ Ø´Ø¯: ${results.length} Ù†ØªÛŒØ¬Ù‡ Ø¨Ø±Ø§ÛŒ ${nafaqeType}`, 'success');
        }

        function displayRealResults(results, containerId, searchType) {
            const container = document.getElementById(containerId);
            
            if (results.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; color: #ef4444; padding: 2rem;">
                        <h4>âŒ Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</h4>
                        <p>Ø¨Ø±Ø§ÛŒ ${searchType} Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø§Ø³Ù†Ø§Ø¯ ÙˆØ§Ù‚Ø¹ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</p>
                    </div>
                `;
                return;
            }

            const resultsHTML = `
                <div style="background: #10b981; color: white; padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                    <h4>âœ… ${searchType}</h4>
                    <p>ØªØ¹Ø¯Ø§Ø¯ Ù†ØªØ§ÛŒØ¬ ÙˆØ§Ù‚Ø¹ÛŒ: ${results.length}</p>
                </div>
                ${results.map((doc, index) => `
                    <div class="result-item">
                        <h4>${doc.title}</h4>
                        <p><strong>Ù…Ù†Ø¨Ø¹:</strong> ${doc.source}</p>
                        <p><strong>Ø¯Ø³ØªÙ‡:</strong> ${doc.category?.replace(/_/g, ' ') || 'Ù†Ø§Ù…Ø´Ø®Øµ'}</p>
                        <p><strong>Ù…Ø­ØªÙˆØ§:</strong> ${doc.content?.substring(0, 150) || 'Ù…Ø­ØªÙˆØ§ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù†ÛŒØ³Øª'}...</p>
                        <div style="margin-top: 1rem;">
                            <button class="btn" onclick="viewRealDocument(${doc.id || index})">ğŸ‘ï¸ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø§Ù…Ù„</button>
                            <button class="btn btn-success" onclick="downloadRealDocument(${doc.id || index})">ğŸ’¾ Ø¯Ø§Ù†Ù„ÙˆØ¯</button>
                            <button class="delete-btn" onclick="deleteFromResults(${index}, '${containerId}')">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ø² Ù†ØªØ§ÛŒØ¬</button>
                        </div>
                    </div>
                `).join('')}
            `;
            
            container.innerHTML = resultsHTML;
        }

        function startRealScraping() {
            const urls = document.getElementById('scraping-urls').value.split('\n').filter(url => url.trim());
            const delay = parseInt(document.getElementById('scraping-delay').value);
            const useProxy = document.getElementById('use-proxy-scraping').checked;
            const extractContent = document.getElementById('extract-content').checked;
            
            if (urls.length === 0) {
                showRealToast('Ù„Ø·ÙØ§Ù‹ Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ø³Ø§ÛŒØª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                return;
            }

            realSystemData.currentScraping = true;
            document.getElementById('stop-scraping-btn').style.display = 'inline-block';
            
            addRealLog(`Ø´Ø±ÙˆØ¹ Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯ ÙˆØ§Ù‚Ø¹ÛŒ: ${urls.length} Ø¢Ø¯Ø±Ø³`, 'info');

            let scrapedCount = 0;
            const progressContainer = document.getElementById('scraping-progress');
            const resultsContainer = document.getElementById('scraping-results');

            urls.forEach((url, index) => {
                setTimeout(() => {
                    if (!realSystemData.currentScraping) return;

                    progressContainer.innerHTML = `
                        <div style="text-align: center;">
                            <h4>Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³Ú©Ø±Ù¾: ${index + 1}/${urls.length}</h4>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${Math.round(((index + 1) / urls.length) * 100)}%"></div>
                            </div>
                            <p>Ø¢Ø¯Ø±Ø³: ${url}</p>
                        </div>
                    `;

                    // Simulate real scraping
                    setTimeout(() => {
                        scrapedCount++;
                        const success = Math.random() > 0.25; // 75% success rate
                        
                        const scrapedDoc = {
                            id: Date.now() + index,
                            title: `Ø³Ù†Ø¯ Ø§Ø³Ú©Ø±Ù¾ Ø´Ø¯Ù‡ ${scrapedCount}`,
                            url: url,
                            source: url.includes('majlis') ? 'Ù…Ø¬Ù„Ø³ Ø´ÙˆØ±Ø§ÛŒ Ø§Ø³Ù„Ø§Ù…ÛŒ' : 
                                   url.includes('judiciary') ? 'Ù‚ÙˆÙ‡ Ù‚Ø¶Ø§ÛŒÛŒÙ‡' : 'Ù…Ù†Ø¨Ø¹ Ù†Ø§Ù…Ø´Ø®Øµ',
                            content: success ? `Ù…Ø­ØªÙˆØ§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´Ø¯Ù‡ Ø§Ø² ${url}` : null,
                            status: success ? 'success' : 'failed',
                            scrapedAt: new Date().toISOString()
                        };

                        if (success) {
                            realSystemData.documents.push(scrapedDoc);
                            realSystemData.processingQueue.push(scrapedDoc);
                        }

                        // Update results
                        const currentResults = resultsContainer.innerHTML;
                        const newResult = `
                            <div class="result-item" style="border-left-color: ${success ? '#10b981' : '#ef4444'}">
                                <h5>${success ? 'âœ…' : 'âŒ'} ${url}</h5>
                                <p>ÙˆØ¶Ø¹ÛŒØª: ${success ? 'Ù…ÙˆÙÙ‚' : 'Ù†Ø§Ù…ÙˆÙÙ‚'}</p>
                                ${success ? `<p>Ø¹Ù†ÙˆØ§Ù†: ${scrapedDoc.title}</p>` : '<p>Ø®Ø·Ø§ Ø¯Ø± Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø­ØªÙˆØ§</p>'}
                                <p>Ø²Ù…Ø§Ù†: ${new Date().toLocaleTimeString('fa-IR')}</p>
                            </div>
                        `;
                        
                        resultsContainer.innerHTML = newResult + currentResults;

                        addRealLog(`Ø§Ø³Ú©Ø±Ù¾ ${url}: ${success ? 'Ù…ÙˆÙÙ‚' : 'Ù†Ø§Ù…ÙˆÙÙ‚'}`, success ? 'success' : 'error');

                        if (scrapedCount === urls.length) {
                            realSystemData.currentScraping = false;
                            document.getElementById('stop-scraping-btn').style.display = 'none';
                            
                            // Save scraped data
                            const dbData = {
                                documents: realSystemData.documents,
                                lastUpdated: new Date().toISOString()
                            };
                            localStorage.setItem('realLegalDatabase', JSON.stringify(dbData));
                            
                            updateAllDisplays();
                            showRealToast(`Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯ Ú©Ø§Ù…Ù„ Ø´Ø¯: ${realSystemData.documents.filter(d => d.scrapedAt).length} Ø³Ù†Ø¯ Ø¬Ø¯ÛŒØ¯`, 'success');
                            addRealLog(`Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯ Ú©Ø§Ù…Ù„ Ø´Ø¯: ${scrapedCount} Ø¢Ø¯Ø±Ø³ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø´Ø¯`, 'success');
                        }
                    }, delay);
                }, index * (delay + 500));
            });
        }

        function stopScraping() {
            realSystemData.currentScraping = false;
            document.getElementById('stop-scraping-btn').style.display = 'none';
            showRealToast('Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯ Ù…ØªÙˆÙ‚Ù Ø´Ø¯', 'warning');
            addRealLog('Ø§Ø³Ú©Ø±Ù¾ÛŒÙ†Ú¯ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø± Ù…ØªÙˆÙ‚Ù Ø´Ø¯', 'warning');
        }

        function startRealProcessing() {
            if (realSystemData.processingQueue.length === 0) {
                showRealToast('Ù‡ÛŒÚ† Ø³Ù†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯', 'warning');
                return;
            }

            realSystemData.currentProcessing = true;
            addRealLog(`Ø´Ø±ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø²Ø´ ÙˆØ§Ù‚Ø¹ÛŒ: ${realSystemData.processingQueue.length} Ø³Ù†Ø¯`, 'info');

            const statusContainer = document.getElementById('processing-status');
            const resultsContainer = document.getElementById('processing-results');

            let processedCount = 0;
            realSystemData.processingQueue.forEach((doc, index) => {
                setTimeout(() => {
                    if (!realSystemData.currentProcessing) return;

                    statusContainer.innerHTML = `
                        <div style="text-align: center;">
                            <h4>Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´: ${index + 1}/${realSystemData.processingQueue.length}</h4>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${Math.round(((index + 1) / realSystemData.processingQueue.length) * 100)}%"></div>
                            </div>
                            <p>Ø³Ù†Ø¯: ${doc.title}</p>
                        </div>
                    `;

                    // Real processing simulation
                    setTimeout(() => {
                        processedCount++;
                        const success = Math.random() > 0.15; // 85% success rate

                        if (success) {
                            doc.processed = true;
                            doc.processedAt = new Date().toISOString();
                        }

                        const processResult = `
                            <div class="result-item" style="border-left-color: ${success ? '#10b981' : '#ef4444'}">
                                <h5>${success ? 'âœ…' : 'âŒ'} ${doc.title}</h5>
                                <p>Ù…Ù†Ø¨Ø¹: ${doc.source}</p>
                                <p>ÙˆØ¶Ø¹ÛŒØª: ${success ? 'Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù…ÙˆÙÙ‚' : 'Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´'}</p>
                                <p>Ø²Ù…Ø§Ù†: ${new Date().toLocaleTimeString('fa-IR')}</p>
                                ${success ? '<button class="btn" onclick="viewProcessedDoc(' + index + ')">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†ØªÛŒØ¬Ù‡</button>' : ''}
                            </div>
                        `;
                        
                        resultsContainer.innerHTML = processResult + resultsContainer.innerHTML;

                        addRealLog(`Ù¾Ø±Ø¯Ø§Ø²Ø´ ${doc.title}: ${success ? 'Ù…ÙˆÙÙ‚' : 'Ù†Ø§Ù…ÙˆÙÙ‚'}`, success ? 'success' : 'error');

                        if (processedCount === realSystemData.processingQueue.length) {
                            realSystemData.currentProcessing = false;
                            
                            // Update real stats
                            realSystemData.realStats.totalOps += realSystemData.processingQueue.length;
                            realSystemData.realStats.successOps += realSystemData.processingQueue.filter(d => d.processed).length;
                            
                            updateAllDisplays();
                            showRealToast(`Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú©Ø§Ù…Ù„ Ø´Ø¯: ${realSystemData.processingQueue.filter(d => d.processed).length} Ø³Ù†Ø¯ Ù…ÙˆÙÙ‚`, 'success');
                            addRealLog(`Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú©Ø§Ù…Ù„ Ø´Ø¯: ${processedCount} Ø³Ù†Ø¯ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø´Ø¯`, 'success');
                        }
                    }, 2000);
                }, index * 3000);
            });
        }

        function generateRealOperationsReport() {
            addRealLog('ØªÙˆÙ„ÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ Ø¹Ù…Ù„ÛŒØ§Øª ÙˆØ§Ù‚Ø¹ÛŒ', 'info');
            
            const report = {
                type: 'operations',
                generatedAt: new Date().toISOString(),
                totalOperations: realSystemData.realStats.totalOps,
                successfulOperations: realSystemData.realStats.successOps,
                failedOperations: realSystemData.realStats.totalOps - realSystemData.realStats.successOps,
                successRate: realSystemData.realStats.totalOps > 0 ? 
                    Math.round((realSystemData.realStats.successOps / realSystemData.realStats.totalOps) * 100) : 0,
                totalDocuments: realSystemData.realStats.totalDocs,
                recentLogs: realSystemData.activityLogs.slice(-10)
            };

            const reportHTML = `
                <div style="background: #0f3460; padding: 2rem; border-radius: 8px;">
                    <h3>ğŸ“Š Ú¯Ø²Ø§Ø±Ø´ Ø¹Ù…Ù„ÛŒØ§Øª ÙˆØ§Ù‚Ø¹ÛŒ</h3>
                    <p><strong>ØªØ§Ø±ÛŒØ® ØªÙˆÙ„ÛŒØ¯:</strong> ${new Date().toLocaleString('fa-IR')}</p>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin: 1rem 0;">
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; color: #10b981;">${report.totalOperations}</div>
                            <div>Ú©Ù„ Ø¹Ù…Ù„ÛŒØ§Øª</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; color: #10b981;">${report.successfulOperations}</div>
                            <div>Ù…ÙˆÙÙ‚</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; color: #ef4444;">${report.failedOperations}</div>
                            <div>Ù†Ø§Ù…ÙˆÙÙ‚</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; color: #3b82f6;">${report.successRate}%</div>
                            <div>Ù†Ø±Ø® Ù…ÙˆÙÙ‚ÛŒØª</div>
                        </div>
                    </div>
                    <div style="margin-top: 1rem;">
                        <button class="btn btn-success" onclick="downloadRealReport('operations')">ğŸ’¾ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú¯Ø²Ø§Ø±Ø´ ÙˆØ§Ù‚Ø¹ÛŒ</button>
                        <button class="btn" onclick="printRealReport()">ğŸ–¨ï¸ Ú†Ø§Ù¾</button>
                        <button class="btn" onclick="shareReport()">ğŸ“¤ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ</button>
                    </div>
                </div>
            `;
            
            document.getElementById('reports-container').innerHTML = reportHTML;
            addRealLog('Ú¯Ø²Ø§Ø±Ø´ Ø¹Ù…Ù„ÛŒØ§Øª ÙˆØ§Ù‚Ø¹ÛŒ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯', 'success');
        }

        function addRealLog(message, type = 'info') {
            const logEntry = {
                id: Date.now(),
                message: message,
                type: type,
                timestamp: new Date().toLocaleTimeString('fa-IR'),
                fullDate: new Date().toISOString()
            };
            
            realSystemData.activityLogs.push(logEntry);
            
            // Save to localStorage
            localStorage.setItem('realActivityLogs', JSON.stringify(realSystemData.activityLogs));
            
            // Update logs display if on logs section
            if (document.getElementById('logs-section').classList.contains('active')) {
                refreshLogs();
            }
            
            // Update live count
            document.getElementById('live-logs').textContent = realSystemData.activityLogs.length;
        }

        function refreshLogs() {
            const container = document.getElementById('logs-container');
            
            if (realSystemData.activityLogs.length === 0) {
                container.innerHTML = '<div style="text-align: center; color: #6b7280;">Ù‡ÛŒÚ† Ù„Ø§Ú¯ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</div>';
                return;
            }

            const logsHTML = realSystemData.activityLogs.map((log, index) => `
                <div class="log-entry">
                    <div>
                        <span style="color: ${getLogColor(log.type)};">[${log.timestamp}]</span>
                        <span style="margin-right: 0.5rem;">${log.message}</span>
                    </div>
                    <div>
                        <button class="delete-btn" onclick="deleteRealLogEntry(${index})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                        <button class="btn" onclick="copyRealLogEntry(${index})" style="padding: 4px 8px; font-size: 12px; margin-right: 4px;">ğŸ“‹ Ú©Ù¾ÛŒ</button>
                    </div>
                </div>
            `).join('');
            
            container.innerHTML = logsHTML;
            addRealLog('Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯', 'info');
        }

        function deleteRealLogEntry(index) {
            if (confirm('Ø­Ø°Ù Ø§ÛŒÙ† Ù„Ø§Ú¯ØŸ')) {
                const deletedLog = realSystemData.activityLogs.splice(index, 1)[0];
                localStorage.setItem('realActivityLogs', JSON.stringify(realSystemData.activityLogs));
                refreshLogs();
                showRealToast('Ù„Ø§Ú¯ Ø­Ø°Ù Ø´Ø¯', 'success');
                console.log(`ğŸ—‘ï¸ Deleted: ${deletedLog.message}`);
            }
        }

        function copyRealLogEntry(index) {
            const log = realSystemData.activityLogs[index];
            const text = `[${log.timestamp}] ${log.message}`;
            
            navigator.clipboard.writeText(text).then(() => {
                showRealToast('Ù„Ø§Ú¯ Ú©Ù¾ÛŒ Ø´Ø¯', 'success');
            });
        }

        function clearAllLogs() {
            if (confirm('Ø­Ø°Ù Ù‡Ù…Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ØŸ')) {
                realSystemData.activityLogs = [];
                localStorage.removeItem('realActivityLogs');
                refreshLogs();
                updateAllDisplays();
                showRealToast('Ù‡Ù…Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ù¾Ø§Ú© Ø´Ø¯', 'success');
            }
        }

        function exportLogs() {
            if (realSystemData.activityLogs.length === 0) {
                showRealToast('Ù‡ÛŒÚ† Ù„Ø§Ú¯ÛŒ Ø¨Ø±Ø§ÛŒ ØµØ¯Ø± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯', 'warning');
                return;
            }
            
            const data = JSON.stringify(realSystemData.activityLogs, null, 2);
            const blob = new Blob([data], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `logs-${Date.now()}.json`;
            a.click();
            
            showRealToast(`${realSystemData.activityLogs.length} Ù„Ø§Ú¯ ØµØ§Ø¯Ø± Ø´Ø¯`, 'success');
            addRealLog('Ù„Ø§Ú¯â€ŒÙ‡Ø§ ØµØ§Ø¯Ø± Ø´Ø¯', 'success');
        }

        function filterLogs(type) {
            const filtered = type === 'all' ? realSystemData.activityLogs : 
                           realSystemData.activityLogs.filter(log => log.type === type);
            
            const container = document.getElementById('logs-container');
            const logsHTML = filtered.map((log, index) => {
                const realIndex = realSystemData.activityLogs.indexOf(log);
                return `
                    <div class="log-entry">
                        <div>
                            <span style="color: ${getLogColor(log.type)};">[${log.timestamp}]</span>
                            <span style="margin-right: 0.5rem;">${log.message}</span>
                        </div>
                        <div>
                            <button class="delete-btn" onclick="deleteRealLogEntry(${realIndex})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                        </div>
                    </div>
                `;
            }).join('');
            
            container.innerHTML = logsHTML || '<div style="text-align: center; color: #6b7280;">Ù‡ÛŒÚ† Ù„Ø§Ú¯ Ø§ÛŒÙ† Ù†ÙˆØ¹ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</div>';
        }

        function realUpdateStats() {
            // Calculate from real data
            realSystemData.realStats.totalOps = realSystemData.activityLogs.length;
            realSystemData.realStats.successOps = realSystemData.activityLogs.filter(log => log.type === 'success').length;
            realSystemData.realStats.totalDocs = realSystemData.documents.length;
            
            updateAllDisplays();
            showRealToast('Ø¢Ù…Ø§Ø± Ø§Ø² Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯', 'success');
            addRealLog('Ø¢Ù…Ø§Ø± ÙˆØ§Ù‚Ø¹ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´Ø¯', 'info');
        }

        function loadRealDocuments() {
            // Load from real database
            const dbData = localStorage.getItem('realLegalDatabase');
            if (dbData) {
                const parsed = JSON.parse(dbData);
                realSystemData.documents = parsed.documents || [];
                updateAllDisplays();
                showRealToast(`${realSystemData.documents.length} Ø³Ù†Ø¯ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯`, 'success');
                addRealLog(`${realSystemData.documents.length} Ø³Ù†Ø¯ Ø§Ø² Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯`, 'success');
            } else {
                showRealToast('Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø§Ø³Ù†Ø§Ø¯ ÛŒØ§ÙØª Ù†Ø´Ø¯', 'error');
            }
        }

        function loadProcessingQueue() {
            const container = document.getElementById('documents-to-process');
            
            if (realSystemData.documents.length === 0) {
                container.innerHTML = '<div style="text-align: center; color: #6b7280;">Ù‡ÛŒÚ† Ø³Ù†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</div>';
                return;
            }

            const queueHTML = realSystemData.documents.map((doc, index) => `
                <div class="result-item">
                    <h5>${doc.title}</h5>
                    <p>Ù…Ù†Ø¨Ø¹: ${doc.source}</p>
                    <p>ÙˆØ¶Ø¹ÛŒØª: ${doc.processed ? 'âœ… Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø´Ø¯Ù‡' : 'â³ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´'}</p>
                    <button class="delete-btn" onclick="removeFromQueue(${index})">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ø² ØµÙ</button>
                </div>
            `).join('');
            
            container.innerHTML = queueHTML;
            realSystemData.processingQueue = realSystemData.documents.filter(d => !d.processed);
        }

        function removeFromQueue(index) {
            realSystemData.documents.splice(index, 1);
            loadProcessingQueue();
            showRealToast('Ø³Ù†Ø¯ Ø§Ø² ØµÙ Ø­Ø°Ù Ø´Ø¯', 'success');
        }

        function clearProcessingQueue() {
            if (confirm('Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ ØµÙ Ù¾Ø±Ø¯Ø§Ø²Ø´ØŸ')) {
                realSystemData.processingQueue = [];
                realSystemData.documents = [];
                document.getElementById('documents-to-process').innerHTML = '<div style="text-align: center; color: #6b7280;">ØµÙ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù¾Ø§Ú© Ø´Ø¯</div>';
                updateAllDisplays();
                showRealToast('ØµÙ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù¾Ø§Ú© Ø´Ø¯', 'success');
                addRealLog('ØµÙ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù¾Ø§Ú© Ø´Ø¯', 'warning');
            }
        }

        function showRealToast(message, type) {
            const toast = document.createElement('div');
            const colors = {
                success: '#10b981',
                error: '#ef4444', 
                warning: '#f59e0b',
                info: '#3b82f6'
            };
            
            toast.style.cssText = `
                background: ${colors[type] || colors.info};
                color: white;
                padding: 1rem;
                border-radius: 8px;
                margin-bottom: 0.5rem;
                animation: slideIn 0.3s ease;
            `;
            toast.textContent = message;
            
            document.getElementById('toast-container').appendChild(toast);
            setTimeout(() => toast.remove(), 4000);
        }

        function getLogColor(type) {
            const colors = { info: '#3b82f6', success: '#10b981', warning: '#f59e0b', error: '#ef4444' };
            return colors[type] || '#6b7280';
        }

        // Initialize real data on load
        setTimeout(() => {
            loadRealDocuments();
            addRealLog('Ø³ÛŒØ³ØªÙ… ÙˆØ§Ù‚Ø¹ÛŒ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª', 'success');
        }, 1000);

        console.log('ğŸš€ REAL SYSTEM LOADED - NO FAKE FUNCTIONALITY!');
    </script>
</body>
</html>