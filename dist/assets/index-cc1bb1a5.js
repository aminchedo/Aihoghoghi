var Pc=Object.defineProperty,Ec=Object.defineProperties;var Rc=Object.getOwnPropertyDescriptors;var pa=Object.getOwnPropertySymbols;var as=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable;var Mt=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},ma=Math.pow,br=(e,t,a)=>t in e?Pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,k=(e,t)=>{for(var a in t||(t={}))as.call(t,a)&&br(e,a,t[a]);if(pa)for(var a of pa(t))rs.call(t,a)&&br(e,a,t[a]);return e},R=(e,t)=>Ec(e,Rc(t));var ie=(e,t)=>{var a={};for(var r in e)as.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&pa)for(var r of pa(e))t.indexOf(r)<0&&rs.call(e,r)&&(a[r]=e[r]);return a};var jc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var vr=(e,t,a)=>(br(e,typeof t!="symbol"?t+"":t,a),a);var F=(e,t,a)=>new Promise((r,s)=>{var o=u=>{try{l(a.next(u))}catch(p){s(p)}},i=u=>{try{l(a.throw(u))}catch(p){s(p)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,i);l((a=a.apply(e,t)).next())}),Qe=function(e,t){this[0]=e,this[1]=t},wr=(e,t,a)=>{var r=(i,l,u,p)=>{try{var d=a[i](l),m=(l=d.value)instanceof Qe,h=d.done;Promise.resolve(m?l[0]:l).then(f=>m?r(i==="return"?i:"next",l[1]?{done:f.done,value:f.value}:f,u,p):u({value:f,done:h})).catch(f=>r("throw",f,u,p))}catch(f){p(f)}},s=i=>o[i]=l=>new Promise((u,p)=>r(i,l,u,p)),o={};return a=a.apply(e,t),o[Symbol.asyncIterator]=()=>o,s("next"),s("throw"),s("return"),o},kr=e=>{var t=e[Mt("asyncIterator")],a=!1,r,s={};return t==null?(t=e[Mt("iterator")](),r=o=>s[o]=i=>t[o](i)):(t=t.call(e),r=o=>s[o]=i=>{if(a){if(a=!1,o==="throw")throw i;return i}return a=!0,{done:!1,value:new Qe(new Promise(l=>{var u=t[o](i);if(!(u instanceof Object))throw TypeError("Object expected");l(u)}),1)}}),s[Mt("iterator")]=()=>s,r("next"),"throw"in t?r("throw"):s.throw=o=>{throw o},"return"in t&&r("return"),s},ns=(e,t,a)=>(t=e[Mt("asyncIterator")])?t.call(e):(e=e[Mt("iterator")](),t={},a=(r,s)=>(s=e[r])&&(t[r]=o=>new Promise((i,l,u)=>(o=s.call(e,o),u=o.done,Promise.resolve(o.value).then(p=>i({value:p,done:u}),l)))),a("next"),a("return"),t);import{r as x,b as Dc,a as Qt,g as Lc}from"./vendor-e048df97.js";import{u as Oc,a as Ui,L as ss,b as bn,B as Mc,R as Fc,c as Ce,N as is}from"./router-8da05b39.js";import{C as qi,a as Hi,L as Wi,P as Ki,b as Gi,B as Vc,p as Ji,c as Xi,d as Yi,A as Ic,e as Zi,D as zc,f as _c}from"./charts-995ccff2.js";import{u as vn,a as qe,b as bt,Q as $c,c as Bc}from"./query-031079b4.js";var Lx=jc(_=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();var Qi={exports:{}},Ha={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=x,qc=Symbol.for("react.element"),Hc=Symbol.for("react.fragment"),Wc=Object.prototype.hasOwnProperty,Kc=Uc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gc={key:!0,ref:!0,__self:!0,__source:!0};function eo(e,t,a){var r,s={},o=null,i=null;a!==void 0&&(o=""+a),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Wc.call(t,r)&&!Gc.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:qc,type:e,key:o,ref:i,props:s,_owner:Kc.current}}Ha.Fragment=Hc;Ha.jsx=eo;Ha.jsxs=eo;Qi.exports=Ha;var wn=Qi.exports;const X=wn.Fragment,n=wn.jsx,c=wn.jsxs;var Br={},os=Dc;Br.createRoot=os.createRoot,Br.hydrateRoot=os.hydrateRoot;const Jc=function(){return null};let Xc={data:""},Yc=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Xc,Zc=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qc=/\/\*[^]*?\*\/|  +/g,ls=/\n+/g,Ue=(e,t)=>{let a="",r="",s="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?a=o+" "+i+";":r+=o[1]=="f"?Ue(i,o):o+"{"+Ue(i,o[1]=="k"?"":t)+"}":typeof i=="object"?r+=Ue(i,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ue.p?Ue.p(o,i):o+":"+i+";")}return a+(t&&s?t+"{"+s+"}":s)+r},De={},to=e=>{if(typeof e=="object"){let t="";for(let a in e)t+=a+to(e[a]);return t}return e},ed=(e,t,a,r,s)=>{let o=to(e),i=De[o]||(De[o]=(u=>{let p=0,d=11;for(;p<u.length;)d=101*d+u.charCodeAt(p++)>>>0;return"go"+d})(o));if(!De[i]){let u=o!==e?e:(p=>{let d,m,h=[{}];for(;d=Zc.exec(p.replace(Qc,""));)d[4]?h.shift():d[3]?(m=d[3].replace(ls," ").trim(),h.unshift(h[0][m]=h[0][m]||{})):h[0][d[1]]=d[2].replace(ls," ").trim();return h[0]})(e);De[i]=Ue(s?{["@keyframes "+i]:u}:u,a?"":"."+i)}let l=a&&De.g?De.g:null;return a&&(De.g=De[i]),((u,p,d,m)=>{m?p.data=p.data.replace(m,u):p.data.indexOf(u)===-1&&(p.data=d?u+p.data:p.data+u)})(De[i],t,r,l),i},td=(e,t,a)=>e.reduce((r,s,o)=>{let i=t[o];if(i&&i.call){let l=i(a),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=u?"."+u:l&&typeof l=="object"?l.props?"":Ue(l,""):l===!1?"":l}return r+s+(i==null?"":i)},"");function Wa(e){let t=this||{},a=e.call?e(t.p):e;return ed(a.unshift?a.raw?td(a,[].slice.call(arguments,1),t.p):a.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):a,Yc(t.target),t.g,t.o,t.k)}let ao,Ur,qr;Wa.bind({g:1});let Ve=Wa.bind({k:1});function ad(e,t,a,r){Ue.p=t,ao=e,Ur=a,qr=r}function Je(e,t){let a=this||{};return function(){let r=arguments;function s(o,i){let l=Object.assign({},o),u=l.className||s.className;a.p=Object.assign({theme:Ur&&Ur()},l),a.o=/ *go\d+/.test(u),l.className=Wa.apply(a,r)+(u?" "+u:""),t&&(l.ref=i);let p=e;return e[0]&&(p=l.as||e,delete l.as),qr&&p[0]&&qr(l),ao(p,l)}return t?t(s):s}}var rd=e=>typeof e=="function",Pa=(e,t)=>rd(e)?e(t):e,nd=(()=>{let e=0;return()=>(++e).toString()})(),ro=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),sd=20,kn="default",no=(e,t)=>{let{toastLimit:a}=e.settings;switch(t.type){case 0:return R(k({},e),{toasts:[t.toast,...e.toasts].slice(0,a)});case 1:return R(k({},e),{toasts:e.toasts.map(i=>i.id===t.toast.id?k(k({},i),t.toast):i)});case 2:let{toast:r}=t;return no(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return R(k({},e),{toasts:e.toasts.map(i=>i.id===s||s===void 0?R(k({},i),{dismissed:!0,visible:!1}):i)});case 4:return t.toastId===void 0?R(k({},e),{toasts:[]}):R(k({},e),{toasts:e.toasts.filter(i=>i.id!==t.toastId)});case 5:return R(k({},e),{pausedAt:t.time});case 6:let o=t.time-(e.pausedAt||0);return R(k({},e),{pausedAt:void 0,toasts:e.toasts.map(i=>R(k({},i),{pauseDuration:i.pauseDuration+o}))})}},va=[],so={toasts:[],pausedAt:void 0,settings:{toastLimit:sd}},Pe={},io=(e,t=kn)=>{Pe[t]=no(Pe[t]||so,e),va.forEach(([a,r])=>{a===t&&r(Pe[t])})},oo=e=>Object.keys(Pe).forEach(t=>io(e,t)),id=e=>Object.keys(Pe).find(t=>Pe[t].toasts.some(a=>a.id===e)),Ka=(e=kn)=>t=>{io(t,e)},od={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ld=(e={},t=kn)=>{let[a,r]=x.useState(Pe[t]||so),s=x.useRef(Pe[t]);x.useEffect(()=>(s.current!==Pe[t]&&r(Pe[t]),va.push([t,r]),()=>{let i=va.findIndex(([l])=>l===t);i>-1&&va.splice(i,1)}),[t]);let o=a.toasts.map(i=>{var l,u,p;return R(k(k(k({},e),e[i.type]),i),{removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((u=e[i.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||od[i.type],style:k(k(k({},e.style),(p=e[i.type])==null?void 0:p.style),i.style)})});return R(k({},a),{toasts:o})},cd=(e,t="blank",a)=>R(k({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},a),{id:(a==null?void 0:a.id)||nd()}),ea=e=>(t,a)=>{let r=cd(t,e,a);return Ka(r.toasterId||id(r.id))({type:2,toast:r}),r.id},ne=(e,t)=>ea("blank")(e,t);ne.error=ea("error");ne.success=ea("success");ne.loading=ea("loading");ne.custom=ea("custom");ne.dismiss=(e,t)=>{let a={type:3,toastId:e};t?Ka(t)(a):oo(a)};ne.dismissAll=e=>ne.dismiss(void 0,e);ne.remove=(e,t)=>{let a={type:4,toastId:e};t?Ka(t)(a):oo(a)};ne.removeAll=e=>ne.remove(void 0,e);ne.promise=(e,t,a)=>{let r=ne.loading(t.loading,k(k({},a),a==null?void 0:a.loading));return typeof e=="function"&&(e=e()),e.then(s=>{let o=t.success?Pa(t.success,s):void 0;return o?ne.success(o,k(k({id:r},a),a==null?void 0:a.success)):ne.dismiss(r),s}).catch(s=>{let o=t.error?Pa(t.error,s):void 0;o?ne.error(o,k(k({id:r},a),a==null?void 0:a.error)):ne.dismiss(r)}),e};var dd=1e3,ud=(e,t="default")=>{let{toasts:a,pausedAt:r}=ld(e,t),s=x.useRef(new Map).current,o=x.useCallback((m,h=dd)=>{if(s.has(m))return;let f=setTimeout(()=>{s.delete(m),i({type:4,toastId:m})},h);s.set(m,f)},[]);x.useEffect(()=>{if(r)return;let m=Date.now(),h=a.map(f=>{if(f.duration===1/0)return;let y=(f.duration||0)+f.pauseDuration-(m-f.createdAt);if(y<0){f.visible&&ne.dismiss(f.id);return}return setTimeout(()=>ne.dismiss(f.id,t),y)});return()=>{h.forEach(f=>f&&clearTimeout(f))}},[a,r,t]);let i=x.useCallback(Ka(t),[t]),l=x.useCallback(()=>{i({type:5,time:Date.now()})},[i]),u=x.useCallback((m,h)=>{i({type:1,toast:{id:m,height:h}})},[i]),p=x.useCallback(()=>{r&&i({type:6,time:Date.now()})},[r,i]),d=x.useCallback((m,h)=>{let{reverseOrder:f=!1,gutter:y=8,defaultPosition:g}=h||{},b=a.filter(w=>(w.position||g)===(m.position||g)&&w.height),C=b.findIndex(w=>w.id===m.id),v=b.filter((w,N)=>N<C&&w.visible).length;return b.filter(w=>w.visible).slice(...f?[v+1]:[0,v]).reduce((w,N)=>w+(N.height||0)+y,0)},[a]);return x.useEffect(()=>{a.forEach(m=>{if(m.dismissed)o(m.id,m.removeDelay);else{let h=s.get(m.id);h&&(clearTimeout(h),s.delete(m.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:u,startPause:l,endPause:p,calculateOffset:d}}},pd=Ve`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,md=Ve`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hd=Ve`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fd=Je("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pd} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${md} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hd} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gd=Ve`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xd=Je("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${gd} 1s linear infinite;
`,yd=Ve`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bd=Ve`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vd=Je("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yd} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bd} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wd=Je("div")`
  position: absolute;
`,kd=Je("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Nd=Ve`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cd=Je("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Nd} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Sd=({toast:e})=>{let{icon:t,type:a,iconTheme:r}=e;return t!==void 0?typeof t=="string"?x.createElement(Cd,null,t):t:a==="blank"?null:x.createElement(kd,null,x.createElement(xd,k({},r)),a!=="loading"&&x.createElement(wd,null,a==="error"?x.createElement(fd,k({},r)):x.createElement(vd,k({},r))))},Td=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ad=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Pd="0%{opacity:0;} 100%{opacity:1;}",Ed="0%{opacity:1;} 100%{opacity:0;}",Rd=Je("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jd=Je("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Dd=(e,t)=>{let a=e.includes("top")?1:-1,[r,s]=ro()?[Pd,Ed]:[Td(a),Ad(a)];return{animation:t?`${Ve(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ve(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ld=x.memo(({toast:e,position:t,style:a,children:r})=>{let s=e.height?Dd(e.position||t||"top-center",e.visible):{opacity:0},o=x.createElement(Sd,{toast:e}),i=x.createElement(jd,k({},e.ariaProps),Pa(e.message,e));return x.createElement(Rd,{className:e.className,style:k(k(k({},s),a),e.style)},typeof r=="function"?r({icon:o,message:i}):x.createElement(x.Fragment,null,o,i))});ad(x.createElement);var Od=({id:e,className:t,style:a,onHeightUpdate:r,children:s})=>{let o=x.useCallback(i=>{if(i){let l=()=>{let u=i.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return x.createElement("div",{ref:o,className:t,style:a},s)},Md=(e,t)=>{let a=e.includes("top"),r=a?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return k(k({left:0,right:0,display:"flex",position:"absolute",transition:ro()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`},r),s)},Fd=Wa`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ha=16,Vd=({reverseOrder:e,position:t="top-center",toastOptions:a,gutter:r,children:s,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:u,handlers:p}=ud(a,o);return x.createElement("div",{"data-rht-toaster":o||"",style:k({position:"fixed",zIndex:9999,top:ha,left:ha,right:ha,bottom:ha,pointerEvents:"none"},i),className:l,onMouseEnter:p.startPause,onMouseLeave:p.endPause},u.map(d=>{let m=d.position||t,h=p.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),f=Md(m,h);return x.createElement(Od,{id:d.id,key:d.id,onHeightUpdate:p.updateHeight,className:d.visible?Fd:"",style:f},d.type==="custom"?Pa(d.message,d):s?s(d):x.createElement(Ld,{toast:d,position:m}))}))},Se=ne;const lo=x.createContext(),Nn=()=>{const e=x.useContext(lo);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Id=({children:e})=>{const[t,a]=x.useState(()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});x.useEffect(()=>{const o=document.documentElement;t==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),x.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),i=l=>{localStorage.getItem("theme")||a(l.matches?"dark":"light")};return o.addEventListener("change",i),()=>o.removeEventListener("change",i)},[]);const s={theme:t,setTheme:a,toggleTheme:()=>{a(o=>o==="light"?"dark":"light")},isDark:t==="dark"};return n(lo.Provider,{value:s,children:e})},co=x.createContext(),Xe=()=>{const e=x.useContext(co);if(!e)throw new Error("useConfig must be used within a ConfigProvider");return e},xt={apiBaseUrl:`${window.location.origin}/api`,websocketUrl:`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,proxyEnabled:!0,batchSize:5,maxRetries:3,autoRefresh:!0,refreshInterval:3e4,timeout:3e4,theme:"light",language:"fa",notifications:{position:"top-left",duration:4e3,maxNotifications:5},pagination:{defaultPageSize:20,pageSizeOptions:[10,20,50,100]},cache:{enabled:!0,duration:5*60*1e3}},zd=({children:e})=>{const[t,a]=x.useState(()=>{const g=localStorage.getItem("appConfig");if(g)try{const b=JSON.parse(g);return k(k({},xt),b)}catch(b){return console.error("Failed to parse saved config:",b),xt}return xt}),[r,s]=x.useState(navigator.onLine),[o,i]=x.useState("unknown");x.useEffect(()=>{localStorage.setItem("appConfig",JSON.stringify(t))},[t]),x.useEffect(()=>{const g=()=>s(!0),b=()=>s(!1);return window.addEventListener("online",g),window.addEventListener("offline",b),()=>{window.removeEventListener("online",g),window.removeEventListener("offline",b)}},[]);const y={config:t,updateConfig:g=>{a(b=>k(k({},b),g))},resetConfig:()=>{a(xt),localStorage.removeItem("appConfig")},exportConfig:()=>{const g=R(k({},t),{exportedAt:new Date().toISOString(),version:"1.0.0"}),b=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),C=URL.createObjectURL(b),v=document.createElement("a");v.href=C,v.download=`legal-archive-config-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(C)},importConfig:g=>new Promise((b,C)=>{const v=new FileReader;v.onload=w=>{try{const N=JSON.parse(w.target.result);if(typeof N!="object"||N===null)throw new Error("Invalid config format");const A=k(k({},xt),N);delete A.exportedAt,delete A.version,a(A),b(A)}catch(N){C(new Error("Failed to parse config file: "+N.message))}},v.onerror=()=>{C(new Error("Failed to read config file"))},v.readAsText(g)}),testConnection:()=>F(_,null,function*(){try{const g=yield fetch(`${t.apiBaseUrl}/status`,{method:"GET",timeout:t.timeout});return g.ok?(i("connected"),{success:!0,status:g.status}):(i("error"),{success:!1,status:g.status,error:g.statusText})}catch(g){return i("error"),{success:!1,error:g.message}}}),getApiUrl:g=>{const b=t.apiBaseUrl.replace(/\/$/,""),C=g.startsWith("/")?g:`/${g}`;return`${b}${C}`},getWebSocketUrl:()=>t.websocketUrl,isOnline:r,backendStatus:o,setBackendStatus:i,DEFAULT_CONFIG:xt};return n(co.Provider,{value:y,children:e})},uo=x.createContext(),ta=()=>{const e=x.useContext(uo);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},_d=({children:e})=>{const{config:t}=Xe(),a=x.useCallback((g,b="info",C={})=>{const v={duration:t.notifications.duration,position:t.notifications.position,style:k({direction:"rtl",fontFamily:"Vazirmatn, sans-serif",fontSize:"14px"},C.style)},w=k(k({},v),C);switch(b){case"success":return Se.success(g,R(k({},w),{iconTheme:{primary:"#10b981",secondary:"#ffffff"}}));case"error":return Se.error(g,R(k({},w),{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}));case"warning":return Se(g,R(k({},w),{icon:"⚠️",style:R(k({},w.style),{background:"#fbbf24",color:"#ffffff"})}));case"info":return Se(g,R(k({},w),{icon:"ℹ️",style:R(k({},w.style),{background:"#3b82f6",color:"#ffffff"})}));case"loading":return Se.loading(g,w);default:return Se(g,w)}},[t.notifications]),r=x.useCallback((g,b)=>a(g,"success",b),[a]),s=x.useCallback((g,b)=>a(g,"error",b),[a]),o=x.useCallback((g,b)=>a(g,"warning",b),[a]),i=x.useCallback((g,b)=>a(g,"info",b),[a]),l=x.useCallback((g,b)=>a(g,"loading",b),[a]),u=x.useCallback(g=>{Se.dismiss(g)},[]),p=x.useCallback(()=>{Se.dismiss()},[]),d=x.useCallback((g,b,C={})=>Se.promise(g,{loading:b.loading||"در حال پردازش...",success:b.success||"عملیات با موفقیت انجام شد",error:b.error||"خطایی رخ داده است"},k({style:{direction:"rtl",fontFamily:"Vazirmatn, sans-serif"}},C)),[]),m=x.useCallback((g,b={})=>Se.custom(g,k({duration:t.notifications.duration,position:t.notifications.position},b)),[t.notifications]),h=x.useCallback((g,b)=>{var v;let C=b||"خطایی در ارتباط با سرور رخ داده است";if((v=g==null?void 0:g.response)!=null&&v.status)switch(g.response.status){case 400:C="درخواست نامعتبر - لطفاً اطلاعات ورودی را بررسی کنید";break;case 401:C="عدم احراز هویت - لطفاً مجدداً وارد شوید";break;case 403:C="عدم دسترسی - شما مجاز به انجام این عملیات نیستید";break;case 404:C="آدرس یافت نشد - لطفاً از صحت آدرس اطمینان حاصل کنید";break;case 409:C="عملیات دیگری در حال انجام است - لطفاً منتظر بمانید";break;case 429:C="تعداد درخواست‌ها زیاد است - لطفاً کمی صبر کنید";break;case 500:C="خطای داخلی سرور - لطفاً بعداً تلاش کنید";break;case 502:C="سرور در دسترس نیست";break;case 503:C="سرویس موقتاً در دسترس نیست";break;default:C=`خطای ${g.response.status}: ${g.response.statusText||"نامشخص"}`}else g!=null&&g.message&&(g.message.includes("fetch")?C="عدم اتصال به سرور - لطفاً اتصال اینترنت خود را بررسی کنید":g.message.includes("timeout")?C="زمان انتظار تمام شد - لطفاً مجدداً تلاش کنید":C=g.message);return s(C)},[s]),f=x.useCallback(g=>{switch(g){case"connected":return r("اتصال به سرور برقرار شد");case"disconnected":return o("اتصال به سرور قطع شد");case"reconnecting":return i("در حال تلاش برای اتصال مجدد...");case"error":return s("خطا در اتصال به سرور");default:return i(`وضعیت اتصال: ${g}`)}},[r,o,i,s]),y={showNotification:a,showSuccess:r,showError:s,showWarning:o,showInfo:i,showLoading:l,showPromise:d,showCustom:m,showApiError:h,showConnectionStatus:f,dismissNotification:u,dismissAll:p};return n(uo.Provider,{value:y,children:e})},$d=({onMenuClick:e})=>{const t=Oc(),a=Ui(),{theme:r,toggleTheme:s,isDark:o}=Nn(),{config:i,backendStatus:l,testConnection:u}=Xe(),{showConnectionStatus:p}=ta(),[d,m]=x.useState(new Date),[h,f]=x.useState(!1);x.useEffect(()=>{const v=setInterval(()=>{m(new Date)},1e3);return()=>clearInterval(v)},[]),x.useEffect(()=>{(()=>F(_,null,function*(){f(!0);try{yield u()}catch(w){console.error("Connection test failed:",w)}finally{f(!1)}}))()},[u]);const y=()=>F(_,null,function*(){f(!0);try{(yield u()).success?p("connected"):p("error")}catch(v){p("error")}finally{f(!1)}}),g=()=>({"/dashboard":"داشبورد اصلی","/process":"پردازش اسناد","/proxy":"مدیریت پروکسی","/search":"جستجو در پایگاه داده","/settings":"تنظیمات"})[a.pathname]||"سیستم آرشیو حقوقی",b=()=>{if(h)return n("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"});switch(l){case"connected":return n("div",{className:"w-3 h-3 bg-green-500 rounded-full"});case"error":return n("div",{className:"w-3 h-3 bg-red-500 rounded-full"});default:return n("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})}},C=()=>{if(h)return"در حال بررسی...";switch(l){case"connected":return"متصل";case"error":return"قطع شده";default:return"نامشخص"}};return n("header",{className:"bg-white dark:bg-gray-800 shadow-lg border-b border-gray-200 dark:border-gray-700 fixed top-0 left-0 right-0 z-50 h-16",children:n("div",{className:"h-full px-4 sm:px-6 lg:px-8",children:c("div",{className:"flex items-center justify-between h-full",children:[c("div",{className:"flex items-center space-x-4 space-x-reverse",children:[n("button",{onClick:e,className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:hidden","aria-label":"Toggle menu",children:n("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:n("span",{className:"text-white text-lg font-bold",children:"⚖️"})}),c("div",{children:[n("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:g()}),n("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"سیستم آرشیو اسناد حقوقی ایران"})]})]})]}),c("div",{className:"flex items-center space-x-4 space-x-reverse",children:[n("div",{className:"flex items-center space-x-2 space-x-reverse",children:c("button",{onClick:y,className:"flex items-center space-x-2 space-x-reverse px-3 py-1.5 rounded-md text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h,children:[b(),n("span",{className:"text-gray-700 dark:text-gray-300",children:C()})]})}),c("div",{className:"hidden sm:flex flex-col items-end text-sm",children:[n("span",{className:"font-medium text-gray-900 dark:text-white",children:d.toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),n("span",{className:"text-gray-500 dark:text-gray-400",children:d.toLocaleDateString("fa-IR",{weekday:"short",day:"numeric",month:"short"})})]}),n("button",{onClick:s,className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors","aria-label":o?"Switch to light mode":"Switch to dark mode",children:o?n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),n("button",{onClick:()=>t("/settings"),className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors","aria-label":"Settings",children:c("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})})})},po=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ga=x.createContext({}),Ja=x.createContext(null),Xa=typeof document!="undefined",Cn=Xa?x.useLayoutEffect:x.useEffect,mo=x.createContext({strict:!1}),Sn=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Bd="framerAppearId",ho="data-"+Sn(Bd);function Ud(e,t,a,r){const{visualElement:s}=x.useContext(Ga),o=x.useContext(mo),i=x.useContext(Ja),l=x.useContext(po).reducedMotion,u=x.useRef();r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:a,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const p=u.current;x.useInsertionEffect(()=>{p&&p.update(a,i)});const d=x.useRef(!!(a[ho]&&!window.HandoffComplete));return Cn(()=>{p&&(p.render(),d.current&&p.animationState&&p.animationState.animateChanges())}),x.useEffect(()=>{p&&(p.updateFeatures(),!d.current&&p.animationState&&p.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),p}function vt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qd(e,t,a){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):vt(a)&&(a.current=r))},[t])}function Ht(e){return typeof e=="string"||Array.isArray(e)}function Ya(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],An=["initial",...Tn];function Za(e){return Ya(e.animate)||An.some(t=>Ht(e[t]))}function fo(e){return!!(Za(e)||e.variants)}function Hd(e,t){if(Za(e)){const{initial:a,animate:r}=e;return{initial:a===!1||Ht(a)?a:void 0,animate:Ht(r)?r:void 0}}return e.inherit!==!1?t:{}}function Wd(e){const{initial:t,animate:a}=Hd(e,x.useContext(Ga));return x.useMemo(()=>({initial:t,animate:a}),[cs(t),cs(a)])}function cs(e){return Array.isArray(e)?e.join(" "):e}const ds={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wt={};for(const e in ds)Wt[e]={isEnabled:t=>ds[e].some(a=>!!t[a])};function Kd(e){for(const t in e)Wt[t]=k(k({},Wt[t]),e[t])}const Pn=x.createContext({}),go=x.createContext({}),Gd=Symbol.for("motionComponentSymbol");function Jd({preloadedFeatures:e,createVisualElement:t,useRender:a,useVisualState:r,Component:s}){e&&Kd(e);function o(l,u){let p;const d=R(k(k({},x.useContext(po)),l),{layoutId:Xd(l)}),{isStatic:m}=d,h=Wd(l),f=r(l,m);if(!m&&Xa){h.visualElement=Ud(s,f,d,t);const y=x.useContext(go),g=x.useContext(mo).strict;h.visualElement&&(p=h.visualElement.loadFeatures(d,g,e,y))}return x.createElement(Ga.Provider,{value:h},p&&h.visualElement?x.createElement(p,k({visualElement:h.visualElement},d)):null,a(s,l,qd(f,h.visualElement,u),f,m,h.visualElement))}const i=x.forwardRef(o);return i[Gd]=s,i}function Xd({layoutId:e}){const t=x.useContext(Pn).id;return t&&e!==void 0?t+"-"+e:e}function Yd(e){function t(r,s={}){return Jd(e(r,s))}if(typeof Proxy=="undefined")return t;const a=new Map;return new Proxy(t,{get:(r,s)=>(a.has(s)||a.set(s,t(s)),a.get(s))})}const Zd=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function En(e){return typeof e!="string"||e.includes("-")?!1:!!(Zd.indexOf(e)>-1||/[A-Z]/.test(e))}const Ea={};function Qd(e){Object.assign(Ea,e)}const aa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ut=new Set(aa);function xo(e,{layout:t,layoutId:a}){return ut.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!Ea[e]||e==="opacity")}const ue=e=>!!(e&&e.getVelocity),eu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tu=aa.length;function au(e,{enableHardwareAcceleration:t=!0,allowTransformNone:a=!0},r,s){let o="";for(let i=0;i<tu;i++){const l=aa[i];if(e[l]!==void 0){const u=eu[l]||l;o+=`${u}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):a&&r&&(o="none"),o}const yo=e=>t=>typeof t=="string"&&t.startsWith(e),bo=yo("--"),Hr=yo("var(--"),ru=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,nu=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ke=(e,t,a)=>Math.min(Math.max(a,e),t),pt={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_t=R(k({},pt),{transform:e=>Ke(0,1,e)}),fa=R(k({},pt),{default:1}),$t=e=>Math.round(e*1e5)/1e5,Qa=/(-)?([\d]*\.?[\d])+/g,vo=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,su=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ra(e){return typeof e=="string"}const na=e=>({test:t=>ra(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$e=na("deg"),Re=na("%"),V=na("px"),iu=na("vh"),ou=na("vw"),us=R(k({},Re),{parse:e=>Re.parse(e)/100,transform:e=>Re.transform(e*100)}),ps=R(k({},pt),{transform:Math.round}),wo={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,size:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,rotate:$e,rotateX:$e,rotateY:$e,rotateZ:$e,scale:fa,scaleX:fa,scaleY:fa,scaleZ:fa,skew:$e,skewX:$e,skewY:$e,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:_t,originX:us,originY:us,originZ:V,zIndex:ps,fillOpacity:_t,strokeOpacity:_t,numOctaves:ps};function Rn(e,t,a,r){const{style:s,vars:o,transform:i,transformOrigin:l}=e;let u=!1,p=!1,d=!0;for(const m in t){const h=t[m];if(bo(m)){o[m]=h;continue}const f=wo[m],y=nu(h,f);if(ut.has(m)){if(u=!0,i[m]=y,!d)continue;h!==(f.default||0)&&(d=!1)}else m.startsWith("origin")?(p=!0,l[m]=y):s[m]=y}if(t.transform||(u||r?s.transform=au(e.transform,a,d,r):s.transform&&(s.transform="none")),p){const{originX:m="50%",originY:h="50%",originZ:f=0}=l;s.transformOrigin=`${m} ${h} ${f}`}}const jn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ko(e,t,a){for(const r in t)!ue(t[r])&&!xo(r,a)&&(e[r]=t[r])}function lu({transformTemplate:e},t,a){return x.useMemo(()=>{const r=jn();return Rn(r,t,{enableHardwareAcceleration:!a},e),Object.assign({},r.vars,r.style)},[t])}function cu(e,t,a){const r=e.style||{},s={};return ko(s,r,e),Object.assign(s,lu(e,t,a)),e.transformValues?e.transformValues(s):s}function du(e,t,a){const r={},s=cu(e,t,a);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const uu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ra(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uu.has(e)}let No=e=>!Ra(e);function pu(e){e&&(No=t=>t.startsWith("on")?!Ra(t):e(t))}try{pu(require("@emotion/is-prop-valid").default)}catch(e){}function mu(e,t,a){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(No(s)||a===!0&&Ra(s)||!t&&!Ra(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function ms(e,t,a){return typeof e=="string"?e:V.transform(t+a*e)}function hu(e,t,a){const r=ms(t,e.x,e.width),s=ms(a,e.y,e.height);return`${r} ${s}`}const fu={offset:"stroke-dashoffset",array:"stroke-dasharray"},gu={offset:"strokeDashoffset",array:"strokeDasharray"};function xu(e,t,a=1,r=0,s=!0){e.pathLength=1;const o=s?fu:gu;e[o.offset]=V.transform(-r);const i=V.transform(t),l=V.transform(a);e[o.array]=`${i} ${l}`}function Dn(e,f,d,m,h){var y=f,{attrX:t,attrY:a,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:u=0}=y,p=ie(y,["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"]);if(Rn(e,p,d,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b,dimensions:C}=e;g.transform&&(C&&(b.transform=g.transform),delete g.transform),C&&(s!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=hu(C,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(g.x=t),a!==void 0&&(g.y=a),r!==void 0&&(g.scale=r),i!==void 0&&xu(g,i,l,u,!1)}const Co=()=>R(k({},jn()),{attrs:{}}),Ln=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yu(e,t,a,r){const s=x.useMemo(()=>{const o=Co();return Dn(o,t,{enableHardwareAcceleration:!1},Ln(r),e.transformTemplate),R(k({},o.attrs),{style:k({},o.style)})},[t]);if(e.style){const o={};ko(o,e.style,e),s.style=k(k({},o),s.style)}return s}function bu(e=!1){return(a,r,s,{latestValues:o},i)=>{const u=(En(a)?yu:du)(r,o,i,a),p=mu(r,typeof a=="string",e),d=R(k(k({},p),u),{ref:s}),{children:m}=r,h=x.useMemo(()=>ue(m)?m.get():m,[m]);return x.createElement(a,R(k({},d),{children:h}))}}function So(e,{style:t,vars:a},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in a)e.style.setProperty(o,a[o])}const To=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ao(e,t,a,r){So(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(To.has(s)?s:Sn(s),t.attrs[s])}function On(e,t){const{style:a}=e,r={};for(const s in a)(ue(a[s])||t.style&&ue(t.style[s])||xo(s,e))&&(r[s]=a[s]);return r}function Po(e,t){const a=On(e,t);for(const r in e)if(ue(e[r])||ue(t[r])){const s=aa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[s]=e[r]}return a}function Mn(e,t,a,r={},s={}){return typeof t=="function"&&(t=t(a!==void 0?a:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(a!==void 0?a:e.custom,r,s)),t}function Eo(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const ja=e=>Array.isArray(e),vu=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),wu=e=>ja(e)?e[e.length-1]||0:e;function wa(e){const t=ue(e)?e.get():e;return vu(t)?t.toValue():t}function ku({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:a},r,s,o){const i={latestValues:Nu(r,s,o,e),renderState:t()};return a&&(i.mount=l=>a(r,l,i)),i}const Ro=e=>(t,a)=>{const r=x.useContext(Ga),s=x.useContext(Ja),o=()=>ku(e,t,r,s);return a?o():Eo(o)};function Nu(e,t,a,r){const s={},o=r(e,{});for(const h in o)s[h]=wa(o[h]);let{initial:i,animate:l}=e;const u=Za(e),p=fo(e);t&&p&&!u&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=a?a.initial===!1:!1;d=d||i===!1;const m=d?l:i;return m&&typeof m!="boolean"&&!Ya(m)&&(Array.isArray(m)?m:[m]).forEach(f=>{const y=Mn(e,f);if(!y)return;const v=y,{transitionEnd:g,transition:b}=v,C=ie(v,["transitionEnd","transition"]);for(const w in C){let N=C[w];if(Array.isArray(N)){const A=d?N.length-1:0;N=N[A]}N!==null&&(s[w]=N)}for(const w in g)s[w]=g[w]}),s}const Z=e=>e;class hs{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const a=this.order.indexOf(t);a!==-1&&(this.order.splice(a,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Cu(e){let t=new hs,a=new hs,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(u,p=!1,d=!1)=>{const m=d&&s,h=m?t:a;return p&&i.add(u),h.add(u)&&m&&s&&(r=t.order.length),u},cancel:u=>{a.remove(u),i.delete(u)},process:u=>{if(s){o=!0;return}if(s=!0,[t,a]=[a,t],a.clear(),r=t.order.length,r)for(let p=0;p<r;p++){const d=t.order[p];d(u),i.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(u))}};return l}const ga=["prepare","read","update","preRender","render","postRender"],Su=40;function Tu(e,t){let a=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=ga.reduce((m,h)=>(m[h]=Cu(()=>a=!0),m),{}),i=m=>o[m].process(s),l=()=>{const m=performance.now();a=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,Su),1),s.timestamp=m,s.isProcessing=!0,ga.forEach(i),s.isProcessing=!1,a&&t&&(r=!1,e(l))},u=()=>{a=!0,r=!0,s.isProcessing||e(l)};return{schedule:ga.reduce((m,h)=>{const f=o[h];return m[h]=(y,g=!1,b=!1)=>(a||u(),f.schedule(y,g,b)),m},{}),cancel:m=>ga.forEach(h=>o[h].cancel(m)),state:s,steps:o}}const{schedule:W,cancel:Ie,state:oe,steps:Nr}=Tu(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Z,!0),Au={useVisualState:Ro({scrapeMotionValuesFromProps:Po,createRenderState:Co,onMount:(e,t,{renderState:a,latestValues:r})=>{W.read(()=>{try{a.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(s){a.dimensions={x:0,y:0,width:0,height:0}}}),W.render(()=>{Dn(a,r,{enableHardwareAcceleration:!1},Ln(t.tagName),e.transformTemplate),Ao(t,a)})}})},Pu={useVisualState:Ro({scrapeMotionValuesFromProps:On,createRenderState:jn})};function Eu(e,{forwardMotionProps:t=!1},a,r){const s=En(e)?Au:Pu;return R(k({},s),{preloadedFeatures:a,useRender:bu(t),createVisualElement:r,Component:e})}function Oe(e,t,a,r={passive:!0}){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a)}const jo=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function er(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Ru=e=>t=>jo(t)&&e(t,er(t));function Me(e,t,a,r){return Oe(e,t,Ru(a),r)}const ju=(e,t)=>a=>t(e(a)),He=(...e)=>e.reduce(ju);function Do(e){let t=null;return()=>{const a=()=>{t=null};return t===null?(t=e,a):!1}}const fs=Do("dragHorizontal"),gs=Do("dragVertical");function Lo(e){let t=!1;if(e==="y")t=gs();else if(e==="x")t=fs();else{const a=fs(),r=gs();a&&r?t=()=>{a(),r()}:(a&&a(),r&&r())}return t}function Oo(){const e=Lo(!0);return e?(e(),!1):!0}class Ye{constructor(t){this.isMounted=!1,this.node=t}update(){}}function xs(e,t){const a="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||Oo())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&W.update(()=>l[r](o,i))};return Me(e.current,a,s,{passive:!e.getProps()[r]})}class Du extends Ye{mount(){this.unmount=He(xs(this.node,!0),xs(this.node,!1))}unmount(){}}class Lu extends Ye{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(a){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=He(Oe(this.node.current,"focus",()=>this.onFocus()),Oe(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Mo=(e,t)=>t?e===t?!0:Mo(e,t.parentElement):!1;function Cr(e,t){if(!t)return;const a=new PointerEvent("pointer"+e);t(a,er(a))}class Ou extends Ye{constructor(){super(...arguments),this.removeStartListeners=Z,this.removeEndListeners=Z,this.removeAccessibleListeners=Z,this.startPointerPress=(t,a)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Me(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:d,globalTapTarget:m}=this.node.getProps();W.update(()=>{!m&&!Mo(this.node.current,l.target)?d&&d(l,u):p&&p(l,u)})},{passive:!(r.onTap||r.onPointerUp)}),i=Me(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=He(o,i),this.startPress(t,a)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Cr("up",(u,p)=>{const{onTap:d}=this.node.getProps();d&&W.update(()=>d(u,p))})};this.removeEndListeners(),this.removeEndListeners=Oe(this.node.current,"keyup",i),Cr("down",(l,u)=>{this.startPress(l,u)})},a=Oe(this.node.current,"keydown",t),r=()=>{this.isPressing&&Cr("cancel",(o,i)=>this.cancelPress(o,i))},s=Oe(this.node.current,"blur",r);this.removeAccessibleListeners=He(a,s)}}startPress(t,a){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&W.update(()=>r(t,a))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Oo()}cancelPress(t,a){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&W.update(()=>r(t,a))}mount(){const t=this.node.getProps(),a=Me(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Oe(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=He(a,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Wr=new WeakMap,Sr=new WeakMap,Mu=e=>{const t=Wr.get(e.target);t&&t(e)},Fu=e=>{e.forEach(Mu)};function Vu(a){var r=a,{root:e}=r,t=ie(r,["root"]);const s=e||document;Sr.has(s)||Sr.set(s,{});const o=Sr.get(s),i=JSON.stringify(t);return o[i]||(o[i]=new IntersectionObserver(Fu,k({root:e},t))),o[i]}function Iu(e,t,a){const r=Vu(t);return Wr.set(e,a),r.observe(e),()=>{Wr.delete(e),r.unobserve(e)}}const zu={some:0,all:1};class _u extends Ye{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:s="some",once:o}=t,i={root:a?a.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:zu[s]},l=u=>{const{isIntersecting:p}=u;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),h=p?d:m;h&&h(u)};return Iu(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some($u(t,a))&&this.startObserver()}unmount(){}}function $u({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const Bu={inView:{Feature:_u},tap:{Feature:Ou},focus:{Feature:Lu},hover:{Feature:Du}};function Fo(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let r=0;r<a;r++)if(t[r]!==e[r])return!1;return!0}function Uu(e){const t={};return e.values.forEach((a,r)=>t[r]=a.get()),t}function qu(e){const t={};return e.values.forEach((a,r)=>t[r]=a.getVelocity()),t}function tr(e,t,a){const r=e.getProps();return Mn(r,t,a!==void 0?a:r.custom,Uu(e),qu(e))}let Hu=Z,Fn=Z;const We=e=>e*1e3,Fe=e=>e/1e3,Wu={current:!1},Vo=e=>Array.isArray(e)&&typeof e[0]=="number";function Io(e){return!!(!e||typeof e=="string"&&zo[e]||Vo(e)||Array.isArray(e)&&e.every(Io))}const zt=([e,t,a,r])=>`cubic-bezier(${e}, ${t}, ${a}, ${r})`,zo={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zt([0,.65,.55,1]),circOut:zt([.55,0,1,.45]),backIn:zt([.31,.01,.66,-.59]),backOut:zt([.33,1.53,.69,.99])};function _o(e){if(e)return Vo(e)?zt(e):Array.isArray(e)?e.map(_o):zo[e]}function Ku(e,t,a,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:u}={}){const p={[t]:a};u&&(p.offset=u);const d=_o(l);return Array.isArray(d)&&(p.easing=d),e.animate(p,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function Gu(e,{repeat:t,repeatType:a="loop"}){const r=t&&a!=="loop"&&t%2===1?0:e.length-1;return e[r]}const $o=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,Ju=1e-7,Xu=12;function Yu(e,t,a,r,s){let o,i,l=0;do i=t+(a-t)/2,o=$o(i,r,s)-e,o>0?a=i:t=i;while(Math.abs(o)>Ju&&++l<Xu);return i}function sa(e,t,a,r){if(e===t&&a===r)return Z;const s=o=>Yu(o,0,1,e,a);return o=>o===0||o===1?o:$o(s(o),t,r)}const Zu=sa(.42,0,1,1),Qu=sa(0,0,.58,1),Bo=sa(.42,0,.58,1),ep=e=>Array.isArray(e)&&typeof e[0]!="number",Uo=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qo=e=>t=>1-e(1-t),Vn=e=>1-Math.sin(Math.acos(e)),Ho=qo(Vn),tp=Uo(Vn),Wo=sa(.33,1.53,.69,.99),In=qo(Wo),ap=Uo(In),rp=e=>(e*=2)<1?.5*In(e):.5*(2-Math.pow(2,-10*(e-1))),np={linear:Z,easeIn:Zu,easeInOut:Bo,easeOut:Qu,circIn:Vn,circInOut:tp,circOut:Ho,backIn:In,backInOut:ap,backOut:Wo,anticipate:rp},ys=e=>{if(Array.isArray(e)){Fn(e.length===4);const[t,a,r,s]=e;return sa(t,a,r,s)}else if(typeof e=="string")return np[e];return e},zn=(e,t)=>a=>!!(ra(a)&&su.test(a)&&a.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(a,t)),Ko=(e,t,a)=>r=>{if(!ra(r))return r;const[s,o,i,l]=r.match(Qa);return{[e]:parseFloat(s),[t]:parseFloat(o),[a]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},sp=e=>Ke(0,255,e),Tr=R(k({},pt),{transform:e=>Math.round(sp(e))}),st={test:zn("rgb","red"),parse:Ko("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:r=1})=>"rgba("+Tr.transform(e)+", "+Tr.transform(t)+", "+Tr.transform(a)+", "+$t(_t.transform(r))+")"};function ip(e){let t="",a="",r="",s="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,a+=a,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Kr={test:zn("#"),parse:ip,transform:st.transform},wt={test:zn("hsl","hue"),parse:Ko("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(e)+", "+Re.transform($t(t))+", "+Re.transform($t(a))+", "+$t(_t.transform(r))+")"},ce={test:e=>st.test(e)||Kr.test(e)||wt.test(e),parse:e=>st.test(e)?st.parse(e):wt.test(e)?wt.parse(e):Kr.parse(e),transform:e=>ra(e)?e:e.hasOwnProperty("red")?st.transform(e):wt.transform(e)},J=(e,t,a)=>-a*e+a*t+e;function Ar(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function op({hue:e,saturation:t,lightness:a,alpha:r}){e/=360,t/=100,a/=100;let s=0,o=0,i=0;if(!t)s=o=i=a;else{const l=a<.5?a*(1+t):a+t-a*t,u=2*a-l;s=Ar(u,l,e+1/3),o=Ar(u,l,e),i=Ar(u,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Pr=(e,t,a)=>{const r=e*e;return Math.sqrt(Math.max(0,a*(t*t-r)+r))},lp=[Kr,st,wt],cp=e=>lp.find(t=>t.test(e));function bs(e){const t=cp(e);let a=t.parse(e);return t===wt&&(a=op(a)),a}const Go=(e,t)=>{const a=bs(e),r=bs(t),s=k({},a);return o=>(s.red=Pr(a.red,r.red,o),s.green=Pr(a.green,r.green,o),s.blue=Pr(a.blue,r.blue,o),s.alpha=J(a.alpha,r.alpha,o),st.transform(s))};function dp(e){var t,a;return isNaN(e)&&ra(e)&&(((t=e.match(Qa))===null||t===void 0?void 0:t.length)||0)+(((a=e.match(vo))===null||a===void 0?void 0:a.length)||0)>0}const Jo={regex:ru,countKey:"Vars",token:"${v}",parse:Z},Xo={regex:vo,countKey:"Colors",token:"${c}",parse:ce.parse},Yo={regex:Qa,countKey:"Numbers",token:"${n}",parse:pt.parse};function Er(e,{regex:t,countKey:a,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+a]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function Da(e){const t=e.toString(),a={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return a.value.includes("var(--")&&Er(a,Jo),Er(a,Xo),Er(a,Yo),a}function Zo(e){return Da(e).values}function Qo(e){const{values:t,numColors:a,numVars:r,tokenised:s}=Da(e),o=t.length;return i=>{let l=s;for(let u=0;u<o;u++)u<r?l=l.replace(Jo.token,i[u]):u<r+a?l=l.replace(Xo.token,ce.transform(i[u])):l=l.replace(Yo.token,$t(i[u]));return l}}const up=e=>typeof e=="number"?0:e;function pp(e){const t=Zo(e);return Qo(e)(t.map(up))}const Ge={test:dp,parse:Zo,createTransformer:Qo,getAnimatableNone:pp},el=(e,t)=>a=>`${a>0?t:e}`;function tl(e,t){return typeof e=="number"?a=>J(e,t,a):ce.test(e)?Go(e,t):e.startsWith("var(")?el(e,t):rl(e,t)}const al=(e,t)=>{const a=[...e],r=a.length,s=e.map((o,i)=>tl(o,t[i]));return o=>{for(let i=0;i<r;i++)a[i]=s[i](o);return a}},mp=(e,t)=>{const a=k(k({},e),t),r={};for(const s in a)e[s]!==void 0&&t[s]!==void 0&&(r[s]=tl(e[s],t[s]));return s=>{for(const o in r)a[o]=r[o](s);return a}},rl=(e,t)=>{const a=Ge.createTransformer(t),r=Da(e),s=Da(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?He(al(r.values,s.values),a):el(e,t)},Kt=(e,t,a)=>{const r=t-e;return r===0?1:(a-e)/r},vs=(e,t)=>a=>J(e,t,a);function hp(e){return typeof e=="number"?vs:typeof e=="string"?ce.test(e)?Go:rl:Array.isArray(e)?al:typeof e=="object"?mp:vs}function fp(e,t,a){const r=[],s=a||hp(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const u=Array.isArray(t)?t[i]||Z:t;l=He(u,l)}r.push(l)}return r}function nl(e,t,{clamp:a=!0,ease:r,mixer:s}={}){const o=e.length;if(Fn(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=fp(t,r,s),l=i.length,u=p=>{let d=0;if(l>1)for(;d<e.length-2&&!(p<e[d+1]);d++);const m=Kt(e[d],e[d+1],p);return i[d](m)};return a?p=>u(Ke(e[0],e[o-1],p)):u}function gp(e,t){const a=e[e.length-1];for(let r=1;r<=t;r++){const s=Kt(0,t,r);e.push(J(a,1,s))}}function xp(e){const t=[0];return gp(t,e.length-1),t}function yp(e,t){return e.map(a=>a*t)}function bp(e,t){return e.map(()=>t||Bo).splice(0,e.length-1)}function La({duration:e=300,keyframes:t,times:a,ease:r="easeInOut"}){const s=ep(r)?r.map(ys):ys(r),o={done:!1,value:t[0]},i=yp(a&&a.length===t.length?a:xp(t),e),l=nl(i,t,{ease:Array.isArray(s)?s:bp(t,s)});return{calculatedDuration:e,next:u=>(o.value=l(u),o.done=u>=e,o)}}function sl(e,t){return t?e*(1e3/t):0}const vp=5;function il(e,t,a){const r=Math.max(t-vp,0);return sl(a-e(r),t-r)}const Rr=.001,wp=.01,ws=10,kp=.05,Np=1;function Cp({duration:e=800,bounce:t=.25,velocity:a=0,mass:r=1}){let s,o;Hu(e<=We(ws));let i=1-t;i=Ke(kp,Np,i),e=Ke(wp,ws,Fe(e)),i<1?(s=p=>{const d=p*i,m=d*e,h=d-a,f=Gr(p,i),y=Math.exp(-m);return Rr-h/f*y},o=p=>{const m=p*i*e,h=m*a+a,f=Math.pow(i,2)*Math.pow(p,2)*e,y=Math.exp(-m),g=Gr(Math.pow(p,2),i);return(-s(p)+Rr>0?-1:1)*((h-f)*y)/g}):(s=p=>{const d=Math.exp(-p*e),m=(p-a)*e+1;return-Rr+d*m},o=p=>{const d=Math.exp(-p*e),m=(a-p)*(e*e);return d*m});const l=5/e,u=Tp(s,o,l);if(e=We(e),isNaN(u))return{stiffness:100,damping:10,duration:e};{const p=Math.pow(u,2)*r;return{stiffness:p,damping:i*2*Math.sqrt(r*p),duration:e}}}const Sp=12;function Tp(e,t,a){let r=a;for(let s=1;s<Sp;s++)r=r-e(r)/t(r);return r}function Gr(e,t){return e*Math.sqrt(1-t*t)}const Ap=["duration","bounce"],Pp=["stiffness","damping","mass"];function ks(e,t){return t.some(a=>e[a]!==void 0)}function Ep(e){let t=k({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!ks(e,Pp)&&ks(e,Ap)){const a=Cp(e);t=R(k(k({},t),a),{mass:1}),t.isResolvedFromDuration=!0}return t}function ol(s){var o=s,{keyframes:e,restDelta:t,restSpeed:a}=o,r=ie(o,["keyframes","restDelta","restSpeed"]);const i=e[0],l=e[e.length-1],u={done:!1,value:i},{stiffness:p,damping:d,mass:m,duration:h,velocity:f,isResolvedFromDuration:y}=Ep(R(k({},r),{velocity:-Fe(r.velocity||0)})),g=f||0,b=d/(2*Math.sqrt(p*m)),C=l-i,v=Fe(Math.sqrt(p/m)),w=Math.abs(C)<5;a||(a=w?.01:2),t||(t=w?.005:.5);let N;if(b<1){const A=Gr(v,b);N=E=>{const L=Math.exp(-b*v*E);return l-L*((g+b*v*C)/A*Math.sin(A*E)+C*Math.cos(A*E))}}else if(b===1)N=A=>l-Math.exp(-v*A)*(C+(g+v*C)*A);else{const A=v*Math.sqrt(b*b-1);N=E=>{const L=Math.exp(-b*v*E),O=Math.min(A*E,300);return l-L*((g+b*v*C)*Math.sinh(O)+A*C*Math.cosh(O))/A}}return{calculatedDuration:y&&h||null,next:A=>{const E=N(A);if(y)u.done=A>=h;else{let L=g;A!==0&&(b<1?L=il(N,A,E):L=0);const O=Math.abs(L)<=a,S=Math.abs(l-E)<=t;u.done=O&&S}return u.value=u.done?l:E,u}}}function Ns({keyframes:e,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:u,restDelta:p=.5,restSpeed:d}){const m=e[0],h={done:!1,value:m},f=O=>l!==void 0&&O<l||u!==void 0&&O>u,y=O=>l===void 0?u:u===void 0||Math.abs(l-O)<Math.abs(u-O)?l:u;let g=a*t;const b=m+g,C=i===void 0?b:i(b);C!==b&&(g=C-m);const v=O=>-g*Math.exp(-O/r),w=O=>C+v(O),N=O=>{const S=v(O),j=w(O);h.done=Math.abs(S)<=p,h.value=h.done?C:j};let A,E;const L=O=>{f(h.value)&&(A=O,E=ol({keyframes:[h.value,y(h.value)],velocity:il(w,O,h.value),damping:s,stiffness:o,restDelta:p,restSpeed:d}))};return L(0),{calculatedDuration:null,next:O=>{let S=!1;return!E&&A===void 0&&(S=!0,N(O),L(O)),A!==void 0&&O>A?E.next(O-A):(!S&&N(O),h)}}}const Rp=e=>{const t=({timestamp:a})=>e(a);return{start:()=>W.update(t,!0),stop:()=>Ie(t),now:()=>oe.isProcessing?oe.timestamp:performance.now()}},Cs=2e4;function Ss(e){let t=0;const a=50;let r=e.next(t);for(;!r.done&&t<Cs;)t+=a,r=e.next(t);return t>=Cs?1/0:t}const jp={decay:Ns,inertia:Ns,tween:La,keyframes:La,spring:ol};function Oa(f){var y=f,{autoplay:e=!0,delay:t=0,driver:a=Rp,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:u,onStop:p,onComplete:d,onUpdate:m}=y,h=ie(y,["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"]);let g=1,b=!1,C,v;const w=()=>{v=new Promise(H=>{C=H})};w();let N;const A=jp[s]||La;let E;A!==La&&typeof r[0]!="number"&&(E=nl([0,100],r,{clamp:!1}),r=[0,100]);const L=A(R(k({},h),{keyframes:r}));let O;l==="mirror"&&(O=A(R(k({},h),{keyframes:[...r].reverse(),velocity:-(h.velocity||0)})));let S="idle",j=null,P=null,M=null;L.calculatedDuration===null&&o&&(L.calculatedDuration=Ss(L));const{calculatedDuration:K}=L;let U=1/0,Y=1/0;K!==null&&(U=K+i,Y=U*(o+1)-i);let B=0;const he=H=>{if(P===null)return;g>0&&(P=Math.min(P,H)),g<0&&(P=Math.min(H-Y/g,P)),j!==null?B=j:B=Math.round(H-P)*g;const fe=B-t*(g>=0?1:-1),jt=g>=0?fe<0:fe>Y;B=Math.max(fe,0),S==="finished"&&j===null&&(B=Y);let ke=B,Dt=L;if(o){const _e=Math.min(B,Y)/U;let ye=Math.floor(_e),Ne=_e%1;!Ne&&_e>=1&&(Ne=1),Ne===1&&ye--,ye=Math.min(ye,o+1),!!(ye%2)&&(l==="reverse"?(Ne=1-Ne,i&&(Ne-=i/U)):l==="mirror"&&(Dt=O)),ke=Ke(0,1,Ne)*U}const ze=jt?{done:!1,value:r[0]}:Dt.next(ke);E&&(ze.value=E(ze.value));let{done:Lt}=ze;!jt&&K!==null&&(Lt=g>=0?B>=Y:B<=0);const ht=j===null&&(S==="finished"||S==="running"&&Lt);return m&&m(ze.value),ht&&cr(),ze},we=()=>{N&&N.stop(),N=void 0},ee=()=>{S="idle",we(),C(),w(),P=M=null},cr=()=>{S="finished",d&&d(),we(),C()},Rt=()=>{if(b)return;N||(N=a(he));const H=N.now();u&&u(),j!==null?P=H-j:(!P||S==="finished")&&(P=H),S==="finished"&&w(),M=P,j=null,S="running",N.start()};e&&Rt();const Ze={then(H,fe){return v.then(H,fe)},get time(){return Fe(B)},set time(H){H=We(H),B=H,j!==null||!N||g===0?j=H:P=N.now()-H/g},get duration(){const H=L.calculatedDuration===null?Ss(L):L.calculatedDuration;return Fe(H)},get speed(){return g},set speed(H){H===g||!N||(g=H,Ze.time=Fe(B))},get state(){return S},play:Rt,pause:()=>{S="paused",j=B},stop:()=>{b=!0,S!=="idle"&&(S="idle",p&&p(),ee())},cancel:()=>{M!==null&&he(M),ee()},complete:()=>{S="finished"},sample:H=>(P=0,he(H))};return Ze}function Dp(e){let t;return()=>(t===void 0&&(t=e()),t)}const Lp=Dp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Op=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),xa=10,Mp=2e4,Fp=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Io(t.ease);function Vp(e,t,o){var i=o,{onUpdate:a,onComplete:r}=i,s=ie(i,["onUpdate","onComplete"]);if(!(Lp()&&Op.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let u=!1,p,d,m=!1;const h=()=>{d=new Promise(A=>{p=A})};h();let{keyframes:f,duration:y=300,ease:g,times:b}=s;if(Fp(t,s)){const A=Oa(R(k({},s),{repeat:0,delay:0}));let E={done:!1,value:f[0]};const L=[];let O=0;for(;!E.done&&O<Mp;)E=A.sample(O),L.push(E.value),O+=xa;b=void 0,f=L,y=O-xa,g="linear"}const C=Ku(e.owner.current,t,f,R(k({},s),{duration:y,ease:g,times:b})),v=()=>{m=!1,C.cancel()},w=()=>{m=!0,W.update(v),p(),h()};return C.onfinish=()=>{m||(e.set(Gu(f,s)),r&&r(),w())},{then(A,E){return d.then(A,E)},attachTimeline(A){return C.timeline=A,C.onfinish=null,Z},get time(){return Fe(C.currentTime||0)},set time(A){C.currentTime=We(A)},get speed(){return C.playbackRate},set speed(A){C.playbackRate=A},get duration(){return Fe(y)},play:()=>{u||(C.play(),Ie(v))},pause:()=>C.pause(),stop:()=>{if(u=!0,C.playState==="idle")return;const{currentTime:A}=C;if(A){const E=Oa(R(k({},s),{autoplay:!1}));e.setWithVelocity(E.sample(A-xa).value,E.sample(A).value,xa)}w()},complete:()=>{m||C.finish()},cancel:w}}function Ip({keyframes:e,delay:t,onUpdate:a,onComplete:r}){const s=()=>(a&&a(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Z,pause:Z,stop:Z,then:o=>(o(),Promise.resolve()),cancel:Z,complete:Z});return t?Oa({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const zp={type:"spring",stiffness:500,damping:25,restSpeed:10},_p=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$p={type:"keyframes",duration:.8},Bp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Up=(e,{keyframes:t})=>t.length>2?$p:ut.has(e)?e.startsWith("scale")?_p(t[1]):zp:Bp,Jr=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ge.test(t)||t==="0")&&!t.startsWith("url(")),qp=new Set(["brightness","contrast","saturate","opacity"]);function Hp(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=a.match(Qa)||[];if(!r)return e;const s=a.replace(r,"");let o=qp.has(t)?1:0;return r!==a&&(o*=100),t+"("+o+s+")"}const Wp=/([a-z-]*)\(.*?\)/g,Xr=R(k({},Ge),{getAnimatableNone:e=>{const t=e.match(Wp);return t?t.map(Hp).join(" "):e}}),Kp=R(k({},wo),{color:ce,backgroundColor:ce,outlineColor:ce,fill:ce,stroke:ce,borderColor:ce,borderTopColor:ce,borderRightColor:ce,borderBottomColor:ce,borderLeftColor:ce,filter:Xr,WebkitFilter:Xr}),_n=e=>Kp[e];function ll(e,t){let a=_n(e);return a!==Xr&&(a=Ge),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const cl=e=>/^0[^.\s]+$/.test(e);function Gp(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||cl(e)}function Jp(e,t,a,r){const s=Jr(t,a);let o;Array.isArray(a)?o=[...a]:o=[null,a];const i=r.from!==void 0?r.from:e.get();let l;const u=[];for(let p=0;p<o.length;p++)o[p]===null&&(o[p]=p===0?i:o[p-1]),Gp(o[p])&&u.push(p),typeof o[p]=="string"&&o[p]!=="none"&&o[p]!=="0"&&(l=o[p]);if(s&&u.length&&l)for(let p=0;p<u.length;p++){const d=u[p];o[d]=ll(t,l)}return o}function Xp(m){var h=m,{when:e,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:u,elapsed:p}=h,d=ie(h,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(d).length}function $n(e,t){return e[t]||e.default||e}const Yp={skipAnimations:!1},Bn=(e,t,a,r={})=>s=>{const o=$n(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-We(i);const u=Jp(t,e,a,o),p=u[0],d=u[u.length-1],m=Jr(e,p),h=Jr(e,d);let f=R(k({keyframes:u,velocity:t.getVelocity(),ease:"easeOut"},o),{delay:-l,onUpdate:y=>{t.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}});if(Xp(o)||(f=k(k({},f),Up(e,f))),f.duration&&(f.duration=We(f.duration)),f.repeatDelay&&(f.repeatDelay=We(f.repeatDelay)),!m||!h||Wu.current||o.type===!1||Yp.skipAnimations)return Ip(f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=Vp(t,e,f);if(y)return y}return Oa(f)};function Ma(e){return!!(ue(e)&&e.add)}const dl=e=>/^\-?\d*\.?\d+$/.test(e);function Un(e,t){e.indexOf(t)===-1&&e.push(t)}function qn(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}class Hn{constructor(){this.subscriptions=[]}add(t){return Un(this.subscriptions,t),()=>qn(this.subscriptions,t)}notify(t,a,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,a,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zp=e=>!isNaN(parseFloat(e));class Qp{constructor(t,a={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=oe;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,W.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>W.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Zp(this.current),this.owner=a.owner}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new Hn);const r=this.events[t].add(a);return t==="change"?()=>{r(),W.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t,a=!0){!a||!this.passiveEffect?this.updateAndNotify(t,a):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,a,r){this.set(a),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?sl(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function St(e,t){return new Qp(e,t)}const ul=e=>t=>t.test(e),em={test:e=>e==="auto",parse:e=>e},pl=[pt,V,Re,$e,ou,iu,em],Ft=e=>pl.find(ul(e)),tm=[...pl,ce,Ge],am=e=>tm.find(ul(e));function rm(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,St(a))}function nm(e,t){const a=tr(e,t);let i=a?e.makeTargetAnimatable(a,!1):{},{transitionEnd:r={},transition:s={}}=i,o=ie(i,["transitionEnd","transition"]);o=k(k({},o),r);for(const l in o){const u=wu(o[l]);rm(e,l,u)}}function sm(e,t,a){var r,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const u=o[l],p=t[u];let d=null;Array.isArray(p)&&(d=p[0]),d===null&&(d=(s=(r=a[u])!==null&&r!==void 0?r:e.readValue(u))!==null&&s!==void 0?s:t[u]),d!=null&&(typeof d=="string"&&(dl(d)||cl(d))?d=parseFloat(d):!am(d)&&Ge.test(p)&&(d=ll(u,p)),e.addValue(u,St(d,{owner:e})),a[u]===void 0&&(a[u]=d),d!==null&&e.setBaseTarget(u,d))}}function im(e,t){return t?(t[e]||t.default||t).from:void 0}function om(e,t,a){const r={};for(const s in e){const o=im(s,t);if(o!==void 0)r[s]=o;else{const i=a.getValue(s);i&&(r[s]=i.get())}}return r}function lm({protectedKeys:e,needsAnimating:t},a){const r=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function cm(e,t){const a=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==a)return!0}else return a!==t}function ml(e,t,{delay:a=0,transitionOverride:r,type:s}={}){let m=e.makeTargetAnimatable(t),{transition:o=e.getDefaultTransition(),transitionEnd:i}=m,l=ie(m,["transition","transitionEnd"]);const u=e.getValue("willChange");r&&(o=r);const p=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h),y=l[h];if(!f||y===void 0||d&&lm(d,h))continue;const g=k({delay:a,elapsed:0},$n(o||{},h));if(window.HandoffAppearAnimations){const v=e.getProps()[ho];if(v){const w=window.HandoffAppearAnimations(v,h,f,W);w!==null&&(g.elapsed=w,g.isHandoff=!0)}}let b=!g.isHandoff&&!cm(f,y);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(b=!1),f.animation&&(b=!1),b)continue;f.start(Bn(h,f,y,e.shouldReduceMotion&&ut.has(h)?{type:!1}:g));const C=f.animation;Ma(u)&&(u.add(h),C.then(()=>u.remove(h))),p.push(C)}return i&&Promise.all(p).then(()=>{i&&nm(e,i)}),p}function Yr(e,t,a={}){const r=tr(e,t,a.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(s=a.transitionOverride);const o=r?()=>Promise.all(ml(e,r,a)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:p=0,staggerChildren:d,staggerDirection:m}=s;return dm(e,t,p+u,d,m,a)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,p]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>p())}else return Promise.all([o(),i(a.delay)])}function dm(e,t,a=0,r=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*r,u=s===1?(p=0)=>p*r:(p=0)=>l-p*r;return Array.from(e.variantChildren).sort(um).forEach((p,d)=>{p.notify("AnimationStart",t),i.push(Yr(p,t,R(k({},o),{delay:a+u(d)})).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(i)}function um(e,t){return e.sortNodePosition(t)}function pm(e,t,a={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Yr(e,o,a));r=Promise.all(s)}else if(typeof t=="string")r=Yr(e,t,a);else{const s=typeof t=="function"?tr(e,t,a.custom):t;r=Promise.all(ml(e,s,a))}return r.then(()=>e.notify("AnimationComplete",t))}const mm=[...Tn].reverse(),hm=Tn.length;function fm(e){return t=>Promise.all(t.map(({animation:a,options:r})=>pm(e,a,r)))}function gm(e){let t=fm(e);const a=ym();let r=!0;const s=(u,p)=>{const d=tr(e,p);if(d){const m=d,{transition:h,transitionEnd:f}=m,y=ie(m,["transition","transitionEnd"]);u=k(k(k({},u),y),f)}return u};function o(u){t=u(e)}function i(u,p){const d=e.getProps(),m=e.getVariantContext(!0)||{},h=[],f=new Set;let y={},g=1/0;for(let C=0;C<hm;C++){const v=mm[C],w=a[v],N=d[v]!==void 0?d[v]:m[v],A=Ht(N),E=v===p?w.isActive:null;E===!1&&(g=C);let L=N===m[v]&&N!==d[v]&&A;if(L&&r&&e.manuallyAnimateOnMount&&(L=!1),w.protectedKeys=k({},y),!w.isActive&&E===null||!N&&!w.prevProp||Ya(N)||typeof N=="boolean")continue;let S=xm(w.prevProp,N)||v===p&&w.isActive&&!L&&A||C>g&&A,j=!1;const P=Array.isArray(N)?N:[N];let M=P.reduce(s,{});E===!1&&(M={});const{prevResolvedValues:K={}}=w,U=k(k({},K),M),Y=B=>{S=!0,f.has(B)&&(j=!0,f.delete(B)),w.needsAnimating[B]=!0};for(const B in U){const he=M[B],we=K[B];if(y.hasOwnProperty(B))continue;let ee=!1;ja(he)&&ja(we)?ee=!Fo(he,we):ee=he!==we,ee?he!==void 0?Y(B):f.add(B):he!==void 0&&f.has(B)?Y(B):w.protectedKeys[B]=!0}w.prevProp=N,w.prevResolvedValues=M,w.isActive&&(y=k(k({},y),M)),r&&e.blockInitialAnimation&&(S=!1),S&&(!L||j)&&h.push(...P.map(B=>({animation:B,options:k({type:v},u)})))}if(f.size){const C={};f.forEach(v=>{const w=e.getBaseTarget(v);w!==void 0&&(C[v]=w)}),h.push({animation:C})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function l(u,p,d){var m;if(a[u].isActive===p)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(u,p)}),a[u].isActive=p;const h=i(d,u);for(const f in a)a[f].protectedKeys={};return h}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>a}}function xm(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Fo(t,e):!1}function et(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ym(){return{animate:et(!0),whileInView:et(),whileHover:et(),whileTap:et(),whileDrag:et(),whileFocus:et(),exit:et()}}class bm extends Ye{constructor(t){super(t),t.animationState||(t.animationState=gm(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ya(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){}}let vm=0;class wm extends Ye{constructor(){super(...arguments),this.id=vm++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r!=null?r:this.node.getProps().custom});a&&!t&&o.then(()=>a(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const km={animation:{Feature:bm},exit:{Feature:wm}},Ts=(e,t)=>Math.abs(e-t);function Nm(e,t){const a=Ts(e.x,t.x),r=Ts(e.y,t.y);return Math.sqrt(ma(a,2)+ma(r,2))}class hl{constructor(t,a,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Dr(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=Nm(m.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:y}=m,{timestamp:g}=oe;this.history.push(R(k({},y),{timestamp:g}));const{onStart:b,onMove:C}=this.handlers;h||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=jr(h,this.transformPagePoint),W.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:f,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Dr(m.type==="pointercancel"?this.lastMoveEventInfo:jr(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(m,b),y&&y(m,b)},!jo(t))return;this.dragSnapToOrigin=o,this.handlers=a,this.transformPagePoint=r,this.contextWindow=s||window;const i=er(t),l=jr(i,this.transformPagePoint),{point:u}=l,{timestamp:p}=oe;this.history=[R(k({},u),{timestamp:p})];const{onSessionStart:d}=a;d&&d(t,Dr(l,this.history)),this.removeListeners=He(Me(this.contextWindow,"pointermove",this.handlePointerMove),Me(this.contextWindow,"pointerup",this.handlePointerUp),Me(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ie(this.updatePoint)}}function jr(e,t){return t?{point:t(e.point)}:e}function As(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dr({point:e},t){return{point:e,delta:As(e,fl(t)),offset:As(e,Cm(t)),velocity:Sm(t,.1)}}function Cm(e){return e[0]}function fl(e){return e[e.length-1]}function Sm(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,r=null;const s=fl(e);for(;a>=0&&(r=e[a],!(s.timestamp-r.timestamp>We(t)));)a--;if(!r)return{x:0,y:0};const o=Fe(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function me(e){return e.max-e.min}function Zr(e,t=0,a=.01){return Math.abs(e-t)<=a}function Ps(e,t,a,r=.5){e.origin=r,e.originPoint=J(t.min,t.max,e.origin),e.scale=me(a)/me(t),(Zr(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=J(a.min,a.max,e.origin)-e.originPoint,(Zr(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Bt(e,t,a,r){Ps(e.x,t.x,a.x,r?r.originX:void 0),Ps(e.y,t.y,a.y,r?r.originY:void 0)}function Es(e,t,a){e.min=a.min+t.min,e.max=e.min+me(t)}function Tm(e,t,a){Es(e.x,t.x,a.x),Es(e.y,t.y,a.y)}function Rs(e,t,a){e.min=t.min-a.min,e.max=e.min+me(t)}function Ut(e,t,a){Rs(e.x,t.x,a.x),Rs(e.y,t.y,a.y)}function Am(e,{min:t,max:a},r){return t!==void 0&&e<t?e=r?J(t,e,r.min):Math.max(e,t):a!==void 0&&e>a&&(e=r?J(a,e,r.max):Math.min(e,a)),e}function js(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function Pm(e,{top:t,left:a,bottom:r,right:s}){return{x:js(e.x,a,s),y:js(e.y,t,r)}}function Ds(e,t){let a=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,r]=[r,a]),{min:a,max:r}}function Em(e,t){return{x:Ds(e.x,t.x),y:Ds(e.y,t.y)}}function Rm(e,t){let a=.5;const r=me(e),s=me(t);return s>r?a=Kt(t.min,t.max-r,e.min):r>s&&(a=Kt(e.min,e.max-s,t.min)),Ke(0,1,a)}function jm(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const Qr=.35;function Dm(e=Qr){return e===!1?e=0:e===!0&&(e=Qr),{x:Ls(e,"left","right"),y:Ls(e,"top","bottom")}}function Ls(e,t,a){return{min:Os(e,t),max:Os(e,a)}}function Os(e,t){return typeof e=="number"?e:e[t]||0}const Ms=()=>({translate:0,scale:1,origin:0,originPoint:0}),kt=()=>({x:Ms(),y:Ms()}),Fs=()=>({min:0,max:0}),ae=()=>({x:Fs(),y:Fs()});function xe(e){return[e("x"),e("y")]}function gl({top:e,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:e,max:r}}}function Lm({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Om(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Lr(e){return e===void 0||e===1}function en({scale:e,scaleX:t,scaleY:a}){return!Lr(e)||!Lr(t)||!Lr(a)}function tt(e){return en(e)||xl(e)||e.z||e.rotate||e.rotateX||e.rotateY}function xl(e){return Vs(e.x)||Vs(e.y)}function Vs(e){return e&&e!=="0%"}function Fa(e,t,a){const r=e-a,s=t*r;return a+s}function Is(e,t,a,r,s){return s!==void 0&&(e=Fa(e,s,r)),Fa(e,a,r)+t}function tn(e,t=0,a=1,r,s){e.min=Is(e.min,t,a,r,s),e.max=Is(e.max,t,a,r,s)}function yl(e,{x:t,y:a}){tn(e.x,t.translate,t.scale,t.originPoint),tn(e.y,a.translate,a.scale,a.originPoint)}function Mm(e,t,a,r=!1){const s=a.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=a[l],i=o.projectionDelta;const u=o.instance;u&&u.style&&u.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Nt(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,yl(e,i)),r&&tt(o.latestValues)&&Nt(e,o.latestValues))}t.x=zs(t.x),t.y=zs(t.y)}function zs(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Be(e,t){e.min=e.min+t,e.max=e.max+t}function _s(e,t,[a,r,s]){const o=t[s]!==void 0?t[s]:.5,i=J(e.min,e.max,o);tn(e,t[a],t[r],i,t.scale)}const Fm=["x","scaleX","originX"],Vm=["y","scaleY","originY"];function Nt(e,t){_s(e.x,t,Fm),_s(e.y,t,Vm)}function bl(e,t){return gl(Om(e.getBoundingClientRect(),t))}function Im(e,t,a){const r=bl(e,a),{scroll:s}=t;return s&&(Be(r.x,s.offset.x),Be(r.y,s.offset.y)),r}const vl=({current:e})=>e?e.ownerDocument.defaultView:null,zm=new WeakMap;class _m{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ae(),this.visualElement=t}start(t,{snapToCursor:a=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(er(d,"page").point)},o=(d,m)=>{const{drag:h,dragPropagation:f,onDragStart:y}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Lo(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xe(b=>{let C=this.getAxisMotionValue(b).get()||0;if(Re.test(C)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[b];w&&(C=me(w)*(parseFloat(C)/100))}}this.originPoint[b]=C}),y&&W.update(()=>y(d,m),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(d,m)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:y,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=m;if(f&&this.currentDirection===null){this.currentDirection=$m(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),g&&g(d,m)},l=(d,m)=>this.stop(d,m),u=()=>xe(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new hl(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:vl(this.visualElement)})}stop(t,a){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&W.update(()=>o(t,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:s}=this.getProps();if(!r||!ya(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=Am(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:a,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;a&&vt(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&s?this.constraints=Pm(s.layoutBox,a):this.constraints=!1,this.elastic=Dm(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&xe(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=jm(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!vt(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Im(r,s.root,this.visualElement.getTransformPagePoint());let i=Em(s.layout.layoutBox,o);if(a){const l=a(Lm(i));this.hasMutatedConstraints=!!l,l&&(i=gl(l))}return i}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},p=xe(d=>{if(!ya(d,a,this.currentDirection))return;let m=u&&u[d]||{};i&&(m={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,y=k(k({type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},o),m);return this.startAxisValueAnimation(d,y)});return Promise.all(p).then(l)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return r.start(Bn(t,r,0,a))}stopAnimation(){xe(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xe(t=>{var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.state}getAxisMotionValue(t){const a="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[a];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){xe(a=>{const{drag:r}=this.getProps();if(!ya(a,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(a);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[a];o.set(t[a]-J(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!vt(a)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};xe(i=>{const l=this.getAxisMotionValue(i);if(l){const u=l.get();s[i]=Rm({min:u,max:u},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xe(i=>{if(!ya(i,t,null))return;const l=this.getAxisMotionValue(i),{min:u,max:p}=this.constraints[i];l.set(J(u,p,s[i]))})}addListeners(){if(!this.visualElement.current)return;zm.set(this.visualElement,this);const t=this.visualElement.current,a=Me(t,"pointerdown",u=>{const{drag:p,dragListener:d=!0}=this.getProps();p&&d&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();vt(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=Oe(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:p})=>{this.isDragging&&p&&(xe(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=u[d].translate,m.set(m.get()+u[d].translate))}),this.visualElement.render())});return()=>{i(),a(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=Qr,dragMomentum:l=!0}=t;return R(k({},t),{drag:a,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l})}}function ya(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function $m(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class Bm extends Ye{constructor(t){super(t),this.removeGroupControls=Z,this.removeListeners=Z,this.controls=new _m(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Z}unmount(){this.removeGroupControls(),this.removeListeners()}}const $s=e=>(t,a)=>{e&&W.update(()=>e(t,a))};class Um extends Ye{constructor(){super(...arguments),this.removePointerDownListener=Z}onPointerDown(t){this.session=new hl(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vl(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:$s(t),onStart:$s(a),onMove:r,onEnd:(o,i)=>{delete this.session,s&&W.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=Me(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function qm(){const e=x.useContext(Ja);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:a,register:r}=e,s=x.useId();return x.useEffect(()=>r(s),[]),!t&&a?[!1,()=>a&&a(s)]:[!0]}const ka={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bs(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vt={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(V.test(e))e=parseFloat(e);else return e;const a=Bs(e,t.target.x),r=Bs(e,t.target.y);return`${a}% ${r}%`}},Hm={correct:(e,{treeScale:t,projectionDelta:a})=>{const r=e,s=Ge.parse(e);if(s.length>5)return r;const o=Ge.createTransformer(e),i=typeof s[0]!="number"?1:0,l=a.x.scale*t.x,u=a.y.scale*t.y;s[0+i]/=l,s[1+i]/=u;const p=J(l,u,.5);return typeof s[2+i]=="number"&&(s[2+i]/=p),typeof s[3+i]=="number"&&(s[3+i]/=p),o(s)}};class Wm extends Qt.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;Qd(Km),o&&(a.group&&a.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions(R(k({},o.options),{onExitComplete:()=>this.safeToRemove()}))),ka.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==a||a===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||W.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wl(e){const[t,a]=qm(),r=x.useContext(Pn);return Qt.createElement(Wm,R(k({},e),{layoutGroup:r,switchLayoutGroup:x.useContext(go),isPresent:t,safeToRemove:a}))}const Km={borderRadius:R(k({},Vt),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomLeftRadius:Vt,borderBottomRightRadius:Vt,boxShadow:Hm},kl=["TopLeft","TopRight","BottomLeft","BottomRight"],Gm=kl.length,Us=e=>typeof e=="string"?parseFloat(e):e,qs=e=>typeof e=="number"||V.test(e);function Jm(e,t,a,r,s,o){s?(e.opacity=J(0,a.opacity!==void 0?a.opacity:1,Xm(r)),e.opacityExit=J(t.opacity!==void 0?t.opacity:1,0,Ym(r))):o&&(e.opacity=J(t.opacity!==void 0?t.opacity:1,a.opacity!==void 0?a.opacity:1,r));for(let i=0;i<Gm;i++){const l=`border${kl[i]}Radius`;let u=Hs(t,l),p=Hs(a,l);if(u===void 0&&p===void 0)continue;u||(u=0),p||(p=0),u===0||p===0||qs(u)===qs(p)?(e[l]=Math.max(J(Us(u),Us(p),r),0),(Re.test(p)||Re.test(u))&&(e[l]+="%")):e[l]=p}(t.rotate||a.rotate)&&(e.rotate=J(t.rotate||0,a.rotate||0,r))}function Hs(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Xm=Nl(0,.5,Ho),Ym=Nl(.5,.95,Z);function Nl(e,t,a){return r=>r<e?0:r>t?1:a(Kt(e,t,r))}function Ws(e,t){e.min=t.min,e.max=t.max}function ge(e,t){Ws(e.x,t.x),Ws(e.y,t.y)}function Ks(e,t,a,r,s){return e-=t,e=Fa(e,1/a,r),s!==void 0&&(e=Fa(e,1/s,r)),e}function Zm(e,t=0,a=1,r=.5,s,o=e,i=e){if(Re.test(t)&&(t=parseFloat(t),t=J(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=J(o.min,o.max,r);e===o&&(l-=t),e.min=Ks(e.min,t,a,l,s),e.max=Ks(e.max,t,a,l,s)}function Gs(e,t,[a,r,s],o,i){Zm(e,t[a],t[r],t[s],t.scale,o,i)}const Qm=["x","scaleX","originX"],eh=["y","scaleY","originY"];function Js(e,t,a,r){Gs(e.x,t,Qm,a?a.x:void 0,r?r.x:void 0),Gs(e.y,t,eh,a?a.y:void 0,r?r.y:void 0)}function Xs(e){return e.translate===0&&e.scale===1}function Cl(e){return Xs(e.x)&&Xs(e.y)}function th(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Sl(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ys(e){return me(e.x)/me(e.y)}class ah{constructor(){this.members=[]}add(t){Un(this.members,t),t.scheduleRender()}remove(t){if(qn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(s=>t===s);if(a===0)return!1;let r;for(let s=a;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zs(e,t,a){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{rotate:u,rotateX:p,rotateY:d}=a;u&&(r+=`rotate(${u}deg) `),p&&(r+=`rotateX(${p}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const rh=(e,t)=>e.depth-t.depth;class nh{constructor(){this.children=[],this.isDirty=!1}add(t){Un(this.children,t),this.isDirty=!0}remove(t){qn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rh),this.isDirty=!1,this.children.forEach(t)}}function sh(e,t){const a=performance.now(),r=({timestamp:s})=>{const o=s-a;o>=t&&(Ie(r),e(o-t))};return W.read(r,!0),()=>Ie(r)}function ih(e){window.MotionDebug&&window.MotionDebug.record(e)}function oh(e){return e instanceof SVGElement&&e.tagName!=="svg"}function lh(e,t,a){const r=ue(e)?e:St(e);return r.start(Bn("",r,t,a)),r.animation}const Qs=["","X","Y","Z"],ch={visibility:"hidden"},ei=1e3;let dh=0;const at={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Tl({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=dh++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,at.totalNodes=at.resolvedTargetDeltas=at.recalculatedProjection=0,this.nodes.forEach(mh),this.nodes.forEach(yh),this.nodes.forEach(bh),this.nodes.forEach(hh),ih(at)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new nh)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Hn),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const u=this.eventHandlers.get(i);u&&u.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oh(i),this.instance=i;const{layoutId:u,layout:p,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(p||u)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=sh(h,250),ka.hasAnimatedSinceResize&&(ka.hasAnimatedSinceResize=!1,this.nodes.forEach(ai))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||p)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Ch,{onLayoutAnimationStart:b,onLayoutAnimationComplete:C}=d.getProps(),v=!this.targetLayout||!Sl(this.targetLayout,y)||f,w=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,w);const N=R(k({},$n(g,"layout")),{onPlay:b,onComplete:C});(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||ai(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ie(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vh),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ti);return}this.isUpdating||this.nodes.forEach(gh),this.isUpdating=!1,this.nodes.forEach(xh),this.nodes.forEach(uh),this.nodes.forEach(ph),this.clearAllSnapshots();const l=performance.now();oe.delta=Ke(0,1e3/60,l-oe.timestamp),oe.timestamp=l,oe.isProcessing=!0,Nr.update.process(oe),Nr.preRender.process(oe),Nr.render.process(oe),oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(fh),this.sharedNodes.forEach(wh)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,W.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){W.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:a(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Cl(this.projectionDelta),u=this.getTransformTemplate(),p=u?u(this.latestValues,""):void 0,d=p!==this.prevTransformTemplateValue;i&&(l||tt(this.latestValues)||d)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return i&&(u=this.removeTransform(u)),Sh(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return ae();const l=i.measureViewportBox(),{scroll:u}=this.root;return u&&(Be(l.x,u.offset.x),Be(l.y,u.offset.y)),l}removeElementScroll(i){const l=ae();ge(l,i);for(let u=0;u<this.path.length;u++){const p=this.path[u],{scroll:d,options:m}=p;if(p!==this.root&&d&&m.layoutScroll){if(d.isRoot){ge(l,i);const{scroll:h}=this.root;h&&(Be(l.x,-h.offset.x),Be(l.y,-h.offset.y))}Be(l.x,d.offset.x),Be(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const u=ae();ge(u,i);for(let p=0;p<this.path.length;p++){const d=this.path[p];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Nt(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),tt(d.latestValues)&&Nt(u,d.latestValues)}return tt(this.latestValues)&&Nt(u,this.latestValues),u}removeTransform(i){const l=ae();ge(l,i);for(let u=0;u<this.path.length;u++){const p=this.path[u];if(!p.instance||!tt(p.latestValues))continue;en(p.latestValues)&&p.updateSnapshot();const d=ae(),m=p.measurePageBox();ge(d,m),Js(l,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,d)}return tt(this.latestValues)&&Js(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options=R(k(k({},this.options),i),{crossfade:i.crossfade!==void 0?i.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==u;if(!(i||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=oe.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Ut(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ge(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ae(),this.targetWithTransforms=ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tm(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ge(this.target,this.layout.layoutBox),yl(this.target,this.targetDelta)):ge(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Ut(this.relativeTargetOrigin,this.target,f.target),ge(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}at.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||en(this.parent.latestValues)||xl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let p=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(p=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===oe.timestamp&&(p=!1),p)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;ge(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Mm(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=kt(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=kt(),this.projectionDeltaWithTransform=kt());const g=this.projectionTransform;Bt(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Zs(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),at.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const u=this.snapshot,p=u?u.latestValues:{},d=k({},this.latestValues),m=kt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ae(),f=u?u.source:void 0,y=this.layout?this.layout.source:void 0,g=f!==y,b=this.getStack(),C=!b||b.members.length<=1,v=!!(g&&!C&&this.options.crossfade===!0&&!this.path.some(Nh));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const A=N/1e3;ri(m.x,i.x,A),ri(m.y,i.y,A),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ut(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kh(this.relativeTarget,this.relativeTargetOrigin,h,A),w&&th(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ae()),ge(w,this.relativeTarget)),g&&(this.animationValues=d,Jm(d,p,this.latestValues,A,v,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ie(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=W.update(()=>{ka.hasAnimatedSinceResize=!0,this.currentAnimation=lh(0,ei,R(k({},i),{onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ei),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:u,layout:p,latestValues:d}=i;if(!(!l||!u||!p)){if(this!==i&&this.layout&&p&&Al(this.options.animationType,this.layout.layoutBox,p.layoutBox)){u=this.target||ae();const m=me(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+m;const h=me(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+h}ge(l,u),Nt(l,d),Bt(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new ah),this.sharedNodes.get(i).add(l);const p=l.options.initialPromotionConfig;l.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:u}={}){const p=this.getStack();p&&p.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:u}=i;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const p={};for(let d=0;d<Qs.length;d++){const m="rotate"+Qs[d];u[m]&&(p[m]=u[m],i.setStaticValue(m,0))}i.render();for(const d in p)i.setStaticValue(d,p[d]);i.scheduleRender()}getProjectionStyles(i){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ch;const p={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=wa(i==null?void 0:i.pointerEvents)||"",p.transform=d?d(this.latestValues,""):"none",p;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=wa(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!tt(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),p.transform=Zs(this.projectionDeltaWithTransform,this.treeScale,h),d&&(p.transform=d(h,p.transform));const{x:f,y}=this.projectionDelta;p.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,m.animationValues?p.opacity=m===this?(u=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:p.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Ea){if(h[g]===void 0)continue;const{correct:b,applyTo:C}=Ea[g],v=p.transform==="none"?h[g]:b(h[g],m);if(C){const w=C.length;for(let N=0;N<w;N++)p[C[N]]=v}else p[g]=v}return this.options.layoutId&&(p.pointerEvents=m===this?wa(i==null?void 0:i.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ti),this.root.sharedNodes.clear()}}}function uh(e){e.updateLayout()}function ph(e){var t;const a=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,i=a.source!==e.layout.source;o==="size"?xe(m=>{const h=i?a.measuredBox[m]:a.layoutBox[m],f=me(h);h.min=r[m].min,h.max=h.min+f}):Al(o,a.layoutBox,r)&&xe(m=>{const h=i?a.measuredBox[m]:a.layoutBox[m],f=me(r[m]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+f)});const l=kt();Bt(l,r,a.layoutBox);const u=kt();i?Bt(u,e.applyTransform(s,!0),a.measuredBox):Bt(u,r,a.layoutBox);const p=!Cl(l);let d=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:f}=m;if(h&&f){const y=ae();Ut(y,a.layoutBox,h.layoutBox);const g=ae();Ut(g,r,f.layoutBox),Sl(y,g)||(d=!0),m.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:a,delta:u,layoutDelta:l,hasLayoutChanged:p,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function mh(e){at.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hh(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fh(e){e.clearSnapshot()}function ti(e){e.clearMeasurements()}function gh(e){e.isLayoutDirty=!1}function xh(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ai(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yh(e){e.resolveTargetDelta()}function bh(e){e.calcProjection()}function vh(e){e.resetRotation()}function wh(e){e.removeLeadSnapshot()}function ri(e,t,a){e.translate=J(t.translate,0,a),e.scale=J(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function ni(e,t,a,r){e.min=J(t.min,a.min,r),e.max=J(t.max,a.max,r)}function kh(e,t,a,r){ni(e.x,t.x,a.x,r),ni(e.y,t.y,a.y,r)}function Nh(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ch={duration:.45,ease:[.4,0,.1,1]},si=e=>typeof navigator!="undefined"&&navigator.userAgent.toLowerCase().includes(e),ii=si("applewebkit/")&&!si("chrome/")?Math.round:Z;function oi(e){e.min=ii(e.min),e.max=ii(e.max)}function Sh(e){oi(e.x),oi(e.y)}function Al(e,t,a){return e==="position"||e==="preserve-aspect"&&!Zr(Ys(t),Ys(a),.2)}const Th=Tl({attachResizeListener:(e,t)=>Oe(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Or={current:void 0},Pl=Tl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Or.current){const e=new Th({});e.mount(window),e.setOptions({layoutScroll:!0}),Or.current=e}return Or.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ah={pan:{Feature:Um},drag:{Feature:Bm,ProjectionNode:Pl,MeasureLayout:wl}},Ph=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Eh(e){const t=Ph.exec(e);if(!t)return[,];const[,a,r]=t;return[a,r]}function an(e,t,a=1){const[r,s]=Eh(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return dl(i)?parseFloat(i):i}else return Hr(s)?an(s,t,a+1):s}function Rh(e,r,a){var t=ie(r,[]);const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:a};a&&(a=k({},a)),e.values.forEach(o=>{const i=o.get();if(!Hr(i))return;const l=an(i,s);l&&o.set(l)});for(const o in t){const i=t[o];if(!Hr(i))continue;const l=an(i,s);l&&(t[o]=l,a||(a={}),a[o]===void 0&&(a[o]=i))}return{target:t,transitionEnd:a}}const jh=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),El=e=>jh.has(e),Dh=e=>Object.keys(e).some(El),li=e=>e===pt||e===V,ci=(e,t)=>parseFloat(e.split(", ")[t]),di=(e,t)=>(a,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return ci(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?ci(o[1],e):0}},Lh=new Set(["x","y","z"]),Oh=aa.filter(e=>!Lh.has(e));function Mh(e){const t=[];return Oh.forEach(a=>{const r=e.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Tt={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:di(4,13),y:di(5,14)};Tt.translateX=Tt.x;Tt.translateY=Tt.y;const Fh=(e,t,a)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),a.forEach(p=>{l[p]=Tt[p](r,o)}),t.render();const u=t.measureViewportBox();return a.forEach(p=>{const d=t.getValue(p);d&&d.jump(l[p]),e[p]=Tt[p](u,o)}),e},Vh=(e,t,a={},r={})=>{t=k({},t),r=k({},r);const s=Object.keys(t).filter(El);let o=[],i=!1;const l=[];if(s.forEach(u=>{const p=e.getValue(u);if(!e.hasValue(u))return;let d=a[u],m=Ft(d);const h=t[u];let f;if(ja(h)){const y=h.length,g=h[0]===null?1:0;d=h[g],m=Ft(d);for(let b=g;b<y&&h[b]!==null;b++)f?Fn(Ft(h[b])===f):f=Ft(h[b])}else f=Ft(h);if(m!==f)if(li(m)&&li(f)){const y=p.get();typeof y=="string"&&p.set(parseFloat(y)),typeof h=="string"?t[u]=parseFloat(h):Array.isArray(h)&&f===V&&(t[u]=h.map(parseFloat))}else m!=null&&m.transform&&(f!=null&&f.transform)&&(d===0||h===0)?d===0?p.set(f.transform(d)):t[u]=m.transform(h):(i||(o=Mh(e),i=!0),l.push(u),r[u]=r[u]!==void 0?r[u]:t[u],p.jump(h))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,p=Fh(t,e,l);return o.length&&o.forEach(([d,m])=>{e.getValue(d).set(m)}),e.render(),Xa&&u!==null&&window.scrollTo({top:u}),{target:p,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Ih(e,t,a,r){return Dh(t)?Vh(e,t,a,r):{target:t,transitionEnd:r}}const zh=(e,t,a,r)=>{const s=Rh(e,t,r);return t=s.target,r=s.transitionEnd,Ih(e,t,a,r)},rn={current:null},Rl={current:!1};function _h(){if(Rl.current=!0,!!Xa)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rn.current=e.matches;e.addListener(t),t()}else rn.current=!1}function $h(e,t,a){const{willChange:r}=t;for(const s in t){const o=t[s],i=a[s];if(ue(o))e.addValue(s,o),Ma(r)&&r.add(s);else if(ue(i))e.addValue(s,St(o,{owner:e})),Ma(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,St(l!==void 0?l:o,{owner:e}))}}for(const s in a)t[s]===void 0&&e.removeValue(s);return t}const ui=new WeakMap,jl=Object.keys(Wt),Bh=jl.length,pi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Uh=An.length;class qh{constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>W.render(this.render,!1,!0);const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget=k({},l),this.initialValues=a.initial?k({},l):{},this.renderState=u,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Za(a),this.isVariantNode=fo(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const m=this.scrapeMotionValuesFromProps(a,{}),{willChange:p}=m,d=ie(m,["willChange"]);for(const h in d){const f=d[h];l[h]!==void 0&&ue(f)&&(f.set(l[h],!1),Ma(p)&&p.add(h))}}scrapeMotionValuesFromProps(t,a){return{}}mount(t){this.current=t,ui.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),Rl.current||_h(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ui.delete(this.current),this.projection&&this.projection.unmount(),Ie(this.notifyUpdate),Ie(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,a){const r=ut.has(t),s=a.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&W.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=a.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures(i,r,s,o){var l=i,{children:t}=l,a=ie(l,["children"]);let u,p;for(let d=0;d<Bh;d++){const m=jl[d],{isEnabled:h,Feature:f,ProjectionNode:y,MeasureLayout:g}=Wt[m];y&&(u=y),h(a)&&(!this.features[m]&&f&&(this.features[m]=new f(this)),g&&(p=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:m,drag:h,dragConstraints:f,layoutScroll:y,layoutRoot:g}=a;this.projection.setOptions({layoutId:d,layout:m,alwaysMeasureLayout:!!h||f&&vt(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:o,layoutScroll:y,layoutRoot:g})}return p}updateFeatures(){for(const t in this.features){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ae()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}makeTargetAnimatable(t,a=!0){return this.makeTargetAnimatableFromInstance(t,this.props,a)}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<pi.length;r++){const s=pi[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=$h(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const a={};for(let r=0;r<Uh;r++){const s=An[r],o=this.props[s];(Ht(o)||o===!1)&&(a[s]=o)}return a}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){a!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,a)),this.values.set(t,a),this.latestValues[t]=a.get()}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=St(a,{owner:this}),this.addValue(t,r)),r}readValue(t){var a;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(a=this.getBaseTargetFromProps(this.props,t))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var a;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(a=Mn(this.props,r))===null||a===void 0?void 0:a[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!ue(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new Hn),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}}class Dl extends qh{sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}makeTargetAnimatableFromInstance(i,{transformValues:s},o){var l=i,{transition:t,transitionEnd:a}=l,r=ie(l,["transition","transitionEnd"]);let u=om(r,t||{},this);if(s&&(a&&(a=s(a)),r&&(r=s(r)),u&&(u=s(u))),o){sm(this,r,u);const p=zh(this,r,u,a);a=p.transitionEnd,r=p.target}return k({transition:t,transitionEnd:a},r)}}function Hh(e){return window.getComputedStyle(e)}class Wh extends Dl{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,a){if(ut.has(a)){const r=_n(a);return r&&r.default||0}else{const r=Hh(t),s=(bo(a)?r.getPropertyValue(a):r[a])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:a}){return bl(t,a)}build(t,a,r,s){Rn(t,a,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,a){return On(t,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ue(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}renderInstance(t,a,r,s){So(t,a,r,s)}}class Kh extends Dl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(ut.has(a)){const r=_n(a);return r&&r.default||0}return a=To.has(a)?a:Sn(a),t.getAttribute(a)}measureInstanceViewportBox(){return ae()}scrapeMotionValuesFromProps(t,a){return Po(t,a)}build(t,a,r,s){Dn(t,a,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,a,r,s){Ao(t,a,r,s)}mount(t){this.isSVGTag=Ln(t.tagName),super.mount(t)}}const Gh=(e,t)=>En(e)?new Kh(t,{enableHardwareAcceleration:!1}):new Wh(t,{enableHardwareAcceleration:!0}),Jh={layout:{ProjectionNode:Pl,MeasureLayout:wl}},Xh=k(k(k(k({},km),Bu),Ah),Jh),Q=Yd((e,t)=>Eu(e,t,Xh,Gh));function Ll(){const e=x.useRef(!1);return Cn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Yh(){const e=Ll(),[t,a]=x.useState(0),r=x.useCallback(()=>{e.current&&a(t+1)},[t]);return[x.useCallback(()=>W.postRender(r),[r]),t]}class Zh extends x.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=a.offsetHeight||0,r.width=a.offsetWidth||0,r.top=a.offsetTop,r.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Qh({children:e,isPresent:t}){const a=x.useId(),r=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:u}=s.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=a;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),x.createElement(Zh,{isPresent:t,childRef:r,sizeRef:s},x.cloneElement(e,{ref:r}))}const Mr=({children:e,initial:t,isPresent:a,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=Eo(e0),u=x.useId(),p=x.useMemo(()=>({id:u,initial:t,isPresent:a,custom:s,onExitComplete:d=>{l.set(d,!0);for(const m of l.values())if(!m)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[a]);return x.useMemo(()=>{l.forEach((d,m)=>l.set(m,!1))},[a]),x.useEffect(()=>{!a&&!l.size&&r&&r()},[a]),i==="popLayout"&&(e=x.createElement(Qh,{isPresent:a},e)),x.createElement(Ja.Provider,{value:p},e)};function e0(){return new Map}function t0(e){return x.useEffect(()=>()=>e(),[])}const rt=e=>e.key||"";function a0(e,t){e.forEach(a=>{const r=rt(a);t.set(r,a)})}function r0(e){const t=[];return x.Children.forEach(e,a=>{x.isValidElement(a)&&t.push(a)}),t}const ot=({children:e,custom:t,initial:a=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=x.useContext(Pn).forceRender||Yh()[0],u=Ll(),p=r0(e);let d=p;const m=x.useRef(new Map).current,h=x.useRef(d),f=x.useRef(new Map).current,y=x.useRef(!0);if(Cn(()=>{y.current=!1,a0(p,f),h.current=d}),t0(()=>{y.current=!0,f.clear(),m.clear()}),y.current)return x.createElement(x.Fragment,null,d.map(v=>x.createElement(Mr,{key:rt(v),isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:o,mode:i},v)));d=[...d];const g=h.current.map(rt),b=p.map(rt),C=g.length;for(let v=0;v<C;v++){const w=g[v];b.indexOf(w)===-1&&!m.has(w)&&m.set(w,void 0)}return i==="wait"&&m.size&&(d=[]),m.forEach((v,w)=>{if(b.indexOf(w)!==-1)return;const N=f.get(w);if(!N)return;const A=g.indexOf(w);let E=v;if(!E){const L=()=>{m.delete(w);const O=Array.from(f.keys()).filter(S=>!b.includes(S));if(O.forEach(S=>f.delete(S)),h.current=p.filter(S=>{const j=rt(S);return j===w||O.includes(j)}),!m.size){if(u.current===!1)return;l(),r&&r()}};E=x.createElement(Mr,{key:rt(N),isPresent:!1,onExitComplete:L,custom:t,presenceAffectsLayout:o,mode:i},N),m.set(w,E)}d.splice(A,0,E)}),d=d.map(v=>{const w=v.key;return m.has(w)?v:x.createElement(Mr,{key:rt(v),isPresent:!0,presenceAffectsLayout:o,mode:i},v)}),x.createElement(x.Fragment,null,m.size?d:d.map(v=>x.cloneElement(v)))};var n0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$=(e,t)=>{const a=x.forwardRef((d,p)=>{var m=d,{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l}=m,u=ie(m,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return x.createElement("svg",k(R(k({ref:p},n0),{width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${s0(e)}`}),u),[...t.map(([h,f])=>x.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]])});return a.displayName=`${e}`,a},mi=$("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),i0=$("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),nn=$("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Le=$("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),hi=$("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ct=$("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Ol=$("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),o0=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),l0=$("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),c0=$("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),d0=$("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ml=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),fi=$("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),Va=$("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Gt=$("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),u0=$("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Fl=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jt=$("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Vl=$("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),qt=$("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),p0=$("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),sn=$("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),m0=$("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),h0=$("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),f0=$("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),je=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),lt=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ct=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gi=$("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),g0=$("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Il=$("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),on=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Na=$("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),x0=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),y0=$("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),b0=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xt=$("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),v0=({open:e,onClose:t})=>{const a=Ui(),[r,s]=x.useState({}),[o,i]=x.useState(""),l=f=>{s(y=>R(k({},y),{[f]:!y[f]}))},p=[{id:"dashboard",title:"داشبورد اصلی",path:"/dashboard",icon:p0,description:"نمای کلی سیستم و آمار",color:"text-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20",submenu:[{title:"آمار کلی",path:"/dashboard",icon:Le,description:"آمار و گزارش‌های کلی"},{title:"فعالیت‌های اخیر",path:"/dashboard?view=activity",icon:mi,description:"آخرین فعالیت‌ها"},{title:"نظارت سیستم",path:"/dashboard?view=monitoring",icon:Fl,description:"نظارت بر عملکرد سیستم"}]},{id:"documents",title:"مدیریت اسناد",path:"/process",icon:Jt,description:"پردازش و تحلیل اسناد حقوقی",color:"text-green-500",bgColor:"bg-green-50 dark:bg-green-900/20",submenu:[{title:"پردازش دستی",path:"/process?tab=manual",icon:Na,description:"آپلود و پردازش تک فایل"},{title:"پردازش دسته‌ای",path:"/process?tab=batch",icon:sn,description:"پردازش چندین فایل همزمان"},{title:"تاریخچه پردازش",path:"/process?tab=history",icon:Ml,description:"مشاهده تاریخچه پردازش‌ها"},{title:"نتایج تحلیل",path:"/process?tab=results",icon:on,description:"نتایج و گزارش‌های تحلیل"}]},{id:"search",title:"جستجو و بازیابی",path:"/search",icon:lt,description:"جستجو در پایگاه داده اسناد",color:"text-purple-500",bgColor:"bg-purple-50 dark:bg-purple-900/20",submenu:[{title:"جستجوی ساده",path:"/search",icon:lt,description:"جستجو با کلمات کلیدی"},{title:"جستجوی پیشرفته",path:"/search?mode=advanced",icon:Vl,description:"جستجو با فیلترهای پیشرفته"},{title:"جستجوی معنایی",path:"/search?mode=semantic",icon:fi,description:"جستجو با هوش مصنوعی"},{title:"تاریخچه جستجو",path:"/search?tab=history",icon:Ol,description:"مشاهده جستجوهای قبلی"}]},{id:"scraping",title:"استخراج اطلاعات",path:"/scraping",icon:qt,description:"استخراج اطلاعات از منابع آنلاین",color:"text-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20",submenu:[{title:"استخراج خودکار",path:"/scraping",icon:je,description:"استخراج خودکار از منابع"},{title:"منابع قانونی",path:"/scraping?sources=legal",icon:hi,description:"استخراج از سایت‌های حقوقی"},{title:"پیکربندی منابع",path:"/scraping?tab=sources",icon:ct,description:"تنظیم منابع استخراج"},{title:"گزارش‌های استخراج",path:"/scraping?tab=reports",icon:Le,description:"آمار و گزارش استخراج"}]},{id:"ai-analysis",title:"تحلیل هوش مصنوعی",path:"/ai-analysis",icon:fi,description:"تحلیل هوشمند اسناد با BERT فارسی",color:"text-pink-500",bgColor:"bg-pink-50 dark:bg-pink-900/20",submenu:[{title:"تحلیل تک متن",path:"/ai-analysis",icon:Xt,description:"تحلیل یک متن با هوش مصنوعی"},{title:"تحلیل دسته‌ای",path:"/ai-analysis?mode=batch",icon:sn,description:"تحلیل چندین متن همزمان"},{title:"نتایج تحلیل",path:"/ai-analysis?tab=results",icon:on,description:"مشاهده نتایج تحلیل‌ها"},{title:"آمار و گزارش",path:"/ai-analysis?tab=statistics",icon:Le,description:"آمار عملکرد تحلیلگر"}]},{id:"proxy",title:"مدیریت پروکسی",path:"/proxy",icon:gi,description:"مدیریت سرورهای پروکسی",color:"text-indigo-500",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",submenu:[{title:"لیست پروکسی‌ها",path:"/proxy",icon:m0,description:"مشاهده و مدیریت پروکسی‌ها"},{title:"تست سلامت",path:"/proxy?tab=health",icon:mi,description:"بررسی وضعیت پروکسی‌ها"},{title:"آمار شبکه",path:"/proxy?tab=stats",icon:Le,description:"آمار ترافیک و عملکرد"},{title:"افزودن پروکسی",path:"/proxy?tab=add",icon:Na,description:"افزودن پروکسی جدید"}]},{id:"database",title:"پایگاه داده",path:"/database",icon:Va,description:"مدیریت پایگاه داده اسناد",color:"text-cyan-500",bgColor:"bg-cyan-50 dark:bg-cyan-900/20",submenu:[{title:"مرور اسناد",path:"/database",icon:nn,description:"مشاهده تمام اسناد ذخیره شده"},{title:"آمار پایگاه داده",path:"/database?tab=stats",icon:Le,description:"آمار و اطلاعات پایگاه داده"},{title:"پشتیبان‌گیری",path:"/database?tab=backup",icon:Gt,description:"تهیه پشتیبان از داده‌ها"},{title:"بازیابی داده",path:"/database?tab=restore",icon:Na,description:"بازیابی از پشتیبان"}]},{id:"settings",title:"تنظیمات",path:"/settings",icon:ct,description:"تنظیمات سیستم و کاربری",color:"text-gray-500",bgColor:"bg-gray-50 dark:bg-gray-800/20",submenu:[{title:"تنظیمات عمومی",path:"/settings",icon:ct,description:"تنظیمات کلی سیستم"},{title:"تنظیمات API",path:"/settings?tab=api",icon:Xt,description:"پیکربندی API و سرویس‌ها"},{title:"تنظیمات پروکسی",path:"/settings?tab=proxy",icon:gi,description:"پیکربندی پروکسی"},{title:"واردات/صادرات",path:"/settings?tab=import-export",icon:je,description:"مدیریت تنظیمات"}]}].filter(f=>{var y;return o===""||f.title.toLowerCase().includes(o.toLowerCase())||f.description.toLowerCase().includes(o.toLowerCase())||((y=f.submenu)==null?void 0:y.some(g=>g.title.toLowerCase().includes(o.toLowerCase())))}),d=f=>f==="/dashboard"?a.pathname==="/"||a.pathname==="/dashboard":a.pathname.startsWith(f),m={open:{x:0,transition:{type:"spring",stiffness:300,damping:30}},closed:{x:"100%",transition:{type:"spring",stiffness:300,damping:30}}},h={open:{opacity:1,x:0,transition:{duration:.2}},closed:{opacity:0,x:20,transition:{duration:.2}}};return c(X,{children:[n(ot,{children:e&&n(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t})}),n(Q.div,{initial:"closed",animate:e?"open":"closed",variants:m,className:"fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-900 shadow-2xl z-50 lg:relative lg:translate-x-0 lg:shadow-lg",children:c("div",{className:"flex flex-col h-full",children:[c("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[c("div",{className:"flex items-center gap-3",children:[n("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:n(hi,{className:"w-6 h-6 text-white"})}),c("div",{children:[n("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"آرشیو حقوقی"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نسخه ۲.۰.۰"})]})]}),n("button",{onClick:t,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:n(b0,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),n("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:c("div",{className:"relative",children:[n(lt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n("input",{type:"text",placeholder:"جستجو در منو...",value:o,onChange:f=>i(f.target.value),className:"w-full pr-10 pl-4 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),n("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:n(ot,{children:p.map((f,y)=>{const g=f.icon,b=d(f.path),C=r[f.id];return n(Q.div,{initial:"closed",animate:"open",exit:"closed",variants:h,transition:{delay:y*.05},className:"space-y-1",children:c("div",{className:"group",children:[c(ss,{to:f.path,onClick:()=>{f.submenu?l(f.id):t()},className:`
                          flex items-center gap-3 p-3 rounded-lg transition-all duration-200 group
                          ${b?`${f.bgColor} ${f.color} shadow-sm`:"hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                        `,children:[n("div",{className:`
                          flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-200
                          ${b?`${f.color} bg-white dark:bg-gray-800 shadow-sm`:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"}
                        `,children:n(g,{className:"w-4 h-4"})}),c("div",{className:"flex-1 min-w-0",children:[n("div",{className:"font-medium text-sm truncate",children:f.title}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:f.description})]}),f.submenu&&n("div",{className:`
                            flex-shrink-0 transition-transform duration-200
                            ${C?"rotate-90":""}
                          `,children:n(c0,{className:"w-4 h-4 text-gray-400"})})]}),n(ot,{children:f.submenu&&C&&n(Q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-1 mr-8 space-y-1 overflow-hidden",children:f.submenu.map((v,w)=>{const N=v.icon,A=a.pathname===v.path||a.pathname+a.search===v.path;return n(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:w*.05},children:c(ss,{to:v.path,onClick:t,className:`
                                      flex items-center gap-3 p-2 rounded-lg transition-all duration-200 group
                                      ${A?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}
                                    `,children:[n("div",{className:`
                                      flex-shrink-0 w-6 h-6 rounded-md flex items-center justify-center text-xs
                                      ${A?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300":"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"}
                                    `,children:n(N,{className:"w-3 h-3"})}),c("div",{className:"flex-1 min-w-0",children:[n("div",{className:"text-sm font-medium truncate",children:v.title}),v.description&&n("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:v.description})]})]})},v.path)})})})]})},f.id)})})}),n("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:c("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg",children:[n("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:n(x0,{className:"w-4 h-4 text-white"})}),c("div",{className:"flex-1 min-w-0",children:[n("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"کاربر سیستم"}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"دسترسی کامل"})]}),n("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]})})]})})]})},w0=({title:e,value:t,change:a,changeType:r="neutral",icon:s,description:o,loading:i=!1})=>{const l=()=>{switch(r){case"positive":return"text-green-600 dark:text-green-400";case"negative":return"text-red-600 dark:text-red-400";case"warning":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-600 dark:text-gray-400"}},u=()=>{switch(r){case"positive":return"↗️";case"negative":return"↘️";case"warning":return"⚠️";default:return"→"}};return i?c("div",{className:"card p-6 animate-pulse",children:[c("div",{className:"flex items-center justify-between mb-4",children:[n("div",{className:"skeleton w-20 h-4"}),n("div",{className:"skeleton w-8 h-8 rounded-full"})]}),n("div",{className:"skeleton w-16 h-8 mb-2"}),n("div",{className:"skeleton w-24 h-3"})]}):c("div",{className:"card p-6 hover:shadow-lg transition-all duration-200",children:[c("div",{className:"flex items-center justify-between mb-4",children:[n("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),n("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:s})})]}),n("div",{className:"flex items-end justify-between",children:c("div",{children:[n("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:typeof t=="number"?t.toLocaleString("fa-IR"):t}),a&&c("div",{className:`flex items-center text-sm ${l()}`,children:[n("span",{className:"ml-1",children:u()}),n("span",{children:a})]})]})}),o&&n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 leading-relaxed",children:o})]})};qi.register(Hi,Wi,Ki,Gi,Vc,Ji,Xi,Yi,Ic);const k0=({type:e="line",data:t,options:a={},height:r=300,loading:s=!1})=>{const{isDark:o}=Nn(),i=x.useRef(),l=k({responsive:!0,maintainAspectRatio:!1,locale:"fa-IR",plugins:{legend:{position:"top",align:"end",rtl:!0,labels:{usePointStyle:!0,padding:20,font:{family:"Vazirmatn, sans-serif",size:12},color:o?"#f3f4f6":"#374151"}},tooltip:{rtl:!0,titleAlign:"right",bodyAlign:"right",backgroundColor:o?"#1f2937":"#ffffff",titleColor:o?"#f3f4f6":"#111827",bodyColor:o?"#d1d5db":"#374151",borderColor:o?"#374151":"#e5e7eb",borderWidth:1,titleFont:{family:"Vazirmatn, sans-serif",size:14,weight:"bold"},bodyFont:{family:"Vazirmatn, sans-serif",size:12},callbacks:{label:function(p){let d=p.dataset.label||"";return d&&(d+=": "),d+=p.parsed.y.toLocaleString("fa-IR"),d}}}},scales:e!=="doughnut"?{x:{grid:{color:o?"#374151":"#f3f4f6",drawBorder:!1},ticks:{color:o?"#9ca3af":"#6b7280",font:{family:"Vazirmatn, sans-serif",size:11}}},y:{grid:{color:o?"#374151":"#f3f4f6",drawBorder:!1},ticks:{color:o?"#9ca3af":"#6b7280",font:{family:"Vazirmatn, sans-serif",size:11},callback:function(p){return p.toLocaleString("fa-IR")}}}}:void 0},a),u=()=>{const p={ref:i,data:t,options:l,height:r};switch(e){case"bar":return n(_c,k({},p));case"doughnut":return n(zc,k({},p));case"line":default:return n(Zi,k({},p))}};return s?n("div",{className:"flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-lg animate-pulse",style:{height:r},children:c("div",{className:"text-center",children:[n("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full mb-4 animate-spin",children:n("div",{className:"w-3 h-3 bg-blue-600 rounded-full mt-1 mr-1"})}),n("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"در حال بارگذاری نمودار..."})]})}):!t||!t.datasets||t.datasets.length===0?n("div",{className:"flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",style:{height:r},children:c("div",{className:"text-center",children:[n("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4",children:n("span",{className:"text-2xl",children:"📊"})}),n("p",{className:"text-gray-500 dark:text-gray-400",children:"داده‌ای برای نمایش وجود ندارد"})]})}):n("div",{style:{height:r},className:"relative",children:u()})},Ee=({size:e="md",color:t="blue",text:a="",className:r="",inline:s=!1})=>{const o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},i={blue:"border-blue-600",green:"border-green-600",red:"border-red-600",yellow:"border-yellow-600",purple:"border-purple-600",gray:"border-gray-600"},l={xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-base",xl:"text-lg"};return c("div",{className:`${s?"inline-flex":"flex"} items-center justify-center space-x-2 space-x-reverse ${r}`,children:[n("div",{className:`
          ${o[e]} 
          border-2 
          ${i[t]} 
          border-t-transparent 
          rounded-full 
          animate-spin
        `,role:"status","aria-label":"در حال بارگذاری"}),a&&n("span",{className:`text-gray-600 dark:text-gray-400 ${l[e]} font-medium`,children:a}),n("span",{className:"sr-only",children:"در حال بارگذاری..."})]})},N0=({logs:e=[],loading:t=!1})=>{const a=i=>{switch(i==null?void 0:i.toLowerCase()){case"error":return"🔴";case"warning":return"🟡";case"info":return"🔵";case"success":return"🟢";default:return"⚪"}},r=i=>{switch(i==null?void 0:i.toLowerCase()){case"error":return"text-red-600 dark:text-red-400";case"warning":return"text-yellow-600 dark:text-yellow-400";case"info":return"text-blue-600 dark:text-blue-400";case"success":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},s=i=>{if(!i)return"";try{return new Date(i).toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})}catch(l){return""}},o=i=>{if(!i)return"";try{const l=new Date(i),p=Math.floor((new Date-l)/(1e3*60));if(p<1)return"اکنون";if(p<60)return`${p} دقیقه قبل`;const d=Math.floor(p/60);return d<24?`${d} ساعت قبل`:`${Math.floor(d/24)} روز قبل`}catch(l){return""}};return c("div",{className:"card p-6",children:[c("div",{className:"flex items-center justify-between mb-4",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"فعالیت‌های اخیر"}),t&&n(Ee,{size:"sm"})]}),t?n("div",{className:"space-y-3",children:[...Array(5)].map((i,l)=>c("div",{className:"flex items-start space-x-3 space-x-reverse animate-pulse",children:[n("div",{className:"skeleton w-6 h-6 rounded-full mt-1"}),c("div",{className:"flex-1 space-y-2",children:[n("div",{className:"skeleton w-3/4 h-4"}),n("div",{className:"skeleton w-1/2 h-3"})]})]},l))}):e.length>0?n("div",{className:"space-y-4 max-h-80 overflow-y-auto custom-scrollbar",children:e.map((i,l)=>c("div",{className:"flex items-start space-x-3 space-x-reverse",children:[n("div",{className:"flex-shrink-0 mt-1",children:n("span",{className:"text-lg",children:a(i.level)})}),c("div",{className:"flex-1 min-w-0",children:[c("div",{className:"flex items-center justify-between",children:[n("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:i.component||"سیستم"}),c("div",{className:"flex items-center space-x-2 space-x-reverse text-xs text-gray-500 dark:text-gray-400",children:[n("span",{children:s(i.timestamp)}),n("span",{children:"•"}),n("span",{children:o(i.timestamp)})]})]}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 line-clamp-2",children:i.message}),i.level&&n("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${r(i.level)} bg-opacity-10`,children:i.level.toUpperCase()})]})]},l))}):c("div",{className:"text-center py-8",children:[n("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-3",children:n("span",{className:"text-2xl",children:"📝"})}),n("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"فعالیت اخیری وجود ندارد"}),n("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:"فعالیت‌های سیستم اینجا نمایش داده می‌شوند"})]}),e.length>0&&n("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:n("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"مشاهده همه فعالیت‌ها ←"})})]})},C0=({status:e,networkStatus:t})=>{const r=(()=>{if(!e)return{status:"unknown",color:"gray",text:"نامشخص"};const u=[e.cpu_usage<80,e.memory_usage<85,e.disk_usage<90,(t==null?void 0:t.active_proxies)>0],d=u.filter(Boolean).length/u.length*100;return d>=75?{status:"healthy",color:"green",text:"سالم"}:d>=50?{status:"warning",color:"yellow",text:"هشدار"}:{status:"critical",color:"red",text:"بحرانی"}})(),s=[{label:"استفاده از CPU",value:(e==null?void 0:e.cpu_usage)||0,unit:"%",threshold:80,icon:"🖥️"},{label:"استفاده از حافظه",value:(e==null?void 0:e.memory_usage)||0,unit:"%",threshold:85,icon:"💾"},{label:"استفاده از دیسک",value:(e==null?void 0:e.disk_usage)||0,unit:"%",threshold:90,icon:"💿"},{label:"پروکسی فعال",value:(t==null?void 0:t.active_proxies)||0,unit:"",threshold:1,icon:"🌐",isCount:!0}],o=(u,p,d=!1)=>d?u>=p?"good":"bad":u<p?"good":"bad",i=u=>u==="good"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",l=u=>u==="good"?"bg-green-500":"bg-red-500";return c("div",{className:"card p-6",children:[c("div",{className:"flex items-center justify-between mb-4",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"سلامت سیستم"}),c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("div",{className:`w-3 h-3 rounded-full bg-${r.color}-500`}),n("span",{className:`text-sm font-medium text-${r.color}-600 dark:text-${r.color}-400`,children:r.text})]})]}),n("div",{className:"space-y-4",children:s.map((u,p)=>{const d=o(u.value,u.threshold,u.isCount),m=u.isCount?Math.min(u.value/10*100,100):Math.min(u.value,100);return c("div",{className:"space-y-2",children:[c("div",{className:"flex items-center justify-between",children:[c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-lg",children:u.icon}),n("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:u.label})]}),c("span",{className:`text-sm font-medium ${i(d)}`,children:[u.isCount?u.value:u.value.toFixed(1),u.unit]})]}),!u.isCount&&n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:`h-2 rounded-full transition-all duration-300 ${l(d)}`,style:{width:`${m}%`}})}),u.isCount&&c("div",{className:"flex items-center space-x-1 space-x-reverse",children:[[...Array(Math.min(u.value,5))].map((h,f)=>n("div",{className:"w-2 h-2 bg-green-500 rounded-full"},f)),[...Array(Math.max(5-u.value,0))].map((h,f)=>n("div",{className:"w-2 h-2 bg-gray-300 dark:bg-gray-600 rounded-full"},f)),u.value>5&&c("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:["+",u.value-5]})]})]},p)})}),e&&n("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:c("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"زمان فعالیت:"}),c("p",{className:"font-medium text-gray-900 dark:text-white mt-1",children:[e.uptime?Math.floor(e.uptime/3600):0," ساعت"]})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"آخرین بروزرسانی:"}),n("p",{className:"font-medium text-gray-900 dark:text-white mt-1",children:new Date().toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})})]})]})}),r.status!=="healthy"&&n("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:c("div",{className:"flex items-start space-x-2 space-x-reverse",children:[n("span",{className:"text-yellow-600 dark:text-yellow-400 mt-0.5",children:"⚠️"}),c("div",{children:[n("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"توصیه‌های بهبود سلامت سیستم:"}),c("ul",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1 space-y-1",children:[(e==null?void 0:e.cpu_usage)>=80&&n("li",{children:"• استفاده از CPU بالا است - فرآیندهای غیرضروری را متوقف کنید"}),(e==null?void 0:e.memory_usage)>=85&&n("li",{children:"• حافظه تقریباً پر است - برنامه‌های اضافی را ببندید"}),(e==null?void 0:e.disk_usage)>=90&&n("li",{children:"• فضای دیسک کم است - فایل‌های غیرضروری را پاک کنید"}),(!(t!=null&&t.active_proxies)||t.active_proxies===0)&&n("li",{children:"• هیچ پروکسی فعالی وجود ندارد - پروکسی‌ها را بررسی کنید"})]})]})]})})]})},Ia=({title:e="خطایی رخ داده است",message:t="",onRetry:a=null,onDismiss:r=null,type:s="error",className:o=""})=>{const l=(()=>{switch(s){case"warning":return{container:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",icon:"⚠️",iconColor:"text-yellow-600 dark:text-yellow-400",titleColor:"text-yellow-800 dark:text-yellow-200",messageColor:"text-yellow-700 dark:text-yellow-300",buttonColor:"bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-800 dark:hover:bg-yellow-700 text-yellow-800 dark:text-yellow-200"};case"info":return{container:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",icon:"ℹ️",iconColor:"text-blue-600 dark:text-blue-400",titleColor:"text-blue-800 dark:text-blue-200",messageColor:"text-blue-700 dark:text-blue-300",buttonColor:"bg-blue-100 hover:bg-blue-200 dark:bg-blue-800 dark:hover:bg-blue-700 text-blue-800 dark:text-blue-200"};case"success":return{container:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",icon:"✅",iconColor:"text-green-600 dark:text-green-400",titleColor:"text-green-800 dark:text-green-200",messageColor:"text-green-700 dark:text-green-300",buttonColor:"bg-green-100 hover:bg-green-200 dark:bg-green-800 dark:hover:bg-green-700 text-green-800 dark:text-green-200"};case"error":default:return{container:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",icon:"❌",iconColor:"text-red-600 dark:text-red-400",titleColor:"text-red-800 dark:text-red-200",messageColor:"text-red-700 dark:text-red-300",buttonColor:"bg-red-100 hover:bg-red-200 dark:bg-red-800 dark:hover:bg-red-700 text-red-800 dark:text-red-200"}}})();return n("div",{className:`border rounded-lg p-4 ${l.container} ${o}`,children:c("div",{className:"flex items-start space-x-3 space-x-reverse",children:[n("div",{className:`flex-shrink-0 ${l.iconColor}`,children:n("span",{className:"text-xl",children:l.icon})}),c("div",{className:"flex-1 min-w-0",children:[n("h3",{className:`text-sm font-medium ${l.titleColor}`,children:e}),t&&n("div",{className:`mt-2 text-sm ${l.messageColor}`,children:typeof t=="string"?n("p",{className:"leading-relaxed",children:t}):t}),(a||r)&&c("div",{className:"mt-4 flex items-center space-x-3 space-x-reverse",children:[a&&c("button",{onClick:a,className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent ${l.buttonColor}`,children:[n("svg",{className:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"تلاش مجدد"]}),r&&n("button",{onClick:r,className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"بستن"})]})]}),r&&n("div",{className:"flex-shrink-0",children:c("button",{onClick:r,className:"inline-flex text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 transition-colors",children:[n("span",{className:"sr-only",children:"بستن"}),n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})})]})})},S0=()=>{var A,E,L,O,S,j;const{getApiUrl:e,config:t}=Xe(),{showApiError:a}=ta(),r=vn(),[s,o]=x.useState(3e4),{data:i,isLoading:l,error:u}=qe({queryKey:["systemStatus"],queryFn:()=>F(_,null,function*(){const P=yield fetch(e("/status"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:s,refetchOnWindowFocus:!0}),{data:p,isLoading:d,error:m}=qe({queryKey:["systemStats"],queryFn:()=>F(_,null,function*(){const P=yield fetch(e("/stats"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:s,refetchOnWindowFocus:!0}),{data:h,isLoading:f}=qe({queryKey:["networkStatus"],queryFn:()=>F(_,null,function*(){const P=yield fetch(e("/network"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:s*2}),{data:y,isLoading:g}=qe({queryKey:["recentLogs"],queryFn:()=>F(_,null,function*(){const P=yield fetch(e("/logs?limit=10"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:s});x.useEffect(()=>{u&&a(u,"خطا در دریافت وضعیت سیستم"),m&&a(m,"خطا در دریافت آمار سیستم")},[u,m,a]);const b=()=>{r.invalidateQueries()},C=()=>{o(P=>P===0?3e4:0)},v=l||d,w=[{title:"کل عملیات",value:((A=p==null?void 0:p.session)==null?void 0:A.total_operations)||0,change:"+12%",changeType:"positive",icon:"📊",description:"تعداد کل عملیات انجام شده"},{title:"عملیات موفق",value:((E=p==null?void 0:p.session)==null?void 0:E.successful_operations)||0,change:"+8%",changeType:"positive",icon:"✅",description:"عملیات با موفقیت انجام شده"},{title:"پروکسی فعال",value:(h==null?void 0:h.active_proxies)||0,change:h!=null&&h.total_proxies?`از ${h.total_proxies}`:"0",changeType:(h==null?void 0:h.active_proxies)>0?"positive":"negative",icon:"🌐",description:"تعداد پروکسی‌های فعال"},{title:"کارهای در صف",value:(i==null?void 0:i.current_batch)||0,change:i!=null&&i.is_processing?"در حال پردازش":"آماده",changeType:i!=null&&i.is_processing?"warning":"neutral",icon:"⏳",description:"وضعیت صف پردازش"}],N={labels:["۶ ساعت قبل","۵ ساعت قبل","۴ ساعت قبل","۳ ساعت قبل","۲ ساعت قبل","۱ ساعت قبل","اکنون"],datasets:[{label:"عملیات موفق",data:[12,19,15,25,22,30,28],borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4},{label:"عملیات ناموفق",data:[2,3,2,5,2,4,3],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]};return v?n("div",{className:"flex items-center justify-center h-64",children:n(Ee,{size:"lg"})}):c("div",{className:"space-y-6",children:[c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"داشبورد اصلی"}),n("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"نمای کلی از وضعیت سیستم آرشیو حقوقی"})]}),c("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("button",{onClick:C,className:`px-4 py-2 rounded-lg font-medium transition-colors ${s>0?"bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300"}`,children:s>0?"🔄 بروزرسانی خودکار":"⏸️ بروزرسانی متوقف"}),n("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"🔄 بروزرسانی"})]})]}),n("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((P,M)=>n(w0,k({},P),M))}),c("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n("div",{className:"lg:col-span-2",children:c("div",{className:"card p-6",children:[c("div",{className:"flex items-center justify-between mb-4",children:[n("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"روند عملیات"}),c("div",{className:"flex space-x-2 space-x-reverse",children:[c("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[n("div",{className:"w-2 h-2 bg-green-500 rounded-full ml-1"}),"موفق"]}),c("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[n("div",{className:"w-2 h-2 bg-red-500 rounded-full ml-1"}),"ناموفق"]})]})]}),n(k0,{type:"line",data:N,height:300})]})}),c("div",{className:"space-y-6",children:[n(N0,{logs:(y==null?void 0:y.logs)||[],loading:g}),n(C0,{status:p==null?void 0:p.system_health,networkStatus:h})]})]}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"وضعیت پردازش"}),i!=null&&i.is_processing?c("div",{className:"space-y-3",children:[c("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پردازش فعال"}),c("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[n("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse ml-1"}),"در حال اجرا"]})]}),c("div",{className:"space-y-2",children:[c("div",{className:"flex justify-between text-sm",children:[n("span",{className:"text-gray-600 dark:text-gray-400",children:"پیشرفت"}),c("span",{className:"font-medium",children:[i.current_batch,"/",i.total_batches]})]}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i.current_batch/i.total_batches*100}%`}})})]}),i.current_url&&c("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"در حال پردازش:"}),n("p",{className:"text-sm font-mono text-gray-800 dark:text-gray-200 truncate",children:i.current_url})]})]}):c("div",{className:"text-center py-8",children:[n("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-3",children:n("span",{className:"text-2xl",children:"💤"})}),n("p",{className:"text-gray-600 dark:text-gray-400",children:"سیستم در حالت آماده باش"})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"آمار پایگاه داده"}),c("div",{className:"space-y-4",children:[c("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-gray-600 dark:text-gray-400",children:"کل اسناد"}),n("span",{className:"font-semibold text-lg",children:((L=p==null?void 0:p.documents)==null?void 0:L.total_documents)||0})]}),c("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-gray-600 dark:text-gray-400",children:"دسته‌بندی شده"}),n("span",{className:"font-semibold text-lg text-green-600",children:((O=p==null?void 0:p.documents)==null?void 0:O.classified_documents)||0})]}),c("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-gray-600 dark:text-gray-400",children:"منابع فعال"}),n("span",{className:"font-semibold text-lg text-blue-600",children:((S=p==null?void 0:p.sources)==null?void 0:S.total)||0})]}),((j=p==null?void 0:p.sources)==null?void 0:j.categories)&&c("div",{className:"mt-4",children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"دسته‌بندی منابع:"}),c("div",{className:"flex flex-wrap gap-1",children:[p.sources.categories.slice(0,3).map((P,M)=>n("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs rounded",children:P},M)),p.sources.categories.length>3&&c("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs rounded",children:["+",p.sources.categories.length-3," بیشتر"]})]})]})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"عملیات سریع"}),c("div",{className:"space-y-3",children:[c("button",{className:"w-full flex items-center justify-center px-4 py-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",onClick:()=>window.location.href="/process",children:[n("span",{className:"ml-2",children:"📄"}),"پردازش سند جدید"]}),c("button",{className:"w-full flex items-center justify-center px-4 py-3 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",onClick:()=>window.location.href="/search",children:[n("span",{className:"ml-2",children:"🔍"}),"جستجو در پایگاه داده"]}),c("button",{className:"w-full flex items-center justify-center px-4 py-3 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",onClick:()=>window.location.href="/proxy",children:[n("span",{className:"ml-2",children:"🌐"}),"مدیریت پروکسی"]})]})]})]}),u&&n(Ia,{title:"خطا در دریافت وضعیت سیستم",message:u.message,onRetry:()=>r.invalidateQueries(["systemStatus"])}),m&&n(Ia,{title:"خطا در دریافت آمار سیستم",message:m.message,onRetry:()=>r.invalidateQueries(["systemStats"])})]})},T0=({tabs:e,activeTab:t,onTabChange:a})=>n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"-mb-px flex space-x-8 space-x-reverse overflow-x-auto",children:e.map(r=>c("button",{onClick:()=>a(r.id),className:`
              group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
              ${t===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"}
            `,children:[n("span",{className:"text-lg ml-2",children:r.icon}),n("span",{children:r.title}),r.description&&c("span",{className:"hidden lg:block text-xs text-gray-400 dark:text-gray-500 mr-2",children:["• ",r.description]})]},r.id))})}),A0=({onProcess:e,isProcessing:t=!1})=>{const{config:a}=Xe(),[r,s]=x.useState(""),[o,i]=x.useState(a.proxyEnabled),[l,u]=x.useState(a.maxRetries),p=h=>{if(h.preventDefault(),!r.trim())return;const f=r.trim();!f.startsWith("http://")&&!f.startsWith("https://")||(e([f],{useProxy:o,maxRetries:l}),s(""))},m=r&&!(h=>{try{return new URL(h),!0}catch(f){return!1}})(r)?"آدرس وارد شده معتبر نیست":"";return c("div",{className:"card p-6",children:[c("div",{className:"mb-6",children:[n("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"پردازش تک سند"}),n("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"آدرس سند حقوقی مورد نظر را وارد کنید تا پردازش و تحلیل شود."})]}),c("form",{onSubmit:p,className:"space-y-6",children:[c("div",{children:[c("label",{htmlFor:"url",className:"label",children:["آدرس سند (URL) ",n("span",{className:"text-red-500",children:"*"})]}),c("div",{className:"relative",children:[n("input",{id:"url",type:"url",value:r,onChange:h=>s(h.target.value),placeholder:"https://example.com/legal-document",className:`input pr-10 ${m?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,disabled:t,required:!0}),n("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})})]}),m&&n("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m})]}),c("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-4",children:[n("h3",{className:"font-medium text-gray-900 dark:text-white",children:"تنظیمات پردازش"}),c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"استفاده از پروکسی"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"برای دسترسی بهتر و سرعت بالاتر"})]}),c("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:o,onChange:h=>i(h.target.checked),className:"sr-only peer",disabled:t}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),c("div",{children:[n("label",{className:"label",children:"تعداد تلاش مجدد"}),c("select",{value:l,onChange:h=>u(parseInt(h.target.value)),className:"input",disabled:t,children:[n("option",{value:1,children:"۱ بار"}),n("option",{value:2,children:"۲ بار"}),n("option",{value:3,children:"۳ بار"}),n("option",{value:5,children:"۵ بار"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تعداد دفعات تلاش مجدد در صورت خطا"})]})]}),c("div",{className:"flex items-center justify-between",children:[n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"پردازش ممکن است چند دقیقه طول بکشد"}),n("button",{type:"submit",disabled:t||!r.trim()||m,className:"btn btn-primary px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 space-x-reverse",children:t?c(X,{children:[c("svg",{className:"animate-spin -mr-1 ml-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("span",{children:"در حال پردازش..."})]}):c(X,{children:[n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n("span",{children:"شروع پردازش"})]})})]})]}),c("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"آدرس‌های نمونه"}),n("div",{className:"flex flex-wrap gap-2",children:["https://dastour.ir/brows/?lid=15","https://rc.majlis.ir/fa/law","https://www.dastour.ir/brows/?lid=1"].map((h,f)=>c("button",{onClick:()=>s(h),disabled:t,className:"text-xs px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["نمونه ",f+1]},f))})]})]})},P0=({onProcess:e,isProcessing:t=!1})=>{const{config:a}=Xe(),[r,s]=x.useState(""),[o,i]=x.useState(a.proxyEnabled),[l,u]=x.useState(a.batchSize),[p,d]=x.useState(a.maxRetries),h=(w=>w.split(`
`).map(N=>N.trim()).filter(N=>N&&(N.startsWith("http://")||N.startsWith("https://"))))(r),f=h.length,y=r.split(`
`).filter(w=>{const N=w.trim();return N&&!N.startsWith("http://")&&!N.startsWith("https://")}),g=w=>{w.preventDefault(),f!==0&&e(h,{useProxy:o,batchSize:l,maxRetries:p})},b=()=>F(_,null,function*(){try{const w=yield navigator.clipboard.readText();s(N=>N?`${N}
${w}`:w)}catch(w){console.error("Failed to paste from clipboard:",w)}}),C=()=>{s("")},v=Math.ceil(f/l)*30;return c("div",{className:"card p-6",children:[c("div",{className:"mb-6",children:[n("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"پردازش دسته‌ای اسناد"}),n("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"آدرس‌های متعدد را به صورت همزمان پردازش کنید. هر آدرس در یک خط جداگانه قرار دهید."})]}),c("form",{onSubmit:g,className:"space-y-6",children:[c("div",{children:[c("div",{className:"flex items-center justify-between mb-2",children:[c("label",{htmlFor:"urls",className:"label",children:["لیست آدرس‌ها (هر خط یک آدرس) ",n("span",{className:"text-red-500",children:"*"})]}),c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("button",{type:"button",onClick:b,className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:t,children:"📋 چسباندن"}),n("button",{type:"button",onClick:C,className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:t,children:"🗑️ پاک کردن"})]})]}),n("textarea",{id:"urls",value:r,onChange:w=>s(w.target.value),placeholder:`https://example.com/document1
https://example.com/document2
https://example.com/document3`,rows:10,className:"input resize-none font-mono text-sm",disabled:t,required:!0}),c("div",{className:"mt-2 flex items-center justify-between text-sm",children:[c("div",{className:"flex items-center space-x-4 space-x-reverse",children:[c("span",{className:"text-green-600 dark:text-green-400",children:["✅ معتبر: ",f]}),y.length>0&&c("span",{className:"text-red-600 dark:text-red-400",children:["❌ نامعتبر: ",y.length]})]}),c("div",{className:"text-gray-500 dark:text-gray-400",children:["خطوط: ",r.split(`
`).filter(w=>w.trim()).length]})]}),y.length>0&&c("div",{className:"mt-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[n("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium mb-1",children:"خطوط نامعتبر:"}),n("div",{className:"text-xs text-red-700 dark:text-red-300 max-h-20 overflow-y-auto",children:y.map((w,N)=>n("div",{className:"font-mono",children:w},N))})]})]}),c("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-4",children:[n("h3",{className:"font-medium text-gray-900 dark:text-white",children:"تنظیمات پردازش دسته‌ای"}),c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"استفاده از پروکسی"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"برای دسترسی بهتر و جلوگیری از محدودیت"})]}),c("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:o,onChange:w=>i(w.target.checked),className:"sr-only peer",disabled:t}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c("div",{children:[n("label",{className:"label",children:"اندازه دسته"}),c("select",{value:l,onChange:w=>u(parseInt(w.target.value)),className:"input",disabled:t,children:[n("option",{value:1,children:"۱ (کند)"}),n("option",{value:3,children:"۳ (متوسط)"}),n("option",{value:5,children:"۵ (سریع)"}),n("option",{value:10,children:"۱۰ (خیلی سریع)"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تعداد اسناد پردازش همزمان"})]}),c("div",{children:[n("label",{className:"label",children:"تعداد تلاش مجدد"}),c("select",{value:p,onChange:w=>d(parseInt(w.target.value)),className:"input",disabled:t,children:[n("option",{value:1,children:"۱ بار"}),n("option",{value:2,children:"۲ بار"}),n("option",{value:3,children:"۳ بار"}),n("option",{value:5,children:"۵ بار"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تلاش مجدد در صورت خطا"})]})]}),f>0&&n("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-blue-600 dark:text-blue-400",children:"⏱️"}),c("div",{className:"text-sm",children:[c("p",{className:"font-medium text-blue-800 dark:text-blue-200",children:["برآورد زمان پردازش: ",Math.floor(v/60)," دقیقه و ",v%60," ثانیه"]}),c("p",{className:"text-blue-700 dark:text-blue-300",children:["تعداد دسته‌ها: ",Math.ceil(f/l)," • اندازه هر دسته: ",l]})]})]})})]}),c("div",{className:"flex items-center justify-between",children:[n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:f>0?`آماده پردازش ${f} سند`:"حداقل یک آدرس معتبر وارد کنید"}),n("button",{type:"submit",disabled:t||f===0,className:"btn btn-primary px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 space-x-reverse",children:t?c(X,{children:[c("svg",{className:"animate-spin -mr-1 ml-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("span",{children:"در حال پردازش..."})]}):c(X,{children:[n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),n("span",{children:"شروع پردازش دسته‌ای"})]})})]})]}),c("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"قالب‌های نمونه"}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c("button",{onClick:()=>s(`https://dastour.ir/brows/?lid=15
https://rc.majlis.ir/fa/law
https://www.dastour.ir/brows/?lid=1
https://dastour.ir/brows/?lid=20`),disabled:t,className:"text-xs p-3 bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors text-right disabled:opacity-50 disabled:cursor-not-allowed",children:[n("div",{className:"font-medium mb-1",children:"نمونه قوانین اساسی"}),n("div",{className:"text-gray-500 dark:text-gray-400",children:"۴ آدرس نمونه"})]}),c("button",{onClick:()=>s(`https://rc.majlis.ir/fa/law/show/94262
https://rc.majlis.ir/fa/law/show/94263
https://rc.majlis.ir/fa/law/show/94264`),disabled:t,className:"text-xs p-3 bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors text-right disabled:opacity-50 disabled:cursor-not-allowed",children:[n("div",{className:"font-medium mb-1",children:"نمونه قوانین مجلس"}),n("div",{className:"text-gray-500 dark:text-gray-400",children:"۳ آدرس نمونه"})]})]})]})]})};var zl={exports:{}},E0="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",R0=E0,j0=R0;function _l(){}function $l(){}$l.resetWarningCache=_l;var D0=function(){function e(r,s,o,i,l,u){if(u!==j0){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$l,resetWarningCache:_l};return a.PropTypes=a,a};zl.exports=D0();var L0=zl.exports;const q=Lc(L0);function mt(e,t,a,r){function s(o){return o instanceof a?o:new a(function(i){i(o)})}return new(a||(a=Promise))(function(o,i){function l(d){try{p(r.next(d))}catch(m){i(m)}}function u(d){try{p(r.throw(d))}catch(m){i(m)}}function p(d){d.done?o(d.value):s(d.value).then(l,u)}p((r=r.apply(e,t||[])).next())})}const O0=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function At(e,t,a){const r=M0(e),{webkitRelativePath:s}=e,o=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof r.path!="string"&&xi(r,"path",o),a!==void 0&&Object.defineProperty(r,"handle",{value:a,writable:!1,configurable:!1,enumerable:!0}),xi(r,"relativePath",o),r}function M0(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),s=O0.get(r);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function xi(e,t,a){Object.defineProperty(e,t,{value:a,writable:!1,configurable:!1,enumerable:!0})}const F0=[".DS_Store","Thumbs.db"];function V0(e){return mt(this,void 0,void 0,function*(){return za(e)&&I0(e.dataTransfer)?B0(e.dataTransfer,e.type):z0(e)?_0(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?$0(e):[]})}function I0(e){return za(e)}function z0(e){return za(e)&&za(e.target)}function za(e){return typeof e=="object"&&e!==null}function _0(e){return ln(e.target.files).map(t=>At(t))}function $0(e){return mt(this,void 0,void 0,function*(){return(yield Promise.all(e.map(a=>a.getFile()))).map(a=>At(a))})}function B0(e,t){return mt(this,void 0,void 0,function*(){if(e.items){const a=ln(e.items).filter(s=>s.kind==="file");if(t!=="drop")return a;const r=yield Promise.all(a.map(U0));return yi(Bl(r))}return yi(ln(e.files).map(a=>At(a)))})}function yi(e){return e.filter(t=>F0.indexOf(t.name)===-1)}function ln(e){if(e===null)return[];const t=[];for(let a=0;a<e.length;a++){const r=e[a];t.push(r)}return t}function U0(e){if(typeof e.webkitGetAsEntry!="function")return bi(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Ul(t):bi(e,t)}function Bl(e){return e.reduce((t,a)=>[...t,...Array.isArray(a)?Bl(a):[a]],[])}function bi(e,t){return mt(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const i=yield o.getFile();return i.handle=o,At(i)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return At(r,(a=t==null?void 0:t.fullPath)!==null&&a!==void 0?a:void 0)})}function q0(e){return mt(this,void 0,void 0,function*(){return e.isDirectory?Ul(e):H0(e)})}function Ul(e){const t=e.createReader();return new Promise((a,r)=>{const s=[];function o(){t.readEntries(i=>mt(this,void 0,void 0,function*(){if(i.length){const l=Promise.all(i.map(q0));s.push(l),o()}else try{const l=yield Promise.all(s);a(l)}catch(l){r(l)}}),i=>{r(i)})}o()})}function H0(e){return mt(this,void 0,void 0,function*(){return new Promise((t,a)=>{e.file(r=>{const s=At(r,e.fullPath);t(s)},r=>{a(r)})})})}var Fr=function(e,t){if(e&&t){var a=Array.isArray(t)?t:t.split(",");if(a.length===0)return!0;var r=e.name||"",s=(e.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return a.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):s===l})}return!0};function vi(e){return G0(e)||K0(e)||Hl(e)||W0()}function W0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K0(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G0(e){if(Array.isArray(e))return cn(e)}function wi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ki(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?wi(Object(a),!0).forEach(function(r){ql(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wi(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ql(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yt(e,t){return Y0(e)||X0(e,t)||Hl(e,t)||J0()}function J0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hl(e,t){if(e){if(typeof e=="string")return cn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return cn(e,t)}}function cn(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function X0(e,t){var a=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r=[],s=!0,o=!1,i,l;try{for(a=a.call(e);!(s=(i=a.next()).done)&&(r.push(i.value),!(t&&r.length===t));s=!0);}catch(u){o=!0,l=u}finally{try{!s&&a.return!=null&&a.return()}finally{if(o)throw l}}return r}}function Y0(e){if(Array.isArray(e))return e}var Z0=typeof Fr=="function"?Fr:Fr.default,Q0="file-invalid-type",ef="file-too-large",tf="file-too-small",af="too-many-files",rf=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=t.split(","),r=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:Q0,message:"File type must be ".concat(r)}},Ni=function(t){return{code:ef,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Ci=function(t){return{code:tf,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},nf={code:af,message:"Too many files"};function Wl(e,t){var a=e.type==="application/x-moz-file"||Z0(e,t);return[a,a?null:rf(t)]}function Kl(e,t,a){if(nt(e.size))if(nt(t)&&nt(a)){if(e.size>a)return[!1,Ni(a)];if(e.size<t)return[!1,Ci(t)]}else{if(nt(t)&&e.size<t)return[!1,Ci(t)];if(nt(a)&&e.size>a)return[!1,Ni(a)]}return[!0,null]}function nt(e){return e!=null}function sf(e){var t=e.files,a=e.accept,r=e.minSize,s=e.maxSize,o=e.multiple,i=e.maxFiles,l=e.validator;return!o&&t.length>1||o&&i>=1&&t.length>i?!1:t.every(function(u){var p=Wl(u,a),d=Yt(p,1),m=d[0],h=Kl(u,r,s),f=Yt(h,1),y=f[0],g=l?l(u):null;return m&&y&&!g})}function _a(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble!="undefined"?e.cancelBubble:!1}function ba(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Si(e){e.preventDefault()}function of(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function lf(e){return e.indexOf("Edge/")!==-1}function cf(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return of(e)||lf(e)}function Te(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return t.some(function(l){return!_a(r)&&l&&l.apply(void 0,[r].concat(o)),_a(r)})}}function df(){return"showOpenFilePicker"in window}function uf(e){if(nt(e)){var t=Object.entries(e).filter(function(a){var r=Yt(a,2),s=r[0],o=r[1],i=!0;return Gl(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(o)||!o.every(Jl))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(a,r){var s=Yt(r,2),o=s[0],i=s[1];return ki(ki({},a),{},ql({},o,i))},{});return[{description:"Files",accept:t}]}return e}function pf(e){if(nt(e))return Object.entries(e).reduce(function(t,a){var r=Yt(a,2),s=r[0],o=r[1];return[].concat(vi(t),[s],vi(o))},[]).filter(function(t){return Gl(t)||Jl(t)}).join(",")}function mf(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function hf(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Gl(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Jl(e){return/^.*\.[\w]+$/.test(e)}var ff=["children"],gf=["open"],xf=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],yf=["refKey","onChange","onClick"];function bf(e){return kf(e)||wf(e)||Xl(e)||vf()}function vf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wf(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kf(e){if(Array.isArray(e))return dn(e)}function Vr(e,t){return Sf(e)||Cf(e,t)||Xl(e,t)||Nf()}function Nf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xl(e,t){if(e){if(typeof e=="string")return dn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return dn(e,t)}}function dn(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Cf(e,t){var a=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r=[],s=!0,o=!1,i,l;try{for(a=a.call(e);!(s=(i=a.next()).done)&&(r.push(i.value),!(t&&r.length===t));s=!0);}catch(u){o=!0,l=u}finally{try{!s&&a.return!=null&&a.return()}finally{if(o)throw l}}return r}}function Sf(e){if(Array.isArray(e))return e}function Ti(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ti(Object(a),!0).forEach(function(r){un(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ti(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function un(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $a(e,t){if(e==null)return{};var a=Tf(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tf(e,t){if(e==null)return{};var a={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(a[s]=e[s]);return a}var Wn=x.forwardRef(function(e,t){var a=e.children,r=$a(e,ff),s=Zl(r),o=s.open,i=$a(s,gf);return x.useImperativeHandle(t,function(){return{open:o}},[o]),Qt.createElement(x.Fragment,null,a(G(G({},i),{},{open:o})))});Wn.displayName="Dropzone";var Yl={disabled:!1,getFilesFromEvent:V0,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Wn.defaultProps=Yl;Wn.propTypes={children:q.func,accept:q.objectOf(q.arrayOf(q.string)),multiple:q.bool,preventDropOnDocument:q.bool,noClick:q.bool,noKeyboard:q.bool,noDrag:q.bool,noDragEventsBubbling:q.bool,minSize:q.number,maxSize:q.number,maxFiles:q.number,disabled:q.bool,getFilesFromEvent:q.func,onFileDialogCancel:q.func,onFileDialogOpen:q.func,useFsAccessApi:q.bool,autoFocus:q.bool,onDragEnter:q.func,onDragLeave:q.func,onDragOver:q.func,onDrop:q.func,onDropAccepted:q.func,onDropRejected:q.func,onError:q.func,validator:q.func};var pn={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Zl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=G(G({},Yl),e),a=t.accept,r=t.disabled,s=t.getFilesFromEvent,o=t.maxSize,i=t.minSize,l=t.multiple,u=t.maxFiles,p=t.onDragEnter,d=t.onDragLeave,m=t.onDragOver,h=t.onDrop,f=t.onDropAccepted,y=t.onDropRejected,g=t.onFileDialogCancel,b=t.onFileDialogOpen,C=t.useFsAccessApi,v=t.autoFocus,w=t.preventDropOnDocument,N=t.noClick,A=t.noKeyboard,E=t.noDrag,L=t.noDragEventsBubbling,O=t.onError,S=t.validator,j=x.useMemo(function(){return pf(a)},[a]),P=x.useMemo(function(){return uf(a)},[a]),M=x.useMemo(function(){return typeof b=="function"?b:Ai},[b]),K=x.useMemo(function(){return typeof g=="function"?g:Ai},[g]),U=x.useRef(null),Y=x.useRef(null),B=x.useReducer(Af,pn),he=Vr(B,2),we=he[0],ee=he[1],cr=we.isFocused,Rt=we.isFileDialogActive,Ze=x.useRef(typeof window!="undefined"&&window.isSecureContext&&C&&df()),H=function(){!Ze.current&&Rt&&setTimeout(function(){if(Y.current){var I=Y.current.files;I.length||(ee({type:"closeDialog"}),K())}},300)};x.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[Y,Rt,K,Ze]);var fe=x.useRef([]),jt=function(I){U.current&&U.current.contains(I.target)||(I.preventDefault(),fe.current=[])};x.useEffect(function(){return w&&(document.addEventListener("dragover",Si,!1),document.addEventListener("drop",jt,!1)),function(){w&&(document.removeEventListener("dragover",Si),document.removeEventListener("drop",jt))}},[U,w]),x.useEffect(function(){return!r&&v&&U.current&&U.current.focus(),function(){}},[U,v,r]);var ke=x.useCallback(function(D){O?O(D):console.error(D)},[O]),Dt=x.useCallback(function(D){D.preventDefault(),D.persist(),da(D),fe.current=[].concat(bf(fe.current),[D.target]),ba(D)&&Promise.resolve(s(D)).then(function(I){if(!(_a(D)&&!L)){var te=I.length,se=te>0&&sf({files:I,accept:j,minSize:i,maxSize:o,multiple:l,maxFiles:u,validator:S}),pe=te>0&&!se;ee({isDragAccept:se,isDragReject:pe,isDragActive:!0,type:"setDraggedFiles"}),p&&p(D)}}).catch(function(I){return ke(I)})},[s,p,ke,L,j,i,o,l,u,S]),ze=x.useCallback(function(D){D.preventDefault(),D.persist(),da(D);var I=ba(D);if(I&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch(te){}return I&&m&&m(D),!1},[m,L]),Lt=x.useCallback(function(D){D.preventDefault(),D.persist(),da(D);var I=fe.current.filter(function(se){return U.current&&U.current.contains(se)}),te=I.indexOf(D.target);te!==-1&&I.splice(te,1),fe.current=I,!(I.length>0)&&(ee({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ba(D)&&d&&d(D))},[U,d,L]),ht=x.useCallback(function(D,I){var te=[],se=[];D.forEach(function(pe){var Ot=Wl(pe,j),gt=Vr(Ot,2),pr=gt[0],mr=gt[1],hr=Kl(pe,i,o),ua=Vr(hr,2),fr=ua[0],gr=ua[1],xr=S?S(pe):null;if(pr&&fr&&!xr)te.push(pe);else{var yr=[mr,gr];xr&&(yr=yr.concat(xr)),se.push({file:pe,errors:yr.filter(function(Ac){return Ac})})}}),(!l&&te.length>1||l&&u>=1&&te.length>u)&&(te.forEach(function(pe){se.push({file:pe,errors:[nf]})}),te.splice(0)),ee({acceptedFiles:te,fileRejections:se,isDragReject:se.length>0,type:"setFiles"}),h&&h(te,se,I),se.length>0&&y&&y(se,I),te.length>0&&f&&f(te,I)},[ee,l,j,i,o,u,h,f,y,S]),_e=x.useCallback(function(D){D.preventDefault(),D.persist(),da(D),fe.current=[],ba(D)&&Promise.resolve(s(D)).then(function(I){_a(D)&&!L||ht(I,D)}).catch(function(I){return ke(I)}),ee({type:"reset"})},[s,ht,ke,L]),ye=x.useCallback(function(){if(Ze.current){ee({type:"openDialog"}),M();var D={multiple:l,types:P};window.showOpenFilePicker(D).then(function(I){return s(I)}).then(function(I){ht(I,null),ee({type:"closeDialog"})}).catch(function(I){mf(I)?(K(I),ee({type:"closeDialog"})):hf(I)?(Ze.current=!1,Y.current?(Y.current.value=null,Y.current.click()):ke(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ke(I)});return}Y.current&&(ee({type:"openDialog"}),M(),Y.current.value=null,Y.current.click())},[ee,M,K,C,ht,ke,P,l]),Ne=x.useCallback(function(D){!U.current||!U.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),ye())},[U,ye]),dr=x.useCallback(function(){ee({type:"focus"})},[]),es=x.useCallback(function(){ee({type:"blur"})},[]),ts=x.useCallback(function(){N||(cf()?setTimeout(ye,0):ye())},[N,ye]),ft=function(I){return r?null:I},ur=function(I){return A?null:ft(I)},ca=function(I){return E?null:ft(I)},da=function(I){L&&I.stopPropagation()},Cc=x.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=D.refKey,te=I===void 0?"ref":I,se=D.role,pe=D.onKeyDown,Ot=D.onFocus,gt=D.onBlur,pr=D.onClick,mr=D.onDragEnter,hr=D.onDragOver,ua=D.onDragLeave,fr=D.onDrop,gr=$a(D,xf);return G(G(un({onKeyDown:ur(Te(pe,Ne)),onFocus:ur(Te(Ot,dr)),onBlur:ur(Te(gt,es)),onClick:ft(Te(pr,ts)),onDragEnter:ca(Te(mr,Dt)),onDragOver:ca(Te(hr,ze)),onDragLeave:ca(Te(ua,Lt)),onDrop:ca(Te(fr,_e)),role:typeof se=="string"&&se!==""?se:"presentation"},te,U),!r&&!A?{tabIndex:0}:{}),gr)}},[U,Ne,dr,es,ts,Dt,ze,Lt,_e,A,E,r]),Sc=x.useCallback(function(D){D.stopPropagation()},[]),Tc=x.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=D.refKey,te=I===void 0?"ref":I,se=D.onChange,pe=D.onClick,Ot=$a(D,yf),gt=un({accept:j,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ft(Te(se,_e)),onClick:ft(Te(pe,Sc)),tabIndex:-1},te,Y);return G(G({},gt),Ot)}},[Y,a,l,_e,r]);return G(G({},we),{},{isFocused:cr&&!r,getRootProps:Cc,getInputProps:Tc,rootRef:U,inputRef:Y,open:ft(ye)})}function Af(e,t){switch(t.type){case"focus":return G(G({},e),{},{isFocused:!0});case"blur":return G(G({},e),{},{isFocused:!1});case"openDialog":return G(G({},pn),{},{isFileDialogActive:!0});case"closeDialog":return G(G({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return G(G({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return G(G({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return G({},pn);default:return e}}function Ai(){}const Pf=({onUpload:e,isUploading:t=!1,acceptedTypes:a=".pdf,.doc,.docx,.txt"})=>{const[r,s]=x.useState(0),o=x.useCallback(d=>{d.length>0&&e&&e(d)},[e]),{getRootProps:i,getInputProps:l,isDragActive:u,isDragReject:p}=Zl({onDrop:o,accept:{"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"]},maxFiles:10,maxSize:50*1024*1024});return c("div",{className:"space-y-4",children:[c("div",R(k({},i()),{className:`
          relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all
          ${u&&!p?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":p?"border-red-400 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}
          ${t?"pointer-events-none opacity-50":""}
        `,children:[n("input",k({},l())),t?c("div",{className:"space-y-4",children:[n("div",{className:"text-4xl",children:"⏳"}),c("div",{children:[n("div",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"در حال آپلود..."}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),c("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[r,"%"]})]})]}):c("div",{className:"space-y-4",children:[n("div",{className:"text-6xl",children:u?"📥":"📄"}),c("div",{children:[n("div",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:u?"فایل‌ها را اینجا رها کنید":"فایل‌هایتان را اینجا بکشید یا کلیک کنید"}),n("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"فرمت‌های پشتیبانی شده: PDF, DOC, DOCX, TXT (حداکثر ۵۰ مگابایت)"})]})]}),p&&n("div",{className:"absolute inset-0 bg-red-50 dark:bg-red-900/20 border-2 border-red-400 border-dashed rounded-lg flex items-center justify-center",children:c("div",{className:"text-center",children:[n("div",{className:"text-4xl mb-2",children:"❌"}),n("div",{className:"text-red-600 dark:text-red-400 font-medium",children:"فرمت فایل پشتیبانی نمی‌شود"})]})})]})),n("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"حداکثر ۱۰ فایل در هر بار آپلود • حداکثر حجم هر فایل: ۵۰ مگابایت"})]})},Ef=({history:e=[]})=>{const[t,a]=x.useState("all"),r=l=>{switch(l){case"completed":return"✅";case"processing":return"⏳";case"failed":return"❌";case"queued":return"⏱️";default:return"📄"}},s=l=>{switch(l){case"completed":return"تکمیل شده";case"processing":return"در حال پردازش";case"failed":return"ناموفق";case"queued":return"در صف";default:return"نامشخص"}},o=l=>{switch(l){case"completed":return"text-green-600 dark:text-green-400";case"processing":return"text-blue-600 dark:text-blue-400";case"failed":return"text-red-600 dark:text-red-400";case"queued":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-600 dark:text-gray-400"}},i=e.filter(l=>t==="all"?!0:l.status===t);return e.length,c("div",{className:"space-y-6",children:[c("div",{className:"flex justify-between items-center",children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📋 تاریخچه پردازش"}),c("select",{value:t,onChange:l=>a(l.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[n("option",{value:"all",children:"همه"}),n("option",{value:"completed",children:"تکمیل شده"}),n("option",{value:"processing",children:"در حال پردازش"}),n("option",{value:"failed",children:"ناموفق"}),n("option",{value:"queued",children:"در صف"})]})]}),n("div",{className:"space-y-4",children:i.length===0?c("div",{className:"text-center py-8",children:[n("div",{className:"text-gray-400 text-4xl mb-4",children:"📭"}),n("p",{className:"text-gray-500 dark:text-gray-400",children:"هیچ سابقه پردازشی یافت نشد"})]}):i.map(l=>c("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-6",children:[c("div",{className:"flex items-start justify-between mb-4",children:[c("div",{className:"flex items-center gap-3",children:[n("span",{className:"text-2xl",children:r(l.status)}),c("div",{children:[n("h3",{className:"font-medium text-gray-900 dark:text-white",children:l.filename}),n("span",{className:`text-sm ${o(l.status)}`,children:s(l.status)})]})]}),n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.startTime})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"حجم فایل:"}),n("div",{className:"font-medium text-gray-900 dark:text-white",children:l.fileSize})]}),l.pages&&c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"تعداد صفحات:"}),n("div",{className:"font-medium text-gray-900 dark:text-white",children:l.pages})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"زمان پردازش:"}),n("div",{className:"font-medium text-gray-900 dark:text-white",children:l.processingTime})]}),l.extractedText&&c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"متن استخراج شده:"}),c("div",{className:"font-medium text-gray-900 dark:text-white",children:[l.extractedText," کلمه"]})]})]}),l.error&&n("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c("div",{className:"text-red-700 dark:text-red-300 text-sm",children:[n("strong",{children:"خطا:"})," ",l.error]})}),l.status==="processing"&&c("div",{className:"mt-4",children:[n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"در حال پردازش..."})]})]},l.id))})]})},Rf=({progress:e,onCancel:t})=>{const{current:a,total:r,processed:s,failed:o,currentUrl:i,startTime:l}=e,u=r>0?Math.round(a/r*100):0,p=s+o,d=p>0?Math.round(s/p*100):0,m=()=>{if(!l)return"0:00";const f=Math.floor((new Date-l)/1e3),y=Math.floor(f/60),g=f%60;return`${y}:${g.toString().padStart(2,"0")}`},h=()=>{if(!l||a===0)return"نامشخص";const y=(new Date-l)/1e3/a,g=r-a,b=Math.round(g*y);if(b<60)return`${b} ثانیه`;const C=Math.floor(b/60),v=b%60;return`${C} دقیقه و ${v} ثانیه`};return c("div",{className:"card p-6 border-l-4 border-blue-500",children:[c("div",{className:"flex items-center justify-between mb-4",children:[c("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:n("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),c("div",{children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"پردازش در حال انجام"}),c("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["دسته ",a," از ",r," • ",u,"% تکمیل شده"]})]})]}),t&&n("button",{onClick:t,className:"px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg transition-colors text-sm font-medium",children:"لغو پردازش"})]}),c("div",{className:"mb-4",children:[c("div",{className:"flex items-center justify-between mb-2",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پیشرفت کلی"}),c("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[u,"%"]})]}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:n("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${u}%`}})})]}),c("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[c("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s}),n("div",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"موفق"})]}),c("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:o}),n("div",{className:"text-xs text-red-700 dark:text-red-300 font-medium",children:"ناموفق"})]}),c("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[c("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[d,"%"]}),n("div",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"نرخ موفقیت"})]}),c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:m()}),n("div",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:"زمان سپری شده"})]})]}),i&&c("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4",children:[c("div",{className:"flex items-center space-x-2 space-x-reverse mb-2",children:[n("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"در حال پردازش:"}),n("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),n("div",{className:"font-mono text-sm text-gray-600 dark:text-gray-400 break-all",children:i})]}),c("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[c("span",{children:["زمان تخمینی باقی‌مانده: ",h()]}),c("span",{children:["آخرین بروزرسانی: ",new Date().toLocaleTimeString("fa-IR")]})]})]})},jf=({results:e=[]})=>{const[t,a]=x.useState(null),[r,s]=x.useState("list"),o=e.length===0?[{id:1,filename:"قرارداد_نمونه.pdf",extractedText:"این یک نمونه متن استخراج شده از سند حقوقی است که شامل اطلاعات مهم قراردادی می‌باشد...",entities:[{type:"person",value:"احمد محمدی",confidence:.95},{type:"organization",value:"شرکت فناوری پارس",confidence:.92},{type:"date",value:"1402/10/15",confidence:.98},{type:"amount",value:"۵۰۰,۰۰۰ تومان",confidence:.89}],categories:["قرارداد","مدنی","تجاری"],confidence:.94,processingTime:"2.3 ثانیه",wordCount:1250,sentiment:"neutral"},{id:2,filename:"رای_دادگاه.pdf",extractedText:"رای شماره ۱۲۳۴ دادگاه عمومی تهران در خصوص پرونده کلاسه ۹۸۰۱۲۳...",entities:[{type:"court",value:"دادگاه عمومی تهران",confidence:.96},{type:"case_number",value:"۹۸۰۱۲۳",confidence:.99},{type:"judge",value:"قاضی رضایی",confidence:.91}],categories:["رای دادگاه","کیفری","حکم"],confidence:.97,processingTime:"3.1 ثانیه",wordCount:2150,sentiment:"formal"}]:e,i=d=>{switch(d){case"positive":return"😊";case"negative":return"😟";case"neutral":return"😐";case"formal":return"📋";default:return"❓"}},l=d=>{switch(d){case"positive":return"مثبت";case"negative":return"منفی";case"neutral":return"خنثی";case"formal":return"رسمی";default:return"نامشخص"}},u=d=>{switch(d){case"person":return"👤";case"organization":return"🏢";case"date":return"📅";case"amount":return"💰";case"court":return"⚖️";case"case_number":return"📋";case"judge":return"👨‍⚖️";default:return"🏷️"}},p=d=>{switch(d){case"person":return"شخص";case"organization":return"سازمان";case"date":return"تاریخ";case"amount":return"مبلغ";case"court":return"دادگاه";case"case_number":return"شماره پرونده";case"judge":return"قاضی";default:return d}};return c("div",{className:"space-y-6",children:[c("div",{className:"flex justify-between items-center",children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📊 نتایج تحلیل"}),c("div",{className:"flex gap-2",children:[n("button",{onClick:()=>s("list"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="list"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"📋 لیست"}),n("button",{onClick:()=>s("grid"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="grid"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"⊞ شبکه‌ای"})]})]}),o.length===0?c("div",{className:"text-center py-8",children:[n("div",{className:"text-gray-400 text-4xl mb-4",children:"📊"}),n("p",{className:"text-gray-500 dark:text-gray-400",children:"هنوز نتیجه‌ای برای نمایش وجود ندارد"})]}):n("div",{className:r==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-6",children:o.map(d=>c("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>a(d),children:[c("div",{className:"flex justify-between items-start mb-4",children:[c("div",{children:[c("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:["📄 ",d.filename]}),c("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[c("span",{children:["⏱️ ",d.processingTime]}),c("span",{children:["📝 ",d.wordCount," کلمه"]}),c("span",{children:["🎯 ",Math.round(d.confidence*100),"%"]})]})]}),c("div",{className:"flex items-center gap-2",children:[n("span",{className:"text-lg",children:i(d.sentiment)}),n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:l(d.sentiment)})]})]}),n("div",{className:"mb-4",children:n("div",{className:"flex flex-wrap gap-2",children:d.categories.map((m,h)=>n("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:m},h))})}),c("div",{className:"mb-4",children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"متن استخراج شده:"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3",children:d.extractedText})]}),c("div",{children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"موجودیت‌های شناسایی شده:"}),c("div",{className:"flex flex-wrap gap-2",children:[d.entities.slice(0,4).map((m,h)=>c("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:[n("span",{children:u(m.type)}),n("span",{className:"font-medium",children:m.value}),c("span",{className:"text-gray-500 dark:text-gray-400",children:["(",Math.round(m.confidence*100),"%)"]})]},h)),d.entities.length>4&&c("span",{className:"text-xs text-gray-500 dark:text-gray-400 px-2 py-1",children:["+",d.entities.length-4," بیشتر"]})]})]})]},d.id))}),t&&n("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:c("div",{className:"p-6",children:[c("div",{className:"flex justify-between items-start mb-6",children:[c("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["📄 ",t.filename]}),n("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:"✕"})]}),c("div",{className:"space-y-6",children:[c("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[Math.round(t.confidence*100),"%"]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"دقت"})]}),c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.wordCount}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"کلمه"})]}),c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.entities.length}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"موجودیت"})]}),c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.processingTime}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"زمان پردازش"})]})]}),c("div",{children:[n("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"متن کامل:"}),n("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm text-gray-700 dark:text-gray-300 max-h-60 overflow-y-auto",children:t.extractedText})]}),c("div",{children:[n("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"تمام موجودیت‌های شناسایی شده:"}),n("div",{className:"space-y-2",children:t.entities.map((d,m)=>c("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c("div",{className:"flex items-center gap-3",children:[n("span",{className:"text-lg",children:u(d.type)}),c("div",{children:[n("div",{className:"font-medium text-gray-900 dark:text-white",children:d.value}),n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:p(d.type)})]})]}),c("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[Math.round(d.confidence*100),"% اطمینان"]})]},m))})]})]})]})})})]})};function Ql(e,t){return function(){return e.apply(t,arguments)}}const{toString:Df}=Object.prototype,{getPrototypeOf:Kn}=Object,{iterator:ar,toStringTag:ec}=Symbol,rr=(e=>t=>{const a=Df.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ve=e=>(e=e.toLowerCase(),t=>rr(t)===e),nr=e=>t=>typeof t===e,{isArray:Pt}=Array,Zt=nr("undefined");function ia(e){return e!==null&&!Zt(e)&&e.constructor!==null&&!Zt(e.constructor)&&de(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tc=ve("ArrayBuffer");function Lf(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&tc(e.buffer),t}const Of=nr("string"),de=nr("function"),ac=nr("number"),oa=e=>e!==null&&typeof e=="object",Mf=e=>e===!0||e===!1,Ca=e=>{if(rr(e)!=="object")return!1;const t=Kn(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ec in e)&&!(ar in e)},Ff=e=>{if(!oa(e)||ia(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},Vf=ve("Date"),If=ve("File"),zf=ve("Blob"),_f=ve("FileList"),$f=e=>oa(e)&&de(e.pipe),Bf=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||de(e.append)&&((t=rr(e))==="formdata"||t==="object"&&de(e.toString)&&e.toString()==="[object FormData]"))},Uf=ve("URLSearchParams"),[qf,Hf,Wf,Kf]=["ReadableStream","Request","Response","Headers"].map(ve),Gf=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function la(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e=="undefined")return;let r,s;if(typeof e!="object"&&(e=[e]),Pt(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(ia(e))return;const o=a?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],t.call(null,e[l],l,e)}}function rc(e,t){if(ia(e))return null;t=t.toLowerCase();const a=Object.keys(e);let r=a.length,s;for(;r-- >0;)if(s=a[r],t===s.toLowerCase())return s;return null}const it=(()=>typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global)(),nc=e=>!Zt(e)&&e!==it;function mn(){const{caseless:e}=nc(this)&&this||{},t={},a=(r,s)=>{const o=e&&rc(t,s)||s;Ca(t[o])&&Ca(r)?t[o]=mn(t[o],r):Ca(r)?t[o]=mn({},r):Pt(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&la(arguments[r],a);return t}const Jf=(e,t,a,{allOwnKeys:r}={})=>(la(t,(s,o)=>{a&&de(s)?e[o]=Ql(s,a):e[o]=s},{allOwnKeys:r}),e),Xf=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Yf=(e,t,a,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},Zf=(e,t,a,r)=>{let s,o,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=a!==!1&&Kn(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},Qf=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const r=e.indexOf(t,a);return r!==-1&&r===a},eg=e=>{if(!e)return null;if(Pt(e))return e;let t=e.length;if(!ac(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},tg=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&Kn(Uint8Array)),ag=(e,t)=>{const r=(e&&e[ar]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},rg=(e,t)=>{let a;const r=[];for(;(a=e.exec(t))!==null;)r.push(a);return r},ng=ve("HTMLFormElement"),sg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,s){return r.toUpperCase()+s}),Pi=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),ig=ve("RegExp"),sc=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),r={};la(a,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},og=e=>{sc(e,(t,a)=>{if(de(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(de(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},lg=(e,t)=>{const a={},r=s=>{s.forEach(o=>{a[o]=!0})};return Pt(e)?r(e):r(String(e).split(t)),a},cg=()=>{},dg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ug(e){return!!(e&&de(e.append)&&e[ec]==="FormData"&&e[ar])}const pg=e=>{const t=new Array(10),a=(r,s)=>{if(oa(r)){if(t.indexOf(r)>=0)return;if(ia(r))return r;if(!("toJSON"in r)){t[s]=r;const o=Pt(r)?[]:{};return la(r,(i,l)=>{const u=a(i,s+1);!Zt(u)&&(o[l]=u)}),t[s]=void 0,o}}return r};return a(e,0)},mg=ve("AsyncFunction"),hg=e=>e&&(oa(e)||de(e))&&de(e.then)&&de(e.catch),ic=((e,t)=>e?setImmediate:t?((a,r)=>(it.addEventListener("message",({source:s,data:o})=>{s===it&&o===a&&r.length&&r.shift()()},!1),s=>{r.push(s),it.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",de(it.postMessage)),fg=typeof queueMicrotask!="undefined"?queueMicrotask.bind(it):typeof process!="undefined"&&process.nextTick||ic,gg=e=>e!=null&&de(e[ar]),T={isArray:Pt,isArrayBuffer:tc,isBuffer:ia,isFormData:Bf,isArrayBufferView:Lf,isString:Of,isNumber:ac,isBoolean:Mf,isObject:oa,isPlainObject:Ca,isEmptyObject:Ff,isReadableStream:qf,isRequest:Hf,isResponse:Wf,isHeaders:Kf,isUndefined:Zt,isDate:Vf,isFile:If,isBlob:zf,isRegExp:ig,isFunction:de,isStream:$f,isURLSearchParams:Uf,isTypedArray:tg,isFileList:_f,forEach:la,merge:mn,extend:Jf,trim:Gf,stripBOM:Xf,inherits:Yf,toFlatObject:Zf,kindOf:rr,kindOfTest:ve,endsWith:Qf,toArray:eg,forEachEntry:ag,matchAll:rg,isHTMLForm:ng,hasOwnProperty:Pi,hasOwnProp:Pi,reduceDescriptors:sc,freezeMethods:og,toObjectSet:lg,toCamelCase:sg,noop:cg,toFiniteNumber:dg,findKey:rc,global:it,isContextDefined:nc,isSpecCompliantForm:ug,toJSONObject:pg,isAsyncFn:mg,isThenable:hg,setImmediate:ic,asap:fg,isIterable:gg};function z(e,t,a,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}T.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const oc=z.prototype,lc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lc[e]={value:e}});Object.defineProperties(z,lc);Object.defineProperty(oc,"isAxiosError",{value:!0});z.from=(e,t,a,r,s,o)=>{const i=Object.create(oc);return T.toFlatObject(e,i,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),z.call(i,e.message,t,a,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const xg=null;function hn(e){return T.isPlainObject(e)||T.isArray(e)}function cc(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Ei(e,t,a){return e?e.concat(t).map(function(s,o){return s=cc(s),!a&&o?"["+s+"]":s}).join(a?".":""):t}function yg(e){return T.isArray(e)&&!e.some(hn)}const bg=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function sr(e,t,a){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=T.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!T.isUndefined(b[g])});const r=a.metaTokens,s=a.visitor||d,o=a.dots,i=a.indexes,u=(a.Blob||typeof Blob!="undefined"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(s))throw new TypeError("visitor must be a function");function p(y){if(y===null)return"";if(T.isDate(y))return y.toISOString();if(T.isBoolean(y))return y.toString();if(!u&&T.isBlob(y))throw new z("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(y)||T.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,g,b){let C=y;if(y&&!b&&typeof y=="object"){if(T.endsWith(g,"{}"))g=r?g:g.slice(0,-2),y=JSON.stringify(y);else if(T.isArray(y)&&yg(y)||(T.isFileList(y)||T.endsWith(g,"[]"))&&(C=T.toArray(y)))return g=cc(g),C.forEach(function(w,N){!(T.isUndefined(w)||w===null)&&t.append(i===!0?Ei([g],N,o):i===null?g:g+"[]",p(w))}),!1}return hn(y)?!0:(t.append(Ei(b,g,o),p(y)),!1)}const m=[],h=Object.assign(bg,{defaultVisitor:d,convertValue:p,isVisitable:hn});function f(y,g){if(!T.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(y),T.forEach(y,function(C,v){(!(T.isUndefined(C)||C===null)&&s.call(t,C,T.isString(v)?v.trim():v,g,h))===!0&&f(C,g?g.concat(v):[v])}),m.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Ri(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Gn(e,t){this._pairs=[],e&&sr(e,this,t)}const dc=Gn.prototype;dc.append=function(t,a){this._pairs.push([t,a])};dc.toString=function(t){const a=t?function(r){return t.call(this,r,Ri)}:Ri;return this._pairs.map(function(s){return a(s[0])+"="+a(s[1])},"").join("&")};function vg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uc(e,t,a){if(!t)return e;const r=a&&a.encode||vg;T.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let o;if(s?o=s(t,a):o=T.isURLSearchParams(t)?t.toString():new Gn(t,a).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class wg{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ji=wg,pc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kg=typeof URLSearchParams!="undefined"?URLSearchParams:Gn,Ng=typeof FormData!="undefined"?FormData:null,Cg=typeof Blob!="undefined"?Blob:null,Sg={isBrowser:!0,classes:{URLSearchParams:kg,FormData:Ng,Blob:Cg},protocols:["http","https","file","blob","url","data"]},Jn=typeof window!="undefined"&&typeof document!="undefined",fn=typeof navigator=="object"&&navigator||void 0,Tg=Jn&&(!fn||["ReactNative","NativeScript","NS"].indexOf(fn.product)<0),Ag=(()=>typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Pg=Jn&&window.location.href||"http://localhost",Eg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jn,hasStandardBrowserEnv:Tg,hasStandardBrowserWebWorkerEnv:Ag,navigator:fn,origin:Pg},Symbol.toStringTag,{value:"Module"})),le=k(k({},Eg),Sg);function Rg(e,t){return sr(e,new le.classes.URLSearchParams,k({visitor:function(a,r,s,o){return le.isNode&&T.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function jg(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Dg(e){const t={},a=Object.keys(e);let r;const s=a.length;let o;for(r=0;r<s;r++)o=a[r],t[o]=e[o];return t}function mc(e){function t(a,r,s,o){let i=a[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=a.length;return i=!i&&T.isArray(s)?s.length:i,u?(T.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!l):((!s[i]||!T.isObject(s[i]))&&(s[i]=[]),t(a,r,s[i],o)&&T.isArray(s[i])&&(s[i]=Dg(s[i])),!l)}if(T.isFormData(e)&&T.isFunction(e.entries)){const a={};return T.forEachEntry(e,(r,s)=>{t(jg(r),s,a,0)}),a}return null}function Lg(e,t,a){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const Xn={transitional:pc,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",s=r.indexOf("application/json")>-1,o=T.isObject(t);if(o&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return s?JSON.stringify(mc(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Rg(t,this.formSerializer).toString();if((l=T.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return sr(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||s?(a.setContentType("application/json",!1),Lg(t)):t}],transformResponse:[function(t){const a=this.transitional||Xn.transitional,r=a&&a.forcedJSONParsing,s=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(r&&!this.responseType||s)){const i=!(a&&a.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?z.from(l,z.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Xn.headers[e]={}});const Yn=Xn,Og=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mg=e=>{const t={};let a,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),a=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!a||t[a]&&Og[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},Di=Symbol("internals");function It(e){return e&&String(e).trim().toLowerCase()}function Sa(e){return e===!1||e==null?e:T.isArray(e)?e.map(Sa):String(e)}function Fg(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)t[r[1]]=r[2];return t}const Vg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ir(e,t,a,r,s){if(T.isFunction(r))return r.call(this,t,a);if(s&&(t=a),!!T.isString(t)){if(T.isString(r))return t.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(t)}}function Ig(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function zg(e,t){const a=T.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}class ir{constructor(t){t&&this.set(t)}set(t,a,r){const s=this;function o(l,u,p){const d=It(u);if(!d)throw new Error("header name must be a non-empty string");const m=T.findKey(s,d);(!m||s[m]===void 0||p===!0||p===void 0&&s[m]!==!1)&&(s[m||u]=Sa(l))}const i=(l,u)=>T.forEach(l,(p,d)=>o(p,d,u));if(T.isPlainObject(t)||t instanceof this.constructor)i(t,a);else if(T.isString(t)&&(t=t.trim())&&!Vg(t))i(Mg(t),a);else if(T.isObject(t)&&T.isIterable(t)){let l={},u,p;for(const d of t){if(!T.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[p=d[0]]=(u=l[p])?T.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}i(l,a)}else t!=null&&o(a,t,r);return this}get(t,a){if(t=It(t),t){const r=T.findKey(this,t);if(r){const s=this[r];if(!a)return s;if(a===!0)return Fg(s);if(T.isFunction(a))return a.call(this,s,r);if(T.isRegExp(a))return a.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=It(t),t){const r=T.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||Ir(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let s=!1;function o(i){if(i=It(i),i){const l=T.findKey(r,i);l&&(!a||Ir(r,r[l],l,a))&&(delete r[l],s=!0)}}return T.isArray(t)?t.forEach(o):o(t),s}clear(t){const a=Object.keys(this);let r=a.length,s=!1;for(;r--;){const o=a[r];(!t||Ir(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const a=this,r={};return T.forEach(this,(s,o)=>{const i=T.findKey(r,o);if(i){a[i]=Sa(s),delete a[o];return}const l=t?Ig(o):String(o).trim();l!==o&&delete a[o],a[l]=Sa(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return T.forEach(this,(r,s)=>{r!=null&&r!==!1&&(a[s]=t&&T.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Di]=this[Di]={accessors:{}}).accessors,s=this.prototype;function o(i){const l=It(i);r[l]||(zg(s,i),r[l]=!0)}return T.isArray(t)?t.forEach(o):o(t),this}}ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(ir.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[a]=r}}});T.freezeMethods(ir);const be=ir;function zr(e,t){const a=this||Yn,r=t||a,s=be.from(r.headers);let o=r.data;return T.forEach(e,function(l){o=l.call(a,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function hc(e){return!!(e&&e.__CANCEL__)}function Et(e,t,a){z.call(this,e==null?"canceled":e,z.ERR_CANCELED,t,a),this.name="CanceledError"}T.inherits(Et,z,{__CANCEL__:!0});function fc(e,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):t(new z("Request failed with status code "+a.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function _g(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $g(e,t){e=e||10;const a=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(u){const p=Date.now(),d=r[o];i||(i=p),a[s]=u,r[s]=p;let m=o,h=0;for(;m!==s;)h+=a[m++],m=m%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),p-i<t)return;const f=d&&p-d;return f?Math.round(h*1e3/f):void 0}}function Bg(e,t){let a=0,r=1e3/t,s,o;const i=(p,d=Date.now())=>{a=d,s=null,o&&(clearTimeout(o),o=null),e(...p)};return[(...p)=>{const d=Date.now(),m=d-a;m>=r?i(p,d):(s=p,o||(o=setTimeout(()=>{o=null,i(s)},r-m)))},()=>s&&i(s)]}const Ba=(e,t,a=3)=>{let r=0;const s=$g(50,250);return Bg(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-r,p=s(u),d=i<=l;r=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:p||void 0,estimated:p&&l&&d?(l-i)/p:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},a)},Li=(e,t)=>{const a=e!=null;return[r=>t[0]({lengthComputable:a,total:e,loaded:r}),t[1]]},Oi=e=>(...t)=>T.asap(()=>e(...t)),Ug=le.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,le.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(le.origin),le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent)):()=>!0,qg=le.hasStandardBrowserEnv?{write(e,t,a,r,s,o){const i=[e+"="+encodeURIComponent(t)];T.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),T.isString(r)&&i.push("path="+r),T.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Hg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Wg(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gc(e,t,a){let r=!Hg(t);return e&&(r||a==!1)?Wg(e,t):t}const Mi=e=>e instanceof be?k({},e):e;function dt(e,t){t=t||{};const a={};function r(p,d,m,h){return T.isPlainObject(p)&&T.isPlainObject(d)?T.merge.call({caseless:h},p,d):T.isPlainObject(d)?T.merge({},d):T.isArray(d)?d.slice():d}function s(p,d,m,h){if(T.isUndefined(d)){if(!T.isUndefined(p))return r(void 0,p,m,h)}else return r(p,d,m,h)}function o(p,d){if(!T.isUndefined(d))return r(void 0,d)}function i(p,d){if(T.isUndefined(d)){if(!T.isUndefined(p))return r(void 0,p)}else return r(void 0,d)}function l(p,d,m){if(m in t)return r(p,d);if(m in e)return r(void 0,p)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(p,d,m)=>s(Mi(p),Mi(d),m,!0)};return T.forEach(Object.keys(k(k({},e),t)),function(d){const m=u[d]||s,h=m(e[d],t[d],d);T.isUndefined(h)&&m!==l||(a[d]=h)}),a}const xc=e=>{const t=dt({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=be.from(i),t.url=uc(gc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(T.isFormData(a)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[p,...d]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([p||"multipart/form-data",...d].join("; "))}}if(le.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(t)),r||r!==!1&&Ug(t.url))){const p=s&&o&&qg.read(o);p&&i.set(s,p)}return t},Kg=typeof XMLHttpRequest!="undefined",Gg=Kg&&function(e){return new Promise(function(a,r){const s=xc(e);let o=s.data;const i=be.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:p}=s,d,m,h,f,y;function g(){f&&f(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function C(){if(!b)return;const w=be.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:e,request:b};fc(function(L){a(L),g()},function(L){r(L),g()},A),b=null}"onloadend"in b?b.onloadend=C:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(C)},b.onabort=function(){b&&(r(new z("Request aborted",z.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new z("Network Error",z.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||pc;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new z(N,A.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,e,b)),b=null},o===void 0&&i.setContentType(null),"setRequestHeader"in b&&T.forEach(i.toJSON(),function(N,A){b.setRequestHeader(A,N)}),T.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),p&&([h,y]=Ba(p,!0),b.addEventListener("progress",h)),u&&b.upload&&([m,f]=Ba(u),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",f)),(s.cancelToken||s.signal)&&(d=w=>{b&&(r(!w||w.type?new Et(null,e,b):w),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const v=_g(s.url);if(v&&le.protocols.indexOf(v)===-1){r(new z("Unsupported protocol "+v+":",z.ERR_BAD_REQUEST,e));return}b.send(o||null)})},Jg=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let r=new AbortController,s;const o=function(p){if(!s){s=!0,l();const d=p instanceof Error?p:this.reason;r.abort(d instanceof z?d:new Et(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new z(`timeout ${t} of ms exceeded`,z.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),e=null)};e.forEach(p=>p.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>T.asap(l),u}},Xg=Jg,Yg=function*(e,t){let a=e.byteLength;if(!t||a<t){yield e;return}let r=0,s;for(;r<a;)s=r+t,yield e.slice(r,s),r=s},Zg=function(e,t){return wr(this,null,function*(){try{for(var a=ns(Qg(e)),r,s,o;r=!(s=yield new Qe(a.next())).done;r=!1){const i=s.value;yield*kr(Yg(i,t))}}catch(s){o=[s]}finally{try{r&&(s=a.return)&&(yield new Qe(s.call(a)))}finally{if(o)throw o[0]}}})},Qg=function(e){return wr(this,null,function*(){if(e[Symbol.asyncIterator]){yield*kr(e);return}const t=e.getReader();try{for(;;){const{done:a,value:r}=yield new Qe(t.read());if(a)break;yield r}}finally{yield new Qe(t.cancel())}})},Fi=(e,t,a,r)=>{const s=Zg(e,t);let o=0,i,l=p=>{i||(i=!0,r&&r(p))};return new ReadableStream({pull(p){return F(this,null,function*(){try{const{done:d,value:m}=yield s.next();if(d){l(),p.close();return}let h=m.byteLength;if(a){let f=o+=h;a(f)}p.enqueue(new Uint8Array(m))}catch(d){throw l(d),d}})},cancel(p){return l(p),s.return()}},{highWaterMark:2})},or=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yc=or&&typeof ReadableStream=="function",ex=or&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):e=>F(_,null,function*(){return new Uint8Array(yield new Response(e).arrayBuffer())})),bc=(e,...t)=>{try{return!!e(...t)}catch(a){return!1}},tx=yc&&bc(()=>{let e=!1;const t=new Request(le.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Vi=64*1024,gn=yc&&bc(()=>T.isReadableStream(new Response("").body)),Ua={stream:gn&&(e=>e.body)};or&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ua[t]&&(Ua[t]=T.isFunction(e[t])?a=>a[t]():(a,r)=>{throw new z(`Response type '${t}' is not supported`,z.ERR_NOT_SUPPORT,r)})})})(new Response);const ax=e=>F(_,null,function*(){if(e==null)return 0;if(T.isBlob(e))return e.size;if(T.isSpecCompliantForm(e))return(yield new Request(le.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(T.isArrayBufferView(e)||T.isArrayBuffer(e))return e.byteLength;if(T.isURLSearchParams(e)&&(e=e+""),T.isString(e))return(yield ex(e)).byteLength}),rx=(e,t)=>F(_,null,function*(){const a=T.toFiniteNumber(e.getContentLength());return a==null?ax(t):a}),nx=or&&(e=>F(_,null,function*(){let{url:t,method:a,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:u,responseType:p,headers:d,withCredentials:m="same-origin",fetchOptions:h}=xc(e);p=p?(p+"").toLowerCase():"text";let f=Xg([s,o&&o.toAbortSignal()],i),y;const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let b;try{if(u&&tx&&a!=="get"&&a!=="head"&&(b=yield rx(d,r))!==0){let A=new Request(t,{method:"POST",body:r,duplex:"half"}),E;if(T.isFormData(r)&&(E=A.headers.get("content-type"))&&d.setContentType(E),A.body){const[L,O]=Li(b,Ba(Oi(u)));r=Fi(A.body,Vi,L,O)}}T.isString(m)||(m=m?"include":"omit");const C="credentials"in Request.prototype;y=new Request(t,R(k({},h),{signal:f,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:C?m:void 0}));let v=yield fetch(y,h);const w=gn&&(p==="stream"||p==="response");if(gn&&(l||w&&g)){const A={};["status","statusText","headers"].forEach(S=>{A[S]=v[S]});const E=T.toFiniteNumber(v.headers.get("content-length")),[L,O]=l&&Li(E,Ba(Oi(l),!0))||[];v=new Response(Fi(v.body,Vi,L,()=>{O&&O(),g&&g()}),A)}p=p||"text";let N=yield Ua[T.findKey(Ua,p)||"text"](v,e);return!w&&g&&g(),yield new Promise((A,E)=>{fc(A,E,{data:N,headers:be.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:y})})}catch(C){throw g&&g(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new z("Network Error",z.ERR_NETWORK,e,y),{cause:C.cause||C}):z.from(C,C&&C.code,e,y)}})),xn={http:xg,xhr:Gg,fetch:nx};T.forEach(xn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(a){}Object.defineProperty(e,"adapterName",{value:t})}});const Ii=e=>`- ${e}`,sx=e=>T.isFunction(e)||e===null||e===!1,vc={getAdapter:e=>{e=T.isArray(e)?e:[e];const{length:t}=e;let a,r;const s={};for(let o=0;o<t;o++){a=e[o];let i;if(r=a,!sx(a)&&(r=xn[(i=String(a)).toLowerCase()],r===void 0))throw new z(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(Ii).join(`
`):" "+Ii(o[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:xn};function _r(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Et(null,e)}function zi(e){return _r(e),e.headers=be.from(e.headers),e.data=zr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vc.getAdapter(e.adapter||Yn.adapter)(e).then(function(r){return _r(e),r.data=zr.call(e,e.transformResponse,r),r.headers=be.from(r.headers),r},function(r){return hc(r)||(_r(e),r&&r.response&&(r.response.data=zr.call(e,e.transformResponse,r.response),r.response.headers=be.from(r.response.headers))),Promise.reject(r)})}const wc="1.11.0",lr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const _i={};lr.transitional=function(t,a,r){function s(o,i){return"[Axios v"+wc+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(t===!1)throw new z(s(i," has been removed"+(a?" in "+a:"")),z.ERR_DEPRECATED);return a&&!_i[i]&&(_i[i]=!0,console.warn(s(i," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(o,i,l):!0}};lr.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function ix(e,t,a){if(typeof e!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const l=e[o],u=l===void 0||i(l,o,e);if(u!==!0)throw new z("option "+o+" must be "+u,z.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new z("Unknown option "+o,z.ERR_BAD_OPTION)}}const Ta={assertOptions:ix,validators:lr},Ae=Ta.validators;class qa{constructor(t){this.defaults=t||{},this.interceptors={request:new ji,response:new ji}}request(t,a){return F(this,null,function*(){try{return yield this._request(t,a)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch(i){}}throw r}})}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=dt(this.defaults,a);const{transitional:r,paramsSerializer:s,headers:o}=a;r!==void 0&&Ta.assertOptions(r,{silentJSONParsing:Ae.transitional(Ae.boolean),forcedJSONParsing:Ae.transitional(Ae.boolean),clarifyTimeoutError:Ae.transitional(Ae.boolean)},!1),s!=null&&(T.isFunction(s)?a.paramsSerializer={serialize:s}:Ta.assertOptions(s,{encode:Ae.function,serialize:Ae.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Ta.assertOptions(a,{baseUrl:Ae.spelling("baseURL"),withXsrfToken:Ae.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&T.merge(o.common,o[a.method]);o&&T.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),a.headers=be.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(a)===!1||(u=u&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const p=[];this.interceptors.response.forEach(function(g){p.push(g.fulfilled,g.rejected)});let d,m=0,h;if(!u){const y=[zi.bind(this),void 0];for(y.unshift(...l),y.push(...p),h=y.length,d=Promise.resolve(a);m<h;)d=d.then(y[m++],y[m++]);return d}h=l.length;let f=a;for(m=0;m<h;){const y=l[m++],g=l[m++];try{f=y(f)}catch(b){g.call(this,b);break}}try{d=zi.call(this,f)}catch(y){return Promise.reject(y)}for(m=0,h=p.length;m<h;)d=d.then(p[m++],p[m++]);return d}getUri(t){t=dt(this.defaults,t);const a=gc(t.baseURL,t.url,t.allowAbsoluteUrls);return uc(a,t.params,t.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(t){qa.prototype[t]=function(a,r){return this.request(dt(r||{},{method:t,url:a,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(t){function a(r){return function(o,i,l){return this.request(dt(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}qa.prototype[t]=a(),qa.prototype[t+"Form"]=a(!0)});const Aa=qa;class Zn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,l){r.reason||(r.reason=new Et(o,i,l),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new Zn(function(s){t=s}),cancel:t}}}const ox=Zn;function lx(e){return function(a){return e.apply(null,a)}}function cx(e){return T.isObject(e)&&e.isAxiosError===!0}const yn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yn).forEach(([e,t])=>{yn[t]=e});const dx=yn;function kc(e){const t=new Aa(e),a=Ql(Aa.prototype.request,t);return T.extend(a,Aa.prototype,t,{allOwnKeys:!0}),T.extend(a,t,null,{allOwnKeys:!0}),a.create=function(s){return kc(dt(e,s))},a}const re=kc(Yn);re.Axios=Aa;re.CanceledError=Et;re.CancelToken=ox;re.isCancel=hc;re.VERSION=wc;re.toFormData=sr;re.AxiosError=z;re.Cancel=re.CanceledError;re.all=function(t){return Promise.all(t)};re.spread=lx;re.isAxiosError=cx;re.mergeConfig=dt;re.AxiosHeaders=be;re.formToJSON=e=>mc(T.isHTMLForm(e)?new FormData(e):e);re.getAdapter=vc.getAdapter;re.HttpStatusCode=dx;re.default=re;const Qn=re;class ux{constructor(){this.baseURL="https://your-backend-domain.com",this.axiosInstance=Qn.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.cache=new Map,this.cacheTimeout=5*60*1e3}analyzeContent(t){return F(this,null,function*(){var r,s;if(!t||!Array.isArray(t)||t.length===0)throw new Error("لطفاً آرایه‌ای از متن‌ها ارسال کنید");const a=this.createCacheKey(t);if(this.cache.has(a)){const o=this.cache.get(a);if(Date.now()-o.timestamp<this.cacheTimeout)return console.log("📋 استفاده از نتایج کش شده"),o.data}try{console.log(`🔍 تحلیل ${t.length} متن با هوش مصنوعی`);const o=yield this.axiosInstance.post("/analyze",{texts:t});if(o.data.success)return this.cache.set(a,{data:o.data,timestamp:Date.now()}),o.data;throw new Error(o.data.error||"خطا در تحلیل")}catch(o){if(console.error("خطا در تحلیل هوش مصنوعی:",o),o.code==="ECONNREFUSED"||o.code==="ERR_NETWORK")return console.warn("🔄 استفاده از تحلیل محلی به دلیل عدم دسترسی به سرور"),this.fallbackAnalysis(t);throw new Error(((s=(r=o.response)==null?void 0:r.data)==null?void 0:s.error)||o.message||"خطا در اتصال به سرور تحلیل")}})}getStats(){return F(this,null,function*(){try{const t=yield this.axiosInstance.get("/stats");return t.data.success?t.data.stats:null}catch(t){return console.error("خطا در دریافت آمار:",t),null}})}checkHealth(){return F(this,null,function*(){try{return(yield this.axiosInstance.get("/health")).data.status==="healthy"}catch(t){return!1}})}fallbackAnalysis(t){console.log("📊 اجرای تحلیل محلی...");const r=t.map((s,o)=>{const i=this.detectCategoryLocally(s),l=this.calculateLocalConfidence(s,i);return{text:s.substring(0,150)+(s.length>150?"...":""),fullText:s,category:i.type,score:l/100,confidence:l,legalType:i.type,legalScore:i.score,entities:this.extractEntitiesLocally(s),textLength:s.length,language:this.detectLanguage(s),analyzedAt:new Date().toISOString(),isLocal:!0}}).sort((s,o)=>o.confidence-s.confidence);return{success:!0,total:r.length,ranked:r,isLocal:!0,timestamp:new Date().toISOString(),stats:{totalRequests:t.length,successfulRequests:t.length,successRate:100,averageConfidence:Math.round(r.reduce((s,o)=>s+o.confidence,0)/r.length)}}}detectCategoryLocally(t){const a={قرارداد:{regex:/قرارداد|طرفین|خریدار|فروشنده|اجاره/gi,score:0},رای_دادگاه:{regex:/رای|حکم|دادگاه|قاضی|خواهان|خوانده/gi,score:0},قانون:{regex:/قانون|ماده|تبصره|فصل|باب/gi,score:0},دادخواست:{regex:/دادخواست|خواهان|علیه|خوانده/gi,score:0},شکایت:{regex:/شکایت|متهم|شاکی|جرم/gi,score:0},مصوبه:{regex:/مصوبه|تصویب|شورا|کمیسیون/gi,score:0},اخبار:{regex:/خبر|گزارش|اعلام|اطلاع/gi,score:0}};let r={type:"عمومی",score:0};return Object.entries(a).forEach(([s,o])=>{const l=(t.match(o.regex)||[]).length*10;l>r.score&&(r={type:s,score:Math.min(l,100)})}),r}calculateLocalConfidence(t,a){let r=50;return t.length>100&&(r+=10),t.length>500&&(r+=10),r+=Math.min(a.score/5,20),r+=Math.random()*10-5,Math.max(30,Math.min(95,Math.round(r)))}extractEntitiesLocally(t){return{persons:[...t.match(/(?:آقای|خانم|دکتر)\s+([آ-ی\s]{2,30})/gi)||[]].slice(0,3),dates:[...t.match(/\d{4}\/\d{1,2}\/\d{1,2}|[۰-۹]{4}\/[۰-۹]{1,2}\/[۰-۹]{1,2}/g)||[]].slice(0,3),amounts:[...t.match(/([\d,۰-۹]+)\s*(تومان|ریال)/gi)||[]].slice(0,2)}}detectLanguage(t){const a=(t.match(/[\u0600-\u06FF]/g)||[]).length,r=t.replace(/\s/g,"").length,s=a/r;return s>.7?"fa":s>.3?"mixed":"en"}createCacheKey(t){return btoa(JSON.stringify(t.map(a=>a.substring(0,100)))).substring(0,50)}clearCache(){this.cache.clear()}getCacheSize(){return this.cache.size}}const $i=new ux,Nc=({texts:e=[],title:t="🧠 رتبه‌بندی هوش مصنوعی",showDetails:a=!0,autoAnalyze:r=!1,className:s=""})=>{const[o,i]=x.useState([]),[l,u]=x.useState(!1),[p,d]=x.useState(!1),[m,h]=x.useState(null),[f,y]=x.useState(null),[g,b]=x.useState("unknown");x.useEffect(()=>{C(),r&&e.length>0&&v()},[e,r]);const C=()=>F(_,null,function*(){const E=yield $i.checkHealth();b(E?"healthy":"offline")}),v=()=>F(_,null,function*(){if(e.length===0){h("هیچ متنی برای تحلیل وجود ندارد");return}u(!0),h(null);try{const E=yield $i.analyzeContent(e);i(E.ranked||[]),y(E.stats),E.isLocal&&h("⚠️ سرور هوش مصنوعی در دسترس نیست. از تحلیل محلی استفاده شد.")}catch(E){h(E.message),i([])}finally{u(!1)}}),w=E=>E>=80?"text-green-600 dark:text-green-400":E>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",N=E=>E>=80?"bg-green-100 dark:bg-green-900/20":E>=60?"bg-yellow-100 dark:bg-yellow-900/20":"bg-red-100 dark:bg-red-900/20",A=E=>({قرارداد:"📄",رای_دادگاه:"⚖️",قانون:"📜",دادخواست:"📝",شکایت:"🚨",مصوبه:"✅",اخبار:"📰"})[E]||"📋";return e.length===0?n("div",{className:`bg-gray-50 dark:bg-gray-800 rounded-lg p-6 ${s}`,children:c("div",{className:"text-center",children:[n(Ct,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"هیچ متنی برای تحلیل هوش مصنوعی وجود ندارد"})]})}):c("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${s}`,children:[n("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:c("div",{className:"flex items-center justify-between",children:[c("div",{className:"flex items-center gap-3",children:[n("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:n(Ct,{className:"w-4 h-4 text-white"})}),c("div",{children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t}),c("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[c("span",{children:[e.length," متن"]}),n("span",{children:"•"}),c("div",{className:`flex items-center gap-1 ${g==="healthy"?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:[n("div",{className:`w-2 h-2 rounded-full ${g==="healthy"?"bg-green-500":"bg-orange-500"}`}),g==="healthy"?"آنلاین":"آفلاین"]})]})]})]}),c("div",{className:"flex items-center gap-2",children:[!r&&n("button",{onClick:v,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?c(X,{children:[n(je,{className:"w-4 h-4 animate-spin"}),"تحلیل..."]}):c(X,{children:[n(Xt,{className:"w-4 h-4"}),"تحلیل"]})}),o.length>0&&n("button",{onClick:()=>d(!p),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:p?n(d0,{className:"w-4 h-4"}):n(l0,{className:"w-4 h-4"})})]})]})}),m&&n("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800",children:n("p",{className:"text-red-700 dark:text-red-300 text-sm",children:m})}),l&&n("div",{className:"p-6",children:n("div",{className:"flex items-center justify-center",children:c("div",{className:"text-center",children:[n(je,{className:"w-8 h-8 text-purple-600 animate-spin mx-auto mb-3"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"در حال تحلیل با هوش مصنوعی..."}),n("div",{className:"mt-3 w-64 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})})}),!l&&o.length>0&&c("div",{className:"p-4",children:[f&&c("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[f.averageConfidence,"%"]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"میانگین اطمینان"})]}),c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[f.successRate,"%"]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نرخ موفقیت"})]}),c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:o.length}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"تحلیل شده"})]})]}),n("div",{className:"space-y-3",children:o.slice(0,p?o.length:3).map((E,L)=>c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:L+1}),n("div",{className:"text-2xl",children:A(E.category)}),c("div",{className:"flex-1 min-w-0",children:[c("div",{className:"flex items-center gap-2 mb-1",children:[n("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(E.confidence)} ${w(E.confidence)}`,children:E.category}),c("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[n(Il,{className:"w-3 h-3"}),E.confidence,"%"]}),E.isLocal&&n("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 text-xs rounded",children:"محلی"})]}),n("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:E.text}),a&&p&&c("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-600",children:[c("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[c("span",{children:["طول: ",E.textLength," کاراکتر"]}),c("span",{children:["زبان: ",E.language]}),E.legalScore>0&&c("span",{children:["امتیاز حقوقی: ",E.legalScore]})]}),E.entities&&Object.values(E.entities).some(O=>O.length>0)&&n("div",{className:"mt-2",children:n("div",{className:"flex flex-wrap gap-1",children:Object.entries(E.entities).map(([O,S])=>S.slice(0,2).map((j,P)=>n("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs rounded",children:j},`${O}-${P}`)))})})]})]}),n("div",{className:"flex-shrink-0 w-16",children:n("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:n("div",{className:`h-2 rounded-full transition-all duration-500 ${E.confidence>=80?"bg-green-500":E.confidence>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${E.confidence}%`}})})})]},L))}),o.length>3&&n("div",{className:"mt-4 text-center",children:n("button",{onClick:()=>d(!p),className:"text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 text-sm font-medium transition-colors",children:p?"نمایش کمتر":`نمایش ${o.length-3} مورد دیگر`})})]}),!l&&o.length===0&&!m&&e.length>0&&c("div",{className:"p-6 text-center",children:[n(Ct,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"برای مشاهده رتبه‌بندی هوش مصنوعی، دکمه تحلیل را کلیک کنید"})]})]})},px=()=>{const[e,t]=bn(),{getApiUrl:a,getWebSocketUrl:r}=Xe(),{showNotification:s,showApiError:o}=ta(),i=vn(),[l,u]=x.useState(e.get("tab")||"manual"),[p]=x.useState(["قرارداد خرید و فروش ملک واقع در تهران بین آقای احمد محمدی به عنوان خریدار و خانم زهرا احمدی به عنوان فروشنده منعقد می‌گردد.","دادگاه عمومی تهران در جلسه مورخ 1402/09/15 با حضور قاضی دکتر رضایی و بررسی پرونده کلاسه 9801234 رای زیر را صادر نمود.","بخشنامه شماره 1234 وزارت دادگستری در خصوص نحوه رسیدگی به پرونده‌های مدنی به تمامی دادگاه‌های کشور ابلاغ می‌گردد."]),[d,m]=x.useState(!1),[h,f]=x.useState({current:0,total:0,processed:0,failed:0,currentUrl:"",startTime:null}),y=x.useRef(null),[g,b]=x.useState(!1);x.useEffect(()=>{t({tab:l},{replace:!0})},[l,t]),x.useEffect(()=>{const P=()=>{try{const M=new WebSocket(r());M.onopen=()=>{console.log("WebSocket connected"),b(!0),s("اتصال بلادرنگ برقرار شد","success")},M.onmessage=K=>{try{const U=JSON.parse(K.data);C(U)}catch(U){console.error("Error parsing WebSocket message:",U)}},M.onclose=()=>{console.log("WebSocket disconnected"),b(!1),setTimeout(()=>{(!y.current||y.current.readyState===WebSocket.CLOSED)&&P()},5e3)},M.onerror=K=>{console.error("WebSocket error:",K),b(!1)},y.current=M}catch(M){console.error("Failed to connect WebSocket:",M),b(!1)}};return P(),()=>{y.current&&y.current.close()}},[r,s]);const C=P=>{switch(P.type){case"progress":f(M=>R(k({},M),{current:P.batch||M.current,total:P.total_batches||M.total}));break;case"success":f(M=>R(k({},M),{processed:M.processed+1,currentUrl:P.url||""})),i.invalidateQueries(["processedDocuments"]);break;case"error":f(M=>R(k({},M),{failed:M.failed+1})),s(`خطا در پردازش: ${P.url}`,"error");break;case"completed":m(!1),f(M=>R(k({},M),{currentUrl:""})),s(`پردازش تکمیل شد. موفق: ${P.total_processed}, ناموفق: ${P.total_failed}`,"success"),i.invalidateQueries(["processedDocuments"]);break;case"info":s(P.message,"info");break;default:console.log("Unknown WebSocket message type:",P.type)}};qe({queryKey:["processingStatus"],queryFn:()=>F(_,null,function*(){const P=yield fetch(a("/process"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:5e3,onSuccess:P=>{m(P.processing||!1),P.processing&&f(M=>R(k({},M),{current:P.current_batch||0,total:P.total_batches||0,processed:P.processed_count||0,failed:P.failed_count||0,currentUrl:P.current_url||""}))}});const{data:v,isLoading:w,error:N}=qe({queryKey:["processedDocuments"],queryFn:()=>F(_,null,function*(){const P=yield fetch(a("/processed-documents"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:3e4}),A=bt({mutationFn:Y=>F(_,[Y],function*({urls:P,useProxy:M,batchSize:K,maxRetries:U}){const B=yield fetch(a("/process-urls"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:P,use_proxy:M,batch_size:K,max_retries:U})});if(!B.ok)throw new Error(`HTTP ${B.status}: ${B.statusText}`);return B.json()}),onSuccess:P=>{m(!0),f({current:0,total:Math.ceil(P.total_urls/(P.batch_size||5)),processed:0,failed:0,currentUrl:"",startTime:new Date}),s(`پردازش ${P.total_urls} سند آغاز شد`,"success")},onError:P=>{o(P,"خطا در شروع پردازش")}}),E=bt({mutationFn:P=>F(_,null,function*(){const M=new FormData;M.append("file",P);const K=yield fetch(a("/upload-urls"),{method:"POST",body:M});if(!K.ok)throw new Error(`HTTP ${K.status}: ${K.statusText}`);return K.json()}),onSuccess:P=>{s(`${P.count} آدرس از فایل استخراج شد`,"success")},onError:P=>{o(P,"خطا در آپلود فایل")}}),L=(P,M={})=>{A.mutate({urls:P,useProxy:M.useProxy!==!1,batchSize:M.batchSize||5,maxRetries:M.maxRetries||3})},O=P=>{E.mutate(P)};return c("div",{className:"space-y-6",children:[c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"پردازش اسناد حقوقی"}),n("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"پردازش، تحلیل و دسته‌بندی اسناد حقوقی"})]}),c("div",{className:"flex items-center space-x-3 space-x-reverse",children:[c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500":"bg-red-500"}`}),n("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:g?"متصل":"قطع شده"})]}),d&&c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n(Ee,{size:"sm"}),n("span",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"در حال پردازش..."})]})]})]}),d&&n(Rf,{progress:h,onCancel:()=>{s("قابلیت لغو در نسخه بعدی اضافه خواهد شد","info")}}),n(T0,{tabs:[{id:"manual",title:"پردازش دستی",icon:"✏️",description:"پردازش تک‌به‌تک اسناد"},{id:"batch",title:"پردازش دسته‌ای",icon:"📁",description:"پردازش چندین سند همزمان"},{id:"upload",title:"آپلود فایل",icon:"📤",description:"آپلود فایل حاوی آدرس‌ها"},{id:"history",title:"تاریخچه پردازش",icon:"📊",description:"مشاهده سوابق پردازش"}],activeTab:l,onTabChange:u}),n("div",{className:"min-h-96",children:(()=>{switch(l){case"manual":return n(A0,{onProcess:L,isProcessing:A.isLoading});case"batch":return n(P0,{onProcess:L,isProcessing:A.isLoading});case"upload":return n(Pf,{onUpload:O,onProcess:L,isUploading:E.isLoading,isProcessing:A.isLoading,uploadResult:E.data});case"history":return n(Ef,{documents:(v==null?void 0:v.documents)||[],loading:w,error:N});default:return null}})()}),(v==null?void 0:v.documents)&&v.documents.length>0&&c("div",{className:"mt-8 space-y-6",children:[n(Nc,{texts:p,title:"🧠 رتبه‌بندی اسناد پردازش شده",showDetails:!0,autoAnalyze:!1}),n(jf,{documents:v.documents,total:v.total,loading:w})]}),N&&n(Ia,{title:"خطا در دریافت نتایج پردازش",message:N.message,onRetry:()=>i.invalidateQueries(["processedDocuments"])})]})},mx=({tabs:e,activeTab:t,onTabChange:a})=>n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"-mb-px flex space-x-8 space-x-reverse overflow-x-auto",children:e.map(r=>c("button",{onClick:()=>a(r.id),className:`
              group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
              ${t===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"}
            `,children:[n("span",{className:"text-lg ml-2",children:r.icon}),n("span",{children:r.title}),r.description&&c("span",{className:"hidden lg:block text-xs text-gray-400 dark:text-gray-500 mr-2",children:["• ",r.description]})]},r.id))})}),hx=({proxies:e=[],loading:t=!1,selectedProxies:a=[],onSelectionChange:r,onTest:s,onRemove:o,onRefresh:i})=>{const l=m=>{r(m?e.map(h=>h.id):[])},u=(m,h)=>{r(h?[...a,m]:a.filter(f=>f!==m))},p=m=>{switch(m){case"active":return"🟢";case"inactive":return"🔴";case"testing":return"🟡";default:return"⚪"}},d=m=>m<100?"text-green-600 dark:text-green-400":m<300?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return t?n("div",{className:"card p-8 text-center",children:n(Ee,{size:"lg",text:"در حال بارگذاری لیست پروکسی‌ها..."})}):e.length===0?c("div",{className:"card p-8 text-center",children:[n("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:n("span",{className:"text-2xl",children:"🌐"})}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هیچ پروکسی یافت نشد"}),n("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"لیست پروکسی‌ها خالی است. پروکسی جدید اضافه کنید یا لیست را بروزرسانی کنید."}),n("button",{onClick:i,className:"btn btn-primary",children:"بروزرسانی لیست"})]}):c("div",{className:"space-y-4",children:[c("div",{className:"flex items-center justify-between",children:[n("div",{className:"flex items-center space-x-4 space-x-reverse",children:c("label",{className:"flex items-center",children:[n("input",{type:"checkbox",checked:a.length===e.length&&e.length>0,onChange:m=>l(m.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c("span",{className:"mr-2 text-sm text-gray-700 dark:text-gray-300",children:["انتخاب همه (",e.length,")"]})]})}),n("div",{className:"flex items-center space-x-2 space-x-reverse",children:n("button",{onClick:i,className:"btn btn-secondary btn-sm",children:"🔄 بروزرسانی"})})]}),n("div",{className:"card overflow-hidden",children:n("div",{className:"overflow-x-auto",children:c("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n("thead",{className:"bg-gray-50 dark:bg-gray-800",children:c("tr",{children:[n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"انتخاب"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"وضعیت"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"آدرس"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"کشور"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"تأخیر"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"آخرین تست"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"عملیات"})]})}),n("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(m=>c("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[n("td",{className:"px-6 py-4 whitespace-nowrap",children:n("input",{type:"checkbox",checked:a.includes(m.id),onChange:h=>u(m.id,h.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),n("td",{className:"px-6 py-4 whitespace-nowrap",children:c("div",{className:"flex items-center",children:[n("span",{className:"text-lg ml-2",children:p(m.status)}),n("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.status==="active"?"فعال":m.status==="inactive"?"غیرفعال":m.status==="testing"?"در حال تست":"نامشخص"})]})}),c("td",{className:"px-6 py-4 whitespace-nowrap",children:[c("div",{className:"text-sm font-mono text-gray-900 dark:text-white",children:[m.host,":",m.port]}),m.type&&n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.type.toUpperCase()})]}),n("td",{className:"px-6 py-4 whitespace-nowrap",children:n("div",{className:"flex items-center",children:m.country&&c(X,{children:[n("span",{className:"text-lg ml-1",children:m.country_flag||"🌐"}),n("span",{className:"text-sm text-gray-900 dark:text-white",children:m.country})]})})}),n("td",{className:"px-6 py-4 whitespace-nowrap",children:m.latency?c("span",{className:`text-sm font-medium ${d(m.latency)}`,children:[m.latency,"ms"]}):n("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"-"})}),n("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:m.last_tested?new Date(m.last_tested).toLocaleString("fa-IR"):"هرگز"}),n("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("button",{onClick:()=>s([m.id]),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"تست پروکسی",children:"🔍"}),n("button",{onClick:()=>o([m.id]),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"حذف پروکسی",children:"🗑️"})]})})]},m.id))})]})})}),c("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[c("span",{children:[e.length," پروکسی • ",e.filter(m=>m.status==="active").length," فعال"]}),a.length>0&&c("span",{children:[a.length," مورد انتخاب شده"]})]})]})},fx=({proxies:e=[],loading:t=!1,onTest:a,testLoading:r=!1})=>{const s=e.filter(d=>d.status==="active"),o=e.filter(d=>d.status==="inactive"),i=e.filter(d=>!d.last_tested),l=()=>{const d=e.map(m=>m.id);a(d)},u=()=>{const d=s.map(m=>m.id);a(d)},p=()=>{const d=o.map(m=>m.id);a(d)};return t?n("div",{className:"card p-8 text-center",children:n(Ee,{size:"lg",text:"در حال بارگذاری اطلاعات پروکسی‌ها..."})}):c("div",{className:"space-y-6",children:[c("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c("div",{className:"card p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"کل پروکسی‌ها"})]}),c("div",{className:"card p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s.length}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"فعال"})]}),c("div",{className:"card p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:o.length}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"غیرفعال"})]}),c("div",{className:"card p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:i.length}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"تست نشده"})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تست سلامت پروکسی‌ها"}),c("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c("button",{onClick:l,disabled:r||e.length===0,className:"btn btn-primary flex items-center justify-center space-x-2 space-x-reverse",children:[r?n(Ee,{size:"sm"}):n("span",{children:"🔍"}),c("span",{children:["تست همه (",e.length,")"]})]}),c("button",{onClick:u,disabled:r||s.length===0,className:"btn btn-success flex items-center justify-center space-x-2 space-x-reverse",children:[r?n(Ee,{size:"sm"}):n("span",{children:"✅"}),c("span",{children:["تست فعال‌ها (",s.length,")"]})]}),c("button",{onClick:p,disabled:r||o.length===0,className:"btn btn-warning flex items-center justify-center space-x-2 space-x-reverse",children:[r?n(Ee,{size:"sm"}):n("span",{children:"🔄"}),c("span",{children:["تست غیرفعال‌ها (",o.length,")"]})]})]})]}),e.length>0&&c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"جزئیات سلامت"}),c("div",{className:"space-y-4",children:[c("div",{children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"توزیع تأخیر"}),c("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c("div",{className:"bg-green-100 dark:bg-green-900/20 p-2 rounded text-center",children:[n("div",{className:"font-semibold text-green-800 dark:text-green-200",children:e.filter(d=>d.latency&&d.latency<100).length}),n("div",{className:"text-green-600 dark:text-green-400",children:"< 100ms"})]}),c("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 p-2 rounded text-center",children:[n("div",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:e.filter(d=>d.latency&&d.latency>=100&&d.latency<300).length}),n("div",{className:"text-yellow-600 dark:text-yellow-400",children:"100-300ms"})]}),c("div",{className:"bg-red-100 dark:bg-red-900/20 p-2 rounded text-center",children:[n("div",{className:"font-semibold text-red-800 dark:text-red-200",children:e.filter(d=>d.latency&&d.latency>=300).length}),n("div",{className:"text-red-600 dark:text-red-400",children:"> 300ms"})]})]})]}),e.some(d=>d.country)&&c("div",{children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"توزیع کشورها"}),n("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.reduce((d,m)=>(m.country&&(d[m.country]=(d[m.country]||0)+1),d),{})).map(([d,m])=>c("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200",children:[d," (",m,")"]},d))})]}),c("div",{children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"آخرین تست‌ها"}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"امروز:"}),n("span",{className:"font-medium mr-2",children:e.filter(d=>{if(!d.last_tested)return!1;const m=new Date(d.last_tested),h=new Date;return m.toDateString()===h.toDateString()}).length})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"این هفته:"}),n("span",{className:"font-medium mr-2",children:e.filter(d=>{if(!d.last_tested)return!1;const m=new Date(d.last_tested),h=new Date;return h.setDate(h.getDate()-7),m>h}).length})]})]})]})]})]}),e.length===0&&c("div",{className:"card p-8 text-center",children:[n("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:n("span",{className:"text-2xl",children:"🏥"})}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هیچ پروکسی برای تست وجود ندارد"}),n("p",{className:"text-gray-500 dark:text-gray-400",children:"ابتدا پروکسی‌هایی اضافه کنید تا بتوانید سلامت آنها را بررسی کنید."})]})]})},gx=({onAdd:e,loading:t=!1})=>{const[a,r]=x.useState({host:"",port:"",type:"http",username:"",password:"",country:"",description:""}),[s,o]=x.useState({}),i=()=>{const d={};return a.host.trim()||(d.host="آدرس هاست الزامی است"),a.port.trim()?(!/^\d+$/.test(a.port)||parseInt(a.port)<1||parseInt(a.port)>65535)&&(d.port="پورت باید عددی بین ۱ تا ۶۵۵۳۵ باشد"):d.port="پورت الزامی است",o(d),Object.keys(d).length===0},l=d=>{if(d.preventDefault(),!i())return;const m=R(k({},a),{port:parseInt(a.port)});e(m),r({host:"",port:"",type:"http",username:"",password:"",country:"",description:""}),o({})},u=(d,m)=>{r(h=>R(k({},h),{[d]:m})),s[d]&&o(h=>R(k({},h),{[d]:""}))},p=[{value:"http",label:"HTTP"},{value:"https",label:"HTTPS"},{value:"socks4",label:"SOCKS4"},{value:"socks5",label:"SOCKS5"}];return c("div",{className:"space-y-6",children:[c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"افزودن پروکسی جدید"}),c("form",{onSubmit:l,className:"space-y-4",children:[c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c("div",{children:[c("label",{className:"label",children:["آدرس هاست ",n("span",{className:"text-red-500",children:"*"})]}),n("input",{type:"text",value:a.host,onChange:d=>u("host",d.target.value),placeholder:"192.168.1.1 یا proxy.example.com",className:`input ${s.host?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,disabled:t}),s.host&&n("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:s.host})]}),c("div",{children:[c("label",{className:"label",children:["پورت ",n("span",{className:"text-red-500",children:"*"})]}),n("input",{type:"text",value:a.port,onChange:d=>u("port",d.target.value),placeholder:"8080",className:`input ${s.port?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,disabled:t}),s.port&&n("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:s.port})]})]}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c("div",{children:[n("label",{className:"label",children:"نوع پروکسی"}),n("select",{value:a.type,onChange:d=>u("type",d.target.value),className:"input",disabled:t,children:p.map(d=>n("option",{value:d.value,children:d.label},d.value))})]}),c("div",{children:[n("label",{className:"label",children:"کشور"}),n("input",{type:"text",value:a.country,onChange:d=>u("country",d.target.value),placeholder:"ایران، آمریکا، ...",className:"input",disabled:t})]})]}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c("div",{children:[n("label",{className:"label",children:"نام کاربری (اختیاری)"}),n("input",{type:"text",value:a.username,onChange:d=>u("username",d.target.value),placeholder:"username",className:"input",disabled:t})]}),c("div",{children:[n("label",{className:"label",children:"رمز عبور (اختیاری)"}),n("input",{type:"password",value:a.password,onChange:d=>u("password",d.target.value),placeholder:"password",className:"input",disabled:t})]})]}),c("div",{children:[n("label",{className:"label",children:"توضیحات (اختیاری)"}),n("textarea",{value:a.description,onChange:d=>u("description",d.target.value),placeholder:"توضیحات کوتاه درباره این پروکسی...",rows:3,className:"input resize-none",disabled:t})]}),c("div",{className:"flex items-center justify-between pt-4",children:[n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"پروکسی جدید به صورت خودکار تست خواهد شد"}),n("button",{type:"submit",disabled:t,className:"btn btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 space-x-reverse",children:t?c(X,{children:[c("svg",{className:"animate-spin -mr-1 ml-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("span",{children:"در حال افزودن..."})]}):c(X,{children:[n("span",{children:"➕"}),n("span",{children:"افزودن پروکسی"})]})})]})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"درون‌ریزی دسته‌ای"}),c("div",{className:"space-y-4",children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پروکسی‌های متعدد را با فرمت زیر وارد کنید (هر خط یک پروکسی):"}),n("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:c("code",{className:"text-sm font-mono text-gray-700 dark:text-gray-300",children:["host:port",n("br",{}),"host:port:username:password",n("br",{}),"type://host:port",n("br",{}),"type://username:password@host:port"]})}),n("textarea",{placeholder:`192.168.1.1:8080
http://user:pass@proxy.example.com:3128
socks5://127.0.0.1:1080`,rows:6,className:"input font-mono text-sm resize-none",disabled:t}),c("div",{className:"flex items-center justify-between",children:[n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"پروکسی‌های وارد شده به صورت خودکار تجزیه و تست خواهند شد"}),n("button",{disabled:t,className:"btn btn-secondary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"درون‌ریزی دسته‌ای"})]})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"درون‌ریزی از URL"}),c("div",{className:"space-y-4",children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پروکسی‌ها را از یک فایل آنلاین یا API دریافت کنید:"}),c("div",{className:"flex space-x-2 space-x-reverse",children:[n("input",{type:"url",placeholder:"https://example.com/proxies.txt",className:"input flex-1",disabled:t}),n("button",{disabled:t,className:"btn btn-secondary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:"دریافت از URL"})]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"فرمت‌های پشتیبانی شده: TXT، JSON، CSV"})]})]})]})};qi.register(Hi,Wi,Ki,Gi,Ji,Xi,Yi);const xx=({stats:e=null,realTimeMode:t=!0})=>{const[a,r]=x.useState({requests:[],responses:[],errors:[],timestamps:[]}),[s,o]=x.useState({totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0,totalBandwidth:0,activeConnections:0,requestsPerSecond:0,errorRate:0});x.useEffect(()=>{if(t){const p=setInterval(()=>{const m=new Date().toLocaleTimeString("fa-IR");r(h=>({requests:[...h.requests.slice(-19),Math.floor(Math.random()*100)+20],responses:[...h.responses.slice(-19),Math.floor(Math.random()*90)+15],errors:[...h.errors.slice(-19),Math.floor(Math.random()*10)],timestamps:[...h.timestamps.slice(-19),m]})),o({totalRequests:Math.floor(Math.random()*1e4)+5e3,successfulRequests:Math.floor(Math.random()*8e3)+4e3,failedRequests:Math.floor(Math.random()*500)+50,averageResponseTime:Math.floor(Math.random()*1e3)+200,totalBandwidth:(Math.random()*100+50).toFixed(2),activeConnections:Math.floor(Math.random()*50)+10,requestsPerSecond:Math.floor(Math.random()*20)+5,errorRate:(Math.random()*5+1).toFixed(2)})},2e3);return()=>clearInterval(p)}},[t]);const i={responsive:!0,plugins:{legend:{position:"top",labels:{font:{family:"Vazirmatn, sans-serif"}}},title:{display:!0,text:"آمار شبکه در زمان واقعی",font:{family:"Vazirmatn, sans-serif",size:16}}},scales:{x:{ticks:{font:{family:"Vazirmatn, sans-serif"}}},y:{beginAtZero:!0,ticks:{font:{family:"Vazirmatn, sans-serif"}}}},animation:{duration:1e3}},l={labels:a.timestamps,datasets:[{label:"درخواست‌ها",data:a.requests,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4},{label:"پاسخ‌ها",data:a.responses,borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4},{label:"خطاها",data:a.errors,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},u=(p,d)=>p<=d.good?"text-green-600 dark:text-green-400":p<=d.warning?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return c("div",{className:"space-y-6",children:[c("div",{className:"flex items-center justify-between",children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📊 آمار شبکه"}),c("div",{className:"flex items-center gap-2",children:[n("div",{className:`w-2 h-2 rounded-full ${t?"bg-green-500 animate-pulse":"bg-gray-400"}`}),n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:t?"زنده":"غیرفعال"})]})]}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل درخواست‌ها"}),n("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.totalRequests.toLocaleString("fa-IR")})]}),n("div",{className:"text-3xl",children:"📊"})]})}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"میانگین زمان پاسخ"}),c("p",{className:`text-2xl font-bold ${u(s.averageResponseTime,{good:500,warning:1e3})}`,children:[s.averageResponseTime," ms"]})]}),n("div",{className:"text-3xl",children:"⏱️"})]})}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"نرخ خطا"}),c("p",{className:`text-2xl font-bold ${u(parseFloat(s.errorRate),{good:2,warning:5})}`,children:[s.errorRate,"%"]})]}),n("div",{className:"text-3xl",children:"❌"})]})}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"اتصالات فعال"}),n("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.activeConnections})]}),n("div",{className:"text-3xl",children:"🔗"})]})})]}),c("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"📈 معیارهای عملکرد"}),c("div",{className:"space-y-4",children:[c("div",{className:"flex justify-between items-center",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"درخواست در ثانیه"}),n("span",{className:"font-medium text-gray-900 dark:text-white",children:s.requestsPerSecond})]}),c("div",{className:"flex justify-between items-center",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"درخواست‌های موفق"}),n("span",{className:"font-medium text-green-600 dark:text-green-400",children:s.successfulRequests.toLocaleString("fa-IR")})]}),c("div",{className:"flex justify-between items-center",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"درخواست‌های ناموفق"}),n("span",{className:"font-medium text-red-600 dark:text-red-400",children:s.failedRequests.toLocaleString("fa-IR")})]}),c("div",{className:"flex justify-between items-center",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل پهنای باند"}),c("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.totalBandwidth," MB/s"]})]})]})]}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"✅ نرخ موفقیت"}),c("div",{className:"space-y-4",children:[c("div",{children:[c("div",{className:"flex justify-between items-center mb-2",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"موفقیت‌آمیز"}),c("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(s.successfulRequests/s.totalRequests*100).toFixed(1),"%"]})]}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${s.successfulRequests/s.totalRequests*100}%`}})})]}),c("div",{children:[c("div",{className:"flex justify-between items-center mb-2",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"ناموفق"}),c("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(s.failedRequests/s.totalRequests*100).toFixed(1),"%"]})]}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${s.failedRequests/s.totalRequests*100}%`}})})]})]})]})]}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:n("div",{className:"h-80",children:n(Zi,{data:l,options:i})})}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"🔗 وضعیت اتصالات"}),c("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Math.floor(s.activeConnections*.8)}),n("div",{className:"text-sm text-green-700 dark:text-green-300",children:"اتصالات سالم"})]}),c("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[n("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:Math.floor(s.activeConnections*.15)}),n("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"اتصالات کند"})]}),c("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[n("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:Math.floor(s.activeConnections*.05)}),n("div",{className:"text-sm text-red-700 dark:text-red-300",children:"اتصالات قطع شده"})]})]})]})]})},yx=()=>{const[e,t]=bn(),{getApiUrl:a}=Xe(),{showNotification:r,showApiError:s}=ta(),o=vn(),[i,l]=x.useState(e.get("tab")||"list"),[u,p]=x.useState([]);x.useEffect(()=>{t({tab:i},{replace:!0})},[i,t]);const{data:d,isLoading:m,error:h}=qe({queryKey:["proxyList"],queryFn:()=>F(_,null,function*(){const S=yield fetch(a("/network/proxies"));if(!S.ok)throw new Error(`HTTP ${S.status}: ${S.statusText}`);return S.json()}),refetchInterval:3e4}),{data:f,isLoading:y}=qe({queryKey:["networkStats"],queryFn:()=>F(_,null,function*(){const S=yield fetch(a("/network"));if(!S.ok)throw new Error(`HTTP ${S.status}: ${S.statusText}`);return S.json()}),refetchInterval:15e3}),g=bt({mutationFn:S=>F(_,null,function*(){const j=yield fetch(a("/network/test"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proxy_ids:S})});if(!j.ok)throw new Error(`HTTP ${j.status}: ${j.statusText}`);return j.json()}),onSuccess:S=>{r(`تست ${S.tested_count} پروکسی تکمیل شد`,"success"),o.invalidateQueries(["proxyList"]),o.invalidateQueries(["networkStats"])},onError:S=>{s(S,"خطا در تست پروکسی‌ها")}}),b=bt({mutationFn:S=>F(_,null,function*(){const j=yield fetch(a("/network/proxies"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!j.ok)throw new Error(`HTTP ${j.status}: ${j.statusText}`);return j.json()}),onSuccess:S=>{r("پروکسی جدید با موفقیت اضافه شد","success"),o.invalidateQueries(["proxyList"]),o.invalidateQueries(["networkStats"])},onError:S=>{s(S,"خطا در افزودن پروکسی")}}),C=bt({mutationFn:S=>F(_,null,function*(){const j=yield fetch(a("/network/proxies"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({proxy_ids:S})});if(!j.ok)throw new Error(`HTTP ${j.status}: ${j.statusText}`);return j.json()}),onSuccess:S=>{r(`${S.removed_count} پروکسی حذف شد`,"success"),o.invalidateQueries(["proxyList"]),o.invalidateQueries(["networkStats"]),p([])},onError:S=>{s(S,"خطا در حذف پروکسی‌ها")}}),v=bt({mutationFn:()=>F(_,null,function*(){const S=yield fetch(a("/network/update"),{method:"POST"});if(!S.ok)throw new Error(`HTTP ${S.status}: ${S.statusText}`);return S.json()}),onSuccess:S=>{r("لیست پروکسی‌ها بروزرسانی شد","success"),o.invalidateQueries(["proxyList"]),o.invalidateQueries(["networkStats"])},onError:S=>{s(S,"خطا در بروزرسانی لیست پروکسی‌ها")}}),w=S=>{g.mutate(S)},N=S=>{b.mutate(S)},A=S=>{C.mutate(S)},E=()=>{v.mutate()},L=[{id:"list",title:"لیست پروکسی‌ها",icon:"📋",description:"مشاهده و مدیریت پروکسی‌ها"},{id:"health",title:"تست سلامت",icon:"🏥",description:"بررسی وضعیت پروکسی‌ها"},{id:"add",title:"افزودن پروکسی",icon:"➕",description:"اضافه کردن پروکسی جدید"},{id:"stats",title:"آمار شبکه",icon:"📈",description:"آمار و گزارش‌های شبکه"}],O=()=>{switch(i){case"list":return n(hx,{proxies:(d==null?void 0:d.proxies)||[],loading:m,selectedProxies:u,onSelectionChange:p,onTest:w,onRemove:A,onRefresh:()=>o.invalidateQueries(["proxyList"])});case"health":return n(fx,{proxies:(d==null?void 0:d.proxies)||[],loading:m,onTest:w,testLoading:g.isLoading});case"add":return n(gx,{onAdd:N,loading:b.isLoading});case"stats":return n(xx,{stats:f,loading:y,onRefresh:()=>o.invalidateQueries(["networkStats"])});default:return null}};return c("div",{className:"space-y-6",children:[c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"مدیریت پروکسی و شبکه"}),n("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"مدیریت پروکسی‌ها، تست سلامت و نظارت بر شبکه"})]}),c("div",{className:"flex items-center space-x-3 space-x-reverse",children:[f&&c("div",{className:"flex items-center space-x-2 space-x-reverse px-3 py-1.5 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n("div",{className:`w-2 h-2 rounded-full ${f.active_proxies>0?"bg-green-500":"bg-red-500"}`}),c("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[f.active_proxies," از ",f.total_proxies," فعال"]})]}),c("button",{onClick:E,disabled:v.isLoading,className:"btn btn-secondary flex items-center space-x-2 space-x-reverse",children:[v.isLoading?n(Ee,{size:"sm"}):n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n("span",{children:"بروزرسانی لیست"})]})]})]}),f&&c("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n("div",{className:"card p-4",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"کل پروکسی‌ها"}),n("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.total_proxies||0})]}),n("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:"🌐"})})]})}),n("div",{className:"card p-4",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"فعال"}),n("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f.active_proxies||0})]}),n("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:"✅"})})]})}),n("div",{className:"card p-4",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"میانگین تأخیر"}),n("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:f.avg_latency?`${f.avg_latency}ms`:"N/A"})]}),n("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:"⚡"})})]})}),n("div",{className:"card p-4",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"نرخ موفقیت"}),n("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:f.success_rate?`${f.success_rate}%`:"N/A"})]}),n("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:"📊"})})]})})]}),n(mx,{tabs:L,activeTab:i,onTabChange:l}),n("div",{className:"min-h-96",children:O()}),h&&n(Ia,{title:"خطا در دریافت لیست پروکسی‌ها",message:h.message,onRetry:()=>o.invalidateQueries(["proxyList"])}),u.length>0&&n("div",{className:"fixed bottom-6 left-6 right-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-40",children:c("div",{className:"flex items-center justify-between",children:[c("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u.length," پروکسی انتخاب شده"]}),c("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("button",{onClick:()=>w(u),disabled:g.isLoading,className:"btn btn-primary btn-sm",children:"تست انتخاب شده‌ها"}),n("button",{onClick:()=>A(u),disabled:C.isLoading,className:"btn btn-danger btn-sm",children:"حذف انتخاب شده‌ها"}),n("button",{onClick:()=>p([]),className:"btn btn-secondary btn-sm",children:"لغو انتخاب"})]})]})})]})},Bi=()=>{const[e,t]=x.useState(""),[a,r]=x.useState([]),[s,o]=x.useState(!1),[i,l]=x.useState("search"),[u,p]=x.useState("simple"),[d,m]=x.useState({dateFrom:"",dateTo:"",category:"",source:"",language:"all"}),[h,f]=x.useState(!1),y=[{id:1,title:"قرارداد خرید و فروش ملک شماره ۱۲۳",content:"این قرارداد در تاریخ ۱۴۰۲/۰۸/۱۵ بین خریدار آقای احمد محمدی و فروشنده خانم زهرا احمدی منعقد گردیده است. موضوع قرارداد خرید و فروش یک واحد مسکونی به مساحت ۱۲۰ متر مربع در منطقه ۳ تهران می‌باشد.",date:"1402/08/15",category:"قراردادها",source:"آرشیو اسناد",language:"fa",tags:["ملک","خرید و فروش","قرارداد"],relevanceScore:95,extractedEntities:["احمد محمدی","زهرا احمدی","منطقه ۳ تهران"],documentType:"قرارداد",size:"2.5 KB"},{id:2,title:"رای دادگاه در پرونده کلاسه ۹۸۰۱۲۳۴",content:"دادگاه عمومی تهران در جلسه مورخ ۱۴۰۲/۰۹/۱۰ با حضور قاضی جناب آقای دکتر رضایی و با بررسی پرونده کلاسه ۹۸۰۱۲۳۴ در خصوص دعوای خواهان علی اکبری علیه خوانده حسن محمدی رای زیر را صادر نمود.",date:"1402/09/10",category:"آرای قضایی",source:"دادگاه عمومی",language:"fa",tags:["رای دادگاه","دعوا","قضایی"],relevanceScore:88,extractedEntities:["دکتر رضایی","علی اکبری","حسن محمدی"],documentType:"رای قضایی",size:"4.2 KB"},{id:3,title:"مصوبه شورای شهر درباره تغییر کاربری",content:"شورای اسلامی شهر تهران در جلسه ۴۵۲ مورخ ۱۴۰۲/۱۰/۰۵ با اکثریت آرا تصویب نمود که تغییر کاربری قطعه زمین واقع در خیابان ولیعصر از مسکونی به تجاری مجاز اعلام گردد.",date:"1402/10/05",category:"مصوبات",source:"شورای شهر",language:"fa",tags:["شورای شهر","تغییر کاربری","مصوبه"],relevanceScore:82,extractedEntities:["شورای شهر تهران","خیابان ولیعصر"],documentType:"مصوبه",size:"1.8 KB"}],g=["همه دسته‌ها","قراردادها","آرای قضایی","مصوبات","قوانین","آیین‌نامه‌ها","بخشنامه‌ها"],b=["همه منابع","آرشیو اسناد","دادگاه عمومی","شورای شهر","مجلس شورای اسلامی","قوه قضائیه"],C=()=>F(_,null,function*(){if(e.trim()){o(!0);try{yield new Promise(A=>setTimeout(A,1500));const N=y.filter(A=>A.title.includes(e)||A.content.includes(e)||A.tags.some(E=>E.includes(e)));r(N)}catch(N){console.error("Search failed:",N),r([])}finally{o(!1)}}}),v=()=>{C()},w=[{id:"search",title:"جستجو",icon:lt},{id:"browse",title:"مرور",icon:nn},{id:"analytics",title:"تحلیل",icon:Le},{id:"settings",title:"تنظیمات",icon:ct}];return c("div",{className:"space-y-6",children:[n("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:c("div",{className:"flex items-center justify-between",children:[c("div",{className:"flex items-center gap-4",children:[n("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center",children:n(Va,{className:"w-6 h-6 text-white"})}),c("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🔍 جستجو در پایگاه داده"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"جستجو و بازیابی هوشمند در اسناد حقوقی"})]})]}),n("div",{className:"flex items-center gap-3",children:c("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg",children:[n(Va,{className:"w-4 h-4"}),c("span",{className:"text-sm font-medium",children:[y.length.toLocaleString("fa-IR")," سند"]})]})})]})}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"flex",children:w.map(N=>{const A=N.icon;return c("button",{onClick:()=>l(N.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${i===N.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[n(A,{className:"w-4 h-4"}),N.title]},N.id)})})}),n("div",{className:"p-6",children:c(ot,{mode:"wait",children:[i==="search"&&c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[c("div",{className:"flex items-center gap-4",children:[n("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"نوع جستجو:"}),c("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[n("button",{onClick:()=>p("simple"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="simple"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"ساده"}),n("button",{onClick:()=>p("advanced"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="advanced"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"پیشرفته"}),c("button",{onClick:()=>p("semantic"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="semantic"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[n(Xt,{className:"w-4 h-4 inline ml-1"}),"معنایی"]})]})]}),c("div",{className:"space-y-4",children:[c("div",{className:"relative",children:[n(lt,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n("input",{type:"text",value:e,onChange:N=>t(N.target.value),placeholder:u==="semantic"?"سؤال خود را به زبان طبیعی بپرسید...":"کلیدواژه‌های مورد نظر را وارد کنید...",className:"w-full pr-12 pl-4 py-4 text-lg border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",onKeyPress:N=>N.key==="Enter"&&C()}),n("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 flex items-center gap-2",children:n("button",{onClick:()=>f(!h),className:`p-2 rounded-lg transition-colors ${h?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:n(Vl,{className:"w-4 h-4"})})})]}),n(ot,{children:h&&n(Q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-4",children:c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"دسته‌بندی"}),n("select",{value:d.category,onChange:N=>m(R(k({},d),{category:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-600 dark:text-white",children:g.map((N,A)=>n("option",{value:N==="همه دسته‌ها"?"":N,children:N},A))})]}),c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"منبع"}),n("select",{value:d.source,onChange:N=>m(R(k({},d),{source:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-600 dark:text-white",children:b.map((N,A)=>n("option",{value:N==="همه منابع"?"":N,children:N},A))})]}),c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"از تاریخ"}),n("input",{type:"text",value:d.dateFrom,onChange:N=>m(R(k({},d),{dateFrom:N.target.value})),placeholder:"1402/01/01",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-600 dark:text-white"})]}),c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تا تاریخ"}),n("input",{type:"text",value:d.dateTo,onChange:N=>m(R(k({},d),{dateTo:N.target.value})),placeholder:"1402/12/29",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-600 dark:text-white"})]})]})})}),c("div",{className:"flex items-center gap-4",children:[n("button",{onClick:u==="advanced"?v:C,disabled:s||!e.trim(),className:"flex items-center gap-2 px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?c(X,{children:[n(je,{className:"w-4 h-4 animate-spin"}),"در حال جستجو..."]}):c(X,{children:[n(lt,{className:"w-4 h-4"}),"جستجو"]})}),a.length>0&&c("button",{onClick:()=>{},className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n(Gt,{className:"w-4 h-4"}),"دانلود نتایج"]})]})]}),s&&n("div",{className:"flex items-center justify-center py-12",children:c("div",{className:"text-center",children:[n(je,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"در حال جستجو..."})]})}),!s&&a.length>0&&c("div",{className:"space-y-6",children:[n(Nc,{texts:a.map(N=>N.content),title:"🧠 رتبه‌بندی هوشمند نتایج",showDetails:!0,autoAnalyze:!0,className:"mb-6"}),c("div",{className:"flex items-center justify-between",children:[c("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["نتایج جستجو (",a.length," نتیجه)"]}),c("div",{className:"flex items-center gap-2",children:[n("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"مرتب‌سازی:"}),c("select",{className:"text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 dark:bg-gray-700 dark:text-white",children:[n("option",{children:"مرتبط‌ترین"}),n("option",{children:"جدیدترین"}),n("option",{children:"قدیمی‌ترین"}),n("option",{children:"بیشترین مشاهده"})]})]})]}),n("div",{className:"space-y-4",children:a.map(N=>c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[c("div",{className:"flex items-start justify-between mb-4",children:[c("div",{className:"flex-1",children:[n("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:N.title}),c("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[c("div",{className:"flex items-center gap-1",children:[n(Ol,{className:"w-4 h-4"}),N.date]}),c("div",{className:"flex items-center gap-1",children:[n(g0,{className:"w-4 h-4"}),N.category]}),c("div",{className:"flex items-center gap-1",children:[n(qt,{className:"w-4 h-4"}),N.source]}),c("div",{className:"flex items-center gap-1",children:[n(on,{className:"w-4 h-4"}),N.relevanceScore,"%"]})]})]}),c("div",{className:"flex items-center gap-2",children:[n("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:n(Fl,{className:"w-4 h-4"})}),n("button",{className:"p-2 text-gray-400 hover:text-green-600 transition-colors",children:n(Gt,{className:"w-4 h-4"})})]})]}),n("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed mb-4",children:N.content}),c("div",{className:"flex items-center justify-between",children:[n("div",{className:"flex flex-wrap gap-2",children:N.tags.map((A,E)=>n("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:A},E))}),c("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[n("span",{children:N.documentType}),n("span",{children:N.size})]})]}),N.extractedEntities.length>0&&c("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[n("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"موجودیت‌های استخراج شده:"}),n("div",{className:"flex flex-wrap gap-2",children:N.extractedEntities.map((A,E)=>n("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-xs rounded",children:A},E))})]})]},N.id))})]}),!s&&e&&a.length===0&&c("div",{className:"text-center py-12",children:[n(Jt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"نتیجه‌ای یافت نشد"}),c("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['برای عبارت "',e,'" نتیجه‌ای پیدا نشد.']}),n("button",{onClick:()=>t(""),className:"text-blue-600 hover:text-blue-700 transition-colors",children:"پاک کردن جستجو"})]})]},"search"),i==="browse"&&c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-12",children:[n(nn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"مرور اسناد"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"این بخش در حال توسعه است"})]},"browse"),i==="analytics"&&c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-12",children:[n(Le,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"تحلیل داده‌ها"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"این بخش در حال توسعه است"})]},"analytics"),i==="settings"&&c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-12",children:[n(ct,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"تنظیمات جستجو"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"این بخش در حال توسعه است"})]},"settings")]})})]})]})};class bx{constructor(t={}){this.options=k({timeout:t.timeout||3e4,retries:t.retries||3,delay:t.delay||1e3,proxyUrl:t.proxyUrl||null},t),this.axiosInstance=Qn.create({timeout:this.options.timeout,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"fa-IR,fa;q=0.9,en;q=0.8","Accept-Encoding":"gzip, deflate, br",DNT:"1",Connection:"keep-alive","Upgrade-Insecure-Requests":"1"}}),this.stats={totalRequests:0,successfulRequests:0,failedRequests:0,startTime:Date.now()}}scrapeUrl(r){return F(this,arguments,function*(t,a={}){const s=a.retries||this.options.retries;let o=null;for(let i=1;i<=s;i++)try{this.stats.totalRequests++,console.log(`🔍 Scraping ${t} (attempt ${i}/${s})`);const l=yield this._performScrape(t,a);return this.stats.successfulRequests++,{success:!0,url:t,data:l,timestamp:new Date().toISOString(),attempt:i}}catch(l){o=l,console.warn(`⚠️ Attempt ${i} failed for ${t}:`,l.message),i<s&&(yield this.delay(this.options.delay*i))}return this.stats.failedRequests++,{success:!1,url:t,error:(o==null?void 0:o.message)||"Unknown error",timestamp:new Date().toISOString(),attempts:s}})}_performScrape(r){return F(this,arguments,function*(t,a={}){const o=`${a.proxyUrl||this.options.proxyUrl||"https://api.allorigins.win/get?url="}${encodeURIComponent(t)}`;try{const i=yield this.axiosInstance.get(o);let l=i.data.contents||i.data;const p=new DOMParser().parseFromString(l,"text/html");return this._extractDataFromDOM(p,t,a)}catch(i){try{const l=yield this.axiosInstance.get(t),p=new DOMParser().parseFromString(l.data,"text/html");return this._extractDataFromDOM(p,t,a)}catch(l){throw new Error(`Both proxy and direct requests failed: ${i.message}`)}}})}_extractDataFromDOM(t,a,r={}){const s={url:a,timestamp:new Date().toISOString(),title:"",content:"",metadata:{},links:[],extractedPatterns:{}};try{const o=t.querySelector("title")||t.querySelector("h1");s.title=o?this.cleanText(o.textContent):"";const i=["main","article",".content",".main-content",".post-content",".entry-content","#content"];let l=null;for(const d of i)if(l=t.querySelector(d),l)break;l||(l=t.body),s.content=l?this.cleanText(l.textContent):"",t.querySelectorAll("meta").forEach(d=>{const m=d.getAttribute("name")||d.getAttribute("property"),h=d.getAttribute("content");m&&h&&(s.metadata[m]=h)});const p=t.querySelectorAll("a[href]");return s.links=Array.from(p).map(d=>({text:this.cleanText(d.textContent),href:this.resolveUrl(d.getAttribute("href"),a),title:d.getAttribute("title")||""})).filter(d=>d.text&&d.href).slice(0,50),s.extractedPatterns=this.extractLegalPatterns(s.content),s.language=this.detectLanguage(s.content),s.direction=s.language==="fa"?"rtl":"ltr",s}catch(o){throw console.error("Error extracting data from DOM:",o),o}}extractLegalPatterns(t){if(!t)return{};const a={caseNumber:{regex:/شماره.*?پرونده[:\s]*([۰-۹0-9\-\/]+)/gi,label:"شماره پرونده"},date:{regex:/تاریخ[:\s]*([۰-۹0-9\/\-]+)/gi,label:"تاریخ"},court:{regex:/دادگاه[:\s]*([^\.]{10,50})/gi,label:"دادگاه"},judge:{regex:/قاضی[:\s]*([^\.]{5,30})/gi,label:"قاضی"},plaintiff:{regex:/خواهان[:\s]*([^\.]{5,50})/gi,label:"خواهان"},defendant:{regex:/خوانده[:\s]*([^\.]{5,50})/gi,label:"خوانده"},verdict:{regex:/حکم[:\s]*([^\.]{10,100})/gi,label:"حکم"},law:{regex:/ماده[:\s]*([۰-۹0-9]+)[:\s]*([^\.]{10,100})/gi,label:"ماده قانون"},amount:{regex:/مبلغ[:\s]*([۰-۹0-9,]+)[:\s]*(تومان|ریال|درهم)/gi,label:"مبلغ"}},r={};return Object.keys(a).forEach(s=>{const o=a[s],i=[...t.matchAll(o.regex)];i.length>0&&(r[s]={label:o.label,values:i.map(l=>({text:l[0].trim(),value:l[1]?l[1].trim():"",context:this.getContext(t,l.index,50)}))})}),r}getContext(t,a,r=50){const s=Math.max(0,a-r),o=Math.min(t.length,a+r);return t.substring(s,o).trim()}detectLanguage(t){if(!t)return"unknown";const a=(t.match(/[\u0600-\u06FF]/g)||[]).length,r=t.replace(/\s/g,"").length;if(r===0)return"unknown";const s=a/r;return s>.3?"fa":s>.1?"mixed":"en"}cleanText(t){return t?t.replace(/\s+/g," ").replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/[‌]/g," ").trim():""}resolveUrl(t,a){try{return new URL(t,a).href}catch(r){return t}}scrapeMultiple(r){return F(this,arguments,function*(t,a={}){const s=a.concurrency||2,o=[];console.log(`🔄 Starting batch scraping of ${t.length} URLs`);for(let i=0;i<t.length;i+=s){const u=t.slice(i,i+s).map(d=>this.scrapeUrl(d,a)),p=yield Promise.all(u);o.push(...p),i+s<t.length&&(yield this.delay(this.options.delay))}return o})}searchLegalSources(r){return F(this,arguments,function*(t,a={}){const s=[{name:"سایت قوه قضائیه",searchUrl:`https://www.judiciary.ir/search?q=${encodeURIComponent(t)}`,baseUrl:"https://www.judiciary.ir"},{name:"مرکز اسناد و تحقیقات دفاع مقدس",searchUrl:`https://www.defapress.ir/search?q=${encodeURIComponent(t)}`,baseUrl:"https://www.defapress.ir"},{name:"پایگاه اطلاع‌رسانی دولت",searchUrl:`https://www.dolat.ir/search?q=${encodeURIComponent(t)}`,baseUrl:"https://www.dolat.ir"}],o=[];for(const i of s)try{console.log(`🏛️ Searching ${i.name} for: ${t}`);const l=yield this.scrapeUrl(i.searchUrl,R(k({},a),{source:i.name}));l.success&&o.push(R(k({},l),{source:i.name,query:t})),yield this.delay(this.options.delay)}catch(l){console.error(`❌ Failed to search ${i.name}:`,l)}return o})}saveAsJSON(t,a=null){return F(this,null,function*(){try{const r=a||`legal_documents_${Date.now()}.json`,s={metadata:{timestamp:new Date().toISOString(),totalDocuments:Array.isArray(t)?t.length:1,scrapingStats:this.getStats(),generator:"Iranian Legal Archive Scraping Engine v2.0"},documents:Array.isArray(t)?t:[t]},o=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),l=document.createElement("a");return l.href=i,l.download=r,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i),console.log(`✅ Data saved as ${r}`),{success:!0,filename:r,documentCount:s.documents.length}}catch(r){throw console.error("❌ Failed to save JSON:",r),r}})}getStats(){const t=Date.now()-this.stats.startTime;return R(k({},this.stats),{runtime:`${Math.round(t/1e3)}s`,successRate:this.stats.totalRequests>0?Math.round(this.stats.successfulRequests/this.stats.totalRequests*100):0})}delay(t){return F(this,null,function*(){return new Promise(a=>setTimeout(a,t))})}}const $r=new bx,vx=()=>{const[e,t]=x.useState("scraper"),[a,r]=x.useState(!1),[s,o]=x.useState([]),[i,l]=x.useState(""),[u,p]=x.useState([]),[d,m]=x.useState({totalRequests:0,successfulRequests:0,failedRequests:0,runtime:"0s",successRate:0}),h=[{id:"judiciary",name:"سایت قوه قضائیه",url:"https://www.judiciary.ir",description:"اخبار و اطلاعیه‌های قوه قضائیه",status:"active",lastScrape:"۲ ساعت پیش",documentsFound:1250},{id:"parliament",name:"مرکز پژوهش‌های مجلس",url:"https://rc.majlis.ir",description:"تحقیقات و گزارش‌های مجلس شورای اسلامی",status:"active",lastScrape:"۳ ساعت پیش",documentsFound:890},{id:"government",name:"پایگاه اطلاع‌رسانی دولت",url:"https://www.dolat.ir",description:"اخبار و مصوبات دولت",status:"inactive",lastScrape:"۱ روز پیش",documentsFound:2100},{id:"legal-news",name:"خبرگزاری حقوقی",url:"https://www.legalpress.ir",description:"اخبار و تحلیل‌های حقوقی",status:"error",lastScrape:"۵ ساعت پیش",documentsFound:456}],f=()=>F(_,null,function*(){if(u.length===0){alert("لطفاً حداقل یک منبع را انتخاب کنید");return}r(!0);try{const v=yield $r.searchLegalSources(i,{sources:u,concurrency:2});o(v),m($r.getStats())}catch(v){console.error("خطا در استخراج:",v)}finally{r(!1)}}),y=()=>F(_,null,function*(){if(s.length===0){alert("هیچ نتیجه‌ای برای دانلود وجود ندارد");return}try{yield $r.saveAsJSON(s,`legal_scraping_${Date.now()}.json`)}catch(v){console.error("خطا در ذخیره فایل:",v)}}),g=v=>{switch(v){case"active":return n(o0,{className:"w-4 h-4 text-green-500"});case"inactive":return n(Ml,{className:"w-4 h-4 text-yellow-500"});case"error":return n(y0,{className:"w-4 h-4 text-red-500"});default:return n(i0,{className:"w-4 h-4 text-gray-500"})}},b=v=>{switch(v){case"active":return"فعال";case"inactive":return"غیرفعال";case"error":return"خطا";default:return"نامشخص"}};return c("div",{className:"space-y-6",children:[n("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:c("div",{className:"flex items-center justify-between",children:[c("div",{className:"flex items-center gap-4",children:[n("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:n(qt,{className:"w-6 h-6 text-white"})}),c("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🌐 سیستم استخراج اطلاعات"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"استخراج هوشمند اطلاعات از منابع حقوقی آنلاین"})]})]}),n("div",{className:"flex items-center gap-3",children:c("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${a?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:[n("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500 animate-pulse":"bg-gray-400"}`}),n("span",{className:"text-sm font-medium",children:a?"در حال استخراج":"آماده"})]})})]})}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"flex",children:[{id:"scraper",title:"استخراج داده",icon:qt},{id:"sources",title:"منابع",icon:Va},{id:"results",title:"نتایج",icon:Jt},{id:"stats",title:"آمار",icon:Le}].map(v=>{const w=v.icon;return c("button",{onClick:()=>t(v.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${e===v.id?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[n(w,{className:"w-4 h-4"}),v.title]},v.id)})})}),n("div",{className:"p-6",children:c(ot,{mode:"wait",children:[e==="scraper"&&c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[c("div",{className:"space-y-4",children:[c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"جستجوی کلیدواژه"}),c("div",{className:"relative",children:[n(lt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n("input",{type:"text",value:i,onChange:v=>l(v.target.value),placeholder:"کلیدواژه‌های مورد نظر را وارد کنید...",className:"w-full pr-12 pl-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"انتخاب منابع"}),n("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(v=>n("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${u.includes(v.id)?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:()=>{p(w=>w.includes(v.id)?w.filter(N=>N!==v.id):[...w,v.id])},children:c("div",{className:"flex items-start justify-between",children:[c("div",{className:"flex-1",children:[c("div",{className:"flex items-center gap-2 mb-1",children:[n("h3",{className:"font-medium text-gray-900 dark:text-white",children:v.name}),g(v.status)]}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:v.description}),c("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[c("span",{children:["آخرین استخراج: ",v.lastScrape]}),c("span",{children:["اسناد: ",v.documentsFound.toLocaleString("fa-IR")]})]})]}),n("input",{type:"checkbox",checked:u.includes(v.id),onChange:()=>{},className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"})]})},v.id))})]}),c("div",{className:"flex items-center gap-4",children:[n("button",{onClick:f,disabled:a||u.length===0,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?c(X,{children:[n(je,{className:"w-4 h-4 animate-spin"}),"در حال استخراج..."]}):c(X,{children:[n(f0,{className:"w-4 h-4"}),"شروع استخراج"]})}),c("button",{onClick:y,disabled:s.length===0,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n(Gt,{className:"w-4 h-4"}),"دانلود نتایج"]})]})]}),a&&c("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[c("div",{className:"flex items-center gap-3 mb-3",children:[n(je,{className:"w-5 h-5 text-blue-600 animate-spin"}),n("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"در حال استخراج اطلاعات..."})]}),n("div",{className:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-2",children:n("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})]},"scraper"),e==="sources"&&n(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:n("div",{className:"grid grid-cols-1 gap-4",children:h.map(v=>c("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[c("div",{className:"flex items-center justify-between mb-4",children:[c("div",{className:"flex items-center gap-3",children:[n(qt,{className:"w-8 h-8 text-purple-600"}),c("div",{children:[n("h3",{className:"font-semibold text-gray-900 dark:text-white",children:v.name}),c("div",{className:"flex items-center gap-2",children:[g(v.status),n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:b(v.status)})]})]})]}),c("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-purple-600 hover:text-purple-700 transition-colors",children:[n(u0,{className:"w-4 h-4"}),n("span",{className:"text-sm",children:"مشاهده سایت"})]})]}),n("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:v.description}),c("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c("div",{className:"text-center p-3 bg-white dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:v.documentsFound.toLocaleString("fa-IR")}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"اسناد یافت شده"})]}),c("div",{className:"text-center p-3 bg-white dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:v.lastScrape}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"آخرین استخراج"})]}),c("div",{className:"text-center p-3 bg-white dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-bold text-green-600",children:"۹۵%"}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نرخ موفقیت"})]}),c("div",{className:"text-center p-3 bg-white dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-bold text-blue-600",children:"۲.۳s"}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"میانگین زمان"})]})]})]},v.id))})},"sources"),e==="results"&&n(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:s.length===0?c("div",{className:"text-center py-12",children:[n(Jt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هنوز نتیجه‌ای وجود ندارد"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"برای مشاهده نتایج، ابتدا عملیات استخراج را انجام دهید"})]}):n("div",{className:"space-y-4",children:s.map((v,w)=>{var N,A,E;return c("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[c("div",{className:"flex items-start justify-between mb-4",children:[c("div",{className:"flex-1",children:[n("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:((N=v.data)==null?void 0:N.title)||"بدون عنوان"}),c("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-300",children:[c("span",{children:["منبع: ",v.source]}),c("span",{children:["تاریخ: ",new Date(v.timestamp).toLocaleDateString("fa-IR")]})]})]}),n("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.success?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300"}`,children:v.success?"موفق":"ناموفق"})]}),v.success&&((A=v.data)==null?void 0:A.content)&&c("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed line-clamp-3",children:[v.data.content.substring(0,300),"..."]}),((E=v.data)==null?void 0:E.extractedPatterns)&&Object.keys(v.data.extractedPatterns).length>0&&c("div",{className:"mt-4",children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"الگوهای استخراج شده:"}),n("div",{className:"flex flex-wrap gap-2",children:Object.keys(v.data.extractedPatterns).map(L=>n("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-xs rounded",children:v.data.extractedPatterns[L].label},L))})]})]},w)})})},"results"),e==="stats"&&n(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:c("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:d.totalRequests}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل درخواست‌ها"})]}),c("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:d.successfulRequests}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"موفق"})]}),c("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:d.failedRequests}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"ناموفق"})]}),c("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6 text-center",children:[c("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[d.successRate,"%"]}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"نرخ موفقیت"})]})]})},"stats")]})})]})]})};class wx{constructor(t={}){this.options=k({apiKey:t.apiKey||{}.REACT_APP_HF_API_KEY||"",baseUrl:t.baseUrl||"https://api-inference.huggingface.co",timeout:t.timeout||3e4,maxRetries:t.maxRetries||3,batchSize:t.batchSize||10},t),this.axiosInstance=Qn.create({baseURL:this.options.baseUrl,timeout:this.options.timeout,headers:{Authorization:`Bearer ${this.options.apiKey}`,"Content-Type":"application/json"}}),this.stats={totalAnalyzed:0,successfulAnalyses:0,failedAnalyses:0,averageConfidence:0,startTime:Date.now()},this.legalCategories={قرارداد:"contract",رای_دادگاه:"court_ruling",قانون:"law",آیین_نامه:"regulation",بخشنامه:"circular",مصوبه:"resolution",شکایت:"complaint",دادخواست:"petition",وکالت_نامه:"power_of_attorney",سند_مالکیت:"property_deed"}}analyzeText(r){return F(this,arguments,function*(t,a={}){const s=a.model||"HooshvareLab/bert-fa-base-uncased-clf-persiannews",o=a.maxRetries||this.options.maxRetries;for(let i=1;i<=o;i++)try{this.stats.totalAnalyzed++;const l=yield this.axiosInstance.post("/models/"+s,{inputs:this.preprocessText(t)}),u=this.processAnalysisResult(l.data,t);return this.stats.successfulAnalyses++,u}catch(l){if(console.warn(`Analysis attempt ${i} failed:`,l.message),i<o)yield this.delay(1e3*i);else throw this.stats.failedAnalyses++,new Error(`Analysis failed after ${o} attempts: ${l.message}`)}})}analyzeBatch(r){return F(this,arguments,function*(t,a={}){const s=a.batchSize||this.options.batchSize,o=[];console.log(`🔍 Starting batch analysis of ${t.length} texts`);for(let i=0;i<t.length;i+=s){const l=t.slice(i,i+s);console.log(`Processing batch ${Math.floor(i/s)+1}/${Math.ceil(t.length/s)}`);const u=l.map((d,m)=>F(this,null,function*(){try{const h=yield this.analyzeText(d,a);return k({index:i+m,success:!0},h)}catch(h){return{index:i+m,success:!1,text:d.substring(0,100)+"...",error:h.message}}})),p=yield Promise.all(u);o.push(...p),i+s<t.length&&(yield this.delay(1e3))}return this.rankResults(o.filter(i=>i.success))})}analyzeLegalDocument(r){return F(this,arguments,function*(t,a={}){const s=typeof t=="string"?t:t.content||t.text;try{const o=yield this.analyzeText(s,{model:"HooshvareLab/bert-fa-base-uncased-clf-persiannews"}),i=this.extractLegalEntities(s),l=this.detectDocumentType(s),u=this.calculateLegalRelevance(s,i),p=yield this.analyzeLegalSentiment(s);return R(k({},o),{legalAnalysis:{documentType:l,legalEntities:i,legalRelevanceScore:u,sentiment:p,extractedPatterns:this.extractLegalPatterns(s),keyTerms:this.extractKeyTerms(s),complexity:this.assessComplexity(s),language:this.detectLanguage(s)},metadata:{analyzedAt:new Date().toISOString(),textLength:s.length,processingTime:Date.now()-this.stats.startTime}})}catch(o){throw console.error("Legal document analysis failed:",o),o}})}extractLegalEntities(t){const a={persons:[],organizations:[],locations:[],dates:[],amounts:[],caseNumbers:[],laws:[],courts:[]},r=/(?:آقای|خانم|دکتر|مهندس|استاد)\s+([آ-ی\s]{2,30})/gi,s=[...t.matchAll(r)];a.persons=[...new Set(s.map(b=>b[1].trim()))];const o=/(شرکت|موسسه|سازمان|اداره|وزارت|دانشگاه)\s+([آ-ی\s]{3,50})/gi,i=[...t.matchAll(o)];a.organizations=[...new Set(i.map(b=>`${b[1]} ${b[2]}`.trim()))];const l=/(\d{4}\/\d{1,2}\/\d{1,2}|[۰-۹]{4}\/[۰-۹]{1,2}\/[۰-۹]{1,2})/g;a.dates=[...new Set(t.match(l)||[])];const u=/([\d,۰-۹]+)\s*(تومان|ریال|درهم)/gi,p=[...t.matchAll(u)];a.amounts=[...new Set(p.map(b=>`${b[1]} ${b[2]}`))];const d=/(شماره|کلاسه)\s*[:\s]*([۰-۹0-9\-\/]+)/gi,m=[...t.matchAll(d)];a.caseNumbers=[...new Set(m.map(b=>b[2]))];const h=/(ماده|قانون|آیین\s*نامه)\s*([۰-۹0-9]+)/gi,f=[...t.matchAll(h)];a.laws=[...new Set(f.map(b=>`${b[1]} ${b[2]}`))];const y=/(دادگاه|دیوان|شورا)\s+([آ-ی\s]{5,40})/gi,g=[...t.matchAll(y)];return a.courts=[...new Set(g.map(b=>`${b[1]} ${b[2]}`.trim()))],a}detectDocumentType(t){const a={قرارداد:/قرارداد|طرفین|خریدار|فروشنده|اجاره\s*دهنده|اجاره\s*گیرنده/gi,رای_دادگاه:/رای|حکم|دادگاه|قاضی|خواهان|خوانده|پرونده/gi,قانون:/قانون|ماده|تبصره|فصل|باب/gi,دادخواست:/دادخواست|خواهان|علیه|خوانده|تقاضا/gi,وکالت_نامه:/وکالت\s*نامه|وکیل|موکل|نمایندگی/gi,شکایت:/شکایت|متهم|شاکی|جرم/gi,مصوبه:/مصوبه|تصویب|شورا|کمیسیون/gi,بخشنامه:/بخشنامه|اطلاعیه|دستورالعمل/gi};let r=0,s="نامشخص";return Object.entries(a).forEach(([o,i])=>{const u=(t.match(i)||[]).length;u>r&&(r=u,s=o)}),{type:s,confidence:Math.min(r/10,1),indicators:r}}calculateLegalRelevance(t,a){let r=0;return["قانون","ماده","تبصره","دادگاه","قاضی","وکیل","حکم","رای","قرارداد","شکایت","دادخواست","پرونده","محکمه","دیوان"].forEach(o=>{const i=new RegExp(o,"gi"),l=t.match(i)||[];r+=l.length*2}),r+=a.persons.length*3,r+=a.caseNumbers.length*5,r+=a.courts.length*4,r+=a.laws.length*4,r+=a.amounts.length*2,Math.min(r,100)}analyzeLegalSentiment(t){return F(this,null,function*(){const a=["موافق","تایید","پذیرش","موفق","حل","توافق"],r=["مخالف","رد","انکار","نقض","تخلف","جرم"],s=["بررسی","مطالعه","تحقیق","بحث","مشورت"];let o=0,i=0,l=0;a.forEach(m=>{const h=t.match(new RegExp(m,"gi"))||[];o+=h.length}),r.forEach(m=>{const h=t.match(new RegExp(m,"gi"))||[];i+=h.length}),s.forEach(m=>{const h=t.match(new RegExp(m,"gi"))||[];l+=h.length});const u=o+i+l;if(u===0)return{sentiment:"neutral",confidence:0};const d=[{type:"positive",score:o/u},{type:"negative",score:i/u},{type:"neutral",score:l/u}].reduce((m,h)=>h.score>m.score?h:m);return{sentiment:d.type,confidence:d.score,scores:{positive:o/u,negative:i/u,neutral:l/u}}})}extractLegalPatterns(t){return{articles:[...t.matchAll(/ماده\s*([۰-۹0-9]+)/gi)].map(r=>r[1]),references:[...t.matchAll(/مطابق\s+(ماده|قانون)\s*([۰-۹0-9آ-ی\s]+)/gi)].map(r=>r[2]),deadlines:[...t.matchAll(/(ظرف|تا|حداکثر)\s*([۰-۹0-9]+)\s*(روز|ماه|سال)/gi)].map(r=>`${r[2]} ${r[3]}`),obligations:[...t.matchAll(/(متعهد|موظف|ملزم)\s+([آ-ی\s]{10,50})/gi)].map(r=>r[2])}}extractKeyTerms(t){const a=t.split(/\s+/).filter(s=>s.length>3&&!/^[0-9۰-۹]+$/.test(s)&&!["این","آن","که","در","با","از","به","تا"].includes(s)),r={};return a.forEach(s=>{const o=s.replace(/[^\u0600-\u06FF\u0041-\u005A\u0061-\u007A]/g,"");o.length>3&&(r[o]=(r[o]||0)+1)}),Object.entries(r).sort(([,s],[,o])=>o-s).slice(0,10).map(([s,o])=>({term:s,count:o}))}assessComplexity(t){const a=t.split(/[.!?؟]/),r=t.split(/\s+/),s=r.length/a.length,o=t.replace(/\s/g,"").length/r.length;let i="ساده",l=0;return s>20&&(l+=2),o>6&&(l+=2),(t.includes("مطابق")||t.includes("بموجب"))&&(l+=1),t.match(/[۰-۹0-9]{4}\/[۰-۹0-9]{1,2}\/[۰-۹0-9]{1,2}/g)&&(l+=1),l>=4?i="پیچیده":l>=2&&(i="متوسط"),{level:i,score:l,factors:{avgWordsPerSentence:s,avgCharsPerWord:o}}}detectLanguage(t){const a=(t.match(/[\u0600-\u06FF]/g)||[]).length,r=(t.match(/[a-zA-Z]/g)||[]).length,s=t.replace(/\s/g,"").length,o=a/s,i=r/s;return o>.7?"fa":i>.7?"en":o>.3?"mixed":"unknown"}preprocessText(t){return t.trim().replace(/\s+/g," ").substring(0,512)}processAnalysisResult(t,a){const r=Array.isArray(t)?t[0]:t;return{text:a.substring(0,100)+"...",category:r.label,confidence:r.score,allScores:Array.isArray(t)?t:[t],analyzedAt:new Date().toISOString()}}rankResults(t){const a=t.filter(r=>r.confidence>.1).sort((r,s)=>s.confidence-r.confidence);return a.length>0&&(this.stats.averageConfidence=a.reduce((r,s)=>r+s.confidence,0)/a.length),{total:t.length,ranked:a,stats:this.getStats(),categories:this.getCategoryDistribution(a)}}getCategoryDistribution(t){const a={};return t.forEach(r=>{a[r.category]=(a[r.category]||0)+1}),a}getStats(){const t=Date.now()-this.stats.startTime;return R(k({},this.stats),{runtime:`${Math.round(t/1e3)}s`,successRate:this.stats.totalAnalyzed>0?Math.round(this.stats.successfulAnalyses/this.stats.totalAnalyzed*100):0})}delay(t){return F(this,null,function*(){return new Promise(a=>setTimeout(a,t))})}resetStats(){this.stats={totalAnalyzed:0,successfulAnalyses:0,failedAnalyses:0,averageConfidence:0,startTime:Date.now()}}}const yt=new wx,kx=()=>{const[e,t]=x.useState("analyzer"),[a,r]=x.useState([]),[s,o]=x.useState(!1),[i,l]=x.useState(""),[u,p]=x.useState("single"),[d,m]=x.useState([""]),[h,f]=x.useState({totalAnalyzed:0,successfulAnalyses:0,failedAnalyses:0,averageConfidence:0,runtime:"0s",successRate:0}),y=["قرارداد خرید و فروش ملک واقع در تهران بین آقای احمد محمدی به عنوان خریدار و خانم زهرا احمدی به عنوان فروشنده منعقد می‌گردد. مبلغ معامله پنج میلیارد تومان می‌باشد.","دادگاه عمومی تهران در جلسه مورخ 1402/09/15 با حضور قاضی دکتر رضایی و بررسی پرونده کلاسه 9801234 در خصوص دعوای خواهان علی اکبری علیه خوانده حسن محمدی رای زیر را صادر نمود.","بخشنامه شماره 1234 وزارت دادگستری در خصوص نحوه رسیدگی به پرونده‌های مدنی و اجرای احکام دادگاه‌ها به تمامی دادگاه‌های کشور ابلاغ می‌گردد.","شکایت آقای محمد کریمی از شرکت تجاری پارس به دلیل نقض قرارداد و عدم ایفای تعهدات قراردادی در مهلت مقرر که موجب ضرر و زیان شاکی گردیده است."],g=()=>F(_,null,function*(){if(!i.trim()){alert("لطفاً متن مورد نظر را وارد کنید");return}o(!0);try{const S=yield yt.analyzeLegalDocument(i);r([S]),f(yt.getStats())}catch(S){console.error("Analysis failed:",S),alert("خطا در تحلیل متن: "+S.message)}finally{o(!1)}}),b=()=>F(_,null,function*(){const S=d.filter(j=>j.trim());if(S.length===0){alert("لطفاً حداقل یک متن وارد کنید");return}o(!0);try{const j=yield yt.analyzeBatch(S);r(j.ranked),f(yt.getStats())}catch(j){console.error("Batch analysis failed:",j),alert("خطا در تحلیل دسته‌ای: "+j.message)}finally{o(!1)}}),C=()=>F(_,null,function*(){o(!0);try{const S=yield yt.analyzeBatch(y);r(S.ranked),f(yt.getStats())}catch(S){console.error("Sample analysis failed:",S),alert("خطا در تحلیل نمونه‌ها: "+S.message)}finally{o(!1)}}),v=()=>{m([...d,""])},w=(S,j)=>{const P=[...d];P[S]=j,m(P)},N=S=>{d.length>1&&m(d.filter((j,P)=>P!==S))},A=()=>{if(a.length===0){alert("نتیجه‌ای برای صادرات وجود ندارد");return}const S={metadata:{timestamp:new Date().toISOString(),totalResults:a.length,stats:h,generator:"Iranian Legal Archive AI Analyzer v2.0"},results:a},j=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),P=URL.createObjectURL(j),M=document.createElement("a");M.href=P,M.download=`ai_analysis_results_${Date.now()}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(P)},E=S=>S>=.8?"text-green-600 dark:text-green-400":S>=.6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",L=S=>S>=.8?"bg-green-100 dark:bg-green-900/20":S>=.6?"bg-yellow-100 dark:bg-yellow-900/20":"bg-red-100 dark:bg-red-900/20";return c("div",{className:"space-y-6",children:[n("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:c("div",{className:"flex items-center justify-between",children:[c("div",{className:"flex items-center gap-4",children:[n("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:n(Ct,{className:"w-6 h-6 text-white"})}),c("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🧠 تحلیلگر هوش مصنوعی"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"تحلیل هوشمند اسناد حقوقی با مدل BERT فارسی"})]})]}),n("div",{className:"flex items-center gap-3",children:c("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${s?"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300"}`,children:[n("div",{className:`w-2 h-2 rounded-full ${s?"bg-blue-500 animate-pulse":"bg-green-500"}`}),n("span",{className:"text-sm font-medium",children:s?"در حال تحلیل":"آماده"})]})})]})}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"flex",children:[{id:"analyzer",title:"تحلیلگر هوش مصنوعی",icon:Ct},{id:"results",title:"نتایج تحلیل",icon:Le},{id:"statistics",title:"آمار و گزارش",icon:h0},{id:"settings",title:"تنظیمات",icon:ct}].map(S=>{const j=S.icon;return c("button",{onClick:()=>t(S.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${e===S.id?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[n(j,{className:"w-4 h-4"}),S.title]},S.id)})})}),n("div",{className:"p-6",children:c(ot,{mode:"wait",children:[e==="analyzer"&&c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[c("div",{className:"flex items-center gap-4 mb-6",children:[n("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"نوع تحلیل:"}),c("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[n("button",{onClick:()=>p("single"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="single"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"تک متن"}),n("button",{onClick:()=>p("batch"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${u==="batch"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"دسته‌ای"})]})]}),u==="single"&&c("div",{className:"space-y-4",children:[c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"متن مورد تحلیل"}),n("textarea",{value:i,onChange:S=>l(S.target.value),placeholder:"متن سند حقوقی خود را اینجا وارد کنید...",className:"w-full h-40 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white resize-none"}),c("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["تعداد کاراکتر: ",i.length]})]}),c("div",{className:"flex items-center gap-4",children:[n("button",{onClick:g,disabled:s||!i.trim(),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?c(X,{children:[n(je,{className:"w-4 h-4 animate-spin"}),"در حال تحلیل..."]}):c(X,{children:[n(Xt,{className:"w-4 h-4"}),"تحلیل متن"]})}),c("button",{onClick:C,disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n(Jt,{className:"w-4 h-4"}),"تحلیل نمونه‌ها"]})]})]}),u==="batch"&&c("div",{className:"space-y-4",children:[c("div",{className:"flex items-center justify-between",children:[c("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["متن‌های مورد تحلیل (",d.length," متن)"]}),c("button",{onClick:v,className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[n(Na,{className:"w-3 h-3"}),"افزودن متن"]})]}),n("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:d.map((S,j)=>c("div",{className:"flex gap-2",children:[n("textarea",{value:S,onChange:P=>w(j,P.target.value),placeholder:`متن ${j+1}...`,className:"flex-1 h-24 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white resize-none"}),d.length>1&&n("button",{onClick:()=>N(j),className:"px-2 py-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:"×"})]},j))}),n("button",{onClick:b,disabled:s||d.every(S=>!S.trim()),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?c(X,{children:[n(je,{className:"w-4 h-4 animate-spin"}),"در حال تحلیل دسته‌ای..."]}):c(X,{children:[n(sn,{className:"w-4 h-4"}),"تحلیل دسته‌ای"]})})]}),h.totalAnalyzed>0&&c("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[c("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:h.totalAnalyzed}),n("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"کل تحلیل‌ها"})]}),c("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h.successfulAnalyses}),n("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"موفق"})]}),c("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 text-center",children:[c("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[Math.round(h.averageConfidence*100),"%"]}),n("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"میانگین اطمینان"})]}),c("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:h.runtime}),n("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"زمان کل"})]})]})]},"analyzer"),e==="results"&&n(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:a.length===0?c("div",{className:"text-center py-12",children:[n(Ct,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هنوز تحلیلی انجام نشده"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"برای مشاهده نتایج، ابتدا تحلیل متن را انجام دهید"})]}):c("div",{className:"space-y-4",children:[c("div",{className:"flex items-center justify-between",children:[c("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["نتایج تحلیل (",a.length," نتیجه)"]}),c("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n(Gt,{className:"w-4 h-4"}),"صادرات نتایج"]})]}),a.map((S,j)=>c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-6",children:[n("div",{className:"flex items-start justify-between mb-4",children:c("div",{className:"flex-1",children:[c("div",{className:"flex items-center gap-3 mb-2",children:[n("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${L(S.confidence)} ${E(S.confidence)}`,children:S.category}),c("div",{className:"flex items-center gap-1",children:[n(Il,{className:"w-4 h-4 text-gray-400"}),c("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["اطمینان: ",Math.round(S.confidence*100),"%"]})]})]}),n("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:S.text})]})}),S.legalAnalysis&&c("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"تحلیل حقوقی تخصصی:"}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.legalAnalysis.documentType.type}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نوع سند"})]}),c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-600 rounded-lg",children:[c("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[S.legalAnalysis.legalRelevanceScore,"%"]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ارتباط حقوقی"})]}),c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.legalAnalysis.complexity.level}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"پیچیدگی"})]}),c("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.legalAnalysis.sentiment.sentiment}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"احساس کلی"})]})]}),Object.keys(S.legalAnalysis.legalEntities).some(P=>S.legalAnalysis.legalEntities[P].length>0)&&c("div",{className:"mb-4",children:[n("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"موجودیت‌های حقوقی استخراج شده:"}),n("div",{className:"flex flex-wrap gap-2",children:Object.entries(S.legalAnalysis.legalEntities).map(([P,M])=>M.slice(0,3).map((K,U)=>n("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs rounded",children:K},`${P}-${U}`)))})]}),S.legalAnalysis.keyTerms.length>0&&c("div",{children:[n("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"کلمات کلیدی:"}),n("div",{className:"flex flex-wrap gap-2",children:S.legalAnalysis.keyTerms.slice(0,8).map((P,M)=>c("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-xs rounded",children:[P.term," (",P.count,")"]},M))})]})]})]},j))]})},"results"),e==="statistics"&&c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:h.totalAnalyzed}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل تحلیل‌ها"})]}),c("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 text-center",children:[c("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[h.successRate,"%"]}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"نرخ موفقیت"})]}),c("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6 text-center",children:[c("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[Math.round(h.averageConfidence*100),"%"]}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"میانگین اطمینان"})]}),c("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:h.runtime}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"زمان کل"})]})]}),a.length>0&&c("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"توزیع دسته‌بندی‌ها"}),n("div",{className:"space-y-3",children:Object.entries(a.reduce((S,j)=>(S[j.category]=(S[j.category]||0)+1,S),{})).map(([S,j])=>{const P=j/a.length*100;return c("div",{className:"flex items-center gap-4",children:[n("div",{className:"w-24 text-sm text-gray-600 dark:text-gray-300",children:S}),n("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-4",children:n("div",{className:"bg-purple-600 h-4 rounded-full transition-all duration-500",style:{width:`${P}%`}})}),c("div",{className:"w-16 text-sm text-gray-600 dark:text-gray-300 text-left",children:[j," (",Math.round(P),"%)"]})]},S)})})]})]},"statistics"),e==="settings"&&c(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-12",children:[n(ct,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"تنظیمات تحلیلگر"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"این بخش در حال توسعه است"})]},"settings")]})})]})]})},Nx=({tabs:e,activeTab:t,onTabChange:a})=>n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"-mb-px flex space-x-8 space-x-reverse overflow-x-auto",children:e.map(r=>c("button",{onClick:()=>a(r.id),className:`
              group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
              ${t===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"}
            `,children:[n("span",{className:"text-lg ml-2",children:r.icon}),n("span",{children:r.title}),r.description&&c("span",{className:"hidden lg:block text-xs text-gray-400 dark:text-gray-500 mr-2",children:["• ",r.description]})]},r.id))})}),Cx=({config:e,onConfigChange:t,theme:a,onThemeChange:r})=>{var o,i,l,u,p;const s=(d,m)=>{t({[d]:m})};return c("div",{className:"space-y-6",children:[c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات ظاهری"}),c("div",{className:"space-y-4",children:[c("div",{children:[n("label",{className:"label",children:"تم رنگی"}),c("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n("button",{onClick:r,className:`p-3 rounded-lg border-2 transition-colors ${a==="light"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-lg",children:"☀️"}),n("span",{className:"text-sm font-medium",children:"روشن"})]})}),n("button",{onClick:r,className:`p-3 rounded-lg border-2 transition-colors ${a==="dark"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-lg",children:"🌙"}),n("span",{className:"text-sm font-medium",children:"تیره"})]})}),n("button",{onClick:r,className:`p-3 rounded-lg border-2 transition-colors ${a==="system"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-lg",children:"🖥️"}),n("span",{className:"text-sm font-medium",children:"سیستم"})]})})]})]}),c("div",{children:[n("label",{className:"label",children:"زبان"}),c("select",{value:e.language||"fa",onChange:d=>s("language",d.target.value),className:"input",children:[n("option",{value:"fa",children:"فارسی"}),n("option",{value:"en",children:"English"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تغییر زبان نیاز به بازنشانی صفحه دارد"})]})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات اعلان‌ها"}),c("div",{className:"space-y-4",children:[c("div",{children:[n("label",{className:"label",children:"موقعیت اعلان‌ها"}),c("select",{value:((o=e.notifications)==null?void 0:o.position)||"top-left",onChange:d=>s("notifications",R(k({},e.notifications),{position:d.target.value})),className:"input",children:[n("option",{value:"top-left",children:"بالا راست"}),n("option",{value:"top-right",children:"بالا چپ"}),n("option",{value:"bottom-left",children:"پایین راست"}),n("option",{value:"bottom-right",children:"پایین چپ"}),n("option",{value:"top-center",children:"بالا وسط"}),n("option",{value:"bottom-center",children:"پایین وسط"})]})]}),c("div",{children:[n("label",{className:"label",children:"مدت نمایش اعلان (ثانیه)"}),n("input",{type:"number",min:"1",max:"10",value:(((i=e.notifications)==null?void 0:i.duration)||4e3)/1e3,onChange:d=>s("notifications",R(k({},e.notifications),{duration:parseInt(d.target.value)*1e3})),className:"input"})]}),c("div",{children:[n("label",{className:"label",children:"حداکثر تعداد اعلان‌های همزمان"}),c("select",{value:((l=e.notifications)==null?void 0:l.maxNotifications)||5,onChange:d=>s("notifications",R(k({},e.notifications),{maxNotifications:parseInt(d.target.value)})),className:"input",children:[n("option",{value:"3",children:"۳"}),n("option",{value:"5",children:"۵"}),n("option",{value:"7",children:"۷"}),n("option",{value:"10",children:"۱۰"})]})]})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات عملکرد"}),c("div",{className:"space-y-4",children:[c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"بروزرسانی خودکار"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"بروزرسانی خودکار داده‌ها در صفحات"})]}),c("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:e.autoRefresh!==!1,onChange:d=>s("autoRefresh",d.target.checked),className:"sr-only peer"}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.autoRefresh!==!1&&c("div",{children:[n("label",{className:"label",children:"فاصله بروزرسانی (ثانیه)"}),c("select",{value:e.refreshInterval||3e4,onChange:d=>s("refreshInterval",parseInt(d.target.value)),className:"input",children:[n("option",{value:"5000",children:"۵ ثانیه"}),n("option",{value:"15000",children:"۱۵ ثانیه"}),n("option",{value:"30000",children:"۳۰ ثانیه"}),n("option",{value:"60000",children:"۱ دقیقه"}),n("option",{value:"300000",children:"۵ دقیقه"})]})]}),c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"کش مرورگر"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ذخیره موقت داده‌ها برای سرعت بیشتر"})]}),c("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:((u=e.cache)==null?void 0:u.enabled)!==!1,onChange:d=>s("cache",R(k({},e.cache),{enabled:d.target.checked})),className:"sr-only peer"}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات صفحه‌بندی"}),c("div",{className:"space-y-4",children:[c("div",{children:[n("label",{className:"label",children:"تعداد پیش‌فرض آیتم‌ها در هر صفحه"}),c("select",{value:((p=e.pagination)==null?void 0:p.defaultPageSize)||20,onChange:d=>s("pagination",R(k({},e.pagination),{defaultPageSize:parseInt(d.target.value)})),className:"input",children:[n("option",{value:"10",children:"۱۰"}),n("option",{value:"20",children:"۲۰"}),n("option",{value:"50",children:"۵۰"}),n("option",{value:"100",children:"۱۰۰"})]})]}),c("div",{children:[n("label",{className:"label",children:"گزینه‌های تعداد آیتم‌ها"}),n("div",{className:"flex flex-wrap gap-2 mt-2",children:[10,20,50,100,200].map(d=>{var m;return c("label",{className:"flex items-center",children:[n("input",{type:"checkbox",checked:(((m=e.pagination)==null?void 0:m.pageSizeOptions)||[10,20,50,100]).includes(d),onChange:h=>{var g;const f=((g=e.pagination)==null?void 0:g.pageSizeOptions)||[10,20,50,100],y=h.target.checked?[...f,d].sort((b,C)=>b-C):f.filter(b=>b!==d);s("pagination",R(k({},e.pagination),{pageSizeOptions:y}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 ml-2"}),n("span",{className:"text-sm",children:d})]},d)})})]})]})]})]})},Sx=({config:e,onConfigChange:t,onTestConnection:a})=>{const[r,s]=x.useState(!1),[o,i]=x.useState(null),l=(p,d)=>{t({[p]:d})},u=()=>F(_,null,function*(){s(!0),i(null);try{const p=yield a();i(p)}catch(p){i({success:!1,error:p.message})}finally{s(!1)}});return c("div",{className:"space-y-6",children:[c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"اتصال به سرور"}),c("div",{className:"space-y-4",children:[c("div",{children:[c("label",{className:"label",children:["آدرس پایه API ",n("span",{className:"text-red-500",children:"*"})]}),n("input",{type:"url",value:e.apiBaseUrl||"",onChange:p=>l("apiBaseUrl",p.target.value),placeholder:"http://127.0.0.1:8000/api",className:"input"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"آدرس کامل API سرور (بدون / در انتها)"})]}),c("div",{children:[n("label",{className:"label",children:"آدرس WebSocket"}),n("input",{type:"text",value:e.websocketUrl||"",onChange:p=>l("websocketUrl",p.target.value),placeholder:"ws://127.0.0.1:8000/ws",className:"input"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"آدرس WebSocket برای بروزرسانی بلادرنگ"})]}),c("div",{className:"flex items-center space-x-3 space-x-reverse",children:[c("button",{onClick:u,disabled:r||!e.apiBaseUrl,className:"btn btn-primary flex items-center space-x-2 space-x-reverse disabled:opacity-50",children:[r?n(Ee,{size:"sm"}):n("span",{children:"🔍"}),n("span",{children:"تست اتصال"})]}),o&&c("div",{className:`flex items-center space-x-2 space-x-reverse ${o.success?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[n("span",{children:o.success?"✅":"❌"}),n("span",{className:"text-sm",children:o.success?`اتصال موفق (${o.status})`:`خطا: ${o.error}`})]})]})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات درخواست"}),c("div",{className:"space-y-4",children:[c("div",{children:[n("label",{className:"label",children:"زمان انتظار (میلی‌ثانیه)"}),n("input",{type:"number",min:"5000",max:"120000",step:"1000",value:e.timeout||3e4,onChange:p=>l("timeout",parseInt(p.target.value)),className:"input"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"حداکثر زمان انتظار برای پاسخ سرور (۵-۱۲۰ ثانیه)"})]}),c("div",{children:[n("label",{className:"label",children:"تعداد تلاش مجدد"}),c("select",{value:e.maxRetries||3,onChange:p=>l("maxRetries",parseInt(p.target.value)),className:"input",children:[n("option",{value:"1",children:"۱ بار"}),n("option",{value:"2",children:"۲ بار"}),n("option",{value:"3",children:"۳ بار"}),n("option",{value:"5",children:"۵ بار"}),n("option",{value:"10",children:"۱۰ بار"})]})]}),c("div",{children:[n("label",{className:"label",children:"اندازه پیش‌فرض دسته"}),c("select",{value:e.batchSize||5,onChange:p=>l("batchSize",parseInt(p.target.value)),className:"input",children:[n("option",{value:"1",children:"۱ (کند)"}),n("option",{value:"3",children:"۳ (متوسط)"}),n("option",{value:"5",children:"۵ (سریع)"}),n("option",{value:"10",children:"۱۰ (خیلی سریع)"}),n("option",{value:"20",children:"۲۰ (حداکثر)"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تعداد درخواست‌های همزمان در پردازش دسته‌ای"})]})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"احراز هویت"}),c("div",{className:"space-y-4",children:[n("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-yellow-600 dark:text-yellow-400",children:"ℹ️"}),c("div",{children:[n("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"احراز هویت در نسخه آینده"}),n("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:"در حال حاضر سیستم نیازی به احراز هویت ندارد. این قابلیت در نسخه‌های آینده اضافه خواهد شد."})]})]})}),c("div",{className:"opacity-50",children:[n("label",{className:"label",children:"کلید API (در آینده)"}),n("input",{type:"password",placeholder:"api_key_here",className:"input",disabled:!0})]}),c("div",{className:"opacity-50",children:[n("label",{className:"label",children:"توکن احراز هویت (در آینده)"}),n("textarea",{placeholder:"Bearer token here",rows:3,className:"input resize-none",disabled:!0})]})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"هدرهای سفارشی"}),c("div",{className:"space-y-4",children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"هدرهای HTTP که با تمام درخواست‌ها ارسال می‌شوند:"}),c("div",{className:"space-y-2",children:[c("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n("code",{className:"text-sm",children:"Content-Type: application/json"}),n("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"پیش‌فرض"})]}),c("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n("code",{className:"text-sm",children:"Accept: application/json"}),n("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"پیش‌فرض"})]})]}),n("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n("input",{type:"text",placeholder:"نام هدر",className:"input"}),c("div",{className:"flex space-x-2 space-x-reverse",children:[n("input",{type:"text",placeholder:"مقدار",className:"input flex-1"}),n("button",{className:"btn btn-secondary px-3 py-2 whitespace-nowrap",children:"افزودن"})]})]})})]})]}),c("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تشخیص محیط"}),c("div",{className:"space-y-4",children:[c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"محیط فعلی:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"تولید"})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"آدرس فعلی:"}),n("p",{className:"font-medium text-gray-900 dark:text-white font-mono text-xs",children:window.location.origin})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"پروتکل:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:window.location.protocol==="https:"?"امن (HTTPS)":"غیرامن (HTTP)"})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"پورت:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:window.location.port||(window.location.protocol==="https:"?"443":"80")})]})]}),n("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"تشخیص خودکار آدرس API"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"تنظیم خودکار آدرس API بر اساس محیط"})]}),n("button",{onClick:()=>{const p=`${window.location.origin}/api`;l("apiBaseUrl",p)},className:"btn btn-secondary btn-sm",children:"تشخیص خودکار"})]})})]})]})]})},Tx=({config:e,onUpdate:t,onTest:a})=>{const[r,s]=x.useState({enabled:!1,type:"http",host:"",port:"",username:"",password:"",auth:!1,timeout:30,retries:3,rotateProxies:!1,proxyList:[]}),[o,i]=x.useState(!1),[l,u]=x.useState(null);x.useEffect(()=>{e!=null&&e.proxy&&s(k(k({},r),e.proxy))},[e]);const p=(m,h)=>{const f=R(k({},r),{[m]:h});s(f),t("proxy",f)},d=()=>F(_,null,function*(){i(!0),u(null);try{yield new Promise(m=>setTimeout(m,2e3)),u({success:!0,message:"اتصال پروکسی موفقیت‌آمیز بود"})}catch(m){u({success:!1,message:"خطا در اتصال پروکسی"})}finally{i(!1)}});return c("div",{className:"space-y-6",children:[c("div",{children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"🌐 تنظیمات پروکسی"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"پیکربندی سرور پروکسی برای درخواست‌های شبکه"})]}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"فعال‌سازی پروکسی"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"استفاده از سرور پروکسی برای تمام درخواست‌ها"})]}),c("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:r.enabled,onChange:m=>p("enabled",m.target.checked),className:"sr-only peer"}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),r.enabled&&c(X,{children:[c("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"پیکربندی پروکسی"}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"نوع پروکسی"}),c("select",{value:r.type,onChange:m=>p("type",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[n("option",{value:"http",children:"HTTP"}),n("option",{value:"https",children:"HTTPS"}),n("option",{value:"socks4",children:"SOCKS4"}),n("option",{value:"socks5",children:"SOCKS5"})]})]}),c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"آدرس سرور"}),n("input",{type:"text",value:r.host,onChange:m=>p("host",m.target.value),placeholder:"127.0.0.1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"پورت"}),n("input",{type:"number",value:r.port,onChange:m=>p("port",m.target.value),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تایم‌اوت (ثانیه)"}),n("input",{type:"number",value:r.timeout,onChange:m=>p("timeout",parseInt(m.target.value)),min:"1",max:"300",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),c("div",{className:"mt-6",children:[c("div",{className:"flex items-center mb-4",children:[n("input",{type:"checkbox",id:"proxy-auth",checked:r.auth,onChange:m=>p("auth",m.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),n("label",{htmlFor:"proxy-auth",className:"mr-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"نیاز به احراز هویت"})]}),r.auth&&c("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"نام کاربری"}),n("input",{type:"text",value:r.username,onChange:m=>p("username",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"رمز عبور"}),n("input",{type:"password",value:r.password,onChange:m=>p("password",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]})]}),c("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:[c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"تست اتصال"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"بررسی صحت تنظیمات پروکسی"})]}),n("button",{onClick:d,disabled:o||!r.host||!r.port,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?c(X,{children:[n("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"در حال تست..."]}):n(X,{children:"🔍 تست اتصال"})})]}),l&&n("div",{className:`mt-4 p-3 rounded-lg ${l.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:c("div",{className:"flex items-center gap-2",children:[n("span",{children:l.success?"✅":"❌"}),n("span",{className:"text-sm",children:l.message})]})})]})]}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"تنظیمات پیشرفته"}),c("div",{className:"space-y-4",children:[c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تعداد تلاش مجدد"}),n("input",{type:"number",value:r.retries,onChange:m=>p("retries",parseInt(m.target.value)),min:"0",max:"10",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),c("div",{className:"flex items-center",children:[n("input",{type:"checkbox",id:"rotate-proxies",checked:r.rotateProxies,onChange:m=>p("rotateProxies",m.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),n("label",{htmlFor:"rotate-proxies",className:"mr-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"چرخش خودکار پروکسی‌ها"})]})]})]})]})]})},Ax=({config:e,onImport:t,onExport:a})=>{const[r,s]=x.useState(!1),[o,i]=x.useState(!1),[l,u]=x.useState(null),[p,d]=x.useState(null),m=()=>F(_,null,function*(){i(!0),d(null);try{yield new Promise(A=>setTimeout(A,1500));const C={version:"2.0.0",timestamp:new Date().toISOString(),settings:e,metadata:{exportedBy:"Iranian Legal Archive System",totalSettings:Object.keys(e||{}).length}},v=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),w=URL.createObjectURL(v),N=document.createElement("a");N.href=w,N.download=`legal-archive-settings-${Date.now()}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(w),d({success:!0,message:"تنظیمات با موفقیت صادر شد"}),a&&a(C)}catch(C){d({success:!1,message:"خطا در صادرات تنظیمات"})}finally{i(!1)}}),h=C=>F(_,null,function*(){s(!0),u(null);try{const v=yield C.text(),w=JSON.parse(v);if(!w.settings||!w.version)throw new Error("فرمت فایل نامعتبر است");yield new Promise(N=>setTimeout(N,1e3)),u({success:!0,message:`تنظیمات با موفقیت وارد شد (نسخه ${w.version})`,data:w}),t&&t(w.settings)}catch(v){u({success:!1,message:`خطا در واردات تنظیمات: ${v.message}`})}finally{s(!1)}}),f=C=>{const v=C.target.files[0];v&&h(v)},y=()=>F(_,null,function*(){if(confirm("آیا مطمئن هستید که می‌خواهید تمام تنظیمات را به حالت پیش‌فرض برگردانید؟"))try{yield new Promise(v=>setTimeout(v,500)),t&&t({theme:"light",language:"fa",api:{baseUrl:"http://localhost:8000",timeout:3e4,retries:3},proxy:{enabled:!1},processing:{batchSize:10,maxFileSize:50,autoProcess:!1}}),u({success:!0,message:"تنظیمات به حالت پیش‌فرض بازگردانده شد"})}catch(C){u({success:!1,message:"خطا در بازگردانی تنظیمات"})}}),b=(()=>{if(!e)return{total:0,categories:0};const C=Object.keys(e).length;let v=0;const w=N=>{Object.keys(N).forEach(A=>{typeof N[A]=="object"&&N[A]!==null?w(N[A]):v++})};return w(e),{total:v,categories:C}})();return c("div",{className:"space-y-6",children:[c("div",{children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"📁 واردات و صادرات تنظیمات"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"پشتیبان‌گیری، بازیابی و انتقال تنظیمات سیستم"})]}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"📊 وضعیت فعلی تنظیمات"}),c("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:b.total}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل تنظیمات"})]}),c("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:b.categories}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"دسته‌بندی‌ها"})]}),c("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"2.0.0"}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"نسخه سیستم"})]})]})]}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[c("div",{className:"flex items-center justify-between mb-4",children:[c("div",{children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"📤 صادرات تنظیمات"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"ایجاد فایل پشتیبان از تمام تنظیمات فعلی"})]}),n("button",{onClick:m,disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?c(X,{children:[n("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"در حال صادرات..."]}):n(X,{children:"📤 صادرات تنظیمات"})})]}),p&&n("div",{className:`p-3 rounded-lg ${p.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:c("div",{className:"flex items-center gap-2",children:[n("span",{children:p.success?"✅":"❌"}),n("span",{className:"text-sm",children:p.message})]})})]}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[c("div",{className:"mb-4",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"📥 واردات تنظیمات"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"بازیابی تنظیمات از فایل پشتیبان"})]}),c("div",{className:"space-y-4",children:[c("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"انتخاب فایل پشتیبان"}),n("input",{type:"file",accept:".json",onChange:f,disabled:r,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"فقط فایل‌های JSON قابل قبول هستند"})]}),r&&c("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[n("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n("span",{className:"text-sm",children:"در حال واردات تنظیمات..."})]}),l&&n("div",{className:`p-3 rounded-lg ${l.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:c("div",{className:"flex items-center gap-2",children:[n("span",{children:l.success?"✅":"❌"}),n("span",{className:"text-sm",children:l.message})]})})]})]}),c("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("h3",{className:"text-lg font-medium text-red-600 dark:text-red-400",children:"🔄 بازگردانی به تنظیمات پیش‌فرض"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"حذف تمام تنظیمات سفارشی و بازگشت به حالت پیش‌فرض"})]}),n("button",{onClick:y,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:"🔄 بازگردانی"})]}),n("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:c("div",{className:"flex items-start gap-2",children:[n("span",{className:"text-red-600 dark:text-red-400",children:"⚠️"}),c("div",{className:"text-sm text-red-700 dark:text-red-300",children:[n("strong",{children:"هشدار:"})," این عملیات غیرقابل بازگشت است. تمام تنظیمات سفارشی شما حذف خواهد شد. قبل از انجام این کار، حتماً از تنظیمات خود پشتیبان تهیه کنید."]})]})})]}),c("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[n("h3",{className:"text-lg font-medium text-blue-900 dark:text-blue-100 mb-3",children:"📖 راهنمای استفاده"}),c("ul",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[c("li",{className:"flex items-start gap-2",children:[n("span",{children:"•"}),n("span",{children:'برای پشتیبان‌گیری از تنظیمات، روی دکمه "صادرات تنظیمات" کلیک کنید'})]}),c("li",{className:"flex items-start gap-2",children:[n("span",{children:"•"}),n("span",{children:"برای بازیابی تنظیمات، فایل JSON پشتیبان را انتخاب کنید"})]}),c("li",{className:"flex items-start gap-2",children:[n("span",{children:"•"}),n("span",{children:"فایل‌های پشتیبان شامل تمام تنظیمات سیستم هستند"})]}),c("li",{className:"flex items-start gap-2",children:[n("span",{children:"•"}),n("span",{children:"پس از واردات تنظیمات، ممکن است نیاز به بازآغازی برنامه باشد"})]})]})]})]})},Px=()=>{const[e,t]=bn(),{config:a,updateConfig:r,resetConfig:s,testConnection:o}=Xe(),{theme:i,toggleTheme:l}=Nn(),{showNotification:u,showSuccess:p,showError:d}=ta(),[m,h]=x.useState(e.get("tab")||"general"),[f,y]=x.useState(!1),[g,b]=x.useState(a);x.useEffect(()=>{t({tab:m},{replace:!0})},[m,t]),x.useEffect(()=>{const E=JSON.stringify(a)!==JSON.stringify(g);y(E)},[a,g]),x.useEffect(()=>{const E=L=>{f&&(L.preventDefault(),L.returnValue="تغییرات ذخیره نشده وجود دارد. آیا مطمئن هستید؟")};return window.addEventListener("beforeunload",E),()=>window.removeEventListener("beforeunload",E)},[f]);const C=()=>F(_,null,function*(){try{if(g.apiBaseUrl!==a.apiBaseUrl&&(u("در حال تست اتصال...","info"),!(yield o()).success)){d("اتصال به API ناموفق بود. تنظیمات ذخیره نشد.");return}b(a),y(!1),p("تنظیمات با موفقیت ذخیره شد")}catch(E){d("خطا در ذخیره تنظیمات: "+E.message)}}),v=()=>{window.confirm("آیا مطمئن هستید که می‌خواهید تمام تنظیمات را به حالت پیش‌فرض برگردانید؟")&&(s(),b(a),y(!1),p("تنظیمات به حالت پیش‌فرض برگردانده شد"))};return c("div",{className:"space-y-6",children:[c("div",{className:"flex items-center justify-between",children:[c("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"تنظیمات سیستم"}),n("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"پیکربندی و تنظیمات سیستم آرشیو حقوقی"})]}),f&&c("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("button",{onClick:()=>{window.confirm("آیا مطمئن هستید که می‌خواهید تغییرات را لغو کنید؟")&&(r(g),y(!1),u("تغییرات لغو شد","info"))},className:"btn btn-secondary",children:"لغو تغییرات"}),n("button",{onClick:C,className:"btn btn-primary",children:"ذخیره تنظیمات"})]})]}),f&&n("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:c("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-yellow-600 dark:text-yellow-400",children:"⚠️"}),c("div",{children:[n("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"تغییرات ذخیره نشده"}),n("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:'تغییراتی که اعمال کرده‌اید هنوز ذخیره نشده‌اند. برای اعمال تغییرات، روی "ذخیره تنظیمات" کلیک کنید.'})]})]})}),n(Nx,{tabs:[{id:"general",title:"تنظیمات عمومی",icon:"⚙️",description:"تم، زبان و تنظیمات کلی"},{id:"api",title:"تنظیمات API",icon:"🔌",description:"آدرس سرور و تنظیمات اتصال"},{id:"proxy",title:"تنظیمات پروکسی",icon:"🌐",description:"مدیریت پروکسی و شبکه"},{id:"import-export",title:"درون‌ریزی/برون‌ریزی",icon:"💾",description:"پشتیبان‌گیری و بازگردانی تنظیمات"}],activeTab:m,onTabChange:h}),n("div",{className:"min-h-96",children:(()=>{switch(m){case"general":return n(Cx,{config:a,onConfigChange:r,theme:i,onThemeChange:l});case"api":return n(Sx,{config:a,onConfigChange:r,onTestConnection:o});case"proxy":return n(Tx,{config:a,onConfigChange:r});case"import-export":return n(Ax,{config:a,onConfigChange:r,onReset:v});default:return null}})()}),n("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:c("div",{className:"flex items-center justify-between",children:[c("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["آخرین تغییر: ",new Date().toLocaleString("fa-IR")]}),c("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("button",{onClick:v,className:"btn btn-secondary text-sm",children:"بازنشانی همه تنظیمات"}),f&&n("button",{onClick:C,className:"btn btn-primary text-sm",children:"ذخیره همه تغییرات"})]})]})}),c("div",{className:"card p-6 bg-gray-50 dark:bg-gray-800/50",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"اطلاعات سیستم"}),c("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"نسخه:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"۲.۰.۰"})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"تاریخ ساخت:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:new Date().toLocaleDateString("fa-IR")})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"محیط:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"تولید"})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"مرورگر:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:navigator.userAgent.split(" ")[0]})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"زبان:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"فارسی"})]}),c("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"جهت:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"راست به چپ"})]})]})]})]})};class Ex extends Qt.Component{constructor(a){super(a);vr(this,"handleReload",()=>{window.location.reload()});vr(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,r){console.error("Error caught by boundary:",a,r),this.setState({error:a,errorInfo:r})}render(){return this.state.hasError?n("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:n("div",{className:"max-w-md w-full",children:c("div",{className:"card p-8 text-center",children:[n("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:n("span",{className:"text-4xl",children:"💥"})}),n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"خطای غیرمنتظره"}),n("p",{className:"text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:"متأسفانه خطایی در برنامه رخ داده است. لطفاً صفحه را بازنشانی کنید یا با پشتیبانی تماس بگیرید."}),!1,c("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n("button",{onClick:this.handleReload,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"🔄 بازنشانی صفحه"}),n("button",{onClick:this.handleReset,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"🔄 تلاش مجدد"})]}),c("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"اگر مشکل ادامه دارد، لطفاً با پشتیبانی تماس بگیرید."}),c("div",{className:"mt-4 text-xs text-gray-400 dark:text-gray-500 space-y-1",children:[n("div",{children:"نسخه: ۲.۰.۰"}),c("div",{children:["زمان خطا: ",new Date().toLocaleString("fa-IR")]}),c("div",{children:["مرورگر: ",navigator.userAgent.split(" ")[0]]})]})]})]})})}):this.props.children}}const Rx=new $c({defaultOptions:{queries:{retry:3,retryDelay:e=>Math.min(1e3*ma(2,e),3e4),staleTime:5*60*1e3,refetchOnWindowFocus:!1}}});function jx(){const[e,t]=x.useState(!1),[a,r]=x.useState(!0),[s,o]=x.useState(null),[i,l]=x.useState(!1);return x.useEffect(()=>{(()=>F(this,null,function*(){const p=Date.now(),d=1e4;try{console.log("🚀 Initializing Iranian Legal Archive System...");const m=document.querySelector(".loading-container");m&&(m.style.display="none");const h=[new Promise(y=>{typeof window!="undefined"&&window.location?y():setTimeout(y,100)}),new Promise(y=>{setTimeout(y,500)}),new Promise(y=>setTimeout(y,800))];yield Promise.race([Promise.all(h),new Promise((y,g)=>setTimeout(()=>g(new Error("Initialization timeout")),d))]);const f=Date.now()-p;console.log(`✅ App initialized successfully in ${f}ms`),l(!0)}catch(m){console.error("❌ Failed to initialize app:",m),o(m.message),l(!0)}finally{r(!1)}}))()},[]),a?n("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:c("div",{className:"text-center",children:[c("div",{className:"relative",children:[c("div",{className:"w-16 h-16 mx-auto mb-6",children:[n("div",{className:"absolute inset-0 rounded-full border-4 border-blue-200 dark:border-gray-700"}),n("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-600 dark:border-t-blue-400 animate-spin"})]}),c("div",{className:"space-y-2",children:[n("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white animate-pulse",children:"🏛️ سیستم آرشیو اسناد حقوقی ایران"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300 animate-pulse",children:"در حال بارگذاری..."})]}),n("div",{className:"mt-6 w-64 mx-auto",children:n("div",{className:"h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:n("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})})]}),n("div",{className:"mt-8 text-xs text-gray-500 dark:text-gray-400",children:"در صورت طولانی شدن بارگذاری، صفحه را رفرش کنید"})]})}):s&&!i?n("div",{className:"min-h-screen bg-red-50 dark:bg-red-900/20 flex items-center justify-center",children:c("div",{className:"text-center p-8 max-w-md",children:[n("div",{className:"text-6xl mb-4",children:"⚠️"}),n("h2",{className:"text-xl font-semibold text-red-800 dark:text-red-200 mb-2",children:"خطا در بارگذاری"}),n("p",{className:"text-red-600 dark:text-red-300 mb-4",children:s}),n("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"تلاش مجدد"})]})}):c(Bc,{client:Rx,children:[n(Id,{children:n(zd,{children:n(_d,{children:n(Mc,{children:n(Ex,{children:c("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 font-vazir",dir:"rtl",children:[n($d,{onMenuClick:()=>t(!e)}),n(v0,{open:e,onClose:()=>t(!1)}),n("main",{className:`transition-all duration-300 ${e?"lg:mr-64":"lg:mr-16"} pt-16`,children:n("div",{className:"p-6",children:c(Fc,{children:[n(Ce,{path:"/",element:n(is,{to:"/dashboard",replace:!0})}),n(Ce,{path:"/dashboard",element:n(S0,{})}),n(Ce,{path:"/process",element:n(px,{})}),n(Ce,{path:"/proxy",element:n(yx,{})}),n(Ce,{path:"/search",element:n(Bi,{})}),n(Ce,{path:"/scraping",element:n(vx,{})}),n(Ce,{path:"/ai-analysis",element:n(kx,{})}),n(Ce,{path:"/database",element:n(Bi,{})}),n(Ce,{path:"/settings",element:n(Px,{})}),n(Ce,{path:"*",element:n(is,{to:"/dashboard",replace:!0})})]})})}),n(Vd,{position:"top-left",toastOptions:{duration:4e3,style:{direction:"rtl",fontFamily:"Vazirmatn, sans-serif"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})})})})}),n(Jc,{initialIsOpen:!1})]})}const Dx=Br.createRoot(document.getElementById("root"));Dx.render(n(Qt.StrictMode,{children:n(jx,{})}))});export default Lx();
//# sourceMappingURL=index-cc1bb1a5.js.map
