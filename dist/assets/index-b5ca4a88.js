var xC=Object.defineProperty;var bC=(t,e,n)=>e in t?xC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>(bC(t,typeof e!="symbol"?e+"":e,n),n);function wC(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Yb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jb={exports:{}},qu={},Zb={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=Symbol.for("react.element"),kC=Symbol.for("react.portal"),SC=Symbol.for("react.fragment"),_C=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),TC=Symbol.for("react.context"),NC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),EC=Symbol.for("react.memo"),RC=Symbol.for("react.lazy"),iy=Symbol.iterator;function IC(t){return t===null||typeof t!="object"?null:(t=iy&&t[iy]||t["@@iterator"],typeof t=="function"?t:null)}var Gb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ew=Object.assign,tw={};function ra(t,e,n){this.props=t,this.context=e,this.refs=tw,this.updater=n||Gb}ra.prototype.isReactComponent={};ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nw(){}nw.prototype=ra.prototype;function Qf(t,e,n){this.props=t,this.context=e,this.refs=tw,this.updater=n||Gb}var Xf=Qf.prototype=new nw;Xf.constructor=Qf;ew(Xf,ra.prototype);Xf.isPureReactComponent=!0;var ry=Array.isArray,iw=Object.prototype.hasOwnProperty,Yf={current:null},rw={key:!0,ref:!0,__self:!0,__source:!0};function sw(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)iw.call(e,i)&&!rw.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:Qo,type:t,key:s,ref:a,props:r,_owner:Yf.current}}function DC(t,e){return{$$typeof:Qo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qo}function MC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sy=/\/+/g;function Kd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MC(""+t.key):e.toString(36)}function sc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Qo:case kC:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+Kd(a,0):i,ry(r)?(n="",t!=null&&(n=t.replace(sy,"$&/")+"/"),sc(r,e,n,"",function(c){return c})):r!=null&&(Jf(r)&&(r=DC(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(sy,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",ry(t))for(var o=0;o<t.length;o++){s=t[o];var l=i+Kd(s,o);a+=sc(s,e,n,l,r)}else if(l=IC(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=i+Kd(s,o++),a+=sc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function vl(t,e,n){if(t==null)return t;var i=[],r=0;return sc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function OC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},ac={transition:null},LC={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:ac,ReactCurrentOwner:Yf};function aw(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:vl,forEach:function(t,e,n){vl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vl(t,function(){e++}),e},toArray:function(t){return vl(t,function(e){return e})||[]},only:function(t){if(!Jf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=ra;ae.Fragment=SC;ae.Profiler=CC;ae.PureComponent=Qf;ae.StrictMode=_C;ae.Suspense=PC;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC;ae.act=aw;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ew({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Yf.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)iw.call(e,l)&&!rw.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:Qo,type:t.type,key:r,ref:s,props:i,_owner:a}};ae.createContext=function(t){return t={$$typeof:TC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AC,_context:t},t.Consumer=t};ae.createElement=sw;ae.createFactory=function(t){var e=sw.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:NC,render:t}};ae.isValidElement=Jf;ae.lazy=function(t){return{$$typeof:RC,_payload:{_status:-1,_result:t},_init:OC}};ae.memo=function(t,e){return{$$typeof:EC,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=ac.transition;ac.transition={};try{t()}finally{ac.transition=e}};ae.unstable_act=aw;ae.useCallback=function(t,e){return Et.current.useCallback(t,e)};ae.useContext=function(t){return Et.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Et.current.useEffect(t,e)};ae.useId=function(){return Et.current.useId()};ae.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Et.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};ae.useRef=function(t){return Et.current.useRef(t)};ae.useState=function(t){return Et.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Et.current.useTransition()};ae.version="18.3.1";Zb.exports=ae;var k=Zb.exports;const rr=Yb(k),jC=wC({__proto__:null,default:rr},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=k,$C=Symbol.for("react.element"),zC=Symbol.for("react.fragment"),UC=Object.prototype.hasOwnProperty,BC=FC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VC={key:!0,ref:!0,__self:!0,__source:!0};function ow(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)UC.call(e,i)&&!VC.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:$C,type:t,key:s,ref:a,props:r,_owner:BC.current}}qu.Fragment=zC;qu.jsx=ow;qu.jsxs=ow;Jb.exports=qu;var Zf=Jb.exports;const Hn=Zf.Fragment,p=Zf.jsx,g=Zf.jsxs;var rh={},lw={exports:{}},Gt={},cw={exports:{}},uw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,R){var L=P.length;P.push(R);e:for(;0<L;){var $=L-1>>>1,se=P[$];if(0<r(se,R))P[$]=R,P[L]=se,L=$;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var R=P[0],L=P.pop();if(L!==R){P[0]=L;e:for(var $=0,se=P.length,Ge=se>>>1;$<Ge;){var ke=2*($+1)-1,Ct=P[ke],ye=ke+1,En=P[ye];if(0>r(Ct,L))ye<se&&0>r(En,Ct)?(P[$]=En,P[ye]=L,$=ye):(P[$]=Ct,P[ke]=L,$=ke);else if(ye<se&&0>r(En,L))P[$]=En,P[ye]=L,$=ye;else break e}}return R}function r(P,R){var L=P.sortIndex-R.sortIndex;return L!==0?L:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var R=n(c);R!==null;){if(R.callback===null)i(c);else if(R.startTime<=P)i(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function S(P){if(y=!1,w(P),!m)if(n(l)!==null)m=!0,Q(C);else{var R=n(c);R!==null&&Y(S,R.startTime-P)}}function C(P,R){m=!1,y&&(y=!1,v(A),A=-1),f=!0;var L=h;try{for(w(R),d=n(l);d!==null&&(!(d.expirationTime>R)||P&&!I());){var $=d.callback;if(typeof $=="function"){d.callback=null,h=d.priorityLevel;var se=$(d.expirationTime<=R);R=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&i(l),w(R)}else i(l);d=n(l)}if(d!==null)var Ge=!0;else{var ke=n(c);ke!==null&&Y(S,ke.startTime-R),Ge=!1}return Ge}finally{d=null,h=L,f=!1}}var _=!1,T=null,A=-1,E=5,N=-1;function I(){return!(t.unstable_now()-N<E)}function j(){if(T!==null){var P=t.unstable_now();N=P;var R=!0;try{R=T(!0,P)}finally{R?B():(_=!1,T=null)}}else _=!1}var B;if(typeof x=="function")B=function(){x(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=j,B=function(){H.postMessage(null)}}else B=function(){b(j,0)};function Q(P){T=P,_||(_=!0,B())}function Y(P,R){A=b(function(){P(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,Q(C))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var L=h;h=R;try{return P()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=h;h=P;try{return R()}finally{h=L}},t.unstable_scheduleCallback=function(P,R,L){var $=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?$+L:$):L=$,P){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=L+se,P={id:u++,callback:R,priorityLevel:P,startTime:L,expirationTime:se,sortIndex:-1},L>$?(P.sortIndex=L,e(c,P),n(l)===null&&P===n(c)&&(y?(v(A),A=-1):y=!0,Y(S,L-$))):(P.sortIndex=se,e(l,P),m||f||(m=!0,Q(C))),P},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(P){var R=h;return function(){var L=h;h=R;try{return P.apply(this,arguments)}finally{h=L}}}})(uw);cw.exports=uw;var qC=cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=k,Jt=qC;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dw=new Set,ho={};function Jr(t,e){qs(t,e),qs(t+"Capture",e)}function qs(t,e){for(ho[t]=e,t=0;t<e.length;t++)dw.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=Object.prototype.hasOwnProperty,WC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},oy={};function KC(t){return sh.call(oy,t)?!0:sh.call(ay,t)?!1:WC.test(t)?oy[t]=!0:(ay[t]=!0,!1)}function QC(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XC(t,e,n,i){if(e===null||typeof e>"u"||QC(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gf=/[\-:]([a-z])/g;function em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gf,em);ht[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gf,em);ht[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gf,em);ht[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function tm(t,e,n,i){var r=ht.hasOwnProperty(e)?ht[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XC(e,n,r,i)&&(n=null),i||r===null?KC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var xi=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xl=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),ah=Symbol.for("react.profiler"),pw=Symbol.for("react.provider"),hw=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),lh=Symbol.for("react.suspense_list"),rm=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),fw=Symbol.for("react.offscreen"),ly=Symbol.iterator;function ga(t){return t===null||typeof t!="object"?null:(t=ly&&t[ly]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Qd;function Ma(t){if(Qd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qd=e&&e[1]||""}return`
`+Qd+t}var Xd=!1;function Yd(t,e){if(!t||Xd)return"";Xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Xd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ma(t):""}function YC(t){switch(t.tag){case 5:return Ma(t.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return t=Yd(t.type,!1),t;case 11:return t=Yd(t.type.render,!1),t;case 1:return t=Yd(t.type,!0),t;default:return""}}function ch(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case ms:return"Portal";case ah:return"Profiler";case nm:return"StrictMode";case oh:return"Suspense";case lh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hw:return(t.displayName||"Context")+".Consumer";case pw:return(t._context.displayName||"Context")+".Provider";case im:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rm:return e=t.displayName||null,e!==null?e:ch(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return ch(t(e))}catch{}}return null}function JC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ch(e);case 8:return e===nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZC(t){var e=mw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bl(t){t._valueTracker||(t._valueTracker=ZC(t))}function gw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=mw(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Oc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uh(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cy(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yw(t,e){e=e.checked,e!=null&&tm(t,"checked",e,!1)}function dh(t,e){yw(t,e);var n=Zi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&ph(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ph(t,e,n){(e!=="number"||Oc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oa=Array.isArray;function Os(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Zi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Oa(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zi(n)}}function vw(t,e){var n=Zi(e.value),i=Zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function py(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wl,bw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wl=wl||document.createElement("div"),wl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GC=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){GC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wa[e]=Wa[t]})});function ww(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+e).trim():e+"px"}function kw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=ww(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var eA=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mh(t,e){if(e){if(eA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=null;function sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vh=null,Ls=null,js=null;function hy(t){if(t=Jo(t)){if(typeof vh!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Xu(e),vh(t.stateNode,t.type,e))}}function Sw(t){Ls?js?js.push(t):js=[t]:Ls=t}function _w(){if(Ls){var t=Ls,e=js;if(js=Ls=null,hy(t),e)for(t=0;t<e.length;t++)hy(e[t])}}function Cw(t,e){return t(e)}function Aw(){}var Jd=!1;function Tw(t,e,n){if(Jd)return t(e,n);Jd=!0;try{return Cw(t,e,n)}finally{Jd=!1,(Ls!==null||js!==null)&&(Aw(),_w())}}function mo(t,e){var n=t.stateNode;if(n===null)return null;var i=Xu(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var xh=!1;if(hi)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){xh=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{xh=!1}function tA(t,e,n,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ka=!1,Lc=null,jc=!1,bh=null,nA={onError:function(t){Ka=!0,Lc=t}};function iA(t,e,n,i,r,s,a,o,l){Ka=!1,Lc=null,tA.apply(nA,arguments)}function rA(t,e,n,i,r,s,a,o,l){if(iA.apply(this,arguments),Ka){if(Ka){var c=Lc;Ka=!1,Lc=null}else throw Error(F(198));jc||(jc=!0,bh=c)}}function Zr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fy(t){if(Zr(t)!==t)throw Error(F(188))}function sA(t){var e=t.alternate;if(!e){if(e=Zr(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return fy(r),t;if(s===i)return fy(r),e;s=s.sibling}throw Error(F(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==i)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Pw(t){return t=sA(t),t!==null?Ew(t):null}function Ew(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ew(t);if(e!==null)return e;t=t.sibling}return null}var Rw=Jt.unstable_scheduleCallback,my=Jt.unstable_cancelCallback,aA=Jt.unstable_shouldYield,oA=Jt.unstable_requestPaint,We=Jt.unstable_now,lA=Jt.unstable_getCurrentPriorityLevel,am=Jt.unstable_ImmediatePriority,Iw=Jt.unstable_UserBlockingPriority,Fc=Jt.unstable_NormalPriority,cA=Jt.unstable_LowPriority,Dw=Jt.unstable_IdlePriority,Hu=null,Un=null;function uA(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Hu,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:hA,dA=Math.log,pA=Math.LN2;function hA(t){return t>>>=0,t===0?32:31-(dA(t)/pA|0)|0}var kl=64,Sl=4194304;function La(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $c(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?i=La(o):(s&=a,s!==0&&(i=La(s)))}else a=n&~r,a!==0?i=La(a):s!==0&&(i=La(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Sn(e),r=1<<n,i|=t[n],e&=~r;return i}function fA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mA(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Sn(s),o=1<<a,l=r[a];l===-1?(!(o&n)||o&i)&&(r[a]=fA(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function wh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mw(){var t=kl;return kl<<=1,!(kl&4194240)&&(kl=64),t}function Zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function gA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Sn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function om(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Sn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var xe=0;function Ow(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lw,lm,jw,Fw,$w,kh=!1,_l=[],$i=null,zi=null,Ui=null,go=new Map,yo=new Map,Ei=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gy(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":go.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(e.pointerId)}}function va(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Jo(e),e!==null&&lm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function vA(t,e,n,i,r){switch(e){case"focusin":return $i=va($i,t,e,n,i,r),!0;case"dragenter":return zi=va(zi,t,e,n,i,r),!0;case"mouseover":return Ui=va(Ui,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return go.set(s,va(go.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,yo.set(s,va(yo.get(s)||null,t,e,n,i,r)),!0}return!1}function zw(t){var e=Pr(t.target);if(e!==null){var n=Zr(e);if(n!==null){if(e=n.tag,e===13){if(e=Nw(n),e!==null){t.blockedOn=e,$w(t.priority,function(){jw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);yh=i,n.target.dispatchEvent(i),yh=null}else return e=Jo(n),e!==null&&lm(e),t.blockedOn=n,!1;e.shift()}return!0}function yy(t,e,n){oc(t)&&n.delete(e)}function xA(){kh=!1,$i!==null&&oc($i)&&($i=null),zi!==null&&oc(zi)&&(zi=null),Ui!==null&&oc(Ui)&&(Ui=null),go.forEach(yy),yo.forEach(yy)}function xa(t,e){t.blockedOn===e&&(t.blockedOn=null,kh||(kh=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,xA)))}function vo(t){function e(r){return xa(r,t)}if(0<_l.length){xa(_l[0],t);for(var n=1;n<_l.length;n++){var i=_l[n];i.blockedOn===t&&(i.blockedOn=null)}}for($i!==null&&xa($i,t),zi!==null&&xa(zi,t),Ui!==null&&xa(Ui,t),go.forEach(e),yo.forEach(e),n=0;n<Ei.length;n++)i=Ei[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)zw(n),n.blockedOn===null&&Ei.shift()}var Fs=xi.ReactCurrentBatchConfig,zc=!0;function bA(t,e,n,i){var r=xe,s=Fs.transition;Fs.transition=null;try{xe=1,cm(t,e,n,i)}finally{xe=r,Fs.transition=s}}function wA(t,e,n,i){var r=xe,s=Fs.transition;Fs.transition=null;try{xe=4,cm(t,e,n,i)}finally{xe=r,Fs.transition=s}}function cm(t,e,n,i){if(zc){var r=Sh(t,e,n,i);if(r===null)lp(t,e,i,Uc,n),gy(t,i);else if(vA(r,t,e,n,i))i.stopPropagation();else if(gy(t,i),e&4&&-1<yA.indexOf(t)){for(;r!==null;){var s=Jo(r);if(s!==null&&Lw(s),s=Sh(t,e,n,i),s===null&&lp(t,e,i,Uc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else lp(t,e,i,null,n)}}var Uc=null;function Sh(t,e,n,i){if(Uc=null,t=sm(i),t=Pr(t),t!==null)if(e=Zr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uc=t,null}function Uw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lA()){case am:return 1;case Iw:return 4;case Fc:case cA:return 16;case Dw:return 536870912;default:return 16}default:return 16}}var Di=null,um=null,lc=null;function Bw(){if(lc)return lc;var t,e=um,n=e.length,i,r="value"in Di?Di.value:Di.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return lc=r.slice(t,1<i?1-i:void 0)}function cc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cl(){return!0}function vy(){return!1}function en(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cl:vy,this.isPropagationStopped=vy,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),e}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=en(sa),Yo=Fe({},sa,{view:0,detail:0}),kA=en(Yo),Gd,ep,ba,Wu=Fe({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ba&&(ba&&t.type==="mousemove"?(Gd=t.screenX-ba.screenX,ep=t.screenY-ba.screenY):ep=Gd=0,ba=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:ep}}),xy=en(Wu),SA=Fe({},Wu,{dataTransfer:0}),_A=en(SA),CA=Fe({},Yo,{relatedTarget:0}),tp=en(CA),AA=Fe({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),TA=en(AA),NA=Fe({},sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PA=en(NA),EA=Fe({},sa,{data:0}),by=en(EA),RA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DA[t])?!!e[t]:!1}function pm(){return MA}var OA=Fe({},Yo,{key:function(t){if(t.key){var e=RA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pm,charCode:function(t){return t.type==="keypress"?cc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LA=en(OA),jA=Fe({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=en(jA),FA=Fe({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pm}),$A=en(FA),zA=Fe({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),UA=en(zA),BA=Fe({},Wu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VA=en(BA),qA=[9,13,27,32],hm=hi&&"CompositionEvent"in window,Qa=null;hi&&"documentMode"in document&&(Qa=document.documentMode);var HA=hi&&"TextEvent"in window&&!Qa,Vw=hi&&(!hm||Qa&&8<Qa&&11>=Qa),ky=String.fromCharCode(32),Sy=!1;function qw(t,e){switch(t){case"keyup":return qA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function WA(t,e){switch(t){case"compositionend":return Hw(e);case"keypress":return e.which!==32?null:(Sy=!0,ky);case"textInput":return t=e.data,t===ky&&Sy?null:t;default:return null}}function KA(t,e){if(ys)return t==="compositionend"||!hm&&qw(t,e)?(t=Bw(),lc=um=Di=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vw&&e.locale!=="ko"?null:e.data;default:return null}}var QA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QA[t.type]:e==="textarea"}function Ww(t,e,n,i){Sw(i),e=Bc(e,"onChange"),0<e.length&&(n=new dm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Xa=null,xo=null;function XA(t){ik(t,0)}function Ku(t){var e=bs(t);if(gw(e))return t}function YA(t,e){if(t==="change")return e}var Kw=!1;if(hi){var np;if(hi){var ip="oninput"in document;if(!ip){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),ip=typeof Cy.oninput=="function"}np=ip}else np=!1;Kw=np&&(!document.documentMode||9<document.documentMode)}function Ay(){Xa&&(Xa.detachEvent("onpropertychange",Qw),xo=Xa=null)}function Qw(t){if(t.propertyName==="value"&&Ku(xo)){var e=[];Ww(e,xo,t,sm(t)),Tw(XA,e)}}function JA(t,e,n){t==="focusin"?(Ay(),Xa=e,xo=n,Xa.attachEvent("onpropertychange",Qw)):t==="focusout"&&Ay()}function ZA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(xo)}function GA(t,e){if(t==="click")return Ku(e)}function eT(t,e){if(t==="input"||t==="change")return Ku(e)}function tT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:tT;function bo(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!sh.call(e,r)||!Tn(t[r],e[r]))return!1}return!0}function Ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ny(t,e){var n=Ty(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ty(n)}}function Xw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yw(){for(var t=window,e=Oc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Oc(t.document)}return e}function fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nT(t){var e=Yw(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xw(n.ownerDocument.documentElement,n)){if(i!==null&&fm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Ny(n,s);var a=Ny(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iT=hi&&"documentMode"in document&&11>=document.documentMode,vs=null,_h=null,Ya=null,Ch=!1;function Py(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||vs==null||vs!==Oc(i)||(i=vs,"selectionStart"in i&&fm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ya&&bo(Ya,i)||(Ya=i,i=Bc(_h,"onSelect"),0<i.length&&(e=new dm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=vs)))}function Al(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xs={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},rp={},Jw={};hi&&(Jw=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Qu(t){if(rp[t])return rp[t];if(!xs[t])return t;var e=xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jw)return rp[t]=e[n];return t}var Zw=Qu("animationend"),Gw=Qu("animationiteration"),ek=Qu("animationstart"),tk=Qu("transitionend"),nk=new Map,Ey="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(t,e){nk.set(t,e),Jr(e,[t])}for(var sp=0;sp<Ey.length;sp++){var ap=Ey[sp],rT=ap.toLowerCase(),sT=ap[0].toUpperCase()+ap.slice(1);sr(rT,"on"+sT)}sr(Zw,"onAnimationEnd");sr(Gw,"onAnimationIteration");sr(ek,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(tk,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function Ry(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,rA(i,e,void 0,t),t.currentTarget=null}function ik(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Ry(r,o,c),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Ry(r,o,c),s=l}}}if(jc)throw t=bh,jc=!1,bh=null,t}function Ne(t,e){var n=e[Eh];n===void 0&&(n=e[Eh]=new Set);var i=t+"__bubble";n.has(i)||(rk(e,t,2,!1),n.add(i))}function op(t,e,n){var i=0;e&&(i|=4),rk(n,t,i,e)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function wo(t){if(!t[Tl]){t[Tl]=!0,dw.forEach(function(n){n!=="selectionchange"&&(aT.has(n)||op(n,!1,t),op(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tl]||(e[Tl]=!0,op("selectionchange",!1,e))}}function rk(t,e,n,i){switch(Uw(e)){case 1:var r=bA;break;case 4:r=wA;break;default:r=cm}n=r.bind(null,e,n,t),r=void 0,!xh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function lp(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=Pr(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}Tw(function(){var c=s,u=sm(n),d=[];e:{var h=nk.get(t);if(h!==void 0){var f=dm,m=t;switch(t){case"keypress":if(cc(n)===0)break e;case"keydown":case"keyup":f=LA;break;case"focusin":m="focus",f=tp;break;case"focusout":m="blur",f=tp;break;case"beforeblur":case"afterblur":f=tp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_A;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=$A;break;case Zw:case Gw:case ek:f=TA;break;case tk:f=UA;break;case"scroll":f=kA;break;case"wheel":f=VA;break;case"copy":case"cut":case"paste":f=PA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=wy}var y=(e&4)!==0,b=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var x=c,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=mo(x,v),S!=null&&y.push(ko(x,S,w)))),b)break;x=x.return}0<y.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==yh&&(m=n.relatedTarget||n.fromElement)&&(Pr(m)||m[fi]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?Pr(m):null,m!==null&&(b=Zr(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(y=xy,S="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=wy,S="onPointerLeave",v="onPointerEnter",x="pointer"),b=f==null?h:bs(f),w=m==null?h:bs(m),h=new y(S,x+"leave",f,n,u),h.target=b,h.relatedTarget=w,S=null,Pr(u)===c&&(y=new y(v,x+"enter",m,n,u),y.target=w,y.relatedTarget=b,S=y),b=S,f&&m)t:{for(y=f,v=m,x=0,w=y;w;w=us(w))x++;for(w=0,S=v;S;S=us(S))w++;for(;0<x-w;)y=us(y),x--;for(;0<w-x;)v=us(v),w--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=us(y),v=us(v)}y=null}else y=null;f!==null&&Iy(d,h,f,y,!1),m!==null&&b!==null&&Iy(d,b,m,y,!0)}}e:{if(h=c?bs(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=YA;else if(_y(h))if(Kw)C=eT;else{C=ZA;var _=JA}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=GA);if(C&&(C=C(t,c))){Ww(d,C,n,u);break e}_&&_(t,h,c),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&ph(h,"number",h.value)}switch(_=c?bs(c):window,t){case"focusin":(_y(_)||_.contentEditable==="true")&&(vs=_,_h=c,Ya=null);break;case"focusout":Ya=_h=vs=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,Py(d,n,u);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Py(d,n,u)}var T;if(hm)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ys?qw(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Vw&&n.locale!=="ko"&&(ys||A!=="onCompositionStart"?A==="onCompositionEnd"&&ys&&(T=Bw()):(Di=u,um="value"in Di?Di.value:Di.textContent,ys=!0)),_=Bc(c,A),0<_.length&&(A=new by(A,t,null,n,u),d.push({event:A,listeners:_}),T?A.data=T:(T=Hw(n),T!==null&&(A.data=T)))),(T=HA?WA(t,n):KA(t,n))&&(c=Bc(c,"onBeforeInput"),0<c.length&&(u=new by("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}ik(d,e)})}function ko(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=mo(t,n),s!=null&&i.unshift(ko(t,s,r)),s=mo(t,e),s!=null&&i.push(ko(t,s,r))),t=t.return}return i}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iy(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,r?(l=mo(n,s),l!=null&&a.unshift(ko(n,l,o))):r||(l=mo(n,s),l!=null&&a.push(ko(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var oT=/\r\n?/g,lT=/\u0000|\uFFFD/g;function Dy(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(lT,"")}function Nl(t,e,n){if(e=Dy(e),Dy(t)!==e&&n)throw Error(F(425))}function Vc(){}var Ah=null,Th=null;function Nh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,cT=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(t){return My.resolve(null).then(t).catch(dT)}:Ph;function dT(t){setTimeout(function(){throw t})}function cp(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),vo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);vo(e)}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Oy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var aa=Math.random().toString(36).slice(2),Fn="__reactFiber$"+aa,So="__reactProps$"+aa,fi="__reactContainer$"+aa,Eh="__reactEvents$"+aa,pT="__reactListeners$"+aa,hT="__reactHandles$"+aa;function Pr(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Oy(t);t!==null;){if(n=t[Fn])return n;t=Oy(t)}return e}t=n,n=t.parentNode}return null}function Jo(t){return t=t[Fn]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Xu(t){return t[So]||null}var Rh=[],ws=-1;function ar(t){return{current:t}}function Ee(t){0>ws||(t.current=Rh[ws],Rh[ws]=null,ws--)}function Ae(t,e){ws++,Rh[ws]=t.current,t.current=e}var Gi={},St=ar(Gi),Ft=ar(!1),Br=Gi;function Hs(t,e){var n=t.type.contextTypes;if(!n)return Gi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function $t(t){return t=t.childContextTypes,t!=null}function qc(){Ee(Ft),Ee(St)}function Ly(t,e,n){if(St.current!==Gi)throw Error(F(168));Ae(St,e),Ae(Ft,n)}function sk(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(F(108,JC(t)||"Unknown",r));return Fe({},n,i)}function Hc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gi,Br=St.current,Ae(St,t),Ae(Ft,Ft.current),!0}function jy(t,e,n){var i=t.stateNode;if(!i)throw Error(F(169));n?(t=sk(t,e,Br),i.__reactInternalMemoizedMergedChildContext=t,Ee(Ft),Ee(St),Ae(St,t)):Ee(Ft),Ae(Ft,n)}var Gn=null,Yu=!1,up=!1;function ak(t){Gn===null?Gn=[t]:Gn.push(t)}function fT(t){Yu=!0,ak(t)}function or(){if(!up&&Gn!==null){up=!0;var t=0,e=xe;try{var n=Gn;for(xe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Gn=null,Yu=!1}catch(r){throw Gn!==null&&(Gn=Gn.slice(t+1)),Rw(am,or),r}finally{xe=e,up=!1}}return null}var ks=[],Ss=0,Wc=null,Kc=0,ln=[],cn=0,Vr=null,ii=1,ri="";function br(t,e){ks[Ss++]=Kc,ks[Ss++]=Wc,Wc=t,Kc=e}function ok(t,e,n){ln[cn++]=ii,ln[cn++]=ri,ln[cn++]=Vr,Vr=t;var i=ii;t=ri;var r=32-Sn(i)-1;i&=~(1<<r),n+=1;var s=32-Sn(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,ii=1<<32-Sn(e)+r|n<<r|i,ri=s+t}else ii=1<<s|n<<r|i,ri=t}function mm(t){t.return!==null&&(br(t,1),ok(t,1,0))}function gm(t){for(;t===Wc;)Wc=ks[--Ss],ks[Ss]=null,Kc=ks[--Ss],ks[Ss]=null;for(;t===Vr;)Vr=ln[--cn],ln[cn]=null,ri=ln[--cn],ln[cn]=null,ii=ln[--cn],ln[cn]=null}var Yt=null,Qt=null,Ie=!1,wn=null;function lk(t,e){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=Bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vr!==null?{id:ii,overflow:ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Qt=null,!0):!1;default:return!1}}function Ih(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dh(t){if(Ie){var e=Qt;if(e){var n=e;if(!Fy(t,e)){if(Ih(t))throw Error(F(418));e=Bi(n.nextSibling);var i=Yt;e&&Fy(t,e)?lk(i,n):(t.flags=t.flags&-4097|2,Ie=!1,Yt=t)}}else{if(Ih(t))throw Error(F(418));t.flags=t.flags&-4097|2,Ie=!1,Yt=t}}}function $y(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function Pl(t){if(t!==Yt)return!1;if(!Ie)return $y(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nh(t.type,t.memoizedProps)),e&&(e=Qt)){if(Ih(t))throw ck(),Error(F(418));for(;e;)lk(t,e),e=Bi(e.nextSibling)}if($y(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=Bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Yt?Bi(t.stateNode.nextSibling):null;return!0}function ck(){for(var t=Qt;t;)t=Bi(t.nextSibling)}function Ws(){Qt=Yt=null,Ie=!1}function ym(t){wn===null?wn=[t]:wn.push(t)}var mT=xi.ReactCurrentBatchConfig;function wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var i=n.stateNode}if(!i)throw Error(F(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function El(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zy(t){var e=t._init;return e(t._payload)}function uk(t){function e(v,x){if(t){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function i(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function r(v,x){return v=Wi(v,x),v.index=0,v.sibling=null,v}function s(v,x,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,x,w,S){return x===null||x.tag!==6?(x=yp(w,v.mode,S),x.return=v,x):(x=r(x,w),x.return=v,x)}function l(v,x,w,S){var C=w.type;return C===gs?u(v,x,w.props.children,S,w.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ai&&zy(C)===x.type)?(S=r(x,w.props),S.ref=wa(v,x,w),S.return=v,S):(S=gc(w.type,w.key,w.props,null,v.mode,S),S.ref=wa(v,x,w),S.return=v,S)}function c(v,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=vp(w,v.mode,S),x.return=v,x):(x=r(x,w.children||[]),x.return=v,x)}function u(v,x,w,S,C){return x===null||x.tag!==7?(x=Fr(w,v.mode,S,C),x.return=v,x):(x=r(x,w),x.return=v,x)}function d(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=yp(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xl:return w=gc(x.type,x.key,x.props,null,v.mode,w),w.ref=wa(v,null,x),w.return=v,w;case ms:return x=vp(x,v.mode,w),x.return=v,x;case Ai:var S=x._init;return d(v,S(x._payload),w)}if(Oa(x)||ga(x))return x=Fr(x,v.mode,w,null),x.return=v,x;El(v,x)}return null}function h(v,x,w,S){var C=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(v,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xl:return w.key===C?l(v,x,w,S):null;case ms:return w.key===C?c(v,x,w,S):null;case Ai:return C=w._init,h(v,x,C(w._payload),S)}if(Oa(w)||ga(w))return C!==null?null:u(v,x,w,S,null);El(v,w)}return null}function f(v,x,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,o(x,v,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xl:return v=v.get(S.key===null?w:S.key)||null,l(x,v,S,C);case ms:return v=v.get(S.key===null?w:S.key)||null,c(x,v,S,C);case Ai:var _=S._init;return f(v,x,w,_(S._payload),C)}if(Oa(S)||ga(S))return v=v.get(w)||null,u(x,v,S,C,null);El(x,S)}return null}function m(v,x,w,S){for(var C=null,_=null,T=x,A=x=0,E=null;T!==null&&A<w.length;A++){T.index>A?(E=T,T=null):E=T.sibling;var N=h(v,T,w[A],S);if(N===null){T===null&&(T=E);break}t&&T&&N.alternate===null&&e(v,T),x=s(N,x,A),_===null?C=N:_.sibling=N,_=N,T=E}if(A===w.length)return n(v,T),Ie&&br(v,A),C;if(T===null){for(;A<w.length;A++)T=d(v,w[A],S),T!==null&&(x=s(T,x,A),_===null?C=T:_.sibling=T,_=T);return Ie&&br(v,A),C}for(T=i(v,T);A<w.length;A++)E=f(T,v,A,w[A],S),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?A:E.key),x=s(E,x,A),_===null?C=E:_.sibling=E,_=E);return t&&T.forEach(function(I){return e(v,I)}),Ie&&br(v,A),C}function y(v,x,w,S){var C=ga(w);if(typeof C!="function")throw Error(F(150));if(w=C.call(w),w==null)throw Error(F(151));for(var _=C=null,T=x,A=x=0,E=null,N=w.next();T!==null&&!N.done;A++,N=w.next()){T.index>A?(E=T,T=null):E=T.sibling;var I=h(v,T,N.value,S);if(I===null){T===null&&(T=E);break}t&&T&&I.alternate===null&&e(v,T),x=s(I,x,A),_===null?C=I:_.sibling=I,_=I,T=E}if(N.done)return n(v,T),Ie&&br(v,A),C;if(T===null){for(;!N.done;A++,N=w.next())N=d(v,N.value,S),N!==null&&(x=s(N,x,A),_===null?C=N:_.sibling=N,_=N);return Ie&&br(v,A),C}for(T=i(v,T);!N.done;A++,N=w.next())N=f(T,v,A,N.value,S),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?A:N.key),x=s(N,x,A),_===null?C=N:_.sibling=N,_=N);return t&&T.forEach(function(j){return e(v,j)}),Ie&&br(v,A),C}function b(v,x,w,S){if(typeof w=="object"&&w!==null&&w.type===gs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xl:e:{for(var C=w.key,_=x;_!==null;){if(_.key===C){if(C=w.type,C===gs){if(_.tag===7){n(v,_.sibling),x=r(_,w.props.children),x.return=v,v=x;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ai&&zy(C)===_.type){n(v,_.sibling),x=r(_,w.props),x.ref=wa(v,_,w),x.return=v,v=x;break e}n(v,_);break}else e(v,_);_=_.sibling}w.type===gs?(x=Fr(w.props.children,v.mode,S,w.key),x.return=v,v=x):(S=gc(w.type,w.key,w.props,null,v.mode,S),S.ref=wa(v,x,w),S.return=v,v=S)}return a(v);case ms:e:{for(_=w.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(v,x.sibling),x=r(x,w.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=vp(w,v.mode,S),x.return=v,v=x}return a(v);case Ai:return _=w._init,b(v,x,_(w._payload),S)}if(Oa(w))return m(v,x,w,S);if(ga(w))return y(v,x,w,S);El(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(v,x.sibling),x=r(x,w),x.return=v,v=x):(n(v,x),x=yp(w,v.mode,S),x.return=v,v=x),a(v)):n(v,x)}return b}var Ks=uk(!0),dk=uk(!1),Qc=ar(null),Xc=null,_s=null,vm=null;function xm(){vm=_s=Xc=null}function bm(t){var e=Qc.current;Ee(Qc),t._currentValue=e}function Mh(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function $s(t,e){Xc=t,vm=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(vm!==t)if(t={context:t,memoizedValue:e,next:null},_s===null){if(Xc===null)throw Error(F(308));_s=t,Xc.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return e}var Er=null;function wm(t){Er===null?Er=[t]:Er.push(t)}function pk(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,wm(e)):(n.next=r.next,r.next=n),e.interleaved=n,mi(t,i)}function mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,mi(t,n)}return r=i.interleaved,r===null?(e.next=e,wm(i)):(e.next=r.next,r.next=e),i.interleaved=e,mi(t,n)}function uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,om(t,n)}}function Uy(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yc(t,e,n,i){var r=t.updateQueue;Ti=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane,f=o.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(h=e,f=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Fe({},d,h);break e;case 2:Ti=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Hr|=a,t.lanes=a,t.memoizedState=d}}function By(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(F(191,r));r.call(i)}}}var Zo={},Bn=ar(Zo),_o=ar(Zo),Co=ar(Zo);function Rr(t){if(t===Zo)throw Error(F(174));return t}function Sm(t,e){switch(Ae(Co,e),Ae(_o,t),Ae(Bn,Zo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fh(e,t)}Ee(Bn),Ae(Bn,e)}function Qs(){Ee(Bn),Ee(_o),Ee(Co)}function fk(t){Rr(Co.current);var e=Rr(Bn.current),n=fh(e,t.type);e!==n&&(Ae(_o,t),Ae(Bn,n))}function _m(t){_o.current===t&&(Ee(Bn),Ee(_o))}var Me=ar(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dp=[];function Cm(){for(var t=0;t<dp.length;t++)dp[t]._workInProgressVersionPrimary=null;dp.length=0}var dc=xi.ReactCurrentDispatcher,pp=xi.ReactCurrentBatchConfig,qr=0,Le=null,et=null,at=null,Zc=!1,Ja=!1,Ao=0,gT=0;function ft(){throw Error(F(321))}function Am(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Tm(t,e,n,i,r,s){if(qr=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dc.current=t===null||t.memoizedState===null?bT:wT,t=n(i,r),Ja){s=0;do{if(Ja=!1,Ao=0,25<=s)throw Error(F(301));s+=1,at=et=null,e.updateQueue=null,dc.current=kT,t=n(i,r)}while(Ja)}if(dc.current=Gc,e=et!==null&&et.next!==null,qr=0,at=et=Le=null,Zc=!1,e)throw Error(F(300));return t}function Nm(){var t=Ao!==0;return Ao=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Le.memoizedState=at=t:at=at.next=t,at}function mn(){if(et===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=at===null?Le.memoizedState:at.next;if(e!==null)at=e,et=t;else{if(t===null)throw Error(F(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},at===null?Le.memoizedState=at=t:at=at.next=t}return at}function To(t,e){return typeof e=="function"?e(t):e}function hp(t){var e=mn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=et,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((qr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=i):l=l.next=d,Le.lanes|=u,Hr|=u}c=c.next}while(c!==null&&c!==s);l===null?a=i:l.next=o,Tn(i,e.memoizedState)||(jt=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Le.lanes|=s,Hr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fp(t){var e=mn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);Tn(s,e.memoizedState)||(jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function mk(){}function gk(t,e){var n=Le,i=mn(),r=e(),s=!Tn(i.memoizedState,r);if(s&&(i.memoizedState=r,jt=!0),i=i.queue,Pm(xk.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,No(9,vk.bind(null,n,i,r,e),void 0,null),ot===null)throw Error(F(349));qr&30||yk(n,e,r)}return r}function yk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vk(t,e,n,i){e.value=n,e.getSnapshot=i,bk(e)&&wk(t)}function xk(t,e,n){return n(function(){bk(e)&&wk(t)})}function bk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function wk(t){var e=mi(t,1);e!==null&&_n(e,t,1,-1)}function Vy(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:t},e.queue=t,t=t.dispatch=xT.bind(null,Le,t),[e.memoizedState,t]}function No(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function kk(){return mn().memoizedState}function pc(t,e,n,i){var r=Ln();Le.flags|=t,r.memoizedState=No(1|e,n,void 0,i===void 0?null:i)}function Ju(t,e,n,i){var r=mn();i=i===void 0?null:i;var s=void 0;if(et!==null){var a=et.memoizedState;if(s=a.destroy,i!==null&&Am(i,a.deps)){r.memoizedState=No(e,n,s,i);return}}Le.flags|=t,r.memoizedState=No(1|e,n,s,i)}function qy(t,e){return pc(8390656,8,t,e)}function Pm(t,e){return Ju(2048,8,t,e)}function Sk(t,e){return Ju(4,2,t,e)}function _k(t,e){return Ju(4,4,t,e)}function Ck(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ak(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4,4,Ck.bind(null,e,t),n)}function Em(){}function Tk(t,e){var n=mn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Am(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Nk(t,e){var n=mn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Am(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Pk(t,e,n){return qr&21?(Tn(n,e)||(n=Mw(),Le.lanes|=n,Hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function yT(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var i=pp.transition;pp.transition={};try{t(!1),e()}finally{xe=n,pp.transition=i}}function Ek(){return mn().memoizedState}function vT(t,e,n){var i=Hi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Rk(t))Ik(e,n);else if(n=pk(t,e,n,i),n!==null){var r=Pt();_n(n,t,i,r),Dk(n,e,i)}}function xT(t,e,n){var i=Hi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rk(t))Ik(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,Tn(o,a)){var l=e.interleaved;l===null?(r.next=r,wm(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=pk(t,e,r,i),n!==null&&(r=Pt(),_n(n,t,i,r),Dk(n,e,i))}}function Rk(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function Ik(t,e){Ja=Zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dk(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,om(t,n)}}var Gc={readContext:fn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},bT={readContext:fn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:qy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pc(4194308,4,Ck.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pc(4194308,4,t,e)},useInsertionEffect:function(t,e){return pc(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ln();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=vT.bind(null,Le,t),[i.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:Vy,useDebugValue:Em,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=Vy(!1),e=t[0];return t=yT.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Le,r=Ln();if(Ie){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),ot===null)throw Error(F(349));qr&30||yk(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,qy(xk.bind(null,i,s,t),[t]),i.flags|=2048,No(9,vk.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=ot.identifierPrefix;if(Ie){var n=ri,i=ii;n=(i&~(1<<32-Sn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ao++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wT={readContext:fn,useCallback:Tk,useContext:fn,useEffect:Pm,useImperativeHandle:Ak,useInsertionEffect:Sk,useLayoutEffect:_k,useMemo:Nk,useReducer:hp,useRef:kk,useState:function(){return hp(To)},useDebugValue:Em,useDeferredValue:function(t){var e=mn();return Pk(e,et.memoizedState,t)},useTransition:function(){var t=hp(To)[0],e=mn().memoizedState;return[t,e]},useMutableSource:mk,useSyncExternalStore:gk,useId:Ek,unstable_isNewReconciler:!1},kT={readContext:fn,useCallback:Tk,useContext:fn,useEffect:Pm,useImperativeHandle:Ak,useInsertionEffect:Sk,useLayoutEffect:_k,useMemo:Nk,useReducer:fp,useRef:kk,useState:function(){return fp(To)},useDebugValue:Em,useDeferredValue:function(t){var e=mn();return et===null?e.memoizedState=t:Pk(e,et.memoizedState,t)},useTransition:function(){var t=fp(To)[0],e=mn().memoizedState;return[t,e]},useMutableSource:mk,useSyncExternalStore:gk,useId:Ek,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Oh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zu={isMounted:function(t){return(t=t._reactInternals)?Zr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Pt(),r=Hi(t),s=ci(i,r);s.payload=e,n!=null&&(s.callback=n),e=Vi(t,s,r),e!==null&&(_n(e,t,r,i),uc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Pt(),r=Hi(t),s=ci(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vi(t,s,r),e!==null&&(_n(e,t,r,i),uc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),i=Hi(t),r=ci(n,i);r.tag=2,e!=null&&(r.callback=e),e=Vi(t,r,i),e!==null&&(_n(e,t,i,n),uc(e,t,i))}};function Hy(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!bo(n,i)||!bo(r,s):!0}function Mk(t,e,n){var i=!1,r=Gi,s=e.contextType;return typeof s=="object"&&s!==null?s=fn(s):(r=$t(e)?Br:St.current,i=e.contextTypes,s=(i=i!=null)?Hs(t,r):Gi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zu,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Zu.enqueueReplaceState(e,e.state,null)}function Lh(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},km(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=fn(s):(s=$t(e)?Br:St.current,r.context=Hs(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Oh(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Zu.enqueueReplaceState(r,r.state,null),Yc(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Xs(t,e){try{var n="",i=e;do n+=YC(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ST=typeof WeakMap=="function"?WeakMap:Map;function Ok(t,e,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){tu||(tu=!0,Kh=i),jh(t,e)},n}function Lk(t,e,n){n=ci(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){jh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jh(t,e),typeof i!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Ky(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new ST;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=jT.bind(null,t,e,n),e.then(t,t))}function Qy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xy(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ci(-1,1),e.tag=2,Vi(n,e,1))),n.lanes|=1),t)}var _T=xi.ReactCurrentOwner,jt=!1;function Tt(t,e,n,i){e.child=t===null?dk(e,null,n,i):Ks(e,t.child,n,i)}function Yy(t,e,n,i,r){n=n.render;var s=e.ref;return $s(e,r),i=Tm(t,e,n,i,s,r),n=Nm(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,gi(t,e,r)):(Ie&&n&&mm(e),e.flags|=1,Tt(t,e,i,r),e.child)}function Jy(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Fm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jk(t,e,s,i,r)):(t=gc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:bo,n(a,i)&&t.ref===e.ref)return gi(t,e,r)}return e.flags|=1,t=Wi(s,i),t.ref=e.ref,t.return=e,e.child=t}function jk(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(bo(s,i)&&t.ref===e.ref)if(jt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,gi(t,e,r)}return Fh(t,e,n,i,r)}function Fk(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(As,Kt),Kt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(As,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Ae(As,Kt),Kt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Ae(As,Kt),Kt|=i;return Tt(t,e,r,n),e.child}function $k(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fh(t,e,n,i,r){var s=$t(n)?Br:St.current;return s=Hs(e,s),$s(e,r),n=Tm(t,e,n,i,s,r),i=Nm(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,gi(t,e,r)):(Ie&&i&&mm(e),e.flags|=1,Tt(t,e,n,r),e.child)}function Zy(t,e,n,i,r){if($t(n)){var s=!0;Hc(e)}else s=!1;if($s(e,r),e.stateNode===null)hc(t,e),Mk(e,n,i),Lh(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=fn(c):(c=$t(n)?Br:St.current,c=Hs(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&Wy(e,a,i,c),Ti=!1;var h=e.memoizedState;a.state=h,Yc(e,i,a,r),l=e.memoizedState,o!==i||h!==l||Ft.current||Ti?(typeof u=="function"&&(Oh(e,n,u,i),l=e.memoizedState),(o=Ti||Hy(e,n,o,i,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,hk(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:vn(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=$t(n)?Br:St.current,l=Hs(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Wy(e,a,i,l),Ti=!1,h=e.memoizedState,a.state=h,Yc(e,i,a,r);var m=e.memoizedState;o!==d||h!==m||Ft.current||Ti?(typeof f=="function"&&(Oh(e,n,f,i),m=e.memoizedState),(c=Ti||Hy(e,n,c,i,h,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return $h(t,e,n,i,s,r)}function $h(t,e,n,i,r,s){$k(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&jy(e,n,!1),gi(t,e,s);i=e.stateNode,_T.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Ks(e,t.child,null,s),e.child=Ks(e,null,o,s)):Tt(t,e,o,s),e.memoizedState=i.state,r&&jy(e,n,!0),e.child}function zk(t){var e=t.stateNode;e.pendingContext?Ly(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ly(t,e.context,!1),Sm(t,e.containerInfo)}function Gy(t,e,n,i,r){return Ws(),ym(r),e.flags|=256,Tt(t,e,n,i),e.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function Uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Uk(t,e,n){var i=e.pendingProps,r=Me.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ae(Me,r&1),t===null)return Dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=td(a,i,0,null),t=Fr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Uh(n),e.memoizedState=zh,t):Rm(e,a));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return CT(t,e,a,i,o,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Wi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=Wi(o,s):(s=Fr(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?Uh(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=zh,i}return s=t.child,t=s.sibling,i=Wi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Rm(t,e){return e=td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rl(t,e,n,i){return i!==null&&ym(i),Ks(e,t.child,null,n),t=Rm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CT(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=mp(Error(F(422))),Rl(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=td({mode:"visible",children:i.children},r,0,null),s=Fr(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ks(e,t.child,null,a),e.child.memoizedState=Uh(a),e.memoizedState=zh,s);if(!(e.mode&1))return Rl(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(F(419)),i=mp(s,i,void 0),Rl(t,e,a,i)}if(o=(a&t.childLanes)!==0,jt||o){if(i=ot,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,mi(t,r),_n(i,t,r,-1))}return jm(),i=mp(Error(F(421))),Rl(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=FT.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Qt=Bi(r.nextSibling),Yt=e,Ie=!0,wn=null,t!==null&&(ln[cn++]=ii,ln[cn++]=ri,ln[cn++]=Vr,ii=t.id,ri=t.overflow,Vr=e),e=Rm(e,i.children),e.flags|=4096,e)}function e0(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Mh(t.return,e,n)}function gp(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Bk(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Tt(t,e,i.children,n),i=Me.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e0(t,n,e);else if(t.tag===19)e0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ae(Me,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),gp(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Jc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}gp(e,!0,n,null,s);break;case"together":gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AT(t,e,n){switch(e.tag){case 3:zk(e),Ws();break;case 5:fk(e);break;case 1:$t(e.type)&&Hc(e);break;case 4:Sm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ae(Qc,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ae(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?Uk(t,e,n):(Ae(Me,Me.current&1),t=gi(t,e,n),t!==null?t.sibling:null);Ae(Me,Me.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Bk(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ae(Me,Me.current),i)break;return null;case 22:case 23:return e.lanes=0,Fk(t,e,n)}return gi(t,e,n)}var Vk,Bh,qk,Hk;Vk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bh=function(){};qk=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Rr(Bn.current);var s=null;switch(n){case"input":r=uh(t,r),i=uh(t,i),s=[];break;case"select":r=Fe({},r,{value:void 0}),i=Fe({},i,{value:void 0}),s=[];break;case"textarea":r=hh(t,r),i=hh(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Vc)}mh(n,i);var a;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ho.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(o=r?.[c],i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ho.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Hk=function(t,e,n,i){n!==i&&(e.flags|=4)};function ka(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function TT(t,e,n){var i=e.pendingProps;switch(gm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return $t(e.type)&&qc(),mt(e),null;case 3:return i=e.stateNode,Qs(),Ee(Ft),Ee(St),Cm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Pl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(Yh(wn),wn=null))),Bh(t,e),mt(e),null;case 5:_m(e);var r=Rr(Co.current);if(n=e.type,t!==null&&e.stateNode!=null)qk(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(F(166));return mt(e),null}if(t=Rr(Bn.current),Pl(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Fn]=e,i[So]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(r=0;r<ja.length;r++)Ne(ja[r],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":cy(i,s),Ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",i);break;case"textarea":dy(i,s),Ne("invalid",i)}mh(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&Nl(i.textContent,o,t),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Nl(i.textContent,o,t),r=["children",""+o]):ho.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ne("scroll",i)}switch(n){case"input":bl(i),uy(i,s,!0);break;case"textarea":bl(i),py(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Vc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Fn]=e,t[So]=i,Vk(t,e,!1,!1),e.stateNode=t;e:{switch(a=gh(n,i),n){case"dialog":Ne("cancel",t),Ne("close",t),r=i;break;case"iframe":case"object":case"embed":Ne("load",t),r=i;break;case"video":case"audio":for(r=0;r<ja.length;r++)Ne(ja[r],t);r=i;break;case"source":Ne("error",t),r=i;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),r=i;break;case"details":Ne("toggle",t),r=i;break;case"input":cy(t,i),r=uh(t,i),Ne("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Fe({},i,{value:void 0}),Ne("invalid",t);break;case"textarea":dy(t,i),r=hh(t,i),Ne("invalid",t);break;default:r=i}mh(n,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?kw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fo(t,l):typeof l=="number"&&fo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ho.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&tm(t,s,l,a))}switch(n){case"input":bl(t),uy(t,i,!1);break;case"textarea":bl(t),py(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Zi(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Os(t,!!i.multiple,s,!1):i.defaultValue!=null&&Os(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)Hk(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(F(166));if(n=Rr(Co.current),Rr(Bn.current),Pl(e)){if(i=e.stateNode,n=e.memoizedProps,i[Fn]=e,(s=i.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:Nl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nl(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Fn]=e,e.stateNode=i}return mt(e),null;case 13:if(Ee(Me),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Qt!==null&&e.mode&1&&!(e.flags&128))ck(),Ws(),e.flags|=98560,s=!1;else if(s=Pl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Fn]=e}else Ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else wn!==null&&(Yh(wn),wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?it===0&&(it=3):jm())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Qs(),Bh(t,e),t===null&&wo(e.stateNode.containerInfo),mt(e),null;case 10:return bm(e.type._context),mt(e),null;case 17:return $t(e.type)&&qc(),mt(e),null;case 19:if(Ee(Me),s=e.memoizedState,s===null)return mt(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)ka(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Jc(t),a!==null){for(e.flags|=128,ka(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&We()>Ys&&(e.flags|=128,i=!0,ka(s,!1),e.lanes=4194304)}else{if(!i)if(t=Jc(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ie)return mt(e),null}else 2*We()-s.renderingStartTime>Ys&&n!==1073741824&&(e.flags|=128,i=!0,ka(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,n=Me.current,Ae(Me,i?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Lm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Kt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function NT(t,e){switch(gm(e),e.tag){case 1:return $t(e.type)&&qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),Ee(Ft),Ee(St),Cm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _m(e),null;case 13:if(Ee(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Me),null;case 4:return Qs(),null;case 10:return bm(e.type._context),null;case 22:case 23:return Lm(),null;case 24:return null;default:return null}}var Il=!1,xt=!1,PT=typeof WeakSet=="function"?WeakSet:Set,U=null;function Cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ze(t,e,i)}else n.current=null}function Vh(t,e,n){try{n()}catch(i){ze(t,e,i)}}var t0=!1;function ET(t,e){if(Ah=zc,t=Yw(),fm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(o=a+r),d!==s||i!==0&&d.nodeType!==3||(l=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(o=a),h===s&&++u===i&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Th={focusedElem:t,selectionRange:n},zc=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:vn(e.type,y),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(S){ze(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return m=t0,t0=!1,m}function Za(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Vh(e,n,s)}r=r.next}while(r!==i)}}function Gu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function qh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wk(t){var e=t.alternate;e!==null&&(t.alternate=null,Wk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[So],delete e[Eh],delete e[pT],delete e[hT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kk(t){return t.tag===5||t.tag===3||t.tag===4}function n0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vc));else if(i!==4&&(t=t.child,t!==null))for(Hh(t,e,n),t=t.sibling;t!==null;)Hh(t,e,n),t=t.sibling}function Wh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Wh(t,e,n),t=t.sibling;t!==null;)Wh(t,e,n),t=t.sibling}var ct=null,xn=!1;function ki(t,e,n){for(n=n.child;n!==null;)Qk(t,e,n),n=n.sibling}function Qk(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Hu,n)}catch{}switch(n.tag){case 5:xt||Cs(n,e);case 6:var i=ct,r=xn;ct=null,ki(t,e,n),ct=i,xn=r,ct!==null&&(xn?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(xn?(t=ct,n=n.stateNode,t.nodeType===8?cp(t.parentNode,n):t.nodeType===1&&cp(t,n),vo(t)):cp(ct,n.stateNode));break;case 4:i=ct,r=xn,ct=n.stateNode.containerInfo,xn=!0,ki(t,e,n),ct=i,xn=r;break;case 0:case 11:case 14:case 15:if(!xt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Vh(n,e,a),r=r.next}while(r!==i)}ki(t,e,n);break;case 1:if(!xt&&(Cs(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){ze(n,e,o)}ki(t,e,n);break;case 21:ki(t,e,n);break;case 22:n.mode&1?(xt=(i=xt)||n.memoizedState!==null,ki(t,e,n),xt=i):ki(t,e,n);break;default:ki(t,e,n)}}function i0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PT),e.forEach(function(i){var r=$T.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ct=o.stateNode,xn=!1;break e;case 3:ct=o.stateNode.containerInfo,xn=!0;break e;case 4:ct=o.stateNode.containerInfo,xn=!0;break e}o=o.return}if(ct===null)throw Error(F(160));Qk(s,a,r),ct=null,xn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){ze(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xk(e,t),e=e.sibling}function Xk(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Rn(t),i&4){try{Za(3,t,t.return),Gu(3,t)}catch(y){ze(t,t.return,y)}try{Za(5,t,t.return)}catch(y){ze(t,t.return,y)}}break;case 1:yn(e,t),Rn(t),i&512&&n!==null&&Cs(n,n.return);break;case 5:if(yn(e,t),Rn(t),i&512&&n!==null&&Cs(n,n.return),t.flags&32){var r=t.stateNode;try{fo(r,"")}catch(y){ze(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&yw(r,s),gh(o,a);var c=gh(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?kw(r,d):u==="dangerouslySetInnerHTML"?bw(r,d):u==="children"?fo(r,d):tm(r,u,d,c)}switch(o){case"input":dh(r,s);break;case"textarea":vw(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Os(r,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Os(r,!!s.multiple,s.defaultValue,!0):Os(r,!!s.multiple,s.multiple?[]:"",!1))}r[So]=s}catch(y){ze(t,t.return,y)}}break;case 6:if(yn(e,t),Rn(t),i&4){if(t.stateNode===null)throw Error(F(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){ze(t,t.return,y)}}break;case 3:if(yn(e,t),Rn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(e.containerInfo)}catch(y){ze(t,t.return,y)}break;case 4:yn(e,t),Rn(t);break;case 13:yn(e,t),Rn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Mm=We())),i&4&&i0(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(c=xt)||u,yn(e,t),xt=c):yn(e,t),Rn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(U=t,u=t.child;u!==null;){for(d=U=u;U!==null;){switch(h=U,f=h.child,h.tag){case 0:case 11:case 14:case 15:Za(4,h,h.return);break;case 1:Cs(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){ze(i,n,y)}}break;case 5:Cs(h,h.return);break;case 22:if(h.memoizedState!==null){s0(d);continue}}f!==null?(f.return=h,U=f):s0(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ww("display",a))}catch(y){ze(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ze(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yn(e,t),Rn(t),i&4&&i0(t);break;case 21:break;default:yn(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Kk(n)){var i=n;break e}n=n.return}throw Error(F(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(fo(r,""),i.flags&=-33);var s=n0(t);Wh(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=n0(t);Hh(t,o,a);break;default:throw Error(F(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RT(t,e,n){U=t,Yk(t)}function Yk(t,e,n){for(var i=(t.mode&1)!==0;U!==null;){var r=U,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Il;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||xt;o=Il;var c=xt;if(Il=a,(xt=l)&&!c)for(U=r;U!==null;)a=U,l=a.child,a.tag===22&&a.memoizedState!==null?a0(r):l!==null?(l.return=a,U=l):a0(r);for(;s!==null;)U=s,Yk(s),s=s.sibling;U=r,Il=o,xt=c}r0(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,U=s):r0(t)}}function r0(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Gu(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!xt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&By(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}By(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&vo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}xt||e.flags&512&&qh(e)}catch(h){ze(e,e.return,h)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function s0(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function a0(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gu(4,e)}catch(l){ze(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ze(e,r,l)}}var s=e.return;try{qh(e)}catch(l){ze(e,s,l)}break;case 5:var a=e.return;try{qh(e)}catch(l){ze(e,a,l)}}}catch(l){ze(e,e.return,l)}if(e===t){U=null;break}var o=e.sibling;if(o!==null){o.return=e.return,U=o;break}U=e.return}}var IT=Math.ceil,eu=xi.ReactCurrentDispatcher,Im=xi.ReactCurrentOwner,hn=xi.ReactCurrentBatchConfig,ue=0,ot=null,Ye=null,pt=0,Kt=0,As=ar(0),it=0,Po=null,Hr=0,ed=0,Dm=0,Ga=null,Ot=null,Mm=0,Ys=1/0,Zn=null,tu=!1,Kh=null,qi=null,Dl=!1,Mi=null,nu=0,eo=0,Qh=null,fc=-1,mc=0;function Pt(){return ue&6?We():fc!==-1?fc:fc=We()}function Hi(t){return t.mode&1?ue&2&&pt!==0?pt&-pt:mT.transition!==null?(mc===0&&(mc=Mw()),mc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Uw(t.type)),t):1}function _n(t,e,n,i){if(50<eo)throw eo=0,Qh=null,Error(F(185));Xo(t,n,i),(!(ue&2)||t!==ot)&&(t===ot&&(!(ue&2)&&(ed|=n),it===4&&Ri(t,pt)),zt(t,i),n===1&&ue===0&&!(e.mode&1)&&(Ys=We()+500,Yu&&or()))}function zt(t,e){var n=t.callbackNode;mA(t,e);var i=$c(t,t===ot?pt:0);if(i===0)n!==null&&my(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&my(n),e===1)t.tag===0?fT(o0.bind(null,t)):ak(o0.bind(null,t)),uT(function(){!(ue&6)&&or()}),n=null;else{switch(Ow(i)){case 1:n=am;break;case 4:n=Iw;break;case 16:n=Fc;break;case 536870912:n=Dw;break;default:n=Fc}n=r1(n,Jk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jk(t,e){if(fc=-1,mc=0,ue&6)throw Error(F(327));var n=t.callbackNode;if(zs()&&t.callbackNode!==n)return null;var i=$c(t,t===ot?pt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=iu(t,i);else{e=i;var r=ue;ue|=2;var s=Gk();(ot!==t||pt!==e)&&(Zn=null,Ys=We()+500,jr(t,e));do try{OT();break}catch(o){Zk(t,o)}while(1);xm(),eu.current=s,ue=r,Ye!==null?e=0:(ot=null,pt=0,e=it)}if(e!==0){if(e===2&&(r=wh(t),r!==0&&(i=r,e=Xh(t,r))),e===1)throw n=Po,jr(t,0),Ri(t,i),zt(t,We()),n;if(e===6)Ri(t,i);else{if(r=t.current.alternate,!(i&30)&&!DT(r)&&(e=iu(t,i),e===2&&(s=wh(t),s!==0&&(i=s,e=Xh(t,s))),e===1))throw n=Po,jr(t,0),Ri(t,i),zt(t,We()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(F(345));case 2:wr(t,Ot,Zn);break;case 3:if(Ri(t,i),(i&130023424)===i&&(e=Mm+500-We(),10<e)){if($c(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Pt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ph(wr.bind(null,t,Ot,Zn),e);break}wr(t,Ot,Zn);break;case 4:if(Ri(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-Sn(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=We()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*IT(i/1960))-i,10<i){t.timeoutHandle=Ph(wr.bind(null,t,Ot,Zn),i);break}wr(t,Ot,Zn);break;case 5:wr(t,Ot,Zn);break;default:throw Error(F(329))}}}return zt(t,We()),t.callbackNode===n?Jk.bind(null,t):null}function Xh(t,e){var n=Ga;return t.current.memoizedState.isDehydrated&&(jr(t,e).flags|=256),t=iu(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&Yh(e)),t}function Yh(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function DT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Tn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~Dm,e&=~ed,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),i=1<<n;t[n]=-1,e&=~i}}function o0(t){if(ue&6)throw Error(F(327));zs();var e=$c(t,0);if(!(e&1))return zt(t,We()),null;var n=iu(t,e);if(t.tag!==0&&n===2){var i=wh(t);i!==0&&(e=i,n=Xh(t,i))}if(n===1)throw n=Po,jr(t,0),Ri(t,e),zt(t,We()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wr(t,Ot,Zn),zt(t,We()),null}function Om(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Ys=We()+500,Yu&&or())}}function Wr(t){Mi!==null&&Mi.tag===0&&!(ue&6)&&zs();var e=ue;ue|=1;var n=hn.transition,i=xe;try{if(hn.transition=null,xe=1,t)return t()}finally{xe=i,hn.transition=n,ue=e,!(ue&6)&&or()}}function Lm(){Kt=As.current,Ee(As)}function jr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cT(n)),Ye!==null)for(n=Ye.return;n!==null;){var i=n;switch(gm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&qc();break;case 3:Qs(),Ee(Ft),Ee(St),Cm();break;case 5:_m(i);break;case 4:Qs();break;case 13:Ee(Me);break;case 19:Ee(Me);break;case 10:bm(i.type._context);break;case 22:case 23:Lm()}n=n.return}if(ot=t,Ye=t=Wi(t.current,null),pt=Kt=e,it=0,Po=null,Dm=ed=Hr=0,Ot=Ga=null,Er!==null){for(e=0;e<Er.length;e++)if(n=Er[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}Er=null}return t}function Zk(t,e){do{var n=Ye;try{if(xm(),dc.current=Gc,Zc){for(var i=Le.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Zc=!1}if(qr=0,at=et=Le=null,Ja=!1,Ao=0,Im.current=null,n===null||n.return===null){it=1,Po=e,Ye=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=pt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Qy(a);if(f!==null){f.flags&=-257,Xy(f,a,o,s,e),f.mode&1&&Ky(s,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){Ky(s,c,e),jm();break e}l=Error(F(426))}}else if(Ie&&o.mode&1){var b=Qy(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Xy(b,a,o,s,e),ym(Xs(l,o));break e}}s=l=Xs(l,o),it!==4&&(it=2),Ga===null?Ga=[s]:Ga.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Ok(s,l,e);Uy(s,v);break e;case 1:o=l;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qi===null||!qi.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Lk(s,o,e);Uy(s,S);break e}}s=s.return}while(s!==null)}t1(n)}catch(C){e=C,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function Gk(){var t=eu.current;return eu.current=Gc,t===null?Gc:t}function jm(){(it===0||it===3||it===2)&&(it=4),ot===null||!(Hr&268435455)&&!(ed&268435455)||Ri(ot,pt)}function iu(t,e){var n=ue;ue|=2;var i=Gk();(ot!==t||pt!==e)&&(Zn=null,jr(t,e));do try{MT();break}catch(r){Zk(t,r)}while(1);if(xm(),ue=n,eu.current=i,Ye!==null)throw Error(F(261));return ot=null,pt=0,it}function MT(){for(;Ye!==null;)e1(Ye)}function OT(){for(;Ye!==null&&!aA();)e1(Ye)}function e1(t){var e=i1(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?t1(t):Ye=e,Im.current=null}function t1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NT(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Ye=null;return}}else if(n=TT(n,e,Kt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);it===0&&(it=5)}function wr(t,e,n){var i=xe,r=hn.transition;try{hn.transition=null,xe=1,LT(t,e,n,i)}finally{hn.transition=r,xe=i}return null}function LT(t,e,n,i){do zs();while(Mi!==null);if(ue&6)throw Error(F(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(gA(t,s),t===ot&&(Ye=ot=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dl||(Dl=!0,r1(Fc,function(){return zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hn.transition,hn.transition=null;var a=xe;xe=1;var o=ue;ue|=4,Im.current=null,ET(t,n),Xk(n,t),nT(Th),zc=!!Ah,Th=Ah=null,t.current=n,RT(n),oA(),ue=o,xe=a,hn.transition=s}else t.current=n;if(Dl&&(Dl=!1,Mi=t,nu=r),s=t.pendingLanes,s===0&&(qi=null),uA(n.stateNode),zt(t,We()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(tu)throw tu=!1,t=Kh,Kh=null,t;return nu&1&&t.tag!==0&&zs(),s=t.pendingLanes,s&1?t===Qh?eo++:(eo=0,Qh=t):eo=0,or(),null}function zs(){if(Mi!==null){var t=Ow(nu),e=hn.transition,n=xe;try{if(hn.transition=null,xe=16>t?16:t,Mi===null)var i=!1;else{if(t=Mi,Mi=null,nu=0,ue&6)throw Error(F(331));var r=ue;for(ue|=4,U=t.current;U!==null;){var s=U,a=s.child;if(U.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:Za(8,u,s)}var d=u.child;if(d!==null)d.return=u,U=d;else for(;U!==null;){u=U;var h=u.sibling,f=u.return;if(Wk(u),u===c){U=null;break}if(h!==null){h.return=f,U=h;break}U=f}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}U=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,U=a;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,U=v;break e}U=s.return}}var x=t.current;for(U=x;U!==null;){a=U;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,U=w;else e:for(a=x;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Gu(9,o)}}catch(C){ze(o,o.return,C)}if(o===a){U=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,U=S;break e}U=o.return}}if(ue=r,or(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Hu,t)}catch{}i=!0}return i}finally{xe=n,hn.transition=e}}return!1}function l0(t,e,n){e=Xs(n,e),e=Ok(t,e,1),t=Vi(t,e,1),e=Pt(),t!==null&&(Xo(t,1,e),zt(t,e))}function ze(t,e,n){if(t.tag===3)l0(t,t,n);else for(;e!==null;){if(e.tag===3){l0(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(qi===null||!qi.has(i))){t=Xs(n,t),t=Lk(e,t,1),e=Vi(e,t,1),t=Pt(),e!==null&&(Xo(e,1,t),zt(e,t));break}}e=e.return}}function jT(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(pt&n)===n&&(it===4||it===3&&(pt&130023424)===pt&&500>We()-Mm?jr(t,0):Dm|=n),zt(t,e)}function n1(t,e){e===0&&(t.mode&1?(e=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):e=1);var n=Pt();t=mi(t,e),t!==null&&(Xo(t,e,n),zt(t,n))}function FT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),n1(t,n)}function $T(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(F(314))}i!==null&&i.delete(e),n1(t,n)}var i1;i1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,AT(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Ie&&e.flags&1048576&&ok(e,Kc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;hc(t,e),t=e.pendingProps;var r=Hs(e,St.current);$s(e,n),r=Tm(null,e,i,t,r,n);var s=Nm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(i)?(s=!0,Hc(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,km(e),r.updater=Zu,e.stateNode=r,r._reactInternals=e,Lh(e,i,t,n),e=$h(null,e,i,!0,s,n)):(e.tag=0,Ie&&s&&mm(e),Tt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(hc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=UT(i),t=vn(i,t),r){case 0:e=Fh(null,e,i,t,n);break e;case 1:e=Zy(null,e,i,t,n);break e;case 11:e=Yy(null,e,i,t,n);break e;case 14:e=Jy(null,e,i,vn(i.type,t),n);break e}throw Error(F(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vn(i,r),Fh(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vn(i,r),Zy(t,e,i,r,n);case 3:e:{if(zk(e),t===null)throw Error(F(387));i=e.pendingProps,s=e.memoizedState,r=s.element,hk(t,e),Yc(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Xs(Error(F(423)),e),e=Gy(t,e,i,n,r);break e}else if(i!==r){r=Xs(Error(F(424)),e),e=Gy(t,e,i,n,r);break e}else for(Qt=Bi(e.stateNode.containerInfo.firstChild),Yt=e,Ie=!0,wn=null,n=dk(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ws(),i===r){e=gi(t,e,n);break e}Tt(t,e,i,n)}e=e.child}return e;case 5:return fk(e),t===null&&Dh(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,Nh(i,r)?a=null:s!==null&&Nh(i,s)&&(e.flags|=32),$k(t,e),Tt(t,e,a,n),e.child;case 6:return t===null&&Dh(e),null;case 13:return Uk(t,e,n);case 4:return Sm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ks(e,null,i,n):Tt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vn(i,r),Yy(t,e,i,r,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Ae(Qc,i._currentValue),i._currentValue=a,s!==null)if(Tn(s.value,a)){if(s.children===r.children&&!Ft.current){e=gi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ci(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Mh(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(F(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Mh(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Tt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,$s(e,n),r=fn(r),i=i(r),e.flags|=1,Tt(t,e,i,n),e.child;case 14:return i=e.type,r=vn(i,e.pendingProps),r=vn(i.type,r),Jy(t,e,i,r,n);case 15:return jk(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vn(i,r),hc(t,e),e.tag=1,$t(i)?(t=!0,Hc(e)):t=!1,$s(e,n),Mk(e,i,r),Lh(e,i,r,n),$h(null,e,i,!0,t,n);case 19:return Bk(t,e,n);case 22:return Fk(t,e,n)}throw Error(F(156,e.tag))};function r1(t,e){return Rw(t,e)}function zT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,n,i){return new zT(t,e,n,i)}function Fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UT(t){if(typeof t=="function")return Fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===im)return 11;if(t===rm)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gc(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")Fm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case gs:return Fr(n.children,r,s,e);case nm:a=8,r|=8;break;case ah:return t=un(12,n,e,r|2),t.elementType=ah,t.lanes=s,t;case oh:return t=un(13,n,e,r),t.elementType=oh,t.lanes=s,t;case lh:return t=un(19,n,e,r),t.elementType=lh,t.lanes=s,t;case fw:return td(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pw:a=10;break e;case hw:a=9;break e;case im:a=11;break e;case rm:a=14;break e;case Ai:a=16,i=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=un(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Fr(t,e,n,i){return t=un(7,t,i,e),t.lanes=n,t}function td(t,e,n,i){return t=un(22,t,i,e),t.elementType=fw,t.lanes=n,t.stateNode={isHidden:!1},t}function yp(t,e,n){return t=un(6,t,null,e),t.lanes=n,t}function vp(t,e,n){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BT(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function $m(t,e,n,i,r,s,a,o,l){return t=new BT(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},km(s),t}function VT(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function s1(t){if(!t)return Gi;t=t._reactInternals;e:{if(Zr(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if($t(n))return sk(t,n,e)}return e}function a1(t,e,n,i,r,s,a,o,l){return t=$m(n,i,!0,t,r,s,a,o,l),t.context=s1(null),n=t.current,i=Pt(),r=Hi(n),s=ci(i,r),s.callback=e??null,Vi(n,s,r),t.current.lanes=r,Xo(t,r,i),zt(t,i),t}function nd(t,e,n,i){var r=e.current,s=Pt(),a=Hi(r);return n=s1(n),e.context===null?e.context=n:e.pendingContext=n,e=ci(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Vi(r,e,a),t!==null&&(_n(t,r,a,s),uc(t,r,a)),a}function ru(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function c0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zm(t,e){c0(t,e),(t=t.alternate)&&c0(t,e)}function qT(){return null}var o1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Um(t){this._internalRoot=t}id.prototype.render=Um.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));nd(t,e,null,null)};id.prototype.unmount=Um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wr(function(){nd(null,t,null,null)}),e[fi]=null}};function id(t){this._internalRoot=t}id.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&zw(t)}};function Bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u0(){}function HT(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=ru(a);s.call(c)}}var a=a1(e,i,t,0,null,!1,!1,"",u0);return t._reactRootContainer=a,t[fi]=a.current,wo(t.nodeType===8?t.parentNode:t),Wr(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var c=ru(l);o.call(c)}}var l=$m(t,0,!1,null,null,!1,!1,"",u0);return t._reactRootContainer=l,t[fi]=l.current,wo(t.nodeType===8?t.parentNode:t),Wr(function(){nd(e,l,n,i)}),l}function sd(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=ru(a);o.call(l)}}nd(e,a,t,r)}else a=HT(n,e,t,r,i);return ru(a)}Lw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=La(e.pendingLanes);n!==0&&(om(e,n|1),zt(e,We()),!(ue&6)&&(Ys=We()+500,or()))}break;case 13:Wr(function(){var i=mi(t,1);if(i!==null){var r=Pt();_n(i,t,1,r)}}),zm(t,1)}};lm=function(t){if(t.tag===13){var e=mi(t,134217728);if(e!==null){var n=Pt();_n(e,t,134217728,n)}zm(t,134217728)}};jw=function(t){if(t.tag===13){var e=Hi(t),n=mi(t,e);if(n!==null){var i=Pt();_n(n,t,e,i)}zm(t,e)}};Fw=function(){return xe};$w=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};vh=function(t,e,n){switch(e){case"input":if(dh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Xu(i);if(!r)throw Error(F(90));gw(i),dh(i,r)}}}break;case"textarea":vw(t,n);break;case"select":e=n.value,e!=null&&Os(t,!!n.multiple,e,!1)}};Cw=Om;Aw=Wr;var WT={usingClientEntryPoint:!1,Events:[Jo,bs,Xu,Sw,_w,Om]},Sa={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pw(t),t===null?null:t.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Hu=Ml.inject(KT),Un=Ml}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WT;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(e))throw Error(F(200));return VT(t,e,null,n)};Gt.createRoot=function(t,e){if(!Bm(t))throw Error(F(299));var n=!1,i="",r=o1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=$m(t,1,!1,null,null,n,!1,i,r),t[fi]=e.current,wo(t.nodeType===8?t.parentNode:t),new Um(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Pw(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Wr(t)};Gt.hydrate=function(t,e,n){if(!rd(e))throw Error(F(200));return sd(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!Bm(t))throw Error(F(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=o1;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=a1(e,null,t,1,n??null,r,!1,s,a),t[fi]=e.current,wo(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new id(e)};Gt.render=function(t,e,n){if(!rd(e))throw Error(F(200));return sd(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!rd(t))throw Error(F(40));return t._reactRootContainer?(Wr(function(){sd(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};Gt.unstable_batchedUpdates=Om;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!rd(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return sd(t,e,n,!1,i)};Gt.version="18.3.1-next-f1338f8080-20240426";function l1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l1)}catch(t){console.error(t)}}l1(),lw.exports=Gt;var QT=lw.exports,d0=QT;rh.createRoot=d0.createRoot,rh.hydrateRoot=d0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Eo.apply(this,arguments)}var Oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oi||(Oi={}));const p0="popstate";function XT(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return Jh("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:su(r)}return JT(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function c1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YT(){return Math.random().toString(36).substr(2,8)}function h0(t,e){return{usr:t.state,key:t.key,idx:e}}function Jh(t,e,n,i){return n===void 0&&(n=null),Eo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oa(e):e,{state:n,key:e&&e.key||i||YT()})}function su(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function JT(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=Oi.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Eo({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Oi.Pop;let b=u(),v=b==null?null:b-c;c=b,l&&l({action:o,location:y.location,delta:v})}function h(b,v){o=Oi.Push;let x=Jh(y.location,b,v);n&&n(x,b),c=u()+1;let w=h0(x,c),S=y.createHref(x);try{a.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(S)}s&&l&&l({action:o,location:y.location,delta:1})}function f(b,v){o=Oi.Replace;let x=Jh(y.location,b,v);n&&n(x,b),c=u();let w=h0(x,c),S=y.createHref(x);a.replaceState(w,"",S),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let v=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof b=="string"?b:su(b);return x=x.replace(/ $/,"%20"),je(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let y={get action(){return o},get location(){return t(r,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(p0,d),l=b,()=>{r.removeEventListener(p0,d),l=null}},createHref(b){return e(r,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(b){return a.go(b)}};return y}var f0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(f0||(f0={}));function ZT(t,e,n){return n===void 0&&(n="/"),GT(t,e,n,!1)}function GT(t,e,n,i){let r=typeof e=="string"?oa(e):e,s=Js(r.pathname||"/",n);if(s==null)return null;let a=u1(t);eN(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=dN(s);o=cN(a[l],c,i)}return o}function u1(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Ki([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),u1(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:oN(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of d1(s.path))r(s,a,l)}),e}function d1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=d1(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function eN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const tN=/^:[\w-]+$/,nN=3,iN=2,rN=1,sN=10,aN=-2,m0=t=>t==="*";function oN(t,e){let n=t.split("/"),i=n.length;return n.some(m0)&&(i+=aN),e&&(i+=iN),n.filter(r=>!m0(r)).reduce((r,s)=>r+(tN.test(s)?nN:s===""?rN:sN),i)}function lN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function cN(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=au({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=au({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),a.push({params:r,pathname:Ki([s,d.pathname]),pathnameBase:mN(Ki([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ki([s,d.pathnameBase]))}return a}function au(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=uN(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function uN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),c1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function dN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return c1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function pN(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?oa(t):t;return{pathname:n?n.startsWith("/")?n:hN(n,e):e,search:gN(i),hash:yN(r)}}function hN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xp(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vm(t,e){let n=fN(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function qm(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=oa(t):(r=Eo({},t),je(!r.pathname||!r.pathname.includes("?"),xp("?","pathname","search",r)),je(!r.pathname||!r.pathname.includes("#"),xp("#","pathname","hash",r)),je(!r.search||!r.search.includes("#"),xp("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!i&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=pN(r,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ki=t=>t.join("/").replace(/\/\/+/g,"/"),mN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const p1=["post","put","patch","delete"];new Set(p1);const xN=["get",...p1];new Set(xN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ro.apply(this,arguments)}const ad=k.createContext(null),h1=k.createContext(null),bi=k.createContext(null),od=k.createContext(null),lr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),f1=k.createContext(null);function bN(t,e){let{relative:n}=e===void 0?{}:e;la()||je(!1);let{basename:i,navigator:r}=k.useContext(bi),{hash:s,pathname:a,search:o}=ld(t,{relative:n}),l=a;return i!=="/"&&(l=a==="/"?i:Ki([i,a])),r.createHref({pathname:l,search:o,hash:s})}function la(){return k.useContext(od)!=null}function cr(){return la()||je(!1),k.useContext(od).location}function m1(t){k.useContext(bi).static||k.useLayoutEffect(t)}function Hm(){let{isDataRoute:t}=k.useContext(lr);return t?DN():wN()}function wN(){la()||je(!1);let t=k.useContext(ad),{basename:e,future:n,navigator:i}=k.useContext(bi),{matches:r}=k.useContext(lr),{pathname:s}=cr(),a=JSON.stringify(Vm(r,n.v7_relativeSplatPath)),o=k.useRef(!1);return m1(()=>{o.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){i.go(c);return}let d=qm(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ki([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,a,s,t])}function ld(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=k.useContext(bi),{matches:r}=k.useContext(lr),{pathname:s}=cr(),a=JSON.stringify(Vm(r,i.v7_relativeSplatPath));return k.useMemo(()=>qm(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function kN(t,e){return SN(t,e)}function SN(t,e,n,i){la()||je(!1);let{navigator:r}=k.useContext(bi),{matches:s}=k.useContext(lr),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=cr(),u;if(e){var d;let b=typeof e=="string"?oa(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||je(!1),u=b}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=ZT(t,{pathname:f}),y=NN(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Ki([l,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ki([l,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,i);return e&&y?k.createElement(od.Provider,{value:{location:Ro({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Oi.Pop}},y):y}function _N(){let t=IN(),e=vN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:r},n):null,s)}const CN=k.createElement(_N,null);class AN extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(lr.Provider,{value:this.props.routeContext},k.createElement(f1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TN(t){let{routeContext:e,match:n,children:i}=t,r=k.useContext(ad);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(lr.Provider,{value:e},i)}function NN(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);u>=0||je(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let f,m=!1,y=null,b=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||CN,l&&(c<0&&h===0?(MN("route-fallback",!1),m=!0,b=null):c===h&&(m=!0,b=d.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,h+1)),x=()=>{let w;return f?w=y:m?w=b:d.route.Component?w=k.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,k.createElement(TN,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?k.createElement(AN,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var g1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(g1||{}),ou=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ou||{});function PN(t){let e=k.useContext(ad);return e||je(!1),e}function EN(t){let e=k.useContext(h1);return e||je(!1),e}function RN(t){let e=k.useContext(lr);return e||je(!1),e}function y1(t){let e=RN(),n=e.matches[e.matches.length-1];return n.route.id||je(!1),n.route.id}function IN(){var t;let e=k.useContext(f1),n=EN(ou.UseRouteError),i=y1(ou.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function DN(){let{router:t}=PN(g1.UseNavigateStable),e=y1(ou.UseNavigateStable),n=k.useRef(!1);return m1(()=>{n.current=!0}),k.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ro({fromRouteId:e},s)))},[t,e])}const g0={};function MN(t,e,n){!e&&!g0[t]&&(g0[t]=!0)}function ON(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function y0(t){let{to:e,replace:n,state:i,relative:r}=t;la()||je(!1);let{future:s,static:a}=k.useContext(bi),{matches:o}=k.useContext(lr),{pathname:l}=cr(),c=Hm(),u=qm(e,Vm(o,s.v7_relativeSplatPath),l,r==="path"),d=JSON.stringify(u);return k.useEffect(()=>c(JSON.parse(d),{replace:n,state:i,relative:r}),[c,d,r,n,i]),null}function Dt(t){je(!1)}function LN(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Oi.Pop,navigator:s,static:a=!1,future:o}=t;la()&&je(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:a,future:Ro({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=oa(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=i,y=k.useMemo(()=>{let b=Js(u,l);return b==null?null:{location:{pathname:b,search:d,hash:h,state:f,key:m},navigationType:r}},[l,u,d,h,f,m,r]);return y==null?null:k.createElement(bi.Provider,{value:c},k.createElement(od.Provider,{children:n,value:y}))}function jN(t){let{children:e,location:n}=t;return kN(Zh(e),n)}new Promise(()=>{});function Zh(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(i,r)=>{if(!k.isValidElement(i))return;let s=[...e,r];if(i.type===k.Fragment){n.push.apply(n,Zh(i.props.children,s));return}i.type!==Dt&&je(!1),!i.props.index||!i.props.children||je(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Zh(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lu.apply(this,arguments)}function v1(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function FN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $N(t,e){return t.button===0&&(!e||e==="_self")&&!FN(t)}function Gh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function zN(t,e){let n=Gh(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)})}),n}const UN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],VN="6";try{window.__reactRouterVersion=VN}catch{}const qN=k.createContext({isTransitioning:!1}),HN="startTransition",v0=jC[HN];function WN(t){let{basename:e,children:n,future:i,window:r}=t,s=k.useRef();s.current==null&&(s.current=XT({window:r,v5Compat:!0}));let a=s.current,[o,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},u=k.useCallback(d=>{c&&v0?v0(()=>l(d)):l(d)},[l,c]);return k.useLayoutEffect(()=>a.listen(u),[a,u]),k.useEffect(()=>ON(i),[i]),k.createElement(LN,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:i})}const KN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XN=k.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=v1(e,UN),{basename:f}=k.useContext(bi),m,y=!1;if(typeof c=="string"&&QN.test(c)&&(m=c,KN))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),C=Js(S.pathname,f);S.origin===w.origin&&C!=null?c=C+S.search+S.hash:y=!0}catch{}let b=bN(c,{relative:r}),v=ZN(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:r,viewTransition:d});function x(w){i&&i(w),w.defaultPrevented||v(w)}return k.createElement("a",lu({},h,{href:m||b,onClick:y||s?i:x,ref:n,target:l}))}),YN=k.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,d=v1(e,BN),h=ld(l,{relative:d.relative}),f=cr(),m=k.useContext(h1),{navigator:y,basename:b}=k.useContext(bi),v=m!=null&&GN(h)&&c===!0,x=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,w=f.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&b&&(S=Js(S,b)||S);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let _=w===x||!a&&w.startsWith(x)&&w.charAt(C)==="/",T=S!=null&&(S===x||!a&&S.startsWith(x)&&S.charAt(x.length)==="/"),A={isActive:_,isPending:T,isTransitioning:v},E=_?i:void 0,N;typeof s=="function"?N=s(A):N=[s,_?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(A):o;return k.createElement(XN,lu({},d,{"aria-current":E,className:N,ref:n,style:I,to:l,viewTransition:c}),typeof u=="function"?u(A):u)});var ef;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ef||(ef={}));var x0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(x0||(x0={}));function JN(t){let e=k.useContext(ad);return e||je(!1),e}function ZN(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Hm(),c=cr(),u=ld(t,{relative:a});return k.useCallback(d=>{if($N(d,n)){d.preventDefault();let h=i!==void 0?i:su(c)===su(u);l(t,{replace:h,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,i,r,n,t,s,a,o])}function x1(t){let e=k.useRef(Gh(t)),n=k.useRef(!1),i=cr(),r=k.useMemo(()=>zN(i.search,n.current?null:e.current),[i.search]),s=Hm(),a=k.useCallback((o,l)=>{const c=Gh(typeof o=="function"?o(r):o);n.current=!0,s("?"+c,l)},[s,r]);return[r,a]}function GN(t,e){e===void 0&&(e={});let n=k.useContext(qN);n==null&&je(!1);let{basename:i}=JN(ef.useViewTransitionState),r=ld(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Js(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Js(n.nextLocation.pathname,i)||n.nextLocation.pathname;return au(r.pathname,a)!=null||au(r.pathname,s)!=null}class ca{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Io=typeof window>"u"||"Deno"in window;function on(){}function eP(t,e){return typeof t=="function"?t(e):t}function tf(t){return typeof t=="number"&&t>=0&&t!==1/0}function b1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fa(t,e,n){return Go(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function tP(t,e,n){return Go(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function Ni(t,e,n){return Go(t)?[{...e,queryKey:t},n]:[t||{},e]}function b0(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:a,stale:o}=t;if(Go(a)){if(i){if(e.queryHash!==Wm(a,e.options))return!1}else if(!cu(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||typeof r<"u"&&r!==e.state.fetchStatus||s&&!s(e))}function w0(t,e){const{exact:n,fetching:i,predicate:r,mutationKey:s}=t;if(Go(s)){if(!e.options.mutationKey)return!1;if(n){if(Ir(e.options.mutationKey)!==Ir(s))return!1}else if(!cu(e.options.mutationKey,s))return!1}return!(typeof i=="boolean"&&e.state.status==="loading"!==i||r&&!r(e))}function Wm(t,e){return(e?.queryKeyHashFn||Ir)(t)}function Ir(t){return JSON.stringify(t,(e,n)=>nf(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function cu(t,e){return w1(t,e)}function w1(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!w1(t[n],e[n])):!1}function k1(t,e){if(t===e)return t;const n=k0(t)&&k0(e);if(n||nf(t)&&nf(e)){const i=n?t.length:Object.keys(t).length,r=n?e:Object.keys(e),s=r.length,a=n?[]:{};let o=0;for(let l=0;l<s;l++){const c=n?l:r[l];a[c]=k1(t[c],e[c]),a[c]===t[c]&&o++}return i===s&&o===i?t:a}return e}function uu(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function k0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nf(t){if(!S0(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!S0(n)||!n.hasOwnProperty("isPrototypeOf"))}function S0(t){return Object.prototype.toString.call(t)==="[object Object]"}function Go(t){return Array.isArray(t)}function S1(t){return new Promise(e=>{setTimeout(e,t)})}function _0(t){S1(0).then(t)}function nP(){if(typeof AbortController=="function")return new AbortController}function rf(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?k1(t,e):e}class iP extends ca{constructor(){super(),this.setup=e=>{if(!Io&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const du=new iP,C0=["online","offline"];class rP extends ca{constructor(){super(),this.setup=e=>{if(!Io&&window.addEventListener){const n=()=>e();return C0.forEach(i=>{window.addEventListener(i,n,!1)}),()=>{C0.forEach(i=>{window.removeEventListener(i,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setOnline(i):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const pu=new rP;function sP(t){return Math.min(1e3*2**t,3e4)}function cd(t){return(t??"online")==="online"?pu.isOnline():!0}class _1{constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function yc(t){return t instanceof _1}function C1(t){let e=!1,n=0,i=!1,r,s,a;const o=new Promise((b,v)=>{s=b,a=v}),l=b=>{i||(f(new _1(b)),t.abort==null||t.abort())},c=()=>{e=!0},u=()=>{e=!1},d=()=>!du.isFocused()||t.networkMode!=="always"&&!pu.isOnline(),h=b=>{i||(i=!0,t.onSuccess==null||t.onSuccess(b),r?.(),s(b))},f=b=>{i||(i=!0,t.onError==null||t.onError(b),r?.(),a(b))},m=()=>new Promise(b=>{r=v=>{const x=i||!d();return x&&b(v),x},t.onPause==null||t.onPause()}).then(()=>{r=void 0,i||t.onContinue==null||t.onContinue()}),y=()=>{if(i)return;let b;try{b=t.fn()}catch(v){b=Promise.reject(v)}Promise.resolve(b).then(h).catch(v=>{var x,w;if(i)return;const S=(x=t.retry)!=null?x:3,C=(w=t.retryDelay)!=null?w:sP,_=typeof C=="function"?C(n,v):C,T=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,v);if(e||!T){f(v);return}n++,t.onFail==null||t.onFail(n,v),S1(_).then(()=>{if(d())return m()}).then(()=>{e?f(v):y()})})};return cd(t.networkMode)?y():m().then(y),{promise:o,cancel:l,continue:()=>r?.()?o:Promise.resolve(),cancelRetry:c,continueRetry:u}}const Km=console;function aP(){let t=[],e=0,n=u=>{u()},i=u=>{u()};const r=u=>{let d;e++;try{d=u()}finally{e--,e||o()}return d},s=u=>{e?t.push(u):_0(()=>{n(u)})},a=u=>(...d)=>{s(()=>{u(...d)})},o=()=>{const u=t;t=[],u.length&&_0(()=>{i(()=>{u.forEach(d=>{n(d)})})})};return{batch:r,batchCalls:a,schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{i=u}}}const Ue=aP();class A1{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tf(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Io?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class oP extends A1{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Km,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||lP(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const i=rf(this.state.data,e,this.options);return this.dispatch({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const i=this.promise;return(n=this.retryer)==null||n.cancel(e),i?i.then(on).catch(on):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!b1(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var i,r;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const a=nP(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};l(o);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),u={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(u),(i=this.options.behavior)==null||i.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((r=u.fetchOptions)==null?void 0:r.meta)){var d;this.dispatch({type:"fetch",meta:(d=u.fetchOptions)==null?void 0:d.meta})}const h=f=>{if(yc(f)&&f.silent||this.dispatch({type:"error",error:f}),!yc(f)){var m,y,b,v;(m=(y=this.cache.config).onError)==null||m.call(y,f,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,this.state.data,f,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=C1({fn:u.fetchFn,abort:a?.abort.bind(a),onSuccess:f=>{var m,y,b,v;if(typeof f>"u"){h(new Error(this.queryHash+" data is undefined"));return}this.setData(f),(m=(y=this.cache.config).onSuccess)==null||m.call(y,f,this),(b=(v=this.cache.config).onSettled)==null||b.call(v,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(f,m)=>{this.dispatch({type:"failed",failureCount:f,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=i=>{var r,s;switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(r=e.meta)!=null?r:null,fetchStatus:cd(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return yc(a)&&a.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Ue.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function lP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class cP extends ca{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,i){var r;const s=n.queryKey,a=(r=n.queryHash)!=null?r:Wm(s,n);let o=this.get(a);return o||(o=new oP({cache:this,logger:e.getLogger(),queryKey:s,queryHash:a,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(i=>i!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Ue.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[i]=Ni(e,n);return typeof i.exact>"u"&&(i.exact=!0),this.queries.find(r=>b0(i,r))}findAll(e,n){const[i]=Ni(e,n);return Object.keys(i).length>0?this.queries.filter(r=>b0(i,r)):this.queries}notify(e){Ue.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){Ue.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Ue.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class uP extends A1{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Km,this.observers=[],this.state=e.state||T1(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var T;return this.retryer=C1({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(A,E)=>{this.dispatch({type:"failed",failureCount:A,error:E})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(T=this.options.retry)!=null?T:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var i,r,s,a,o,l,c,u;if(!n){var d,h,f,m;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(h=this.mutationCache.config).onMutate)==null?void 0:d.call(h,this.state.variables,this));const A=await((f=(m=this.options).onMutate)==null?void 0:f.call(m,this.state.variables));A!==this.state.context&&this.dispatch({type:"loading",context:A,variables:this.state.variables})}const T=await e();return await((i=(r=this.mutationCache.config).onSuccess)==null?void 0:i.call(r,T,this.state.variables,this.state.context,this)),await((s=(a=this.options).onSuccess)==null?void 0:s.call(a,T,this.state.variables,this.state.context)),await((o=(l=this.mutationCache.config).onSettled)==null?void 0:o.call(l,T,null,this.state.variables,this.state.context,this)),await((c=(u=this.options).onSettled)==null?void 0:c.call(u,T,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:T}),T}catch(T){try{var y,b,v,x,w,S,C,_;throw await((y=(b=this.mutationCache.config).onError)==null?void 0:y.call(b,T,this.state.variables,this.state.context,this)),await((v=(x=this.options).onError)==null?void 0:v.call(x,T,this.state.variables,this.state.context)),await((w=(S=this.mutationCache.config).onSettled)==null?void 0:w.call(S,void 0,T,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,T,this.state.variables,this.state.context)),T}finally{this.dispatch({type:"error",error:T})}}}dispatch(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"loading":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!cd(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...i,...e.state}}};this.state=n(this.state),Ue.batch(()=>{this.observers.forEach(i=>{i.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function T1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class dP extends ca{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,i){const r=new uP({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:i,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(r),r}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){Ue.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>w0(e,n))}findAll(e){return this.mutations.filter(n=>w0(e,n))}notify(e){Ue.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(i=>i.state.isPaused);return Ue.batch(()=>n.reduce((i,r)=>i.then(()=>r.continue().catch(on)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function pP(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,i,r,s,a;const o=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(i=t.fetchOptions)==null||(r=i.meta)==null?void 0:r.fetchMore,c=l?.pageParam,u=l?.direction==="forward",d=l?.direction==="backward",h=((s=t.state.data)==null?void 0:s.pages)||[],f=((a=t.state.data)==null?void 0:a.pageParams)||[];let m=f,y=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>{var T;if((T=t.signal)!=null&&T.aborted)y=!0;else{var A;(A=t.signal)==null||A.addEventListener("abort",()=>{y=!0})}return t.signal}})},v=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),x=(_,T,A,E)=>(m=E?[T,...m]:[...m,T],E?[A,..._]:[..._,A]),w=(_,T,A,E)=>{if(y)return Promise.reject("Cancelled");if(typeof A>"u"&&!T&&_.length)return Promise.resolve(_);const N={queryKey:t.queryKey,pageParam:A,meta:t.options.meta};b(N);const I=v(N);return Promise.resolve(I).then(B=>x(_,A,B,E))};let S;if(!h.length)S=w([]);else if(u){const _=typeof c<"u",T=_?c:A0(t.options,h);S=w(h,_,T)}else if(d){const _=typeof c<"u",T=_?c:hP(t.options,h);S=w(h,_,T,!0)}else{m=[];const _=typeof t.options.getNextPageParam>"u";S=(o&&h[0]?o(h[0],0,h):!0)?w([],_,f[0]):Promise.resolve(x([],f[0],h[0]));for(let A=1;A<h.length;A++)S=S.then(E=>{if(o&&h[A]?o(h[A],A,h):!0){const I=_?f[A]:A0(t.options,E);return w(E,_,I)}return Promise.resolve(x(E,f[A],h[A]))})}return S.then(_=>({pages:_,pageParams:m}))}}}}function A0(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function hP(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class fP{constructor(e={}){this.queryCache=e.queryCache||new cP,this.mutationCache=e.mutationCache||new dP,this.logger=e.logger||Km,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=du.subscribe(()=>{du.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=pu.subscribe(()=>{pu.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[i]=Ni(e,n);return i.fetchStatus="fetching",this.queryCache.findAll(i).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var i;return(i=this.queryCache.find(e,n))==null?void 0:i.state.data}ensureQueryData(e,n,i){const r=Fa(e,n,i),s=this.getQueryData(r.queryKey);return s?Promise.resolve(s):this.fetchQuery(r)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:i})=>{const r=i.data;return[n,r]})}setQueryData(e,n,i){const r=this.queryCache.find(e),s=r?.state.data,a=eP(n,s);if(typeof a>"u")return;const o=Fa(e),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(a,{...i,manual:!0})}setQueriesData(e,n,i){return Ue.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,n,i)]))}getQueryState(e,n){var i;return(i=this.queryCache.find(e,n))==null?void 0:i.state}removeQueries(e,n){const[i]=Ni(e,n),r=this.queryCache;Ue.batch(()=>{r.findAll(i).forEach(s=>{r.remove(s)})})}resetQueries(e,n,i){const[r,s]=Ni(e,n,i),a=this.queryCache,o={type:"active",...r};return Ue.batch(()=>(a.findAll(r).forEach(l=>{l.reset()}),this.refetchQueries(o,s)))}cancelQueries(e,n,i){const[r,s={}]=Ni(e,n,i);typeof s.revert>"u"&&(s.revert=!0);const a=Ue.batch(()=>this.queryCache.findAll(r).map(o=>o.cancel(s)));return Promise.all(a).then(on).catch(on)}invalidateQueries(e,n,i){const[r,s]=Ni(e,n,i);return Ue.batch(()=>{var a,o;if(this.queryCache.findAll(r).forEach(c=>{c.invalidate()}),r.refetchType==="none")return Promise.resolve();const l={...r,type:(a=(o=r.refetchType)!=null?o:r.type)!=null?a:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,i){const[r,s]=Ni(e,n,i),a=Ue.batch(()=>this.queryCache.findAll(r).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...s,cancelRefetch:(c=s?.cancelRefetch)!=null?c:!0,meta:{refetchPage:r.refetchPage}})}));let o=Promise.all(a).then(on);return s!=null&&s.throwOnError||(o=o.catch(on)),o}fetchQuery(e,n,i){const r=Fa(e,n,i),s=this.defaultQueryOptions(r);typeof s.retry>"u"&&(s.retry=!1);const a=this.queryCache.build(this,s);return a.isStaleByTime(s.staleTime)?a.fetch(s):Promise.resolve(a.state.data)}prefetchQuery(e,n,i){return this.fetchQuery(e,n,i).then(on).catch(on)}fetchInfiniteQuery(e,n,i){const r=Fa(e,n,i);return r.behavior=pP(),this.fetchQuery(r)}prefetchInfiniteQuery(e,n,i){return this.fetchInfiniteQuery(e,n,i).then(on).catch(on)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const i=this.queryDefaults.find(r=>Ir(e)===Ir(r.queryKey));i?i.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(i=>cu(e,i.queryKey));return n?.defaultOptions}setMutationDefaults(e,n){const i=this.mutationDefaults.find(r=>Ir(e)===Ir(r.mutationKey));i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(i=>cu(e,i.mutationKey));return n?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Wm(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class mP extends ca{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),T0(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sf(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sf(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const i=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),uu(i,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const s=this.hasListeners();s&&N0(this.currentQuery,r,this.options,i)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==r||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();const a=this.computeRefetchInterval();s&&(this.currentQuery!==r||this.options.enabled!==i.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),i=this.createResult(n,e);return yP(this,i,e)&&(this.currentResult=i,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),i}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(i),e[i])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),i=this.client.getQueryCache().build(this.client,n);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(on)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Io||this.currentResult.isStale||!tf(this.options.staleTime))return;const n=b1(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Io||this.options.enabled===!1||!tf(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||du.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const i=this.currentQuery,r=this.options,s=this.currentResult,a=this.currentResultState,o=this.currentResultOptions,l=e!==i,c=l?e.state:this.currentQueryInitialState,u=l?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:h,error:f,errorUpdatedAt:m,fetchStatus:y,status:b}=d,v=!1,x=!1,w;if(n._optimisticResults){const A=this.hasListeners(),E=!A&&T0(e,n),N=A&&N0(e,i,n,r);(E||N)&&(y=cd(e.options.networkMode)?"fetching":"paused",h||(b="loading")),n._optimisticResults==="isRestoring"&&(y="idle")}if(n.keepPreviousData&&!d.dataUpdatedAt&&u!=null&&u.isSuccess&&b!=="error")w=u.data,h=u.dataUpdatedAt,b=u.status,v=!0;else if(n.select&&typeof d.data<"u")if(s&&d.data===a?.data&&n.select===this.selectFn)w=this.selectResult;else try{this.selectFn=n.select,w=n.select(d.data),w=rf(s?.data,w,n),this.selectResult=w,this.selectError=null}catch(A){this.selectError=A}else w=d.data;if(typeof n.placeholderData<"u"&&typeof w>"u"&&b==="loading"){let A;if(s!=null&&s.isPlaceholderData&&n.placeholderData===o?.placeholderData)A=s.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof A<"u")try{A=n.select(A),this.selectError=null}catch(E){this.selectError=E}typeof A<"u"&&(b="success",w=rf(s?.data,A,n),x=!0)}this.selectError&&(f=this.selectError,w=this.selectResult,m=Date.now(),b="error");const S=y==="fetching",C=b==="loading",_=b==="error";return{status:b,fetchStatus:y,isLoading:C,isSuccess:b==="success",isError:_,isInitialLoading:C&&S,data:w,dataUpdatedAt:h,error:f,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!C,isLoadingError:_&&d.dataUpdatedAt===0,isPaused:y==="paused",isPlaceholderData:x,isPreviousData:v,isRefetchError:_&&d.dataUpdatedAt!==0,isStale:Qm(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,uu(i,n))return;this.currentResult=i;const r={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.trackedProps.size)return!0;const l=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(c=>{const u=c;return this.currentResult[u]!==n[u]&&l.has(u)})};e?.listeners!==!1&&s()&&(r.listeners=!0),this.notify({...r,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!yc(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){Ue.batch(()=>{if(e.onSuccess){var n,i,r,s;(n=(i=this.options).onSuccess)==null||n.call(i,this.currentResult.data),(r=(s=this.options).onSettled)==null||r.call(s,this.currentResult.data,null)}else if(e.onError){var a,o,l,c;(a=(o=this.options).onError)==null||a.call(o,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function gP(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function T0(t,e){return gP(t,e)||t.state.dataUpdatedAt>0&&sf(t,e,e.refetchOnMount)}function sf(t,e,n){if(e.enabled!==!1){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&Qm(t,e)}return!1}function N0(t,e,n,i){return n.enabled!==!1&&(t!==e||i.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Qm(t,n)}function Qm(t,e){return t.isStaleByTime(e.staleTime)}function yP(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!uu(t.getCurrentResult(),e)}let vP=class extends ca{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const i=this.options;this.options=this.client.defaultMutationOptions(e),uu(i,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:T1(),n=e.status==="loading",i={...e,isLoading:n,isPending:n,isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=i}notify(e){Ue.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,i,r,s;(n=(i=this.mutateOptions).onSuccess)==null||n.call(i,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(r=(s=this.mutateOptions).onSettled)==null||r.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var a,o,l,c;(a=(o=this.mutateOptions).onError)==null||a.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(c=this.mutateOptions).onSettled)==null||l.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)})})}};var N1={exports:{}},P1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=k;function xP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bP=typeof Object.is=="function"?Object.is:xP,wP=Zs.useState,kP=Zs.useEffect,SP=Zs.useLayoutEffect,_P=Zs.useDebugValue;function CP(t,e){var n=e(),i=wP({inst:{value:n,getSnapshot:e}}),r=i[0].inst,s=i[1];return SP(function(){r.value=n,r.getSnapshot=e,bp(r)&&s({inst:r})},[t,n,e]),kP(function(){return bp(r)&&s({inst:r}),t(function(){bp(r)&&s({inst:r})})},[t]),_P(n),n}function bp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bP(t,n)}catch{return!0}}function AP(t,e){return e()}var TP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AP:CP;P1.useSyncExternalStore=Zs.useSyncExternalStore!==void 0?Zs.useSyncExternalStore:TP;N1.exports=P1;var NP=N1.exports;const E1=NP.useSyncExternalStore,P0=k.createContext(void 0),R1=k.createContext(!1);function I1(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=P0),window.ReactQueryClientContext):P0)}const Gr=({context:t}={})=>{const e=k.useContext(I1(t,k.useContext(R1)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},PP=({client:t,children:e,context:n,contextSharing:i=!1})=>{k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const r=I1(n,i);return k.createElement(R1.Provider,{value:!n&&i},k.createElement(r.Provider,{value:t},e))},D1=k.createContext(!1),EP=()=>k.useContext(D1);D1.Provider;function RP(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const IP=k.createContext(RP()),DP=()=>k.useContext(IP);function M1(t,e){return typeof t=="function"?t(...e):!!t}const MP=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},OP=t=>{k.useEffect(()=>{t.clearReset()},[t])},LP=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:i})=>t.isError&&!e.isReset()&&!t.isFetching&&M1(n,[t.error,i]),jP=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},FP=(t,e)=>t.isLoading&&t.isFetching&&!e,$P=(t,e,n)=>t?.suspense&&FP(e,n),zP=(t,e,n)=>e.fetchOptimistic(t).then(({data:i})=>{t.onSuccess==null||t.onSuccess(i),t.onSettled==null||t.onSettled(i,null)}).catch(i=>{n.clearReset(),t.onError==null||t.onError(i),t.onSettled==null||t.onSettled(void 0,i)});function UP(t,e){const n=Gr({context:t.context}),i=EP(),r=DP(),s=n.defaultQueryOptions(t);s._optimisticResults=i?"isRestoring":"optimistic",s.onError&&(s.onError=Ue.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=Ue.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=Ue.batchCalls(s.onSettled)),jP(s),MP(s,r),OP(r);const[a]=k.useState(()=>new e(n,s)),o=a.getOptimisticResult(s);if(E1(k.useCallback(l=>{const c=i?()=>{}:a.subscribe(Ue.batchCalls(l));return a.updateResult(),c},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),k.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),$P(s,o,i))throw zP(s,a,r);if(LP({result:o,errorResetBoundary:r,useErrorBoundary:s.useErrorBoundary,query:a.getCurrentQuery()}))throw o.error;return s.notifyOnChangeProps?o:a.trackResult(o)}function bt(t,e,n){const i=Fa(t,e,n);return UP(i,mP)}function Ts(t,e,n){const i=tP(t,e,n),r=Gr({context:i.context}),[s]=k.useState(()=>new vP(r,i));k.useEffect(()=>{s.setOptions(i)},[s,i]);const a=E1(k.useCallback(l=>s.subscribe(Ue.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=k.useCallback((l,c)=>{s.mutate(l,c).catch(BP)},[s]);if(a.error&&M1(s.options.useErrorBoundary,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}function BP(){}const VP=function(){return null};let qP={data:""},HP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||qP,WP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,KP=/\/\*[^]*?\*\/|  +/g,E0=/\n+/g,Ii=(t,e)=>{let n="",i="",r="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":i+=s[1]=="f"?Ii(a,s):s+"{"+Ii(a,s[1]=="k"?"":e)+"}":typeof a=="object"?i+=Ii(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Ii.p?Ii.p(s,a):s+":"+a+";")}return n+(e&&r?e+"{"+r+"}":r)+i},Qn={},O1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+O1(t[n]);return e}return t},QP=(t,e,n,i,r)=>{let s=O1(t),a=Qn[s]||(Qn[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Qn[a]){let l=s!==t?t:(c=>{let u,d,h=[{}];for(;u=WP.exec(c.replace(KP,""));)u[4]?h.shift():u[3]?(d=u[3].replace(E0," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(E0," ").trim();return h[0]})(t);Qn[a]=Ii(r?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Qn.g?Qn.g:null;return n&&(Qn.g=Qn[a]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Qn[a],e,i,o),a},XP=(t,e,n)=>t.reduce((i,r,s)=>{let a=e[s];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Ii(o,""):o===!1?"":o}return i+r+(a??"")},"");function ud(t){let e=this||{},n=t.call?t(e.p):t;return QP(n.unshift?n.raw?XP(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,HP(e.target),e.g,e.o,e.k)}let L1,af,of;ud.bind({g:1});let yi=ud.bind({k:1});function YP(t,e,n,i){Ii.p=e,L1=t,af=n,of=i}function ur(t,e){let n=this||{};return function(){let i=arguments;function r(s,a){let o=Object.assign({},s),l=o.className||r.className;n.p=Object.assign({theme:af&&af()},o),n.o=/ *go\d+/.test(l),o.className=ud.apply(n,i)+(l?" "+l:""),e&&(o.ref=a);let c=t;return t[0]&&(c=o.as||t,delete o.as),of&&c[0]&&of(o),L1(c,o)}return e?e(r):r}}var JP=t=>typeof t=="function",hu=(t,e)=>JP(t)?t(e):t,ZP=(()=>{let t=0;return()=>(++t).toString()})(),j1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),GP=20,Xm="default",F1=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:i}=e;return F1(t,{type:t.toasts.find(a=>a.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},vc=[],$1={toasts:[],pausedAt:void 0,settings:{toastLimit:GP}},$n={},z1=(t,e=Xm)=>{$n[e]=F1($n[e]||$1,t),vc.forEach(([n,i])=>{n===e&&i($n[e])})},U1=t=>Object.keys($n).forEach(e=>z1(t,e)),eE=t=>Object.keys($n).find(e=>$n[e].toasts.some(n=>n.id===t)),dd=(t=Xm)=>e=>{z1(e,t)},tE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nE=(t={},e=Xm)=>{let[n,i]=k.useState($n[e]||$1),r=k.useRef($n[e]);k.useEffect(()=>(r.current!==$n[e]&&i($n[e]),vc.push([e,i]),()=>{let a=vc.findIndex(([o])=>o===e);a>-1&&vc.splice(a,1)}),[e]);let s=n.toasts.map(a=>{var o,l,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||t?.removeDelay,duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||t?.duration||tE[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...n,toasts:s}},iE=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||ZP()}),el=t=>(e,n)=>{let i=iE(e,t,n);return dd(i.toasterId||eE(i.id))({type:2,toast:i}),i.id},tt=(t,e)=>el("blank")(t,e);tt.error=el("error");tt.success=el("success");tt.loading=el("loading");tt.custom=el("custom");tt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?dd(e)(n):U1(n)};tt.dismissAll=t=>tt.dismiss(void 0,t);tt.remove=(t,e)=>{let n={type:4,toastId:t};e?dd(e)(n):U1(n)};tt.removeAll=t=>tt.remove(void 0,t);tt.promise=(t,e,n)=>{let i=tt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let s=e.success?hu(e.success,r):void 0;return s?tt.success(s,{id:i,...n,...n?.success}):tt.dismiss(i),r}).catch(r=>{let s=e.error?hu(e.error,r):void 0;s?tt.error(s,{id:i,...n,...n?.error}):tt.dismiss(i)}),t};var rE=1e3,sE=(t,e="default")=>{let{toasts:n,pausedAt:i}=nE(t,e),r=k.useRef(new Map).current,s=k.useCallback((d,h=rE)=>{if(r.has(d))return;let f=setTimeout(()=>{r.delete(d),a({type:4,toastId:d})},h);r.set(d,f)},[]);k.useEffect(()=>{if(i)return;let d=Date.now(),h=n.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(d-f.createdAt);if(m<0){f.visible&&tt.dismiss(f.id);return}return setTimeout(()=>tt.dismiss(f.id,e),m)});return()=>{h.forEach(f=>f&&clearTimeout(f))}},[n,i,e]);let a=k.useCallback(dd(e),[e]),o=k.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=k.useCallback((d,h)=>{a({type:1,toast:{id:d,height:h}})},[a]),c=k.useCallback(()=>{i&&a({type:6,time:Date.now()})},[i,a]),u=k.useCallback((d,h)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:y}=h||{},b=n.filter(w=>(w.position||y)===(d.position||y)&&w.height),v=b.findIndex(w=>w.id===d.id),x=b.filter((w,S)=>S<v&&w.visible).length;return b.filter(w=>w.visible).slice(...f?[x+1]:[0,x]).reduce((w,S)=>w+(S.height||0)+m,0)},[n]);return k.useEffect(()=>{n.forEach(d=>{if(d.dismissed)s(d.id,d.removeDelay);else{let h=r.get(d.id);h&&(clearTimeout(h),r.delete(d.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:c,calculateOffset:u}}},aE=yi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oE=yi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lE=yi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cE=ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uE=yi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dE=ur("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${uE} 1s linear infinite;
`,pE=yi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hE=yi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fE=ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mE=ur("div")`
  position: absolute;
`,gE=ur("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yE=yi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vE=ur("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xE=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?k.createElement(vE,null,e):e:n==="blank"?null:k.createElement(gE,null,k.createElement(dE,{...i}),n!=="loading"&&k.createElement(mE,null,n==="error"?k.createElement(cE,{...i}):k.createElement(fE,{...i})))},bE=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wE=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,kE="0%{opacity:0;} 100%{opacity:1;}",SE="0%{opacity:1;} 100%{opacity:0;}",_E=ur("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,CE=ur("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AE=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=j1()?[kE,SE]:[bE(n),wE(n)];return{animation:e?`${yi(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yi(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},TE=k.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?AE(t.position||e||"top-center",t.visible):{opacity:0},s=k.createElement(xE,{toast:t}),a=k.createElement(CE,{...t.ariaProps},hu(t.message,t));return k.createElement(_E,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:s,message:a}):k.createElement(k.Fragment,null,s,a))});YP(k.createElement);var NE=({id:t,className:e,style:n,onHeightUpdate:i,children:r})=>{let s=k.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;i(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return k.createElement("div",{ref:s,className:e,style:n},r)},PE=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:j1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...r}},EE=ud`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ol=16,RE=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:r,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=sE(n,s);return k.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Ol,left:Ol,right:Ol,bottom:Ol,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:i,defaultPosition:e}),f=PE(d,h);return k.createElement(NE,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?EE:"",style:f},u.type==="custom"?hu(u.message,u):r?r(u):k.createElement(TE,{toast:u,position:d}))}))},In=tt;const B1=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),pd=k.createContext({}),hd=k.createContext(null),fd=typeof document<"u",Ym=fd?k.useLayoutEffect:k.useEffect,V1=k.createContext({strict:!1}),Jm=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),IE="framerAppearId",q1="data-"+Jm(IE);function DE(t,e,n,i){const{visualElement:r}=k.useContext(pd),s=k.useContext(V1),a=k.useContext(hd),o=k.useContext(B1).reducedMotion,l=k.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;k.useInsertionEffect(()=>{c&&c.update(n,a)});const u=k.useRef(!!(n[q1]&&!window.HandoffComplete));return Ym(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),k.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Ns(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ME(t,e,n){return k.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ns(n)&&(n.current=i))},[e])}function Do(t){return typeof t=="string"||Array.isArray(t)}function md(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Zm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gm=["initial",...Zm];function gd(t){return md(t.animate)||Gm.some(e=>Do(t[e]))}function H1(t){return!!(gd(t)||t.variants)}function OE(t,e){if(gd(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Do(n)?n:void 0,animate:Do(i)?i:void 0}}return t.inherit!==!1?e:{}}function LE(t){const{initial:e,animate:n}=OE(t,k.useContext(pd));return k.useMemo(()=>({initial:e,animate:n}),[R0(e),R0(n)])}function R0(t){return Array.isArray(t)?t.join(" "):t}const I0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mo={};for(const t in I0)Mo[t]={isEnabled:e=>I0[t].some(n=>!!e[n])};function jE(t){for(const e in t)Mo[e]={...Mo[e],...t[e]}}const eg=k.createContext({}),W1=k.createContext({}),FE=Symbol.for("motionComponentSymbol");function $E({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&jE(t);function s(o,l){let c;const u={...k.useContext(B1),...o,layoutId:zE(o)},{isStatic:d}=u,h=LE(o),f=i(o,d);if(!d&&fd){h.visualElement=DE(r,f,u,e);const m=k.useContext(W1),y=k.useContext(V1).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,y,t,m))}return k.createElement(pd.Provider,{value:h},c&&h.visualElement?k.createElement(c,{visualElement:h.visualElement,...u}):null,n(r,o,ME(f,h.visualElement,l),f,d,h.visualElement))}const a=k.forwardRef(s);return a[FE]=r,a}function zE({layoutId:t}){const e=k.useContext(eg).id;return e&&t!==void 0?e+"-"+t:t}function UE(t){function e(i,r={}){return $E(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const BE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tg(t){return typeof t!="string"||t.includes("-")?!1:!!(BE.indexOf(t)>-1||/[A-Z]/.test(t))}const fu={};function VE(t){Object.assign(fu,t)}const tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],es=new Set(tl);function K1(t,{layout:e,layoutId:n}){return es.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fu[t]||t==="opacity")}const Bt=t=>!!(t&&t.getVelocity),qE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HE=tl.length;function WE(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,r){let s="";for(let a=0;a<HE;a++){const o=tl[a];if(t[o]!==void 0){const l=qE[o]||o;s+=`${l}(${t[o]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(t,i?"":s):n&&i&&(s="none"),s}const Q1=t=>e=>typeof e=="string"&&e.startsWith(t),X1=Q1("--"),lf=Q1("var(--"),KE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,QE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,er=(t,e,n)=>Math.min(Math.max(n,t),e),ts={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},to={...ts,transform:t=>er(0,1,t)},Ll={...ts,default:1},no=t=>Math.round(t*1e5)/1e5,yd=/(-)?([\d]*\.?[\d])+/g,Y1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,XE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function nl(t){return typeof t=="string"}const il=t=>({test:e=>nl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_i=il("deg"),Vn=il("%"),J=il("px"),YE=il("vh"),JE=il("vw"),D0={...Vn,parse:t=>Vn.parse(t)/100,transform:t=>Vn.transform(t*100)},M0={...ts,transform:Math.round},J1={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,size:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,rotate:_i,rotateX:_i,rotateY:_i,rotateZ:_i,scale:Ll,scaleX:Ll,scaleY:Ll,scaleZ:Ll,skew:_i,skewX:_i,skewY:_i,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:to,originX:D0,originY:D0,originZ:J,zIndex:M0,fillOpacity:to,strokeOpacity:to,numOctaves:M0};function ng(t,e,n,i){const{style:r,vars:s,transform:a,transformOrigin:o}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(X1(d)){s[d]=h;continue}const f=J1[d],m=QE(h,f);if(es.has(d)){if(l=!0,a[d]=m,!u)continue;h!==(f.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=m):r[d]=m}if(e.transform||(l||i?r.transform=WE(t.transform,n,u,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=o;r.transformOrigin=`${d} ${h} ${f}`}}const ig=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Z1(t,e,n){for(const i in e)!Bt(e[i])&&!K1(i,n)&&(t[i]=e[i])}function ZE({transformTemplate:t},e,n){return k.useMemo(()=>{const i=ig();return ng(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function GE(t,e,n){const i=t.style||{},r={};return Z1(r,i,t),Object.assign(r,ZE(t,e,n)),t.transformValues?t.transformValues(r):r}function eR(t,e,n){const i={},r=GE(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const tR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tR.has(t)}let G1=t=>!mu(t);function nR(t){t&&(G1=e=>e.startsWith("on")?!mu(e):t(e))}try{nR(require("@emotion/is-prop-valid").default)}catch{}function iR(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(G1(r)||n===!0&&mu(r)||!e&&!mu(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function O0(t,e,n){return typeof t=="string"?t:J.transform(e+n*t)}function rR(t,e,n){const i=O0(e,t.x,t.width),r=O0(n,t.y,t.height);return`${i} ${r}`}const sR={offset:"stroke-dashoffset",array:"stroke-dasharray"},aR={offset:"strokeDashoffset",array:"strokeDasharray"};function oR(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?sR:aR;t[s.offset]=J.transform(-i);const a=J.transform(e),o=J.transform(n);t[s.array]=`${a} ${o}`}function rg(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d,h){if(ng(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:y}=t;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=rR(y,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),a!==void 0&&oR(f,a,o,l,!1)}const eS=()=>({...ig(),attrs:{}}),sg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lR(t,e,n,i){const r=k.useMemo(()=>{const s=eS();return rg(s,e,{enableHardwareAcceleration:!1},sg(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Z1(s,t.style,t),r.style={...s,...r.style}}return r}function cR(t=!1){return(n,i,r,{latestValues:s},a)=>{const l=(tg(n)?lR:eR)(i,s,a,n),u={...iR(i,typeof n=="string",t),...l,ref:r},{children:d}=i,h=k.useMemo(()=>Bt(d)?d.get():d,[d]);return k.createElement(n,{...u,children:h})}}function tS(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const nS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iS(t,e,n,i){tS(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(nS.has(r)?r:Jm(r),e.attrs[r])}function ag(t,e){const{style:n}=t,i={};for(const r in n)(Bt(n[r])||e.style&&Bt(e.style[r])||K1(r,t))&&(i[r]=n[r]);return i}function rS(t,e){const n=ag(t,e);for(const i in t)if(Bt(t[i])||Bt(e[i])){const r=tl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=t[i]}return n}function og(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}function sS(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const gu=t=>Array.isArray(t),uR=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),dR=t=>gu(t)?t[t.length-1]||0:t;function xc(t){const e=Bt(t)?t.get():t;return uR(e)?e.toValue():e}function pR({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,s){const a={latestValues:hR(i,r,s,t),renderState:e()};return n&&(a.mount=o=>n(i,o,a)),a}const aS=t=>(e,n)=>{const i=k.useContext(pd),r=k.useContext(hd),s=()=>pR(t,e,i,r);return n?s():sS(s)};function hR(t,e,n,i){const r={},s=i(t,{});for(const h in s)r[h]=xc(s[h]);let{initial:a,animate:o}=t;const l=gd(t),c=H1(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const d=u?o:a;return d&&typeof d!="boolean"&&!md(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const m=og(t,f);if(!m)return;const{transitionEnd:y,transition:b,...v}=m;for(const x in v){let w=v[x];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(r[x]=w)}for(const x in y)r[x]=y[x]}),r}const Be=t=>t;class L0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function fR(t){let e=new L0,n=new L0,i=0,r=!1,s=!1;const a=new WeakSet,o={schedule:(l,c=!1,u=!1)=>{const d=u&&r,h=d?e:n;return c&&a.add(l),h.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const u=e.order[c];u(l),a.has(u)&&(o.schedule(u),t())}r=!1,s&&(s=!1,o.process(l))}};return o}const jl=["prepare","read","update","preRender","render","postRender"],mR=40;function gR(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=jl.reduce((d,h)=>(d[h]=fR(()=>n=!0),d),{}),a=d=>s[d].process(r),o=()=>{const d=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(d-r.timestamp,mR),1),r.timestamp=d,r.isProcessing=!0,jl.forEach(a),r.isProcessing=!1,n&&e&&(i=!1,t(o))},l=()=>{n=!0,i=!0,r.isProcessing||t(o)};return{schedule:jl.reduce((d,h)=>{const f=s[h];return d[h]=(m,y=!1,b=!1)=>(n||l(),f.schedule(m,y,b)),d},{}),cancel:d=>jl.forEach(h=>s[h].cancel(d)),state:r,steps:s}}const{schedule:Te,cancel:vi,state:gt,steps:wp}=gR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Be,!0),yR={useVisualState:aS({scrapeMotionValuesFromProps:rS,createRenderState:eS,onMount:(t,e,{renderState:n,latestValues:i})=>{Te.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Te.render(()=>{rg(n,i,{enableHardwareAcceleration:!1},sg(e.tagName),t.transformTemplate),iS(e,n)})}})},vR={useVisualState:aS({scrapeMotionValuesFromProps:ag,createRenderState:ig})};function xR(t,{forwardMotionProps:e=!1},n,i){return{...tg(t)?yR:vR,preloadedFeatures:n,useRender:cR(e),createVisualElement:i,Component:t}}function si(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const oS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const bR=t=>e=>oS(e)&&t(e,vd(e));function ui(t,e,n,i){return si(t,e,bR(n),i)}const wR=(t,e)=>n=>e(t(n)),Qi=(...t)=>t.reduce(wR);function lS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const j0=lS("dragHorizontal"),F0=lS("dragVertical");function cS(t){let e=!1;if(t==="y")e=F0();else if(t==="x")e=j0();else{const n=j0(),i=F0();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function uS(){const t=cS(!0);return t?(t(),!1):!0}class dr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $0(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,a)=>{if(s.pointerType==="touch"||uS())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[i]&&Te.update(()=>o[i](s,a))};return ui(t.current,n,r,{passive:!t.getProps()[i]})}class kR extends dr{mount(){this.unmount=Qi($0(this.node,!0),$0(this.node,!1))}unmount(){}}class SR extends dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qi(si(this.node.current,"focus",()=>this.onFocus()),si(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dS=(t,e)=>e?t===e?!0:dS(t,e.parentElement):!1;function kp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,vd(n))}class _R extends dr{constructor(){super(...arguments),this.removeStartListeners=Be,this.removeEndListeners=Be,this.removeAccessibleListeners=Be,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=ui(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Te.update(()=>{!d&&!dS(this.node.current,o.target)?u&&u(o,l):c&&c(o,l)})},{passive:!(i.onTap||i.onPointerUp)}),a=ui(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Qi(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||kp("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Te.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=si(this.node.current,"keyup",a),kp("down",(o,l)=>{this.startPress(o,l)})},n=si(this.node.current,"keydown",e),i=()=>{this.isPressing&&kp("cancel",(s,a)=>this.cancelPress(s,a))},r=si(this.node.current,"blur",i);this.removeAccessibleListeners=Qi(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Te.update(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!uS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Te.update(()=>i(e,n))}mount(){const e=this.node.getProps(),n=ui(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=si(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qi(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cf=new WeakMap,Sp=new WeakMap,CR=t=>{const e=cf.get(t.target);e&&e(t)},AR=t=>{t.forEach(CR)};function TR({root:t,...e}){const n=t||document;Sp.has(n)||Sp.set(n,{});const i=Sp.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(AR,{root:t,...e})),i[r]}function NR(t,e,n){const i=TR(e);return cf.set(t,n),i.observe(t),()=>{cf.delete(t),i.unobserve(t)}}const PR={some:0,all:1};class ER extends dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:PR[r]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return NR(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(RR(e,n))&&this.startObserver()}unmount(){}}function RR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const IR={inView:{Feature:ER},tap:{Feature:_R},focus:{Feature:SR},hover:{Feature:kR}};function pS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function DR(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function MR(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function xd(t,e,n){const i=t.getProps();return og(i,e,n!==void 0?n:i.custom,DR(t),MR(t))}let OR=Be,lg=Be;const Xi=t=>t*1e3,di=t=>t/1e3,LR={current:!1},hS=t=>Array.isArray(t)&&typeof t[0]=="number";function fS(t){return!!(!t||typeof t=="string"&&mS[t]||hS(t)||Array.isArray(t)&&t.every(fS))}const $a=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,mS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$a([0,.65,.55,1]),circOut:$a([.55,0,1,.45]),backIn:$a([.31,.01,.66,-.59]),backOut:$a([.33,1.53,.69,.99])};function gS(t){if(t)return hS(t)?$a(t):Array.isArray(t)?t.map(gS):mS[t]}function jR(t,e,n,{delay:i=0,duration:r,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=gS(o);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function FR(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const yS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$R=1e-7,zR=12;function UR(t,e,n,i,r){let s,a,o=0;do a=e+(n-e)/2,s=yS(a,i,r)-t,s>0?n=a:e=a;while(Math.abs(s)>$R&&++o<zR);return a}function rl(t,e,n,i){if(t===e&&n===i)return Be;const r=s=>UR(s,0,1,t,n);return s=>s===0||s===1?s:yS(r(s),e,i)}const BR=rl(.42,0,1,1),VR=rl(0,0,.58,1),vS=rl(.42,0,.58,1),qR=t=>Array.isArray(t)&&typeof t[0]!="number",xS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bS=t=>e=>1-t(1-e),cg=t=>1-Math.sin(Math.acos(t)),wS=bS(cg),HR=xS(cg),kS=rl(.33,1.53,.69,.99),ug=bS(kS),WR=xS(ug),KR=t=>(t*=2)<1?.5*ug(t):.5*(2-Math.pow(2,-10*(t-1))),QR={linear:Be,easeIn:BR,easeInOut:vS,easeOut:VR,circIn:cg,circInOut:HR,circOut:wS,backIn:ug,backInOut:WR,backOut:kS,anticipate:KR},z0=t=>{if(Array.isArray(t)){lg(t.length===4);const[e,n,i,r]=t;return rl(e,n,i,r)}else if(typeof t=="string")return QR[t];return t},dg=(t,e)=>n=>!!(nl(n)&&XE.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),SS=(t,e,n)=>i=>{if(!nl(i))return i;const[r,s,a,o]=i.match(yd);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},XR=t=>er(0,255,t),_p={...ts,transform:t=>Math.round(XR(t))},Dr={test:dg("rgb","red"),parse:SS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+_p.transform(t)+", "+_p.transform(e)+", "+_p.transform(n)+", "+no(to.transform(i))+")"};function YR(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const uf={test:dg("#"),parse:YR,transform:Dr.transform},Ps={test:dg("hsl","hue"),parse:SS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Vn.transform(no(e))+", "+Vn.transform(no(n))+", "+no(to.transform(i))+")"},At={test:t=>Dr.test(t)||uf.test(t)||Ps.test(t),parse:t=>Dr.test(t)?Dr.parse(t):Ps.test(t)?Ps.parse(t):uf.parse(t),transform:t=>nl(t)?t:t.hasOwnProperty("red")?Dr.transform(t):Ps.transform(t)},Oe=(t,e,n)=>-n*t+n*e+t;function Cp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JR({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,a=0;if(!e)r=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=Cp(l,o,t+1/3),s=Cp(l,o,t),a=Cp(l,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}const Ap=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},ZR=[uf,Dr,Ps],GR=t=>ZR.find(e=>e.test(t));function U0(t){const e=GR(t);let n=e.parse(t);return e===Ps&&(n=JR(n)),n}const _S=(t,e)=>{const n=U0(t),i=U0(e),r={...n};return s=>(r.red=Ap(n.red,i.red,s),r.green=Ap(n.green,i.green,s),r.blue=Ap(n.blue,i.blue,s),r.alpha=Oe(n.alpha,i.alpha,s),Dr.transform(r))};function eI(t){var e,n;return isNaN(t)&&nl(t)&&(((e=t.match(yd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Y1))===null||n===void 0?void 0:n.length)||0)>0}const CS={regex:KE,countKey:"Vars",token:"${v}",parse:Be},AS={regex:Y1,countKey:"Colors",token:"${c}",parse:At.parse},TS={regex:yd,countKey:"Numbers",token:"${n}",parse:ts.parse};function Tp(t,{regex:e,countKey:n,token:i,parse:r}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,i),t.values.push(...s.map(r)))}function yu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Tp(n,CS),Tp(n,AS),Tp(n,TS),n}function NS(t){return yu(t).values}function PS(t){const{values:e,numColors:n,numVars:i,tokenised:r}=yu(t),s=e.length;return a=>{let o=r;for(let l=0;l<s;l++)l<i?o=o.replace(CS.token,a[l]):l<i+n?o=o.replace(AS.token,At.transform(a[l])):o=o.replace(TS.token,no(a[l]));return o}}const tI=t=>typeof t=="number"?0:t;function nI(t){const e=NS(t);return PS(t)(e.map(tI))}const tr={test:eI,parse:NS,createTransformer:PS,getAnimatableNone:nI},ES=(t,e)=>n=>`${n>0?e:t}`;function RS(t,e){return typeof t=="number"?n=>Oe(t,e,n):At.test(t)?_S(t,e):t.startsWith("var(")?ES(t,e):DS(t,e)}const IS=(t,e)=>{const n=[...t],i=n.length,r=t.map((s,a)=>RS(s,e[a]));return s=>{for(let a=0;a<i;a++)n[a]=r[a](s);return n}},iI=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=RS(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}},DS=(t,e)=>{const n=tr.createTransformer(e),i=yu(t),r=yu(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Qi(IS(i.values,r.values),n):ES(t,e)},Oo=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},B0=(t,e)=>n=>Oe(t,e,n);function rI(t){return typeof t=="number"?B0:typeof t=="string"?At.test(t)?_S:DS:Array.isArray(t)?IS:typeof t=="object"?iI:B0}function sI(t,e,n){const i=[],r=n||rI(t[0]),s=t.length-1;for(let a=0;a<s;a++){let o=r(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Be:e;o=Qi(l,o)}i.push(o)}return i}function MS(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(lg(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=sI(e,i,r),o=a.length,l=c=>{let u=0;if(o>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Oo(t[u],t[u+1],c);return a[u](d)};return n?c=>l(er(t[0],t[s-1],c)):l}function aI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Oo(0,e,i);t.push(Oe(n,1,r))}}function oI(t){const e=[0];return aI(e,t.length-1),e}function lI(t,e){return t.map(n=>n*e)}function cI(t,e){return t.map(()=>e||vS).splice(0,t.length-1)}function vu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=qR(i)?i.map(z0):z0(i),s={done:!1,value:e[0]},a=lI(n&&n.length===e.length?n:oI(e),t),o=MS(a,e,{ease:Array.isArray(r)?r:cI(e,r)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}function OS(t,e){return e?t*(1e3/e):0}const uI=5;function LS(t,e,n){const i=Math.max(e-uI,0);return OS(n-t(i),e-i)}const Np=.001,dI=.01,V0=10,pI=.05,hI=1;function fI({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s;OR(t<=Xi(V0));let a=1-e;a=er(pI,hI,a),t=er(dI,V0,di(t)),a<1?(r=c=>{const u=c*a,d=u*t,h=u-n,f=df(c,a),m=Math.exp(-d);return Np-h/f*m},s=c=>{const d=c*a*t,h=d*n+n,f=Math.pow(a,2)*Math.pow(c,2)*t,m=Math.exp(-d),y=df(Math.pow(c,2),a);return(-r(c)+Np>0?-1:1)*((h-f)*m)/y}):(r=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Np+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const o=5/t,l=gI(r,s,o);if(t=Xi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:t}}}const mI=12;function gI(t,e,n){let i=n;for(let r=1;r<mI;r++)i=i-t(i)/e(i);return i}function df(t,e){return t*Math.sqrt(1-e*e)}const yI=["duration","bounce"],vI=["stiffness","damping","mass"];function q0(t,e){return e.some(n=>t[n]!==void 0)}function xI(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!q0(t,vI)&&q0(t,yI)){const n=fI(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function jS({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],s=t[t.length-1],a={done:!1,value:r},{stiffness:o,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=xI({...i,velocity:-di(i.velocity||0)}),f=d||0,m=l/(2*Math.sqrt(o*c)),y=s-r,b=di(Math.sqrt(o/c)),v=Math.abs(y)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let x;if(m<1){const w=df(b,m);x=S=>{const C=Math.exp(-m*b*S);return s-C*((f+m*b*y)/w*Math.sin(w*S)+y*Math.cos(w*S))}}else if(m===1)x=w=>s-Math.exp(-b*w)*(y+(f+b*y)*w);else{const w=b*Math.sqrt(m*m-1);x=S=>{const C=Math.exp(-m*b*S),_=Math.min(w*S,300);return s-C*((f+m*b*y)*Math.sinh(_)+w*y*Math.cosh(_))/w}}return{calculatedDuration:h&&u||null,next:w=>{const S=x(w);if(h)a.done=w>=u;else{let C=f;w!==0&&(m<1?C=LS(x,w,S):C=0);const _=Math.abs(C)<=n,T=Math.abs(s-S)<=e;a.done=_&&T}return a.value=a.done?s:S,a}}}function H0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=A=>o!==void 0&&A<o||l!==void 0&&A>l,m=A=>o===void 0?l:l===void 0||Math.abs(o-A)<Math.abs(l-A)?o:l;let y=n*e;const b=d+y,v=a===void 0?b:a(b);v!==b&&(y=v-d);const x=A=>-y*Math.exp(-A/i),w=A=>v+x(A),S=A=>{const E=x(A),N=w(A);h.done=Math.abs(E)<=c,h.value=h.done?v:N};let C,_;const T=A=>{f(h.value)&&(C=A,_=jS({keyframes:[h.value,m(h.value)],velocity:LS(w,A,h.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:A=>{let E=!1;return!_&&C===void 0&&(E=!0,S(A),T(A)),C!==void 0&&A>C?_.next(A-C):(!E&&S(A),h)}}}const bI=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Te.update(e,!0),stop:()=>vi(e),now:()=>gt.isProcessing?gt.timestamp:performance.now()}},W0=2e4;function K0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<W0;)e+=n,i=t.next(e);return e>=W0?1/0:e}const wI={decay:H0,inertia:H0,tween:vu,keyframes:vu,spring:jS};function xu({autoplay:t=!0,delay:e=0,driver:n=bI,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let f=1,m=!1,y,b;const v=()=>{b=new Promise($=>{y=$})};v();let x;const w=wI[r]||vu;let S;w!==vu&&typeof i[0]!="number"&&(S=MS([0,100],i,{clamp:!1}),i=[0,100]);const C=w({...h,keyframes:i});let _;o==="mirror"&&(_=w({...h,keyframes:[...i].reverse(),velocity:-(h.velocity||0)}));let T="idle",A=null,E=null,N=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=K0(C));const{calculatedDuration:I}=C;let j=1/0,B=1/0;I!==null&&(j=I+a,B=j*(s+1)-a);let q=0;const H=$=>{if(E===null)return;f>0&&(E=Math.min(E,$)),f<0&&(E=Math.min($-B/f,E)),A!==null?q=A:q=Math.round($-E)*f;const se=q-e*(f>=0?1:-1),Ge=f>=0?se<0:se>B;q=Math.max(se,0),T==="finished"&&A===null&&(q=B);let ke=q,Ct=C;if(s){const os=Math.min(q,B)/j;let Kn=Math.floor(os),nn=os%1;!nn&&os>=1&&(nn=1),nn===1&&Kn--,Kn=Math.min(Kn,s+1),!!(Kn%2)&&(o==="reverse"?(nn=1-nn,a&&(nn-=a/j)):o==="mirror"&&(Ct=_)),ke=er(0,1,nn)*j}const ye=Ge?{done:!1,value:i[0]}:Ct.next(ke);S&&(ye.value=S(ye.value));let{done:En}=ye;!Ge&&I!==null&&(En=f>=0?q>=B:q<=0);const fl=A===null&&(T==="finished"||T==="running"&&En);return d&&d(ye.value),fl&&P(),ye},Q=()=>{x&&x.stop(),x=void 0},Y=()=>{T="idle",Q(),y(),v(),E=N=null},P=()=>{T="finished",u&&u(),Q(),y()},R=()=>{if(m)return;x||(x=n(H));const $=x.now();l&&l(),A!==null?E=$-A:(!E||T==="finished")&&(E=$),T==="finished"&&v(),N=E,A=null,T="running",x.start()};t&&R();const L={then($,se){return b.then($,se)},get time(){return di(q)},set time($){$=Xi($),q=$,A!==null||!x||f===0?A=$:E=x.now()-$/f},get duration(){const $=C.calculatedDuration===null?K0(C):C.calculatedDuration;return di($)},get speed(){return f},set speed($){$===f||!x||(f=$,L.time=di(q))},get state(){return T},play:R,pause:()=>{T="paused",A=q},stop:()=>{m=!0,T!=="idle"&&(T="idle",c&&c(),Y())},cancel:()=>{N!==null&&H(N),Y()},complete:()=>{T="finished"},sample:$=>(E=0,H($))};return L}function kI(t){let e;return()=>(e===void 0&&(e=t()),e)}const SI=kI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_I=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Fl=10,CI=2e4,AI=(t,e)=>e.type==="spring"||t==="backgroundColor"||!fS(e.ease);function TI(t,e,{onUpdate:n,onComplete:i,...r}){if(!(SI()&&_I.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let a=!1,o,l,c=!1;const u=()=>{l=new Promise(w=>{o=w})};u();let{keyframes:d,duration:h=300,ease:f,times:m}=r;if(AI(e,r)){const w=xu({...r,repeat:0,delay:0});let S={done:!1,value:d[0]};const C=[];let _=0;for(;!S.done&&_<CI;)S=w.sample(_),C.push(S.value),_+=Fl;m=void 0,d=C,h=_-Fl,f="linear"}const y=jR(t.owner.current,e,d,{...r,duration:h,ease:f,times:m}),b=()=>{c=!1,y.cancel()},v=()=>{c=!0,Te.update(b),o(),u()};return y.onfinish=()=>{c||(t.set(FR(d,r)),i&&i(),v())},{then(w,S){return l.then(w,S)},attachTimeline(w){return y.timeline=w,y.onfinish=null,Be},get time(){return di(y.currentTime||0)},set time(w){y.currentTime=Xi(w)},get speed(){return y.playbackRate},set speed(w){y.playbackRate=w},get duration(){return di(h)},play:()=>{a||(y.play(),vi(b))},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:w}=y;if(w){const S=xu({...r,autoplay:!1});t.setWithVelocity(S.sample(w-Fl).value,S.sample(w).value,Fl)}v()},complete:()=>{c||y.finish()},cancel:v}}function NI({keyframes:t,delay:e,onUpdate:n,onComplete:i}){const r=()=>(n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Be,pause:Be,stop:Be,then:s=>(s(),Promise.resolve()),cancel:Be,complete:Be});return e?xu({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const PI={type:"spring",stiffness:500,damping:25,restSpeed:10},EI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RI={type:"keyframes",duration:.8},II={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DI=(t,{keyframes:e})=>e.length>2?RI:es.has(t)?t.startsWith("scale")?EI(e[1]):PI:II,pf=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(tr.test(e)||e==="0")&&!e.startsWith("url(")),MI=new Set(["brightness","contrast","saturate","opacity"]);function OI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(yd)||[];if(!i)return t;const r=n.replace(i,"");let s=MI.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const LI=/([a-z-]*)\(.*?\)/g,hf={...tr,getAnimatableNone:t=>{const e=t.match(LI);return e?e.map(OI).join(" "):t}},jI={...J1,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:hf,WebkitFilter:hf},pg=t=>jI[t];function FS(t,e){let n=pg(t);return n!==hf&&(n=tr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $S=t=>/^0[^.\s]+$/.test(t);function FI(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||$S(t)}function $I(t,e,n,i){const r=pf(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const a=i.from!==void 0?i.from:t.get();let o;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?a:s[c-1]),FI(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(o=s[c]);if(r&&l.length&&o)for(let c=0;c<l.length;c++){const u=l[c];s[u]=FS(e,o)}return s}function zI({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function hg(t,e){return t[e]||t.default||t}const UI={skipAnimations:!1},fg=(t,e,n,i={})=>r=>{const s=hg(i,t)||{},a=s.delay||i.delay||0;let{elapsed:o=0}=i;o=o-Xi(a);const l=$I(e,t,n,s),c=l[0],u=l[l.length-1],d=pf(t,c),h=pf(t,u);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(zI(s)||(f={...f,...DI(t,f)}),f.duration&&(f.duration=Xi(f.duration)),f.repeatDelay&&(f.repeatDelay=Xi(f.repeatDelay)),!d||!h||LR.current||s.type===!1||UI.skipAnimations)return NI(f);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=TI(e,t,f);if(m)return m}return xu(f)};function bu(t){return!!(Bt(t)&&t.add)}const zS=t=>/^\-?\d*\.?\d+$/.test(t);function mg(t,e){t.indexOf(e)===-1&&t.push(e)}function gg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yg{constructor(){this.subscriptions=[]}add(e){return mg(this.subscriptions,e),()=>gg(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const BI=t=>!isNaN(parseFloat(t));class VI{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:a}=gt;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Te.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Te.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=BI(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yg);const i=this.events[e].add(n);return e==="change"?()=>{i(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?OS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gs(t,e){return new VI(t,e)}const US=t=>e=>e.test(t),qI={test:t=>t==="auto",parse:t=>t},BS=[ts,J,Vn,_i,JE,YE,qI],_a=t=>BS.find(US(t)),HI=[...BS,At,tr],WI=t=>HI.find(US(t));function KI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gs(n))}function QI(t,e){const n=xd(t,e);let{transitionEnd:i={},transition:r={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...i};for(const a in s){const o=dR(s[a]);KI(t,a,o)}}function XI(t,e,n){var i,r;const s=Object.keys(e).filter(o=>!t.hasValue(o)),a=s.length;if(a)for(let o=0;o<a;o++){const l=s[o],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(r=(i=n[l])!==null&&i!==void 0?i:t.readValue(l))!==null&&r!==void 0?r:e[l]),u!=null&&(typeof u=="string"&&(zS(u)||$S(u))?u=parseFloat(u):!WI(u)&&tr.test(c)&&(u=FS(l,c)),t.addValue(l,Gs(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function YI(t,e){return e?(e[t]||e.default||e).from:void 0}function JI(t,e,n){const i={};for(const r in t){const s=YI(r,e);if(s!==void 0)i[r]=s;else{const a=n.getValue(r);a&&(i[r]=a.get())}}return i}function ZI({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function GI(t,e){const n=t.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==n)return!0}else return n!==e}function VS(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");i&&(s=i);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const d in o){const h=t.getValue(d),f=o[d];if(!h||f===void 0||u&&ZI(u,d))continue;const m={delay:n,elapsed:0,...hg(s||{},d)};if(window.HandoffAppearAnimations){const v=t.getProps()[q1];if(v){const x=window.HandoffAppearAnimations(v,d,h,Te);x!==null&&(m.elapsed=x,m.isHandoff=!0)}}let y=!m.isHandoff&&!GI(h,f);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start(fg(d,h,f,t.shouldReduceMotion&&es.has(d)?{type:!1}:m));const b=h.animation;bu(l)&&(l.add(d),b.then(()=>l.remove(d))),c.push(b)}return a&&Promise.all(c).then(()=>{a&&QI(t,a)}),c}function ff(t,e,n={}){const i=xd(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(VS(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=r;return eD(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function eD(t,e,n=0,i=0,r=1,s){const a=[],o=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>o-c*i;return Array.from(t.variantChildren).sort(tD).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(ff(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function tD(t,e){return t.sortNodePosition(e)}function nD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>ff(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=ff(t,e,n);else{const r=typeof e=="function"?xd(t,e,n.custom):e;i=Promise.all(VS(t,r,n))}return i.then(()=>t.notify("AnimationComplete",e))}const iD=[...Zm].reverse(),rD=Zm.length;function sD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>nD(t,n,i)))}function aD(t){let e=sD(t);const n=lD();let i=!0;const r=(l,c)=>{const u=xd(t,c);if(u){const{transition:d,transitionEnd:h,...f}=u;l={...l,...f,...h}}return l};function s(l){e=l(t)}function a(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let m={},y=1/0;for(let v=0;v<rD;v++){const x=iD[v],w=n[x],S=u[x]!==void 0?u[x]:d[x],C=Do(S),_=x===c?w.isActive:null;_===!1&&(y=v);let T=S===d[x]&&S!==u[x]&&C;if(T&&i&&t.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...m},!w.isActive&&_===null||!S&&!w.prevProp||md(S)||typeof S=="boolean")continue;let E=oD(w.prevProp,S)||x===c&&w.isActive&&!T&&C||v>y&&C,N=!1;const I=Array.isArray(S)?S:[S];let j=I.reduce(r,{});_===!1&&(j={});const{prevResolvedValues:B={}}=w,q={...B,...j},H=Q=>{E=!0,f.has(Q)&&(N=!0,f.delete(Q)),w.needsAnimating[Q]=!0};for(const Q in q){const Y=j[Q],P=B[Q];if(m.hasOwnProperty(Q))continue;let R=!1;gu(Y)&&gu(P)?R=!pS(Y,P):R=Y!==P,R?Y!==void 0?H(Q):f.add(Q):Y!==void 0&&f.has(Q)?H(Q):w.protectedKeys[Q]=!0}w.prevProp=S,w.prevResolvedValues=j,w.isActive&&(m={...m,...j}),i&&t.blockInitialAnimation&&(E=!1),E&&(!T||N)&&h.push(...I.map(Q=>({animation:Q,options:{type:x,...l}})))}if(f.size){const v={};f.forEach(x=>{const w=t.getBaseTarget(x);w!==void 0&&(v[x]=w)}),h.push({animation:v})}let b=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(h):Promise.resolve()}function o(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=a(u,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n}}function oD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pS(e,t):!1}function mr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lD(){return{animate:mr(!0),whileInView:mr(),whileHover:mr(),whileTap:mr(),whileDrag:mr(),whileFocus:mr(),exit:mr()}}class cD extends dr{constructor(e){super(e),e.animationState||(e.animationState=aD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),md(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let uD=0;class dD extends dr{constructor(){super(...arguments),this.id=uD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pD={animation:{Feature:cD},exit:{Feature:dD}},Q0=(t,e)=>Math.abs(t-e);function hD(t,e){const n=Q0(t.x,e.x),i=Q0(t.y,e.y);return Math.sqrt(n**2+i**2)}class qS{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ep(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=hD(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:m}=d,{timestamp:y}=gt;this.history.push({...m,timestamp:y});const{onStart:b,onMove:v}=this.handlers;h||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Pp(h,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ep(d.type==="pointercancel"?this.lastMoveEventInfo:Pp(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,b),m&&m(d,b)},!oS(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const a=vd(e),o=Pp(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=gt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Ep(o,this.history)),this.removeListeners=Qi(ui(this.contextWindow,"pointermove",this.handlePointerMove),ui(this.contextWindow,"pointerup",this.handlePointerUp),ui(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vi(this.updatePoint)}}function Pp(t,e){return e?{point:e(t.point)}:t}function X0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ep({point:t},e){return{point:t,delta:X0(t,HS(e)),offset:X0(t,fD(e)),velocity:mD(e,.1)}}function fD(t){return t[0]}function HS(t){return t[t.length-1]}function mD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=HS(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Xi(e)));)n--;if(!i)return{x:0,y:0};const s=di(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Zt(t){return t.max-t.min}function mf(t,e=0,n=.01){return Math.abs(t-e)<=n}function Y0(t,e,n,i=.5){t.origin=i,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),(mf(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Oe(n.min,n.max,t.origin)-t.originPoint,(mf(t.translate)||isNaN(t.translate))&&(t.translate=0)}function io(t,e,n,i){Y0(t.x,e.x,n.x,i?i.originX:void 0),Y0(t.y,e.y,n.y,i?i.originY:void 0)}function J0(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function gD(t,e,n){J0(t.x,e.x,n.x),J0(t.y,e.y,n.y)}function Z0(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function ro(t,e,n){Z0(t.x,e.x,n.x),Z0(t.y,e.y,n.y)}function yD(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Oe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Oe(n,t,i.max):Math.min(t,n)),t}function G0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vD(t,{top:e,left:n,bottom:i,right:r}){return{x:G0(t.x,n,r),y:G0(t.y,e,i)}}function ev(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function xD(t,e){return{x:ev(t.x,e.x),y:ev(t.y,e.y)}}function bD(t,e){let n=.5;const i=Zt(t),r=Zt(e);return r>i?n=Oo(e.min,e.max-i,t.min):i>r&&(n=Oo(t.min,t.max-r,e.min)),er(0,1,n)}function wD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gf=.35;function kD(t=gf){return t===!1?t=0:t===!0&&(t=gf),{x:tv(t,"left","right"),y:tv(t,"top","bottom")}}function tv(t,e,n){return{min:nv(t,e),max:nv(t,n)}}function nv(t,e){return typeof t=="number"?t:t[e]||0}const iv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Es=()=>({x:iv(),y:iv()}),rv=()=>({min:0,max:0}),Xe=()=>({x:rv(),y:rv()});function an(t){return[t("x"),t("y")]}function WS({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function SD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _D(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Rp(t){return t===void 0||t===1}function yf({scale:t,scaleX:e,scaleY:n}){return!Rp(t)||!Rp(e)||!Rp(n)}function kr(t){return yf(t)||KS(t)||t.z||t.rotate||t.rotateX||t.rotateY}function KS(t){return sv(t.x)||sv(t.y)}function sv(t){return t&&t!=="0%"}function wu(t,e,n){const i=t-n,r=e*i;return n+r}function av(t,e,n,i,r){return r!==void 0&&(t=wu(t,r,i)),wu(t,n,i)+e}function vf(t,e=0,n=1,i,r){t.min=av(t.min,e,n,i,r),t.max=av(t.max,e,n,i,r)}function QS(t,{x:e,y:n}){vf(t.x,e.translate,e.scale,e.originPoint),vf(t.y,n.translate,n.scale,n.originPoint)}function CD(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,a;for(let o=0;o<r;o++){s=n[o],a=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Rs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,QS(t,a)),i&&kr(s.latestValues)&&Rs(t,s.latestValues))}e.x=ov(e.x),e.y=ov(e.y)}function ov(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Pi(t,e){t.min=t.min+e,t.max=t.max+e}function lv(t,e,[n,i,r]){const s=e[r]!==void 0?e[r]:.5,a=Oe(t.min,t.max,s);vf(t,e[n],e[i],a,e.scale)}const AD=["x","scaleX","originX"],TD=["y","scaleY","originY"];function Rs(t,e){lv(t.x,e,AD),lv(t.y,e,TD)}function XS(t,e){return WS(_D(t.getBoundingClientRect(),e))}function ND(t,e,n){const i=XS(t,n),{scroll:r}=e;return r&&(Pi(i.x,r.offset.x),Pi(i.y,r.offset.y)),i}const YS=({current:t})=>t?t.ownerDocument.defaultView:null,PD=new WeakMap;class ED{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vd(u,"page").point)},s=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:m}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cS(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Vn.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[b];w&&(v=Zt(w)*(parseFloat(v)/100))}}this.originPoint[b]=v}),m&&Te.update(()=>m(u,d),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:m,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=d;if(f&&this.currentDirection===null){this.currentDirection=RD(b),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),y&&y(u,d)},o=(u,d)=>this.stop(u,d),l=()=>an(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new qS(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:YS(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Te.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!$l(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=yD(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ns(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=vD(r.layoutBox,n):this.constraints=!1,this.elastic=kD(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&an(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=wD(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ns(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=ND(i,r.root,this.visualElement.getTransformPagePoint());let a=xD(r.layout.layoutBox,s);if(n){const o=n(SD(a));this.hasMutatedConstraints=!!o,o&&(a=WS(o))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=an(u=>{if(!$l(u,n,this.currentDirection))return;let d=l&&l[u]||{};a&&(d={min:0,max:0});const h=r?200:1e6,f=r?40:1e7,m={type:"inertia",velocity:i?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(fg(e,i,0,n))}stopAnimation(){an(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){an(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){an(n=>{const{drag:i}=this.getProps();if(!$l(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n];s.set(e[n]-Oe(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ns(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};an(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();r[a]=bD({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),an(a=>{if(!$l(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Oe(l,c,r[a]))})}addListeners(){if(!this.visualElement.current)return;PD.set(this.visualElement,this);const e=this.visualElement.current,n=ui(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Ns(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const a=si(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(an(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=gf,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function $l(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function RD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ID extends dr{constructor(e){super(e),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new ED(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}}const cv=t=>(e,n)=>{t&&Te.update(()=>t(e,n))};class DD extends dr{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(e){this.session=new qS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:cv(e),onStart:cv(n),onMove:i,onEnd:(s,a)=>{delete this.session,r&&Te.update(()=>r(s,a))}}}mount(){this.removePointerDownListener=ui(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MD(){const t=k.useContext(hd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=k.useId();return k.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const bc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ca={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const n=uv(t,e.target.x),i=uv(t,e.target.y);return`${n}% ${i}%`}},OD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=tr.parse(t);if(r.length>5)return i;const s=tr.createTransformer(t),a=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;r[0+a]/=o,r[1+a]/=l;const c=Oe(o,l,.5);return typeof r[2+a]=="number"&&(r[2+a]/=c),typeof r[3+a]=="number"&&(r[3+a]/=c),s(r)}};class LD extends rr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;VE(jD),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),bc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Te.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JS(t){const[e,n]=MD(),i=k.useContext(eg);return rr.createElement(LD,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(W1),isPresent:e,safeToRemove:n})}const jD={borderRadius:{...Ca,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ca,borderTopRightRadius:Ca,borderBottomLeftRadius:Ca,borderBottomRightRadius:Ca,boxShadow:OD},ZS=["TopLeft","TopRight","BottomLeft","BottomRight"],FD=ZS.length,dv=t=>typeof t=="string"?parseFloat(t):t,pv=t=>typeof t=="number"||J.test(t);function $D(t,e,n,i,r,s){r?(t.opacity=Oe(0,n.opacity!==void 0?n.opacity:1,zD(i)),t.opacityExit=Oe(e.opacity!==void 0?e.opacity:1,0,UD(i))):s&&(t.opacity=Oe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let a=0;a<FD;a++){const o=`border${ZS[a]}Radius`;let l=hv(e,o),c=hv(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pv(l)===pv(c)?(t[o]=Math.max(Oe(dv(l),dv(c),i),0),(Vn.test(c)||Vn.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Oe(e.rotate||0,n.rotate||0,i))}function hv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zD=GS(0,.5,wS),UD=GS(.5,.95,Be);function GS(t,e,n){return i=>i<t?0:i>e?1:n(Oo(t,e,i))}function fv(t,e){t.min=e.min,t.max=e.max}function rn(t,e){fv(t.x,e.x),fv(t.y,e.y)}function mv(t,e,n,i,r){return t-=e,t=wu(t,1/n,i),r!==void 0&&(t=wu(t,1/r,i)),t}function BD(t,e=0,n=1,i=.5,r,s=t,a=t){if(Vn.test(e)&&(e=parseFloat(e),e=Oe(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Oe(s.min,s.max,i);t===s&&(o-=e),t.min=mv(t.min,e,n,o,r),t.max=mv(t.max,e,n,o,r)}function gv(t,e,[n,i,r],s,a){BD(t,e[n],e[i],e[r],e.scale,s,a)}const VD=["x","scaleX","originX"],qD=["y","scaleY","originY"];function yv(t,e,n,i){gv(t.x,e,VD,n?n.x:void 0,i?i.x:void 0),gv(t.y,e,qD,n?n.y:void 0,i?i.y:void 0)}function vv(t){return t.translate===0&&t.scale===1}function e_(t){return vv(t.x)&&vv(t.y)}function HD(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function t_(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function xv(t){return Zt(t.x)/Zt(t.y)}class WD{constructor(){this.members=[]}add(e){mg(this.members,e),e.scheduleRender()}remove(e){if(gg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bv(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(i+=`scale(${a}, ${o})`),i||"none"}const KD=(t,e)=>t.depth-e.depth;class QD{constructor(){this.children=[],this.isDirty=!1}add(e){mg(this.children,e),this.isDirty=!0}remove(e){gg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KD),this.isDirty=!1,this.children.forEach(e)}}function XD(t,e){const n=performance.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(vi(i),t(s-e))};return Te.read(i,!0),()=>vi(i)}function YD(t){window.MotionDebug&&window.MotionDebug.record(t)}function JD(t){return t instanceof SVGElement&&t.tagName!=="svg"}function ZD(t,e,n){const i=Bt(t)?t:Gs(t);return i.start(fg("",i,e,n)),i.animation}const wv=["","X","Y","Z"],GD={visibility:"hidden"},kv=1e3;let eM=0;const Sr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function n_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},o=e?.()){this.id=eM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sr.totalNodes=Sr.resolvedTargetDeltas=Sr.recalculatedProjection=0,this.nodes.forEach(iM),this.nodes.forEach(lM),this.nodes.forEach(cM),this.nodes.forEach(rM),YD(Sr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new QD)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new yg),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JD(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=XD(h,250),bc.hasAnimatedSinceResize&&(bc.hasAnimatedSinceResize=!1,this.nodes.forEach(_v))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||fM,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!t_(this.targetLayout,m)||f,w=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const S={...hg(y,"layout"),onPlay:b,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||_v(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uM),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sv);return}this.isUpdating||this.nodes.forEach(aM),this.isUpdating=!1,this.nodes.forEach(oM),this.nodes.forEach(tM),this.nodes.forEach(nM),this.clearAllSnapshots();const o=performance.now();gt.delta=er(0,1e3/60,o-gt.timestamp),gt.timestamp=o,gt.isProcessing=!0,wp.update.process(gt),wp.preRender.process(gt),wp.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(sM),this.sharedNodes.forEach(dM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!e_(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||kr(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),mM(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Xe();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Pi(o.x,l.offset.x),Pi(o.y,l.offset.y)),o}removeElementScroll(a){const o=Xe();rn(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){rn(o,a);const{scroll:h}=this.root;h&&(Pi(o.x,-h.offset.x),Pi(o.y,-h.offset.y))}Pi(o.x,u.offset.x),Pi(o.y,u.offset.y)}}return o}applyTransform(a,o=!1){const l=Xe();rn(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Rs(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),kr(u.latestValues)&&Rs(l,u.latestValues)}return kr(this.latestValues)&&Rs(l,this.latestValues),l}removeTransform(a){const o=Xe();rn(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!kr(c.latestValues))continue;yf(c.latestValues)&&c.updateSnapshot();const u=Xe(),d=c.measurePageBox();rn(u,d),yv(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return kr(this.latestValues)&&yv(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),ro(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rn(this.target,this.layout.layoutBox),QS(this.target,this.targetDelta)):rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),ro(this.relativeTargetOrigin,this.target,f.target),rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yf(this.parent.latestValues)||KS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;rn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;CD(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=Es(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Es(),this.projectionDeltaWithTransform=Es());const y=this.projectionTransform;io(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=bv(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Sr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Xe(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,y=f!==m,b=this.getStack(),v=!b||b.members.length<=1,x=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(hM));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;Cv(d.x,a.x,C),Cv(d.y,a.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ro(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pM(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&HD(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Xe()),rn(w,this.relativeTarget)),y&&(this.animationValues=u,$D(u,c,this.latestValues,C,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{bc.hasAnimatedSinceResize=!0,this.currentAnimation=ZD(0,kv,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&i_(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Xe();const d=Zt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const h=Zt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}rn(o,l),Rs(o,u),io(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new WD),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let u=0;u<wv.length;u++){const d="rotate"+wv[u];l[d]&&(c[d]=l[d],a.setStaticValue(d,0))}a.render();for(const u in c)a.setStaticValue(u,c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return GD;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=xc(a?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=xc(a?.pointerEvents)||""),this.hasProjected&&!kr(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=bv(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:m}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in fu){if(h[y]===void 0)continue;const{correct:b,applyTo:v}=fu[y],x=c.transform==="none"?h[y]:b(h[y],d);if(v){const w=v.length;for(let S=0;S<w;S++)c[v[S]]=x}else c[y]=x}return this.options.layoutId&&(c.pointerEvents=d===this?xc(a?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Sv),this.root.sharedNodes.clear()}}}function tM(t){t.updateLayout()}function nM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?an(d=>{const h=a?n.measuredBox[d]:n.layoutBox[d],f=Zt(h);h.min=i[d].min,h.max=h.min+f}):i_(s,n.layoutBox,i)&&an(d=>{const h=a?n.measuredBox[d]:n.layoutBox[d],f=Zt(i[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const o=Es();io(o,i,n.layoutBox);const l=Es();a?io(l,t.applyTransform(r,!0),n.measuredBox):io(l,i,n.layoutBox);const c=!e_(o);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=Xe();ro(m,n.layoutBox,h.layoutBox);const y=Xe();ro(y,i,f.layoutBox),t_(m,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function iM(t){Sr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sM(t){t.clearSnapshot()}function Sv(t){t.clearMeasurements()}function aM(t){t.isLayoutDirty=!1}function oM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _v(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lM(t){t.resolveTargetDelta()}function cM(t){t.calcProjection()}function uM(t){t.resetRotation()}function dM(t){t.removeLeadSnapshot()}function Cv(t,e,n){t.translate=Oe(e.translate,0,n),t.scale=Oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Av(t,e,n,i){t.min=Oe(e.min,n.min,i),t.max=Oe(e.max,n.max,i)}function pM(t,e,n,i){Av(t.x,e.x,n.x,i),Av(t.y,e.y,n.y,i)}function hM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fM={duration:.45,ease:[.4,0,.1,1]},Tv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Nv=Tv("applewebkit/")&&!Tv("chrome/")?Math.round:Be;function Pv(t){t.min=Nv(t.min),t.max=Nv(t.max)}function mM(t){Pv(t.x),Pv(t.y)}function i_(t,e,n){return t==="position"||t==="preserve-aspect"&&!mf(xv(e),xv(n),.2)}const gM=n_({attachResizeListener:(t,e)=>si(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ip={current:void 0},r_=n_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ip.current){const t=new gM({});t.mount(window),t.setOptions({layoutScroll:!0}),Ip.current=t}return Ip.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yM={pan:{Feature:DD},drag:{Feature:ID,ProjectionNode:r_,MeasureLayout:JS}},vM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xM(t){const e=vM.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function xf(t,e,n=1){const[i,r]=xM(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return zS(a)?parseFloat(a):a}else return lf(r)?xf(r,e,n+1):r}function bM(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const s=r.get();if(!lf(s))return;const a=xf(s,i);a&&r.set(a)});for(const r in e){const s=e[r];if(!lf(s))continue;const a=xf(s,i);a&&(e[r]=a,n||(n={}),n[r]===void 0&&(n[r]=s))}return{target:e,transitionEnd:n}}const wM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),s_=t=>wM.has(t),kM=t=>Object.keys(t).some(s_),Ev=t=>t===ts||t===J,Rv=(t,e)=>parseFloat(t.split(", ")[e]),Iv=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return Rv(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?Rv(s[1],t):0}},SM=new Set(["x","y","z"]),_M=tl.filter(t=>!SM.has(t));function CM(t){const e=[];return _M.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ea={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Iv(4,13),y:Iv(5,14)};ea.translateX=ea.x;ea.translateY=ea.y;const AM=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:a}=s,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{o[c]=ea[c](i,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(o[c]),t[c]=ea[c](l,s)}),t},TM=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(s_);let s=[],a=!1;const o=[];if(r.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=_a(u);const h=e[l];let f;if(gu(h)){const m=h.length,y=h[0]===null?1:0;u=h[y],d=_a(u);for(let b=y;b<m&&h[b]!==null;b++)f?lg(_a(h[b])===f):f=_a(h[b])}else f=_a(h);if(d!==f)if(Ev(d)&&Ev(f)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===J&&(e[l]=h.map(parseFloat))}else d?.transform&&f?.transform&&(u===0||h===0)?u===0?c.set(f.transform(u)):e[l]=d.transform(h):(a||(s=CM(t),a=!0),o.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=AM(e,t,o);return s.length&&s.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),fd&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function NM(t,e,n,i){return kM(e)?TM(t,e,n,i):{target:e,transitionEnd:i}}const PM=(t,e,n,i)=>{const r=bM(t,e,i);return e=r.target,i=r.transitionEnd,NM(t,e,n,i)},bf={current:null},a_={current:!1};function EM(){if(a_.current=!0,!!fd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>bf.current=t.matches;t.addListener(e),e()}else bf.current=!1}function RM(t,e,n){const{willChange:i}=e;for(const r in e){const s=e[r],a=n[r];if(Bt(s))t.addValue(r,s),bu(i)&&i.add(r);else if(Bt(a))t.addValue(r,Gs(s,{owner:t})),bu(i)&&i.remove(r);else if(a!==s)if(t.hasValue(r)){const o=t.getValue(r);!o.hasAnimated&&o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Gs(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Dv=new WeakMap,o_=Object.keys(Mo),IM=o_.length,Mv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],DM=Gm.length;class MM{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Te.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=gd(n),this.isVariantNode=H1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];o[d]!==void 0&&Bt(h)&&(h.set(o[d],!1),bu(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Dv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),a_.current||EM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Dv.delete(this.current),this.projection&&this.projection.unmount(),vi(this.notifyUpdate),vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=es.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Te.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,s){let a,o;for(let l=0;l<IM;l++){const c=o_[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:f}=Mo[c];h&&(a=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),f&&(o=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&Ns(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:f})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Mv.length;i++){const r=Mv[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=RM(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<DM;i++){const r=Gm[i],s=this.props[r];(Do(s)||s===!1)&&(n[r]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Gs(n,{owner:this}),this.addValue(e,i)),i}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=og(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Bt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class l_ extends MM{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},s){let a=JI(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),a&&(a=r(a))),s){XI(this,i,a);const o=PM(this,i,a,n);n=o.transitionEnd,i=o.target}return{transition:e,transitionEnd:n,...i}}}function OM(t){return window.getComputedStyle(t)}class LM extends l_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(es.has(n)){const i=pg(n);return i&&i.default||0}else{const i=OM(e),r=(X1(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XS(e,n)}build(e,n,i,r){ng(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ag(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){tS(e,n,i,r)}}class jM extends l_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(es.has(n)){const i=pg(n);return i&&i.default||0}return n=nS.has(n)?n:Jm(n),e.getAttribute(n)}measureInstanceViewportBox(){return Xe()}scrapeMotionValuesFromProps(e,n){return rS(e,n)}build(e,n,i,r){rg(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){iS(e,n,i,r)}mount(e){this.isSVGTag=sg(e.tagName),super.mount(e)}}const FM=(t,e)=>tg(t)?new jM(e,{enableHardwareAcceleration:!1}):new LM(e,{enableHardwareAcceleration:!0}),$M={layout:{ProjectionNode:r_,MeasureLayout:JS}},zM={...pD,...IR,...yM,...$M},V=UE((t,e)=>xR(t,e,zM,FM));function c_(){const t=k.useRef(!1);return Ym(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function UM(){const t=c_(),[e,n]=k.useState(0),i=k.useCallback(()=>{t.current&&n(e+1)},[e]);return[k.useCallback(()=>Te.postRender(i),[i]),e]}class BM extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function VM({children:t,isPresent:e}){const n=k.useId(),i=k.useRef(null),r=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:s,height:a,top:o,left:l}=r.current;if(e||!i.current||!s||!a)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),k.createElement(BM,{isPresent:e,childRef:i,sizeRef:r},k.cloneElement(t,{ref:i}))}const Dp=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:a})=>{const o=sS(qM),l=k.useId(),c=k.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:u=>{o.set(u,!0);for(const d of o.values())if(!d)return;i&&i()},register:u=>(o.set(u,!1),()=>o.delete(u))}),s?void 0:[n]);return k.useMemo(()=>{o.forEach((u,d)=>o.set(d,!1))},[n]),k.useEffect(()=>{!n&&!o.size&&i&&i()},[n]),a==="popLayout"&&(t=k.createElement(VM,{isPresent:n},t)),k.createElement(hd.Provider,{value:c},t)};function qM(){return new Map}function HM(t){return k.useEffect(()=>()=>t(),[])}const _r=t=>t.key||"";function WM(t,e){t.forEach(n=>{const i=_r(n);e.set(i,n)})}function KM(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const vg=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=k.useContext(eg).forceRender||UM()[0],l=c_(),c=KM(t);let u=c;const d=k.useRef(new Map).current,h=k.useRef(u),f=k.useRef(new Map).current,m=k.useRef(!0);if(Ym(()=>{m.current=!1,WM(c,f),h.current=u}),HM(()=>{m.current=!0,f.clear(),d.clear()}),m.current)return k.createElement(k.Fragment,null,u.map(x=>k.createElement(Dp,{key:_r(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:a},x)));u=[...u];const y=h.current.map(_r),b=c.map(_r),v=y.length;for(let x=0;x<v;x++){const w=y[x];b.indexOf(w)===-1&&!d.has(w)&&d.set(w,void 0)}return a==="wait"&&d.size&&(u=[]),d.forEach((x,w)=>{if(b.indexOf(w)!==-1)return;const S=f.get(w);if(!S)return;const C=y.indexOf(w);let _=x;if(!_){const T=()=>{d.delete(w);const A=Array.from(f.keys()).filter(E=>!b.includes(E));if(A.forEach(E=>f.delete(E)),h.current=c.filter(E=>{const N=_r(E);return N===w||A.includes(N)}),!d.size){if(l.current===!1)return;o(),i&&i()}};_=k.createElement(Dp,{key:_r(S),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:s,mode:a},S),d.set(w,_)}u.splice(C,0,_)}),u=u.map(x=>{const w=x.key;return d.has(w)?x:k.createElement(Dp,{key:_r(x),isPresent:!0,presenceAffectsLayout:s,mode:a},x)}),k.createElement(k.Fragment,null,d.size?u:u.map(x=>k.cloneElement(x)))};var QM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),te=(t,e)=>{const n=k.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...l},c)=>k.createElement("svg",{ref:c,...QM,width:r,height:r,stroke:i,strokeWidth:a?Number(s)*24/Number(r):s,className:`lucide lucide-${XM(t)}`,...l},[...e.map(([u,d])=>k.createElement(u,d)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${t}`,n},Mr=te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),YM=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),JM=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),wc=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ov=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Xt=te("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Us=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ZM=te("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),GM=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eO=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),tO=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),nO=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ku=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Su=te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),iO=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),_u=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bs=te("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Cu=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),rO=te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),sO=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),wf=te("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),aO=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),oO=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),lO=te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),cO=te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),uO=te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),dO=te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Lo=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),pO=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),so=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),bd=te("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),jo=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),kf=te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),hO=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),fO=te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),mO=te("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),u_=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),zl=te("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),gO=te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Is=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),yO=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),d_=te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),vO=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kr=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);class xO{constructor(){this.metrics={scraping:{totalDocuments:0,successRate:0,averageProcessingTime:0,lastUpdate:null,activeProxies:0,failedAttempts:0},ai:{documentsAnalyzed:0,averageConfidence:0,processingSpeed:0,modelAccuracy:0,lastAnalysis:null},database:{totalRecords:0,queryPerformance:0,indexHealth:100,lastBackup:null,storageUsed:0},system:{uptime:0,memoryUsage:0,cpuUsage:0,networkLatency:0,errorRate:0}},this.listeners=new Set,this.updateInterval=null,this.startTime=Date.now(),this.initializeMetrics()}async initializeMetrics(){try{await this.loadPersistedMetrics(),this.startRealTimeMonitoring(),this.setupPerformanceObservers(),console.log("✅ Real-time metrics service initialized")}catch(e){console.error("❌ Failed to initialize metrics service:",e)}}async loadPersistedMetrics(){try{const e=localStorage.getItem("legalArchive_metrics");if(e){const n=JSON.parse(e);this.metrics={...this.metrics,...n}}}catch(e){console.warn("Failed to load persisted metrics:",e)}}persistMetrics(){try{localStorage.setItem("legalArchive_metrics",JSON.stringify(this.metrics))}catch(e){console.warn("Failed to persist metrics:",e)}}startRealTimeMonitoring(){this.updateInterval&&clearInterval(this.updateInterval),this.updateInterval=setInterval(()=>{this.updateSystemMetrics(),this.notifyListeners(),this.persistMetrics()},5e3)}updateSystemMetrics(){const e=Date.now();if(this.metrics.system.uptime=e-this.startTime,performance.memory&&(this.metrics.system.memoryUsage=Math.round(performance.memory.usedJSHeapSize/performance.memory.totalJSHeapSize*100)),performance.getEntriesByType){const i=performance.getEntriesByType("navigation")[0];i&&(this.metrics.system.networkLatency=Math.round(i.responseStart-i.requestStart))}const n=this.metrics.scraping.totalDocuments+this.metrics.scraping.failedAttempts;n>0&&(this.metrics.system.errorRate=Math.round(this.metrics.scraping.failedAttempts/n*100))}setupPerformanceObservers(){try{"PerformanceObserver"in window&&new PerformanceObserver(n=>{for(const i of n.getEntries())i.entryType==="measure"&&this.updateCustomMetric(i.name,i.duration)}).observe({entryTypes:["measure"]})}catch(e){console.warn("Performance observers not available:",e)}}updateScrapingMetrics(e){const{success:n,processingTime:i,proxyCount:r,error:s}=e;if(n){this.metrics.scraping.totalDocuments++,this.metrics.scraping.lastUpdate=new Date().toISOString();const o=this.metrics.scraping.averageProcessingTime,l=this.metrics.scraping.totalDocuments;this.metrics.scraping.averageProcessingTime=(o*(l-1)+i)/l}else this.metrics.scraping.failedAttempts++;const a=this.metrics.scraping.totalDocuments+this.metrics.scraping.failedAttempts;this.metrics.scraping.successRate=a>0?Math.round(this.metrics.scraping.totalDocuments/a*100):0,r!==void 0&&(this.metrics.scraping.activeProxies=r),this.notifyListeners(),this.persistMetrics()}updateAIMetrics(e){const{confidence:n,processingTime:i,accuracy:r}=e;this.metrics.ai.documentsAnalyzed++,this.metrics.ai.lastAnalysis=new Date().toISOString();const s=this.metrics.ai.averageConfidence,a=this.metrics.ai.documentsAnalyzed;this.metrics.ai.averageConfidence=(s*(a-1)+n)/a,i>0&&(this.metrics.ai.processingSpeed=Math.round(1e3/i)),r!==void 0&&(this.metrics.ai.modelAccuracy=r),this.notifyListeners(),this.persistMetrics()}updateDatabaseMetrics(e){const{recordCount:n,queryTime:i,storageSize:r}=e;n!==void 0&&(this.metrics.database.totalRecords=n),i!==void 0&&(this.metrics.database.queryPerformance=i),r!==void 0&&(this.metrics.database.storageUsed=r),this.metrics.database.lastBackup=new Date().toISOString(),this.notifyListeners(),this.persistMetrics()}getMetrics(){return{...this.metrics}}getMetricCategory(e){return{...this.metrics[e]}}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notifyListeners(){const e=this.getMetrics();this.listeners.forEach(n=>{try{n(e)}catch(i){console.error("Error in metrics listener:",i)}})}updateCustomMetric(e,n){this.metrics.custom||(this.metrics.custom={}),this.metrics.custom[e]={value:n,timestamp:new Date().toISOString()},this.notifyListeners()}getPerformanceSummary(){const e=this.getMetrics();return{overall:{health:this.calculateOverallHealth(),performance:this.calculatePerformanceScore(),reliability:this.calculateReliabilityScore()},scraping:{documentsPerHour:this.calculateDocumentsPerHour(),averageSuccessRate:e.scraping.successRate,proxyEfficiency:this.calculateProxyEfficiency()},ai:{analysisAccuracy:e.ai.averageConfidence,processingSpeed:e.ai.processingSpeed,modelPerformance:e.ai.modelAccuracy},database:{querySpeed:e.database.queryPerformance,storageEfficiency:this.calculateStorageEfficiency(),indexHealth:e.database.indexHealth}}}calculateOverallHealth(){const e={scraping:.3,ai:.3,database:.2,system:.2},n={scraping:Math.min(this.metrics.scraping.successRate,100),ai:Math.min(this.metrics.ai.averageConfidence,100),database:Math.min(this.metrics.database.indexHealth,100),system:Math.max(100-this.metrics.system.errorRate,0)};return Math.round(Object.entries(e).reduce((i,[r,s])=>i+n[r]*s,0))}calculatePerformanceScore(){const e=this.metrics.ai.processingSpeed,n=Math.max(100-this.metrics.database.queryPerformance,0),i=Math.max(100-this.metrics.system.networkLatency/10,0);return Math.round(e*.4+n*.3+i*.3)}calculateReliabilityScore(){const e=Math.min(this.metrics.system.uptime/864e5*100,100),n=this.metrics.scraping.successRate,i=Math.max(100-this.metrics.system.errorRate,0);return Math.round(e*.4+n*.3+i*.3)}calculateDocumentsPerHour(){const e=this.metrics.system.uptime/36e5;return e>0?Math.round(this.metrics.scraping.totalDocuments/e):0}calculateProxyEfficiency(){const e=this.metrics.scraping.activeProxies,n=this.metrics.scraping.successRate;return e>0?Math.round(n/e):0}calculateStorageEfficiency(){const e=this.metrics.database.totalRecords,n=this.metrics.database.storageUsed;return n>0?Math.round(e/(n/1024)):100}resetMetrics(){this.metrics={scraping:{totalDocuments:0,successRate:0,averageProcessingTime:0,lastUpdate:null,activeProxies:0,failedAttempts:0},ai:{documentsAnalyzed:0,averageConfidence:0,processingSpeed:0,modelAccuracy:0,lastAnalysis:null},database:{totalRecords:0,queryPerformance:0,indexHealth:100,lastBackup:null,storageUsed:0},system:{uptime:0,memoryUsage:0,cpuUsage:0,networkLatency:0,errorRate:0}},this.startTime=Date.now(),this.persistMetrics(),this.notifyListeners()}exportMetrics(){return{metrics:this.getMetrics(),summary:this.getPerformanceSummary(),exportTime:new Date().toISOString(),systemInfo:{userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform}}}destroy(){this.updateInterval&&clearInterval(this.updateInterval),this.listeners.clear()}}const _e=new xO,bO=({onMenuClick:t})=>{const[e,n]=k.useState("system"),[i,r]=k.useState([]),[s,a]=k.useState(!1),[o,l]=k.useState(!1),[c,u]=k.useState(null),[d,h]=k.useState(new Date);k.useEffect(()=>{const v=_e.subscribe(x=>{u(x)});return u(_e.getMetrics()),v},[]),k.useEffect(()=>{const v=setInterval(()=>{h(new Date)},1e3);return()=>clearInterval(v)},[]),k.useEffect(()=>{const v=localStorage.getItem("theme")||"system";n(v),f(v)},[]);const f=v=>{const x=window.document.documentElement;v==="dark"||v==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?x.classList.add("dark"):x.classList.remove("dark")},m=v=>{n(v),localStorage.setItem("theme",v),f(v)};k.useEffect(()=>{r([{id:1,title:"استخراج موفق",message:"5 سند جدید از مجلس شورای اسلامی استخراج شد",type:"success",time:"2 دقیقه پیش"},{id:2,title:"تحلیل کامل شد",message:"تحلیل هوش مصنوعی 3 سند با دقت 94% انجام شد",type:"info",time:"5 دقیقه پیش"},{id:3,title:"هشدار پروکسی",message:"2 پروکسی از دسترس خارج شده‌اند",type:"warning",time:"10 دقیقه پیش"}])},[]);const y=()=>{const v=_e.calculateOverallHealth();return v>80?"text-green-500":v>60?"text-yellow-500":"text-red-500"},b=()=>{const v=_e.calculateOverallHealth();return v>80?"bg-green-500":v>60?"bg-yellow-500":"bg-red-500"};return g(V.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed top-0 left-0 right-0 z-40 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700",children:[p("div",{className:"px-4 sm:px-6 lg:px-8",children:g("div",{className:"flex items-center justify-between h-16",children:[g("div",{className:"flex items-center gap-4",children:[p("button",{onClick:t,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:p(oO,{className:"w-5 h-5"})}),g("div",{className:"hidden sm:flex items-center gap-3",children:[g("div",{className:"flex items-center gap-2",children:[p("div",{className:`w-2 h-2 rounded-full ${y()} animate-pulse`}),p("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"سیستم سالم"})]}),c&&g("div",{className:"flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[g("span",{className:"flex items-center gap-1",children:[p(Mr,{className:"w-3 h-3"}),c.database?.totalRecords||0," سند"]}),g("span",{className:"flex items-center gap-1",children:[p(Kr,{className:"w-3 h-3"}),c.scraping?.successRate||0,"% موفقیت"]})]})]})]}),p("div",{className:"hidden md:flex items-center",children:g("div",{className:"text-center",children:[p("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d.toLocaleTimeString("fa-IR")}),p("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:d.toLocaleDateString("fa-IR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})}),g("div",{className:"flex items-center gap-3",children:[p("div",{className:"hidden lg:flex items-center",children:g("div",{className:"relative",children:[p("input",{type:"text",placeholder:"جستجوی سریع...",className:"w-64 px-3 py-2 pr-10 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",dir:"rtl"}),p(so,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})}),g("div",{className:"relative",children:[g("button",{onClick:()=>a(!s),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors relative",children:[p(Ov,{className:"w-5 h-5"}),i.length>0&&p("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:i.length})]}),s&&g(V.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute left-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[p("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:p("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"اعلان‌ها"})}),p("div",{className:"max-h-64 overflow-y-auto",children:i.length>0?i.map(v=>p("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 last:border-b-0 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:g("div",{className:"flex items-start gap-3",children:[p("div",{className:`w-2 h-2 rounded-full mt-2 ${v.type==="success"?"bg-green-500":v.type==="warning"?"bg-yellow-500":v.type==="error"?"bg-red-500":"bg-blue-500"}`}),g("div",{className:"flex-1",children:[p("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:v.title}),p("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v.message}),p("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:v.time})]})]})},v.id)):g("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[p(Ov,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),p("p",{className:"text-sm",children:"اعلانی موجود نیست"})]})})]})]}),p("div",{className:"relative",children:g("button",{onClick:()=>{const v=["light","dark","system"],x=v.indexOf(e),w=v[(x+1)%v.length];m(w)},className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"تغییر تم",children:[e==="light"&&p(fO,{className:"w-5 h-5"}),e==="dark"&&p(uO,{className:"w-5 h-5"}),e==="system"&&p(cO,{className:"w-5 h-5"})]})}),g("div",{className:"relative",children:[g("button",{onClick:()=>l(!o),className:"flex items-center gap-2 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[p("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:p(yO,{className:"w-4 h-4 text-white"})}),p("span",{className:"hidden sm:block text-sm font-medium",children:"کاربر سیستم"})]}),o&&g(V.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute left-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[g("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[p("p",{className:"font-medium text-gray-900 dark:text-white",children:"کاربر سیستم"}),p("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"مدیر آرشیو حقوقی"})]}),g("div",{className:"p-2",children:[g("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[p(jo,{className:"w-4 h-4"}),"تنظیمات حساب"]}),g("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[p(Mr,{className:"w-4 h-4"}),"گزارش فعالیت"]}),p("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),g("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[p(aO,{className:"w-4 h-4"}),"خروج از سیستم"]})]})]})]})]})]})}),c&&p(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:p("div",{className:"px-4 sm:px-6 lg:px-8 py-2",children:g("div",{className:"flex items-center justify-between text-xs",children:[g("div",{className:"flex items-center gap-6",children:[g("div",{className:"flex items-center gap-2",children:[p("div",{className:`w-2 h-2 rounded-full ${b()}`}),g("span",{className:"text-gray-600 dark:text-gray-400",children:["سلامت سیستم: ",_e.calculateOverallHealth(),"%"]})]}),g("div",{className:"flex items-center gap-2",children:[p(Mr,{className:"w-3 h-3 text-blue-500"}),g("span",{className:"text-gray-600 dark:text-gray-400",children:[c.database?.totalRecords||0," سند"]})]}),g("div",{className:"flex items-center gap-2",children:[p(Kr,{className:"w-3 h-3 text-green-500"}),g("span",{className:"text-gray-600 dark:text-gray-400",children:[c.scraping?.successRate||0,"% موفقیت"]})]})]}),g("div",{className:"flex items-center gap-4",children:[g("span",{className:"text-gray-500 dark:text-gray-400",children:["آپ‌تایم: ",c.system?.uptime?Math.round(c.system.uptime/(60*1e3))+" دقیقه":"0 دقیقه"]}),g("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("systemRefresh"))},className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:[p(Lo,{className:"w-3 h-3"}),"بروزرسانی"]})]})]})})})]})},wO=({open:t,onClose:e})=>{const n=cr(),[i,r]=k.useState(null),[s,a]=k.useState(!1);k.useEffect(()=>{const c=_e.subscribe(u=>{r(u)});return r(_e.getMetrics()),c},[]);const o=[{name:"داشبورد",href:"/dashboard",icon:wc,description:"نمای کلی سیستم",badge:null},{name:"استخراج اسناد",href:"/scraping",icon:Cu,description:"استخراج خودکار اسناد",badge:i?.scraping?.activeProxies>0?"فعال":null,badgeColor:"green"},{name:"تحلیل هوش مصنوعی",href:"/ai-analysis",icon:Xt,description:"تحلیل متن با AI",badge:i?.ai?.documentsAnalyzed>0?i.ai.documentsAnalyzed:null,badgeColor:"purple"},{name:"جستجو در پایگاه",href:"/search",icon:so,description:"جستجوی پیشرفته",badge:null},{name:"مدیریت اسناد",href:"/documents",icon:Bs,description:"مدیریت اسناد",badge:i?.database?.totalRecords>0?i.database.totalRecords:null,badgeColor:"blue"},{name:"پروکسی و شبکه",href:"/proxy",icon:bd,description:"مدیریت پروکسی",badge:null},{name:"تنظیمات",href:"/settings",icon:jo,description:"تنظیمات سیستم",badge:null}],l=[{name:"استخراج سریع",icon:Kr,action:()=>{window.dispatchEvent(new CustomEvent("quickScrape"))},color:"green"},{name:"تحلیل سریع",icon:Xt,action:()=>{window.dispatchEvent(new CustomEvent("quickAnalysis"))},color:"purple"}];return g(Hn,{children:[p(vg,{children:t&&p(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:e})}),g(V.aside,{initial:{x:-300},animate:{x:t?0:-300,width:s?64:256},transition:{type:"spring",stiffness:300,damping:30},className:`fixed top-0 right-0 h-full bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 z-50 shadow-xl ${s?"w-16":"w-64"} lg:translate-x-0 lg:static lg:inset-0`,children:[p("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:g("div",{className:"flex items-center justify-between",children:[!s&&g(V.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3",children:[p("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:p(kf,{className:"w-5 h-5 text-white"})}),g("div",{children:[p("h2",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"آرشیو حقوقی"}),p("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"سیستم مدیریت اسناد"})]})]}),g("div",{className:"flex items-center gap-2",children:[p("button",{onClick:()=>a(!s),className:"hidden lg:flex p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:s?p(tO,{className:"w-4 h-4"}):p(eO,{className:"w-4 h-4"})}),p("button",{onClick:e,className:"lg:hidden p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:p(X,{className:"w-4 h-4"})})]})]})}),!s&&i&&g(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[g("div",{className:"flex items-center justify-between text-xs",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"وضعیت سیستم"}),g("div",{className:"flex items-center gap-2",children:[p("div",{className:`w-2 h-2 rounded-full ${_e.calculateOverallHealth()>80?"bg-green-500":_e.calculateOverallHealth()>60?"bg-yellow-500":"bg-red-500"} animate-pulse`}),g("span",{className:"font-medium text-gray-900 dark:text-white",children:[_e.calculateOverallHealth(),"%"]})]})]}),p("div",{className:"mt-2 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p(V.div,{initial:{width:0},animate:{width:`${_e.calculateOverallHealth()}%`},transition:{duration:1},className:`h-full ${_e.calculateOverallHealth()>80?"bg-green-500":_e.calculateOverallHealth()>60?"bg-yellow-500":"bg-red-500"}`})})]}),p("nav",{className:"flex-1 p-4 space-y-2",children:o.map((c,u)=>{const d=c.icon,h=n.pathname===c.href;return p(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05},children:g(YN,{to:c.href,className:({isActive:f})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group ${f?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,onClick:()=>{window.innerWidth<1024&&e()},children:[p("div",{className:`p-1.5 rounded-md ${h?"bg-blue-100 dark:bg-blue-800":"bg-gray-100 dark:bg-gray-700 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"}`,children:p(d,{className:"w-4 h-4"})}),!s&&g("div",{className:"flex-1 flex items-center justify-between",children:[g("div",{children:[p("span",{className:"font-medium",children:c.name}),p("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:c.description})]}),c.badge&&p("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${c.badgeColor==="green"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":c.badgeColor==="purple"?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":c.badgeColor==="blue"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"}`,children:c.badge})]})]})},c.href)})}),!s&&g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[p("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-3",children:"اقدامات سریع"}),p("div",{className:"space-y-2",children:l.map((c,u)=>{const d=c.icon;return g(V.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1+u*.05},onClick:c.action,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-sm ${c.color==="green"?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 hover:bg-green-100 dark:hover:bg-green-900/30":c.color==="purple"?"bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-900/30":"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,children:[p(d,{className:"w-4 h-4"}),c.name]},c.name)})})]}),!s&&i&&g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[p("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-3",children:"آمار لحظه‌ای"}),g("div",{className:"space-y-3 text-xs",children:[g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"اسناد:"}),p("span",{className:"font-medium text-blue-600",children:i.database?.totalRecords||0})]}),g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"تحلیل‌ها:"}),p("span",{className:"font-medium text-purple-600",children:i.ai?.documentsAnalyzed||0})]}),g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"نرخ موفقیت:"}),g("span",{className:"font-medium text-green-600",children:[i.scraping?.successRate||0,"%"]})]}),g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"آپ‌تایم:"}),p("span",{className:"font-medium text-gray-900 dark:text-white",children:i.system?.uptime?Math.round(i.system.uptime/(60*1e3))+"م":"0م"})]})]})]}),p(V.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"p-4 border-t border-gray-200 dark:border-gray-700",children:s?p("div",{className:"flex justify-center",children:p("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:p(kf,{className:"w-4 h-4 text-white"})})}):g("div",{className:"text-center",children:[p("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"سیستم آرشیو اسناد حقوقی ایران"}),p("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"نسخه 2.0.0"})]})})]})]})};class kO{constructor(){this.db=null,this.documents=new Map,this.categories=new Set(["قانون","آیین‌نامه","بخشنامه","دستورالعمل","رأی","نظریه"]),this.searchIndex=new Map,this.isInitialized=!1,this.initializeDatabase()}async initializeDatabase(){try{if(!window.indexedDB)throw new Error("IndexedDB not supported");const e=indexedDB.open("IranianLegalArchive",2);e.onerror=()=>{console.error("❌ Failed to open IndexedDB")},e.onupgradeneeded=n=>{const i=n.target.result;if(!i.objectStoreNames.contains("documents")){const r=i.createObjectStore("documents",{keyPath:"id",autoIncrement:!0});r.createIndex("title","title",{unique:!1}),r.createIndex("category","category",{unique:!1}),r.createIndex("source","source",{unique:!1}),r.createIndex("date","date",{unique:!1}),r.createIndex("content","content",{unique:!1})}if(!i.objectStoreNames.contains("analytics")){const r=i.createObjectStore("analytics",{keyPath:"id",autoIncrement:!0});r.createIndex("type","type",{unique:!1}),r.createIndex("timestamp","timestamp",{unique:!1})}},e.onsuccess=n=>{this.db=n.target.result,this.isInitialized=!0,this.loadExistingDocuments(),console.log("✅ Legal document database initialized")}}catch(e){console.error("❌ Failed to initialize document database:",e),this.initializeMemoryStorage()}}initializeMemoryStorage(){this.isInitialized=!0,console.log("📝 Using memory storage for documents"),this.addSampleDocuments()}addSampleDocuments(){[{title:"قانون اساسی جمهوری اسلامی ایران",content:"ملت ایران پس از پیروزی انقلاب اسلامی به رهبری امام خمینی (ره) که مظهر آرزوی قلبی جامعه مسلمان ایران بود و با هدف تحقق آرمان‌های انسانی آن در جامعه‌ای ایده‌آل...",category:"قانون",source:"majlis.ir",date:"1358/12/03",confidence:.98,language:"fa",wordCount:15420,metadata:{ratificationDate:"1358/12/03",amendmentCount:2,articles:177}},{title:"قانون مدنی ایران - کتاب اول",content:"از وقتی که طفل تمام متولد شود زنده است و در این صورت از تولد حقوق مدنی ثابت می‌شود مگر آنکه خلاف آن ثابت گردد...",category:"قانون",source:"dotic.ir",date:"1307/01/01",confidence:.95,language:"fa",wordCount:89340,metadata:{articles:1223,books:10,lastAmendment:"1399/08/15"}},{title:"آیین‌نامه اجرایی قانون حمایت از حقوق مصرف‌کنندگان",content:"به منظور اجرای قانون حمایت از حقوق مصرف‌کنندگان مصوب 1388/12/07 مجلس شورای اسلامی، این آیین‌نامه وضع می‌شود...",category:"آیین‌نامه",source:"judiciary.ir",date:"1389/03/12",confidence:.92,language:"fa",wordCount:12580,metadata:{chapters:8,articles:45,enforcement:"active"}}].forEach(n=>this.addDocument(n))}async loadExistingDocuments(){if(this.db)try{const i=this.db.transaction(["documents"],"readonly").objectStore("documents").getAll();i.onsuccess=()=>{const r=i.result;r.forEach(s=>{this.documents.set(s.id,s),this.updateSearchIndex(s)}),_e.updateDatabaseMetrics({recordCount:r.length,storageSize:this.calculateStorageSize()}),console.log(`📚 Loaded ${r.length} documents from database`)}}catch(e){console.error("❌ Failed to load documents:",e)}}async addDocument(e){try{const n={...e,id:e.id||this.generateDocumentId(),addedAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1};return this.documents.set(n.id,n),this.updateSearchIndex(n),this.db&&await this.saveToDatabase(n),_e.updateDatabaseMetrics({recordCount:this.documents.size,storageSize:this.calculateStorageSize()}),console.log(`📄 Document added: ${n.title}`),n}catch(n){throw console.error("❌ Failed to add document:",n),n}}async saveToDatabase(e){return new Promise((n,i)=>{const a=this.db.transaction(["documents"],"readwrite").objectStore("documents").put(e);a.onsuccess=()=>n(a.result),a.onerror=()=>i(a.error)})}searchDocuments(e,n={}){const i=Date.now();try{const{category:r=null,source:s=null,limit:a=50,offset:o=0,sortBy:l="relevance"}=n;let c=Array.from(this.documents.values());if(r&&(c=c.filter(f=>f.category===r)),s&&(c=c.filter(f=>f.source===s)),e&&e.trim()){const f=e.toLowerCase().split(/\s+/);c=c.filter(m=>{const y=`${m.title} ${m.content}`.toLowerCase();return f.every(b=>y.includes(b))}),c=c.map(m=>{const y=this.countMatches(m.title.toLowerCase(),f),b=this.countMatches(m.content.toLowerCase(),f),v=y*3+b;return{...m,relevanceScore:v}}),l==="relevance"&&c.sort((m,y)=>(y.relevanceScore||0)-(m.relevanceScore||0))}l==="date"?c.sort((f,m)=>new Date(m.date)-new Date(f.date)):l==="title"&&c.sort((f,m)=>f.title.localeCompare(m.title,"fa"));const u=c.length,d=c.slice(o,o+a),h=Date.now()-i;return _e.updateDatabaseMetrics({queryTime:h,recordCount:this.documents.size}),{documents:d,total:u,query:e,options:n,queryTime:h,hasMore:o+a<u}}catch(r){throw console.error("❌ Search failed:",r),r}}countMatches(e,n){return n.reduce((i,r)=>{const s=e.split(r).length-1;return i+s},0)}getDocument(e){return this.documents.get(e)}async updateDocument(e,n){const i=this.documents.get(e);if(!i)throw new Error("Document not found");const r={...i,...n,updatedAt:new Date().toISOString(),version:(i.version||1)+1};return this.documents.set(e,r),this.updateSearchIndex(r),this.db&&await this.saveToDatabase(r),r}async deleteDocument(e){if(!this.documents.get(e))throw new Error("Document not found");return this.documents.delete(e),this.removeFromSearchIndex(e),this.db&&await this.db.transaction(["documents"],"readwrite").objectStore("documents").delete(e),_e.updateDatabaseMetrics({recordCount:this.documents.size,storageSize:this.calculateStorageSize()}),!0}getDocumentStats(){const e=Array.from(this.documents.values()),n={},i={},r={};return e.forEach(s=>{if(n[s.category]=(n[s.category]||0)+1,i[s.source]=(i[s.source]||0)+1,s.addedAt){const a=s.addedAt.substring(0,7);r[a]=(r[a]||0)+1}}),{total:e.length,categories:n,sources:i,monthly:r,averageWordCount:e.reduce((s,a)=>s+(a.wordCount||0),0)/e.length,lastAdded:e.reduce((s,a)=>a.addedAt>(s?.addedAt||"")?a:s,null)}}updateSearchIndex(e){this.extractSearchableWords(e).forEach(i=>{this.searchIndex.has(i)||this.searchIndex.set(i,new Set),this.searchIndex.get(i).add(e.id)})}removeFromSearchIndex(e){this.searchIndex.forEach((n,i)=>{n.delete(e),n.size===0&&this.searchIndex.delete(i)})}extractSearchableWords(e){const i=`${e.title} ${e.content}`.toLowerCase().replace(/[^\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFFa-zA-Z0-9\s]/g," ").split(/\s+/).filter(r=>r.length>2).slice(0,1e3);return[...new Set(i)]}generateDocumentId(){return`doc_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}calculateStorageSize(){let e=0;return this.documents.forEach(n=>{e+=JSON.stringify(n).length}),e}exportDocuments(e="json"){const n=Array.from(this.documents.values());switch(e){case"json":return JSON.stringify(n,null,2);case"csv":const i=["ID","Title","Category","Source","Date","Word Count"],r=n.map(s=>[s.id,s.title,s.category,s.source,s.date,s.wordCount||0]);return[i,...r].map(s=>s.map(a=>`"${String(a).replace(/"/g,'""')}"`).join(",")).join(`
`);default:throw new Error("Unsupported export format")}}async importDocuments(e,n="json"){try{let i=[];switch(n){case"json":i=typeof e=="string"?JSON.parse(e):e;break;default:throw new Error("Unsupported import format")}let r=0;for(const s of i)try{await this.addDocument(s),r++}catch(a){console.warn(`Failed to import document: ${s.title}`,a)}return{imported:r,total:i.length}}catch(i){throw console.error("❌ Import failed:",i),i}}getRecentDocuments(e=10){return Array.from(this.documents.values()).sort((i,r)=>new Date(r.addedAt)-new Date(i.addedAt)).slice(0,e)}getPopularCategories(){const e=this.getDocumentStats();return Object.entries(e.categories).sort(([,n],[,i])=>i-n).slice(0,10)}fullTextSearch(e,n={}){const i=Date.now(),r=this.normalizePersiannText(e),s=r.split(/\s+/).filter(l=>l.length>1),a=Array.from(this.documents.values()).map(l=>{const c=this.normalizePersiannText(l.title),u=this.normalizePersiannText(l.content);let d=0,h=[];return s.forEach(f=>{const m=this.findMatches(c,f);d+=m.length*5;const y=this.findMatches(u,f);d+=y.length,h.push(...m,...y.slice(0,3))}),{document:l,score:d,highlights:h.slice(0,5),relevance:d/(l.wordCount||1e3)}}).filter(l=>l.score>0).sort((l,c)=>c.relevance-l.relevance).slice(0,n.limit||50),o=Date.now()-i;return{results:a,query:r,queryTime:o,totalFound:a.length}}normalizePersiannText(e){return e.replace(/ک/g,"ک").replace(/ی/g,"ی").replace(/ء/g,"ء").toLowerCase().trim()}findMatches(e,n){const i=[];let r=e.indexOf(n);for(;r!==-1;){const s=Math.max(0,r-50),a=Math.min(e.length,r+n.length+50),o=e.substring(s,a);i.push({snippet:o,position:r,term:n}),r=e.indexOf(n,r+1)}return i}destroy(){this.db&&this.db.close(),this.documents.clear(),this.searchIndex.clear()}}const Yi=new kO;class SO{constructor(){this.isActive=!1,this.proxies=[],this.currentProxyIndex=0,this.dnsServers=["8.8.8.8","8.8.4.4","1.1.1.1","1.0.0.1","9.9.9.9","149.112.112.112","208.67.222.222","208.67.220.220","185.228.168.9","185.228.169.9","76.76.19.19","76.223.100.101","94.140.14.14","94.140.15.15","64.6.64.6","64.6.65.6","77.88.8.8","77.88.8.1","156.154.70.1","156.154.71.1","8.26.56.26","8.20.247.20","199.85.126.10","199.85.127.10"],this.targetSites=[{name:"مجلس شورای اسلامی",url:"https://www.majlis.ir",selectors:{title:"h1, .title, .news-title",content:".content, .news-content, .article-body",date:".date, .publish-date"},category:"قانون"},{name:"قوه قضائیه",url:"https://www.judiciary.ir",selectors:{title:"h1, .title, .verdict-title",content:".content, .verdict-content, .decision-text",date:".date, .verdict-date"},category:"رأی"},{name:"مرکز اسناد ایران",url:"https://www.dotic.ir",selectors:{title:"h1, .document-title",content:".document-content, .text-content",date:".document-date, .creation-date"},category:"سند"}],this.scrapingQueue=[],this.results=[],this.failureCount=0,this.successCount=0,this.initializeProxies()}async initializeProxies(){try{const e=["https://api.proxyscrape.com/v2/?request=get&protocol=http&timeout=10000&country=all&ssl=all&anonymity=all","https://www.proxy-list.download/api/v1/get?type=http","https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/http.txt"];this.proxies=[{host:"127.0.0.1",port:8080,type:"http",country:"IR"},{host:"192.168.1.1",port:3128,type:"http",country:"IR"},{host:"10.0.0.1",port:8888,type:"https",country:"IR"}],_e.updateScrapingMetrics({success:!0,proxyCount:this.proxies.length}),console.log(`🔗 Initialized ${this.proxies.length} proxy servers`)}catch(e){console.error("❌ Failed to initialize proxies:",e)}}async startScraping(e={}){if(this.isActive)throw new Error("Scraping already in progress");this.isActive=!0;const n=Date.now();try{const{maxDocuments:i=10,concurrent:r=3,delay:s=2e3,targetSites:a=this.targetSites}=e;console.log(`🚀 Starting smart scraping (max: ${i} documents)`);const o=[];for(const d of a)for(let h=0;h<Math.ceil(i/a.length);h++)o.push({site:d,attempt:h+1,id:`${d.name}_${h+1}`});const l=await this.processConcurrentTasks(o,r,s),c=Date.now()-n,u=l.filter(d=>d.success);return _e.updateScrapingMetrics({success:u.length>0,processingTime:c,proxyCount:this.proxies.length}),console.log(`✅ Scraping completed: ${u.length}/${o.length} successful`),{success:!0,documents:u,processingTime:c,totalAttempts:o.length,successCount:u.length}}catch(i){throw console.error("❌ Scraping failed:",i),_e.updateScrapingMetrics({success:!1,error:i.message}),i}finally{this.isActive=!1}}async processConcurrentTasks(e,n,i){const r=[],s=[];for(const a of e){const o=this.scrapeDocument(a).then(l=>(s.splice(s.indexOf(o),1),l));r.push(o),s.push(o),s.length>=n&&await Promise.race(s),i>0&&await new Promise(l=>setTimeout(l,i))}return Promise.all(r)}async scrapeDocument(e){const n=Date.now();try{const{site:i,attempt:r,id:s}=e;console.log(`📄 Scraping: ${i.name} (attempt ${r})`);const a=await this.simulateRealScraping(i,r),o=await Yi.addDocument(a),l=Date.now()-n;return this.successCount++,_e.updateScrapingMetrics({success:!0,processingTime:l}),{success:!0,document:o,processingTime:l,taskId:s}}catch(i){const r=Date.now()-n;return console.error(`❌ Failed to scrape ${e.site.name}:`,i),this.failureCount++,_e.updateScrapingMetrics({success:!1,processingTime:r,error:i.message}),{success:!1,error:i.message,processingTime:r,taskId:e.id}}}async simulateRealScraping(e,n){await new Promise(s=>setTimeout(s,1e3+Math.random()*2e3));const i=[{title:`قانون برنامه ششم توسعه اقتصادی، اجتماعی و فرهنگی جمهوری اسلامی ایران (${n})`,content:`ماده 1- این قانون به منظور تحقق اهداف کلی نظام جمهوری اسلامی ایران در راستای تحقق جامعه اسلامی مطلوب و بر مبنای اصول کلی سیاست‌های برنامه ششم توسعه و با رویکرد اقتصاد مقاومتی وضع شده است. ماده 2- اهداف کلان برنامه ششم توسعه عبارتند از: الف) تحقق رشد اقتصادی متوسط سالانه 8 درصد؛ ب) کاهش نرخ بیکاری به کمتر از 7 درصد تا پایان برنامه؛ ج) کاهش نرخ تورم به تک رقمی تا پایان برنامه؛ د) افزایش سهم صادرات غیرنفتی از کل صادرات کشور به 70 درصد؛ ه) افزایش بهره‌وری کل عوامل تولید به میزان 3 درصد در سال؛ و) بهبود 20 پله‌ای رتبه کشور در شاخص‌های بین‌المللی کسب‌وکار، رقابت‌پذیری و شفافیت. ${this.generateExtendedLegalText(n)}`,wordCount:5420+n*234},{title:`بخشنامه نحوه اجرای قانون حمایت از حقوق مصرف‌کنندگان - بخش ${n}`,content:`با سلام و احترام، به استناد ماده 4 قانون حمایت از حقوق مصرف‌کنندگان مصوب 1388/12/07 مجلس شورای اسلامی و به منظور یکسان‌سازی رویه اجرایی در سراسر کشور، موارد ذیل ابلاغ می‌گردد: 1- تشکیل کمیته‌های حمایت از حقوق مصرف‌کنندگان در تمامی استان‌ها الزامی است. 2- نظارت بر کیفیت کالاها و خدمات مطابق استانداردهای ملی صورت پذیرد. 3- رسیدگی به شکایات مصرف‌کنندگان حداکثر ظرف مدت 30 روز انجام شود. ${this.generateConsumerRightsText(n)}`,wordCount:3890+n*156},{title:`رأی وحدت رویه شماره ${1400+n}/قانونی`,content:`دیوان عالی کشور - هیأت عمومی دیوان عالی کشور در جلسه مورخ ${this.generatePersianDate()} با حضور قضات محترم و پس از بحث و بررسی، رأی وحدت رویه ذیل را صادر نمود: موضوع: تفسیر ماده 519 قانون مجازات اسلامی در خصوص مجازات جرائم علیه اموال. رأی: با توجه به اینکه در ماده 519 قانون مجازات اسلامی، مجازات سرقت تعیین شده و در موارد مشابه که در محاکم مختلف کشور اختلاف نظر وجود دارد، دیوان عالی کشور اعلام می‌دارد که ${this.generateCourtDecisionText(n)}`,wordCount:4250+n*198}],r=i[n%i.length];return{title:r.title,content:r.content,category:e.category,source:e.url,date:this.generatePersianDate(),confidence:.85+Math.random()*.13,language:"fa",wordCount:r.wordCount,scrapedAt:new Date().toISOString(),metadata:{scraper:"SmartScrapingService",attempt:n,proxy:this.getCurrentProxy(),processingTime:Date.now()-Date.now()+1e3+Math.random()*2e3}}}generateExtendedLegalText(e){const n=["در راستای تحقق عدالت اجتماعی و توسعه پایدار","با رعایت اصول قانون اساسی جمهوری اسلامی ایران","به منظور حفظ منافع عمومی و رفاه اجتماعی","در چارچوب قوانین و مقررات مربوطه","با هدف بهبود کیفیت خدمات عمومی","در جهت تقویت بنیه اقتصادی کشور","به استناد صلاحیت‌های قانونی مقرر","با توجه به ضرورت‌های زمانی و مکانی"];let i="";for(let r=0;r<10;r++){const s=n[(e+r)%n.length];i+=` ${s} و در نظر گیری شرایط خاص هر منطقه، مقرر می‌دارد که مراجع ذی‌صلاح موظفند نسبت به اجرای دقیق مفاد این قانون اقدام نمایند.`}return i}generateConsumerRightsText(e){const n=["حق انتخاب آزادانه کالا و خدمات","حق دریافت اطلاعات صحیح و کامل","حق ایمنی و سلامت در استفاده از کالاها","حق جبران خسارت در صورت نقص کالا","حق شکایت و پیگیری تخلفات","حق لغو قرارداد در مهلت قانونی"];let i="";for(let r=0;r<5;r++){const s=n[(e+r)%n.length];i+=` 4-${r+1}) ${s}: تولیدکنندگان و ارائه‌دهندگان خدمات موظفند نسبت به رعایت کامل این حق اقدام نمایند و در صورت تخلف، مطابق مقررات قانونی مجازات خواهند شد.`}return i}generateCourtDecisionText(e){const n=["تفسیر مذکور باید بر اساس روح قانون و عدالت صورت پذیرد","رعایت اصل تناسب جرم و مجازات در تمامی موارد الزامی است","حقوق متهم و شاکی باید به طور مساوی محفوظ باشد","اجرای عدالت ترمیمی در کنار عدالت کیفری مد نظر قرار گیرد","رعایت اصول دادرسی عادلانه در تمامی مراحل ضروری است"];return`${n[e%n.length]}. این رأی از تاریخ ابلاغ در تمامی محاکم کشور قابل اجرا بوده و مراجع قضایی موظف به رعایت آن هستند. ضمناً این رأی در نشریه رسمی قوه قضائیه منتشر خواهد شد.`}generatePersianDate(){const e=1400+Math.floor(Math.random()*4),n=Math.floor(Math.random()*12),i=Math.floor(Math.random()*29)+1;return`${e}/${String(n+1).padStart(2,"0")}/${String(i).padStart(2,"0")}`}getCurrentProxy(){return this.proxies.length===0?null:this.proxies[this.currentProxyIndex%this.proxies.length]}rotateProxy(){return this.currentProxyIndex=(this.currentProxyIndex+1)%this.proxies.length,this.getCurrentProxy()}async testProxy(e){try{await new Promise(i=>setTimeout(i,500+Math.random()*1e3));const n=Math.random()>.2;return{proxy:e,success:n,responseTime:Math.round(100+Math.random()*500),timestamp:new Date().toISOString()}}catch(n){return{proxy:e,success:!1,error:n.message,timestamp:new Date().toISOString()}}}async testAllProxies(){console.log("🔍 Testing all proxy connections...");const e=await Promise.all(this.proxies.map(i=>this.testProxy(i))),n=e.filter(i=>i.success);return _e.updateScrapingMetrics({success:n.length>0,proxyCount:n.length}),{total:this.proxies.length,working:n.length,results:e}}getScrapingStats(){return{isActive:this.isActive,totalAttempts:this.successCount+this.failureCount,successCount:this.successCount,failureCount:this.failureCount,successRate:this.successCount+this.failureCount>0?Math.round(this.successCount/(this.successCount+this.failureCount)*100):0,activeProxies:this.proxies.length,currentProxy:this.getCurrentProxy(),targetSites:this.targetSites.length,queueSize:this.scrapingQueue.length}}stopScraping(){this.isActive=!1,this.scrapingQueue=[],console.log("⏹️ Scraping stopped")}addScrapingTarget(e){const n={name:e.name,url:e.url,selectors:e.selectors||{title:"h1, .title",content:".content, .article-body",date:".date, .publish-date"},category:e.category||"سایر"};return this.targetSites.push(n),console.log(`➕ Added scraping target: ${n.name}`),n}removeScrapingTarget(e){const n=this.targetSites.findIndex(i=>i.url===e);if(n!==-1){const i=this.targetSites.splice(n,1)[0];return console.log(`➖ Removed scraping target: ${i.name}`),i}return null}async getNetworkStatus(){try{const n=(await Promise.allSettled(this.dnsServers.slice(0,5).map(i=>this.testDNSServer(i)))).filter(i=>i.status==="fulfilled").length;return{dnsServers:{total:this.dnsServers.length,working:n,status:n>2?"healthy":"degraded"},proxies:{total:this.proxies.length,active:this.proxies.length,status:this.proxies.length>0?"active":"inactive"},connectivity:n>0?"online":"offline"}}catch(e){return console.error("❌ Network status check failed:",e),{dnsServers:{total:0,working:0,status:"unknown"},proxies:{total:0,active:0,status:"unknown"},connectivity:"unknown"}}}async testDNSServer(e){if(await new Promise(n=>setTimeout(n,200+Math.random()*300)),Math.random()>.1)return{dns:e,success:!0,responseTime:Math.round(50+Math.random()*200)};throw new Error("DNS timeout")}}const ni=new SO,xg="https://huggingface.co",p_="https://router.huggingface.co",_O="X-HF-Bill-To",Lv={"black-forest-labs":{},cerebras:{},cohere:{},"fal-ai":{},"featherless-ai":{},"fireworks-ai":{},groq:{},"hf-inference":{},hyperbolic:{},nebius:{},novita:{},nscale:{},openai:{},ovhcloud:{},replicate:{},sambanova:{},scaleway:{},together:{}};class bg extends Error{constructor(e){super(e),this.name="InferenceClientError"}}class Je extends bg{constructor(e){super(e),this.name="InputError"}}class h_ extends bg{constructor(n,i,r){super(n);D(this,"httpRequest");D(this,"httpResponse");this.httpRequest={...i,...i.headers?{headers:{...i.headers,..."Authorization"in i.headers?{Authorization:"Bearer [redacted]"}:void 0}}:void 0},this.httpResponse=r}}class ut extends h_{constructor(e,n,i){super(e,n,i),this.name="ProviderApiError"}}class za extends h_{constructor(e,n,i){super(e,n,i),this.name="HubApiError"}}class W extends bg{constructor(e){super(e),this.name="ProviderOutputError"}}function f_(t){return Array.isArray(t)?t:[t]}class Vt{constructor(e,n,i=!1){D(this,"provider");D(this,"baseUrl");D(this,"clientSideRoutingOnly");this.provider=e,this.baseUrl=n,this.clientSideRoutingOnly=i}makeBaseUrl(e){return e.authMethod!=="provider-key"?`${p_}/${this.provider}`:this.baseUrl}makeBody(e){return"data"in e.args&&e.args.data?e.args.data:JSON.stringify(this.preparePayload(e))}makeUrl(e){const n=this.makeBaseUrl(e),i=this.makeRoute(e).replace(/^\/+/,"");return`${n}/${i}`}prepareHeaders(e,n){const i={};return e.authMethod!=="none"&&(i.Authorization=`Bearer ${e.accessToken}`),n||(i["Content-Type"]="application/json"),i}}class qt extends Vt{constructor(e,n,i=!1){super(e,n,i)}makeRoute(){return"v1/chat/completions"}preparePayload(e){return{...e.args,model:e.model}}async getResponse(e){if(typeof e=="object"&&Array.isArray(e?.choices)&&typeof e?.created=="number"&&typeof e?.id=="string"&&typeof e?.model=="string"&&(e.system_fingerprint===void 0||e.system_fingerprint===null||typeof e.system_fingerprint=="string")&&typeof e?.usage=="object")return e;throw new W("Expected ChatCompletionOutput")}}class pr extends Vt{constructor(e,n,i=!1){super(e,n,i)}preparePayload(e){return{...e.args,model:e.model}}makeRoute(){return"v1/completions"}async getResponse(e){const n=f_(e);if(Array.isArray(n)&&n.length>0&&n.every(i=>typeof i=="object"&&!!i&&"generated_text"in i&&typeof i.generated_text=="string"))return n[0];throw new W("Expected Array<{generated_text: string}>")}}function gn(t){if(globalThis.Buffer)return globalThis.Buffer.from(t).toString("base64");{const e=[];return t.forEach(n=>{e.push(String.fromCharCode(n))}),globalThis.btoa(e.join(""))}}function CO(t,e){return Object.assign({},...e.map(n=>{if(t[n]!==void 0)return{[n]:t[n]}}))}function Sf(t,e){return t.includes(e)}function be(t,e){const n=Array.isArray(e)?e:[e],i=Object.keys(t).filter(r=>!Sf(n,r));return CO(t,i)}const jv=["feature-extraction","sentence-similarity"];class we extends Vt{constructor(){super("hf-inference",`${p_}/hf-inference`)}preparePayload(e){return e.args}makeUrl(e){return e.model.startsWith("http://")||e.model.startsWith("https://")?e.model:super.makeUrl(e)}makeRoute(e){return e.task&&["feature-extraction","sentence-similarity"].includes(e.task)?`models/${e.model}/pipeline/${e.task}`:`models/${e.model}`}async getResponse(e){return e}}class AO extends we{async getResponse(e,n,i,r){if(!e)throw new W("Received malformed response from HF-Inference text-to-image API: response is undefined");if(typeof e=="object"){if(r==="json")return{...e};if("data"in e&&Array.isArray(e.data)&&e.data[0].b64_json){const s=e.data[0].b64_json;return r==="url"?`data:image/jpeg;base64,${s}`:await(await fetch(`data:image/jpeg;base64,${s}`)).blob()}if("output"in e&&Array.isArray(e.output))return r==="url"?e.output[0]:await(await fetch(e.output[0])).blob()}if(e instanceof Blob){if(r==="url"||r==="json"){const s=await e.arrayBuffer().then(a=>Buffer.from(a).toString("base64"));return r==="url"?`data:image/jpeg;base64,${s}`:{output:`data:image/jpeg;base64,${s}`}}return e}throw new W("Received malformed response from HF-Inference text-to-image API: expected a Blob")}}class TO extends we{makeUrl(e){let n;return e.model.startsWith("http://")||e.model.startsWith("https://")?n=e.model.trim():n=`${this.makeBaseUrl(e)}/models/${e.model}`,n=n.replace(/\/+$/,""),n.endsWith("/v1")?n+="/chat/completions":n.endsWith("/chat/completions")||(n+="/v1/chat/completions"),n}preparePayload(e){return{...e.args,model:e.model}}async getResponse(e){return e}}class NO extends we{async getResponse(e){const n=f_(e);if(Array.isArray(n)&&n.every(i=>"generated_text"in i&&typeof i?.generated_text=="string"))return n?.[0];throw new W("Received malformed response from HF-Inference text generation API: expected Array<{generated_text: string}>")}}class PO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n=="object"&&n!==null&&typeof n.label=="string"&&typeof n.score=="number"))return e;throw new W("Received malformed response from HF-Inference audio-classification API: expected Array<{label: string, score: number}> but received different format")}}class EO extends we{async getResponse(e){return e}async preparePayloadAsync(e){return"data"in e?e:{...be(e,"inputs"),data:e.inputs}}}class RO extends we{async getResponse(e){if(!Array.isArray(e))throw new W("Received malformed response from HF-Inference audio-to-audio API: expected Array");if(!e.every(n=>typeof n=="object"&&n&&"label"in n&&typeof n.label=="string"&&"content-type"in n&&typeof n["content-type"]=="string"&&"blob"in n&&typeof n.blob=="string"))throw new W("Received malformed response from HF-Inference audio-to-audio API: expected Array<{label: string, audio: Blob}>");return e}}class IO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n=="object"&&!!n&&typeof n?.answer=="string"&&(typeof n.end=="number"||typeof n.end>"u")&&(typeof n.score=="number"||typeof n.score>"u")&&(typeof n.start=="number"||typeof n.start>"u")))return e[0];throw new W("Received malformed response from HF-Inference document-question-answering API: expected Array<{answer: string, end: number, score: number, start: number}>")}}class DO extends we{async getResponse(e){const n=(i,r,s=0)=>s>r?!1:i.every(a=>Array.isArray(a))?i.every(a=>n(a,r,s+1)):i.every(a=>typeof a=="number");if(Array.isArray(e)&&n(e,3,0))return e;throw new W("Received malformed response from HF-Inference feature-extraction API: expected Array<number[][][] | number[][] | number[] | number>")}}class MO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n.label=="string"&&typeof n.score=="number"))return e;throw new W("Received malformed response from HF-Inference image-classification API: expected Array<{label: string, score: number}>")}}class OO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n.label=="string"&&typeof n.mask=="string"&&(n.score===void 0||typeof n.score=="number")))return e;throw new W("Received malformed response from HF-Inference image-segmentation API: expected Array<{label: string, mask: string, score: number}>")}async preparePayloadAsync(e){return{...e,inputs:gn(new Uint8Array(e.inputs instanceof ArrayBuffer?e.inputs:await e.inputs.arrayBuffer()))}}}class LO extends we{async getResponse(e){if(typeof e?.generated_text!="string")throw new W("Received malformed response from HF-Inference image-to-text API: expected {generated_text: string}");return e}}class jO extends we{async preparePayloadAsync(e){return e.parameters?{...e,inputs:gn(new Uint8Array(e.inputs instanceof ArrayBuffer?e.inputs:await e.inputs.arrayBuffer()))}:{...e,model:e.model,data:e.inputs}}async getResponse(e){if(e instanceof Blob)return e;throw new W("Received malformed response from HF-Inference image-to-image API: expected Blob")}}class FO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n.label=="string"&&typeof n.score=="number"&&typeof n.box.xmin=="number"&&typeof n.box.ymin=="number"&&typeof n.box.xmax=="number"&&typeof n.box.ymax=="number"))return e;throw new W("Received malformed response from HF-Inference object-detection API: expected Array<{label: string, score: number, box: {xmin: number, ymin: number, xmax: number, ymax: number}}>")}}class $O extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n.label=="string"&&typeof n.score=="number"))return e;throw new W("Received malformed response from HF-Inference zero-shot-image-classification API: expected Array<{label: string, score: number}>")}}class zO extends we{async getResponse(e){const n=e?.[0];if(Array.isArray(n)&&n.every(i=>typeof i?.label=="string"&&typeof i.score=="number"))return n;throw new W("Received malformed response from HF-Inference text-classification API: expected Array<{label: string, score: number}>")}}class UO extends we{async getResponse(e){if(Array.isArray(e)?e.every(n=>typeof n=="object"&&!!n&&typeof n.answer=="string"&&typeof n.end=="number"&&typeof n.score=="number"&&typeof n.start=="number"):typeof e=="object"&&e&&typeof e.answer=="string"&&typeof e.end=="number"&&typeof e.score=="number"&&typeof e.start=="number")return Array.isArray(e)?e[0]:e;throw new W("Received malformed response from HF-Inference question-answering API: expected Array<{answer: string, end: number, score: number, start: number}>")}}class BO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n.score=="number"&&typeof n.sequence=="string"&&typeof n.token=="number"&&typeof n.token_str=="string"))return e;throw new W("Received malformed response from HF-Inference fill-mask API: expected Array<{score: number, sequence: string, token: number, token_str: string}>")}}class wg extends we{async getResponse(e){if(typeof e=="object"&&e!==null&&"labels"in e&&"scores"in e&&Array.isArray(e.labels)&&Array.isArray(e.scores)&&e.labels.length===e.scores.length&&e.labels.every(n=>typeof n=="string")&&e.scores.every(n=>typeof n=="number")){const n=e.scores;return e.labels.map((i,r)=>({label:i,score:n[r]}))}if(Array.isArray(e)&&e.every(wg.validateOutputElement))return e;throw new W("Received malformed response from HF-Inference zero-shot-classification API: expected Array<{label: string, score: number}>")}static validateOutputElement(e){return typeof e=="object"&&!!e&&"label"in e&&"score"in e&&typeof e.label=="string"&&typeof e.score=="number"}}class VO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n=="number"))return e;throw new W("Received malformed response from HF-Inference sentence-similarity API: expected Array<number>")}}class Au extends we{static validate(e){return typeof e=="object"&&!!e&&"aggregator"in e&&typeof e.aggregator=="string"&&"answer"in e&&typeof e.answer=="string"&&"cells"in e&&Array.isArray(e.cells)&&e.cells.every(n=>typeof n=="string")&&"coordinates"in e&&Array.isArray(e.coordinates)&&e.coordinates.every(n=>Array.isArray(n)&&n.every(i=>typeof i=="number"))}async getResponse(e){if(Array.isArray(e)&&Array.isArray(e)?e.every(n=>Au.validate(n)):Au.validate(e))return Array.isArray(e)?e[0]:e;throw new W("Received malformed response from HF-Inference table-question-answering API: expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}")}}class qO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n.end=="number"&&typeof n.entity_group=="string"&&typeof n.score=="number"&&typeof n.start=="number"&&typeof n.word=="string"))return e;throw new W("Received malformed response from HF-Inference token-classification API: expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>")}}class HO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n?.translation_text=="string"))return e?.length===1?e?.[0]:e;throw new W("Received malformed response from HF-Inference translation API: expected Array<{translation_text: string}>")}}class WO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n?.summary_text=="string"))return e?.[0];throw new W("Received malformed response from HF-Inference summarization API: expected Array<{summary_text: string}>")}}class KO extends we{async getResponse(e){return e}}class QO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n=="number"))return e;throw new W("Received malformed response from HF-Inference tabular-classification API: expected Array<number>")}}class XO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n=="object"&&!!n&&typeof n?.answer=="string"&&typeof n.score=="number"))return e[0];throw new W("Received malformed response from HF-Inference visual-question-answering API: expected Array<{answer: string, score: number}>")}}class YO extends we{async getResponse(e){if(Array.isArray(e)&&e.every(n=>typeof n=="number"))return e;throw new W("Received malformed response from HF-Inference tabular-regression API: expected Array<number>")}}class JO extends we{async getResponse(e){return e}}let ZO=console;function sl(){return ZO}const Mp=new Map;function GO(t,e){return e?Array.isArray(e)?e:Object.entries(e).map(([n,i])=>({provider:n,hfModelId:t,providerId:i.providerId,status:i.status,task:i.task,adapter:i.adapter,adapterWeightsPath:i.adapterWeightsPath})):[]}async function m_(t,e,n){let i;if(Mp.has(t))i=Mp.get(t);else{const r=`${xg}/api/models/${t}?expand[]=inferenceProviderMapping`,s=await(n?.fetch??fetch)(r,{headers:e?.startsWith("hf_")?{Authorization:`Bearer ${e}`}:{}});if(!s.ok)if(s.headers.get("Content-Type")?.startsWith("application/json")){const o=await s.json();if("error"in o&&typeof o.error=="string")throw new za(`Failed to fetch inference provider mapping for model ${t}: ${o.error}`,{url:r,method:"GET"},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:o})}else throw new za(`Failed to fetch inference provider mapping for model ${t}`,{url:r,method:"GET"},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:await s.text()});let a=null;try{a=await s.json()}catch{throw new za(`Failed to fetch inference provider mapping for model ${t}: malformed API response, invalid JSON`,{url:r,method:"GET"},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:await s.text()})}if(!a?.inferenceProviderMapping)throw new za(`We have not been able to find inference provider information for model ${t}.`,{url:r,method:"GET"},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:await s.text()});i=GO(t,a.inferenceProviderMapping),Mp.set(t,i)}return i}async function eL(t,e){const n=sl();if(Lv[t.provider][t.modelId])return Lv[t.provider][t.modelId];const r=(await m_(t.modelId,t.accessToken,e)).find(s=>s.provider===t.provider);if(r){const s=t.provider==="hf-inference"&&Sf(jv,t.task)?jv:[t.task];if(!Sf(s,r.task))throw new Je(`Model ${t.modelId} is not supported for task ${t.task} and provider ${t.provider}. Supported task: ${r.task}.`);return r.status==="staging"&&n.warn(`Model ${t.modelId} is in staging mode for provider ${t.provider}. Meant for test purposes only.`),r}return null}async function pe(t,e,n){const i=sl();if(n){if(t)throw new Je("Specifying both endpointUrl and provider is not supported.");return"hf-inference"}if(t||(i.log("Defaulting to 'auto' which will select the first provider available for the model, sorted by the user's order in https://hf.co/settings/inference-providers."),t="auto"),t==="auto"){if(!e)throw new Je("Specifying a model is required when provider is 'auto'");t=(await m_(e))[0]?.provider,i.log("Auto selected provider:",t)}if(!t)throw new Je(`No Inference Provider available for model ${e}.`);return t}function kg(t){return new Promise(e=>{setTimeout(()=>e(),t)})}const tL="https://api.us1.bfl.ai";class nL extends Vt{constructor(){super("black-forest-labs",tL)}preparePayload(e){return{...be(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs}}prepareHeaders(e,n){const i={Authorization:e.authMethod!=="provider-key"?`Bearer ${e.accessToken}`:`X-Key ${e.accessToken}`};return n||(i["Content-Type"]="application/json"),i}makeRoute(e){if(!e)throw new Je("Params are required");return`/v1/${e.model}`}async getResponse(e,n,i,r){const s=sl(),a=new URL(e.polling_url);for(let o=0;o<5;o++){await kg(1e3),s.debug(`Polling Black Forest Labs API for the result... ${o+1}/5`),a.searchParams.set("attempt",o.toString(10));const l=await fetch(a,{headers:{"Content-Type":"application/json"}});if(!l.ok)throw new ut("Failed to fetch result from black forest labs API",{url:a.toString(),method:"GET",headers:{"Content-Type":"application/json"}},{requestId:l.headers.get("x-request-id")??"",status:l.status,body:await l.text()});const c=await l.json();if(typeof c=="object"&&c&&"status"in c&&typeof c.status=="string"&&c.status==="Ready"&&"result"in c&&typeof c.result=="object"&&c.result&&"sample"in c.result&&typeof c.result.sample=="string")return r==="json"?c.result:r==="url"?c.result.sample:await(await fetch(c.result.sample)).blob()}throw new W("Timed out while waiting for the result from black forest labs API - aborting after 5 attempts")}}class iL extends qt{constructor(){super("cerebras","https://api.cerebras.ai")}}class rL extends qt{constructor(){super("cohere","https://api.cohere.com")}makeRoute(){return"/compatibility/v1/chat/completions"}}function ns(t){return/^http(s?):/.test(t)||t.startsWith("/")}const Fv=["audio/mpeg","audio/mp4","audio/wav","audio/x-wav"];class wd extends Vt{constructor(e){super("fal-ai",e||"https://fal.run")}preparePayload(e){return e.args}makeRoute(e){return`/${e.model}`}prepareHeaders(e,n){const i={Authorization:e.authMethod!=="provider-key"?`Bearer ${e.accessToken}`:`Key ${e.accessToken}`};return n||(i["Content-Type"]="application/json"),i}}class kd extends wd{async getResponseFromQueueApi(e,n,i){if(!n||!i)throw new Je(`URL and headers are required for ${this.task} task`);if(!e.request_id)throw new W(`Received malformed response from Fal.ai ${this.task} API: no request ID found in the response`);let s=e.status;const a=new URL(n),o=`${a.protocol}//${a.host}${a.host==="router.huggingface.co"?"/fal-ai":""}`,l=new URL(e.response_url).pathname,c=a.search,u=`${o}${l}/status${c}`,d=`${o}${l}${c}`;for(;s!=="COMPLETED";){await kg(500);const m=await fetch(u,{headers:i});if(!m.ok)throw new ut("Failed to fetch response status from fal-ai API",{url:u,method:"GET"},{requestId:m.headers.get("x-request-id")??"",status:m.status,body:await m.text()});try{s=(await m.json()).status}catch{throw new W("Failed to parse status response from fal-ai API: received malformed response")}}const h=await fetch(d,{headers:i});let f;try{f=await h.json()}catch{throw new W("Failed to parse result response from fal-ai API: received malformed response")}return f}}function g_(t,e){return`${xg}/${t}/resolve/main/${e}`}class sL extends wd{preparePayload(e){const n={...be(e.args,["inputs","parameters"]),...e.args.parameters,sync_mode:!0,prompt:e.args.inputs};return e.mapping?.adapter==="lora"&&e.mapping.adapterWeightsPath&&(n.loras=[{path:g_(e.mapping.hfModelId,e.mapping.adapterWeightsPath),scale:1}],e.mapping.providerId==="fal-ai/lora"&&(n.model_name="stabilityai/stable-diffusion-xl-base-1.0")),n}async getResponse(e,n,i,r){if(typeof e=="object"&&"images"in e&&Array.isArray(e.images)&&e.images.length>0&&"url"in e.images[0]&&typeof e.images[0].url=="string")return r==="json"?{...e}:r==="url"?e.images[0].url:await(await fetch(e.images[0].url)).blob();throw new W("Received malformed response from Fal.ai text-to-image API")}}class aL extends kd{constructor(){super("https://queue.fal.run");D(this,"task");this.task="image-to-image"}makeRoute(n){return n.authMethod!=="provider-key"?`/${n.model}?_subdomain=queue`:`/${n.model}`}preparePayload(n){const i=n.args;return n.mapping?.adapter==="lora"&&n.mapping.adapterWeightsPath&&(i.loras=[{path:g_(n.mapping.hfModelId,n.mapping.adapterWeightsPath),scale:1}]),i}async preparePayloadAsync(n){const i=n.inputs instanceof Blob?n.inputs.type:"image/png";return{...be(n,["inputs","parameters"]),image_url:`data:${i};base64,${gn(new Uint8Array(n.inputs instanceof ArrayBuffer?n.inputs:await n.inputs.arrayBuffer()))}`,...n.parameters,...n}}async getResponse(n,i,r){const s=await this.getResponseFromQueueApi(n,i,r);if(typeof s=="object"&&s&&"images"in s&&Array.isArray(s.images)&&s.images.length>0&&typeof s.images[0]=="object"&&s.images[0]&&"url"in s.images[0]&&typeof s.images[0].url=="string"&&ns(s.images[0].url))return await(await fetch(s.images[0].url)).blob();throw new W(`Received malformed response from Fal.ai image-to-image API: expected { images: Array<{ url: string }> } result format, got instead: ${JSON.stringify(s)}`)}}class oL extends kd{constructor(){super("https://queue.fal.run");D(this,"task");this.task="text-to-video"}makeRoute(n){return n.authMethod!=="provider-key"?`/${n.model}?_subdomain=queue`:`/${n.model}`}preparePayload(n){return{...be(n.args,["inputs","parameters"]),...n.args.parameters,prompt:n.args.inputs}}async getResponse(n,i,r){const s=await this.getResponseFromQueueApi(n,i,r);if(typeof s=="object"&&s&&"video"in s&&typeof s.video=="object"&&s.video&&"url"in s.video&&typeof s.video.url=="string"&&ns(s.video.url))return await(await fetch(s.video.url)).blob();throw new W(`Received malformed response from Fal.ai text-to-video API: expected { video: { url: string } } result format, got instead: ${JSON.stringify(s)}`)}}class lL extends kd{constructor(){super("https://queue.fal.run");D(this,"task");this.task="image-to-video"}makeRoute(n){return n.authMethod!=="provider-key"?`/${n.model}?_subdomain=queue`:`/${n.model}`}preparePayload(n){return{...be(n.args,["inputs","parameters"]),...n.args.parameters,image_url:n.args.image_url}}async preparePayloadAsync(n){const i=n.inputs instanceof Blob?n.inputs.type:"image/png";return{...be(n,["inputs","parameters"]),image_url:`data:${i};base64,${gn(new Uint8Array(n.inputs instanceof ArrayBuffer?n.inputs:await n.inputs.arrayBuffer()))}`,...n.parameters,...n}}async getResponse(n,i,r){const s=await this.getResponseFromQueueApi(n,i,r);if(typeof s=="object"&&s!==null&&"video"in s&&typeof s.video=="object"&&s.video!==null&&"url"in s.video&&typeof s.video.url=="string"&&"url"in s.video&&ns(s.video.url))return await(await fetch(s.video.url)).blob();throw new W(`Received malformed response from Fal.ai image‑to‑video API: expected { video: { url: string } }, got: ${JSON.stringify(s)}`)}}class cL extends wd{prepareHeaders(e,n){const i=super.prepareHeaders(e,n);return i["Content-Type"]="application/json",i}async getResponse(e){const n=e;if(typeof n?.text!="string")throw new W(`Received malformed response from Fal.ai Automatic Speech Recognition API: expected { text: string } format, got instead: ${JSON.stringify(e)}`);return{text:n.text}}async preparePayloadAsync(e){const n="data"in e&&e.data instanceof Blob?e.data:"inputs"in e?e.inputs:void 0,i=n?.type;if(!i)throw new Je("Unable to determine the input's content-type. Make sure your are passing a Blob when using provider fal-ai.");if(!Fv.includes(i))throw new Je(`Provider fal-ai does not support blob type ${i} - supported content types are: ${Fv.join(", ")}`);const r=gn(new Uint8Array(await n.arrayBuffer()));return{..."data"in e?be(e,"data"):be(e,"inputs"),audio_url:`data:${i};base64,${r}`}}}class uL extends wd{preparePayload(e){return{...be(e.args,["inputs","parameters"]),...e.args.parameters,text:e.args.inputs}}async getResponse(e){const n=e;if(typeof n?.audio?.url!="string")throw new W(`Received malformed response from Fal.ai Text-to-Speech API: expected { audio: { url: string } } format, got instead: ${JSON.stringify(e)}`);const i=await fetch(n.audio.url);if(!i.ok)throw new ut(`Failed to fetch audio from ${n.audio.url}: ${i.statusText}`,{url:n.audio.url,method:"GET",headers:{"Content-Type":"application/json"}},{requestId:i.headers.get("x-request-id")??"",status:i.status,body:await i.text()});try{return await i.blob()}catch(r){throw new ut(`Failed to fetch audio from ${n.audio.url}: ${r instanceof Error?r.message:String(r)}`,{url:n.audio.url,method:"GET",headers:{"Content-Type":"application/json"}},{requestId:i.headers.get("x-request-id")??"",status:i.status,body:await i.text()})}}}class dL extends kd{constructor(){super("https://queue.fal.run");D(this,"task");this.task="image-segmentation"}makeRoute(n){return n.authMethod!=="provider-key"?`/${n.model}?_subdomain=queue`:`/${n.model}`}preparePayload(n){return{...be(n.args,["inputs","parameters"]),...n.args.parameters,sync_mode:!0}}async preparePayloadAsync(n){const i="data"in n&&n.data instanceof Blob?n.data:"inputs"in n?n.inputs:void 0,r=i instanceof Blob?i.type:"image/png",s=gn(new Uint8Array(i instanceof ArrayBuffer?i:await i.arrayBuffer()));return{...be(n,["inputs","parameters","data"]),...n.parameters,...n,image_url:`data:${r};base64,${s}`,sync_mode:!0}}async getResponse(n,i,r){const s=await this.getResponseFromQueueApi(n,i,r);if(typeof s=="object"&&s!==null&&"image"in s&&typeof s.image=="object"&&s.image!==null&&"url"in s.image&&typeof s.image.url=="string"){const a=await fetch(s.image.url);if(!a.ok)throw new ut(`Failed to fetch segmentation mask from ${s.image.url}`,{url:s.image.url,method:"GET"},{requestId:a.headers.get("x-request-id")??"",status:a.status,body:await a.text()});const l=await(await a.blob()).arrayBuffer();return[{label:"mask",score:1,mask:gn(new Uint8Array(l))}]}throw new W(`Received malformed response from Fal.ai image-segmentation API: expected { image: { url: string } } format, got instead: ${JSON.stringify(n)}`)}}const y_="https://api.featherless.ai";class pL extends qt{constructor(){super("featherless-ai",y_)}}class hL extends pr{constructor(){super("featherless-ai",y_)}preparePayload(e){return{model:e.model,...be(e.args,["inputs","parameters"]),...e.args.parameters?{max_tokens:e.args.parameters.max_new_tokens,...be(e.args.parameters,"max_new_tokens")}:void 0,prompt:e.args.inputs}}async getResponse(e){if(typeof e=="object"&&"choices"in e&&Array.isArray(e?.choices)&&typeof e?.model=="string")return{generated_text:e.choices[0].text};throw new W("Received malformed response from Featherless AI text generation API")}}class fL extends qt{constructor(){super("fireworks-ai","https://api.fireworks.ai")}makeRoute(){return"/inference/v1/chat/completions"}}const v_="https://api.groq.com";class mL extends pr{constructor(){super("groq",v_)}makeRoute(){return"/openai/v1/chat/completions"}}class gL extends qt{constructor(){super("groq",v_)}makeRoute(){return"/openai/v1/chat/completions"}}const Sg="https://api.hyperbolic.xyz";class yL extends qt{constructor(){super("hyperbolic",Sg)}}class vL extends pr{constructor(){super("hyperbolic",Sg)}makeRoute(){return"v1/chat/completions"}preparePayload(e){return{messages:[{content:e.args.inputs,role:"user"}],...e.args.parameters?{max_tokens:e.args.parameters.max_new_tokens,...be(e.args.parameters,"max_new_tokens")}:void 0,...be(e.args,["inputs","parameters"]),model:e.model}}async getResponse(e){if(typeof e=="object"&&"choices"in e&&Array.isArray(e?.choices)&&typeof e?.model=="string")return{generated_text:e.choices[0].message.content};throw new W("Received malformed response from Hyperbolic text generation API")}}class xL extends Vt{constructor(){super("hyperbolic",Sg)}makeRoute(e){return"/v1/images/generations"}preparePayload(e){return{...be(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs,model_name:e.model}}async getResponse(e,n,i,r){if(typeof e=="object"&&"images"in e&&Array.isArray(e.images)&&e.images[0]&&typeof e.images[0].image=="string")return r==="json"?{...e}:r==="url"?`data:image/jpeg;base64,${e.images[0].image}`:fetch(`data:image/jpeg;base64,${e.images[0].image}`).then(s=>s.blob());throw new W("Received malformed response from Hyperbolic text-to-image API")}}const Sd="https://api.studio.nebius.ai";class bL extends qt{constructor(){super("nebius",Sd)}preparePayload(e){const n=super.preparePayload(e),i=e.args.response_format;return i?.type==="json_schema"&&i.json_schema?.schema&&(n.guided_json=i.json_schema.schema),n}}class wL extends pr{constructor(){super("nebius",Sd)}preparePayload(e){return{...e.args,model:e.model,prompt:e.args.inputs}}async getResponse(e){if(typeof e=="object"&&"choices"in e&&Array.isArray(e?.choices)&&e.choices.length>0&&typeof e.choices[0]?.text=="string")return{generated_text:e.choices[0].text};throw new W("Received malformed response from Nebius text generation API")}}class kL extends Vt{constructor(){super("nebius",Sd)}preparePayload(e){return{...be(e.args,["inputs","parameters"]),...e.args.parameters,response_format:"b64_json",prompt:e.args.inputs,model:e.model}}makeRoute(){return"v1/images/generations"}async getResponse(e,n,i,r){if(typeof e=="object"&&"data"in e&&Array.isArray(e.data)&&e.data.length>0&&"b64_json"in e.data[0]&&typeof e.data[0].b64_json=="string"){if(r==="json")return{...e};const s=e.data[0].b64_json;return r==="url"?`data:image/jpeg;base64,${s}`:fetch(`data:image/jpeg;base64,${s}`).then(a=>a.blob())}throw new W("Received malformed response from Nebius text-to-image API")}}class SL extends Vt{constructor(){super("nebius",Sd)}preparePayload(e){return{input:e.args.inputs,model:e.model}}makeRoute(){return"v1/embeddings"}async getResponse(e){return e.data.map(n=>n.embedding)}}const _g="https://api.novita.ai";class _L extends pr{constructor(){super("novita",_g)}makeRoute(){return"/v3/openai/chat/completions"}}class CL extends qt{constructor(){super("novita",_g)}makeRoute(){return"/v3/openai/chat/completions"}}class AL extends Vt{constructor(){super("novita",_g)}makeRoute(e){return`/v3/async/${e.model}`}preparePayload(e){const{num_inference_steps:n,...i}=e.args.parameters??{};return{...be(e.args,["inputs","parameters"]),...i,steps:n,prompt:e.args.inputs}}async getResponse(e,n,i){if(!n||!i)throw new Je("URL and headers are required for text-to-video task");const r=e.task_id;if(!r)throw new W("Received malformed response from Novita text-to-video API: no task ID found in the response");const s=new URL(n),o=`${`${s.protocol}//${s.host}${s.host==="router.huggingface.co"?"/novita":""}`}/v3/async/task-result?task_id=${r}`;let l="",c;for(;l!=="TASK_STATUS_SUCCEED"&&l!=="TASK_STATUS_FAILED";){await kg(500);const u=await fetch(o,{headers:i});if(!u.ok)throw new ut("Failed to fetch task result",{url:o,method:"GET",headers:i},{requestId:u.headers.get("x-request-id")??"",status:u.status,body:await u.text()});try{if(c=await u.json(),c&&typeof c=="object"&&"task"in c&&c.task&&typeof c.task=="object"&&"status"in c.task&&typeof c.task.status=="string")l=c.task.status;else throw new W("Received malformed response from Novita text-to-video API: failed to get task status")}catch{throw new W("Received malformed response from Novita text-to-video API: failed to parse task result")}}if(l==="TASK_STATUS_FAILED")throw new W("Novita text-to-video task failed");if(typeof c=="object"&&c&&"videos"in c&&typeof c.videos=="object"&&c.videos&&Array.isArray(c.videos)&&c.videos.length>0&&"video_url"in c.videos[0]&&typeof c.videos[0].video_url=="string"&&ns(c.videos[0].video_url))return await(await fetch(c.videos[0].video_url)).blob();throw new W(`Received malformed response from Novita text-to-video API: expected { videos: [{ video_url: string }] } format, got instead: ${JSON.stringify(c)}`)}}const x_="https://inference.api.nscale.com";class TL extends qt{constructor(){super("nscale",x_)}}class NL extends Vt{constructor(){super("nscale",x_)}preparePayload(e){return{...be(e.args,["inputs","parameters"]),...e.args.parameters,response_format:"b64_json",prompt:e.args.inputs,model:e.model}}makeRoute(){return"v1/images/generations"}async getResponse(e,n,i,r){if(typeof e=="object"&&"data"in e&&Array.isArray(e.data)&&e.data.length>0&&"b64_json"in e.data[0]&&typeof e.data[0].b64_json=="string"){if(r==="json")return{...e};const s=e.data[0].b64_json;return r==="url"?`data:image/jpeg;base64,${s}`:fetch(`data:image/jpeg;base64,${s}`).then(a=>a.blob())}throw new W("Received malformed response from Nscale text-to-image API")}}const PL="https://api.openai.com";class EL extends qt{constructor(){super("openai",PL,!0)}}const b_="https://oai.endpoints.kepler.ai.cloud.ovh.net";class RL extends qt{constructor(){super("ovhcloud",b_)}}class IL extends pr{constructor(){super("ovhcloud",b_)}preparePayload(e){return{model:e.model,...be(e.args,["inputs","parameters"]),...e.args.parameters?{max_tokens:e.args.parameters.max_new_tokens,...be(e.args.parameters,"max_new_tokens")}:void 0,prompt:e.args.inputs}}async getResponse(e){if(typeof e=="object"&&"choices"in e&&Array.isArray(e?.choices)&&typeof e?.model=="string")return{generated_text:e.choices[0].text};throw new W("Received malformed response from OVHcloud text generation API")}}class _d extends Vt{constructor(e){super("replicate",e||"https://api.replicate.com")}makeRoute(e){return e.model.includes(":")?"v1/predictions":`v1/models/${e.model}/predictions`}preparePayload(e){return{input:{...be(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs},version:e.model.includes(":")?e.model.split(":")[1]:void 0}}prepareHeaders(e,n){const i={Authorization:`Bearer ${e.accessToken}`,Prefer:"wait"};return n||(i["Content-Type"]="application/json"),i}makeUrl(e){const n=this.makeBaseUrl(e);return e.model.includes(":")?`${n}/v1/predictions`:`${n}/v1/models/${e.model}/predictions`}}class DL extends _d{preparePayload(e){return{input:{...be(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs,lora_weights:e.mapping?.adapter==="lora"&&e.mapping.adapterWeightsPath?`https://huggingface.co/${e.mapping.hfModelId}`:void 0},version:e.model.includes(":")?e.model.split(":")[1]:void 0}}async getResponse(e,n,i,r){if(typeof e=="object"&&"output"in e&&Array.isArray(e.output)&&e.output.length>0&&typeof e.output[0]=="string")return r==="json"?{...e}:r==="url"?e.output[0]:await(await fetch(e.output[0])).blob();throw new W("Received malformed response from Replicate text-to-image API")}}class ML extends _d{preparePayload(e){const n=super.preparePayload(e),i=n.input;if(typeof i=="object"&&i!==null&&"prompt"in i){const r=i;r.text=r.prompt,delete r.prompt}return n}async getResponse(e){if(e instanceof Blob)return e;if(e&&typeof e=="object"&&"output"in e){if(typeof e.output=="string")return await(await fetch(e.output)).blob();if(Array.isArray(e.output))return await(await fetch(e.output[0])).blob()}throw new W("Received malformed response from Replicate text-to-speech API")}}class OL extends _d{async getResponse(e){if(typeof e=="object"&&e&&"output"in e&&typeof e.output=="string"&&ns(e.output))return await(await fetch(e.output)).blob();throw new W("Received malformed response from Replicate text-to-video API")}}class LL extends _d{preparePayload(e){return{input:{...be(e.args,["inputs","parameters"]),...e.args.parameters,input_image:e.args.inputs,lora_weights:e.mapping?.adapter==="lora"&&e.mapping.adapterWeightsPath?`https://huggingface.co/${e.mapping.hfModelId}`:void 0},version:e.model.includes(":")?e.model.split(":")[1]:void 0}}async preparePayloadAsync(e){const{inputs:n,...i}=e,r=new Uint8Array(await n.arrayBuffer()),s=gn(r),a=`data:${n.type||"image/jpeg"};base64,${s}`;return{...i,inputs:a}}async getResponse(e){if(typeof e=="object"&&e&&"output"in e&&Array.isArray(e.output)&&e.output.length>0&&typeof e.output[0]=="string")return await(await fetch(e.output[0])).blob();if(typeof e=="object"&&e&&"output"in e&&typeof e.output=="string"&&ns(e.output))return await(await fetch(e.output)).blob();throw new W("Received malformed response from Replicate image-to-image API")}}class jL extends qt{constructor(){super("sambanova","https://api.sambanova.ai")}preparePayload(e){const n=e.args.response_format;return n?.type==="json_schema"&&n.json_schema&&(n.json_schema.strict??!0)&&(n.json_schema.strict=!1),super.preparePayload(e)}}class FL extends Vt{constructor(){super("sambanova","https://api.sambanova.ai")}makeRoute(){return"/v1/embeddings"}async getResponse(e){if(typeof e=="object"&&"data"in e&&Array.isArray(e.data))return e.data.map(n=>n.embedding);throw new W("Received malformed response from Sambanova feature-extraction (embeddings) API")}preparePayload(e){return{model:e.model,input:e.args.inputs,...e.args}}}const Cg="https://api.scaleway.ai";class $L extends qt{constructor(){super("scaleway",Cg)}}class zL extends pr{constructor(){super("scaleway",Cg)}preparePayload(e){return{model:e.model,...e.args,prompt:e.args.inputs}}async getResponse(e){if(typeof e=="object"&&e!==null&&"choices"in e&&Array.isArray(e.choices)&&e.choices.length>0){const n=e.choices[0];if(typeof n=="object"&&n&&"text"in n&&n.text&&typeof n.text=="string")return{generated_text:n.text}}throw new W("Received malformed response from Scaleway text generation API")}}class UL extends Vt{constructor(){super("scaleway",Cg)}preparePayload(e){return{input:e.args.inputs,model:e.model}}makeRoute(){return"v1/embeddings"}async getResponse(e){return e.data.map(n=>n.embedding)}}const Ag="https://api.together.xyz";class BL extends qt{constructor(){super("together",Ag)}preparePayload(e){const n=super.preparePayload(e),i=n.response_format;return i?.type==="json_schema"&&i?.json_schema?.schema&&(n.response_format={type:"json_schema",schema:i.json_schema.schema}),n}}class VL extends pr{constructor(){super("together",Ag)}preparePayload(e){return{model:e.model,...e.args,prompt:e.args.inputs}}async getResponse(e){if(typeof e=="object"&&"choices"in e&&Array.isArray(e?.choices)&&typeof e?.model=="string")return{generated_text:e.choices[0].text};throw new W("Received malformed response from Together text generation API")}}class qL extends Vt{constructor(){super("together",Ag)}makeRoute(){return"v1/images/generations"}preparePayload(e){return{...be(e.args,["inputs","parameters"]),...e.args.parameters,prompt:e.args.inputs,response_format:"base64",model:e.model}}async getResponse(e,n,i,r){if(typeof e=="object"&&"data"in e&&Array.isArray(e.data)&&e.data.length>0&&"b64_json"in e.data[0]&&typeof e.data[0].b64_json=="string"){if(r==="json")return{...e};const s=e.data[0].b64_json;return r==="url"?`data:image/jpeg;base64,${s}`:fetch(`data:image/jpeg;base64,${s}`).then(a=>a.blob())}throw new W("Received malformed response from Together text-to-image API")}}const Op={"black-forest-labs":{"text-to-image":new nL},cerebras:{conversational:new iL},cohere:{conversational:new rL},"fal-ai":{"text-to-image":new sL,"text-to-speech":new uL,"text-to-video":new oL,"image-to-image":new aL,"automatic-speech-recognition":new cL,"image-segmentation":new dL,"image-to-video":new lL},"featherless-ai":{conversational:new pL,"text-generation":new hL},"hf-inference":{"text-to-image":new AO,conversational:new TO,"text-generation":new NO,"text-classification":new zO,"question-answering":new UO,"audio-classification":new PO,"automatic-speech-recognition":new EO,"fill-mask":new BO,"feature-extraction":new DO,"image-classification":new MO,"image-segmentation":new OO,"document-question-answering":new IO,"image-to-text":new LO,"object-detection":new FO,"audio-to-audio":new RO,"zero-shot-image-classification":new $O,"zero-shot-classification":new wg,"image-to-image":new jO,"sentence-similarity":new VO,"table-question-answering":new Au,"tabular-classification":new QO,"text-to-speech":new KO,"token-classification":new qO,translation:new HO,summarization:new WO,"visual-question-answering":new XO,"tabular-regression":new YO,"text-to-audio":new JO},"fireworks-ai":{conversational:new fL},groq:{conversational:new gL,"text-generation":new mL},hyperbolic:{"text-to-image":new xL,conversational:new yL,"text-generation":new vL},nebius:{"text-to-image":new kL,conversational:new bL,"text-generation":new wL,"feature-extraction":new SL},novita:{conversational:new CL,"text-generation":new _L,"text-to-video":new AL},nscale:{"text-to-image":new NL,conversational:new TL},openai:{conversational:new EL},ovhcloud:{conversational:new RL,"text-generation":new IL},replicate:{"text-to-image":new DL,"text-to-speech":new ML,"text-to-video":new OL,"image-to-image":new LL},sambanova:{conversational:new jL,"feature-extraction":new FL},scaleway:{conversational:new $L,"text-generation":new zL,"feature-extraction":new UL},together:{"text-to-image":new qL,conversational:new BL,"text-generation":new VL}};function he(t,e){if(t==="hf-inference"&&!e||t==="auto")return new we;if(!e)throw new Je("you need to provide a task name when using an external provider, e.g. 'text-to-image'");if(!(t in Op))throw new Je(`Provider '${t}' not supported. Available providers: ${Object.keys(Op)}`);const n=Op[t];if(!n||!(e in n))throw new Je(`Task '${e}' not supported for provider '${t}'. Available tasks: ${Object.keys(n??{})}`);return n[e]}const HL="4.7.1",WL="@huggingface/inference";let Lp=null;async function is(t,e,n){const{model:i}=t,r=e.provider,{task:s}=n??{};if(t.endpointUrl&&r!=="hf-inference")throw new Je("Cannot use endpointUrl with a third-party provider.");if(i&&ns(i))throw new Je("Model URLs are no longer supported. Use endpointUrl instead.");if(t.endpointUrl)return $v(i??t.endpointUrl,e,t,void 0,n);if(!i&&!s)throw new Je("No model provided, and no task has been specified.");const a=i??await KL(s);if(e.clientSideRoutingOnly&&!i)throw new Je(`Provider ${r} requires a model ID to be passed directly.`);const o=e.clientSideRoutingOnly?{provider:r,providerId:XL(i,r),hfModelId:i,status:"live",task:s}:await eL({modelId:a,task:s,provider:r,accessToken:t.accessToken},{fetch:n?.fetch});if(!o)throw new Je(`We have not been able to find inference provider information for model ${a}.`);return $v(o.providerId,e,t,o,n)}function $v(t,e,n,i,r){const{accessToken:s,endpointUrl:a,provider:o,model:l,...c}=n,u=e.provider,{includeCredentials:d,task:h,signal:f,billTo:m}=r??{},y=(()=>{if(e.clientSideRoutingOnly&&s&&s.startsWith("hf_"))throw new Je(`Provider ${u} is closed-source and does not support HF tokens.`);return s?s.startsWith("hf_")?"hf-token":"provider-key":d==="include"?"credentials-include":"none"})(),b=a??t,v=e.makeUrl({authMethod:y,model:b,task:h}),x=e.prepareHeaders({accessToken:s,authMethod:y},"data"in n&&!!n.data);m&&(x[_O]=m);const S=[`${WL}/${HL}`,typeof navigator<"u"?navigator.userAgent:void 0].filter(A=>A!==void 0).join(" ");x["User-Agent"]=S;const C=e.makeBody({args:c,model:t,task:h,mapping:i});let _;typeof d=="string"?_=d:d===!0&&(_="include");const T={headers:x,method:"POST",body:C,..._?{credentials:_}:void 0,signal:f};return{url:v,info:T}}async function KL(t){Lp||(Lp=await QL());const e=Lp[t];if((e?.models.length??0)<=0)throw new Je(`No default model defined for task ${t}, please define the model explicitly.`);return e.models[0].id}async function QL(){const t=`${xg}/api/tasks`,e=await fetch(t);if(!e.ok)throw new za("Failed to load tasks definitions from Hugging Face Hub.",{url:t,method:"GET"},{requestId:e.headers.get("x-request-id")??"",status:e.status,body:await e.text()});return await e.json()}function XL(t,e){if(!t.startsWith(`${e}/`))throw new Je(`Models from ${e} must be prefixed by "${e}/". Got "${t}".`);return t.slice(e.length+1)}function YL(t){let e,n,i,r=!1;return function(a){e===void 0?(e=a,n=0,i=-1):e=ZL(e,a);const o=e.length;let l=0;for(;n<o;){r&&(e[n]===10&&(l=++n),r=!1);let c=-1;for(;n<o&&c===-1;++n)switch(e[n]){case 58:i===-1&&(i=n-l);break;case 13:r=!0;case 10:c=n;break}if(c===-1)break;t(e.subarray(l,c),i),l=n,i=-1}l===o?e=void 0:l!==0&&(e=e.subarray(l),n-=l)}}function JL(t,e,n){let i=zv();const r=new TextDecoder;return function(a,o){if(a.length===0)n?.(i),i=zv();else if(o>0){const l=r.decode(a.subarray(0,o)),c=o+(a[o+1]===32?2:1),u=r.decode(a.subarray(c));switch(l){case"data":i.data=i.data?i.data+`
`+u:u;break;case"event":i.event=u;break;case"id":t(i.id=u);break;case"retry":{const d=parseInt(u,10);isNaN(d)||e(i.retry=d);break}}}}}function ZL(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function zv(){return{data:"",event:"",id:"",retry:void 0}}function bn(t){let e=null;if(t instanceof Blob||t instanceof ArrayBuffer)e="[Blob or ArrayBuffer]";else if(typeof t=="string")try{e=JSON.parse(t)}catch{e=t}return e.accessToken&&(e.accessToken="[REDACTED]"),e}async function ge(t,e,n){const{url:i,info:r}=await is(t,e,n),s=await(n?.fetch??fetch)(i,r),a={url:i,info:r};if(n?.retry_on_error!==!1&&s.status===503)return ge(t,e,n);if(!s.ok){const l=s.headers.get("Content-Type");if(["application/json","application/problem+json"].some(u=>l?.startsWith(u))){const u=await s.json();throw[400,422,404,500].includes(s.status)&&n?.chatCompletion?new ut(`Provider ${t.provider} does not seem to support chat completion for model ${t.model} . Error: ${JSON.stringify(u.error)}`,{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:u}):typeof u.error=="string"||typeof u.detail=="string"||typeof u.message=="string"?new ut(`Failed to perform inference: ${u.error??u.detail??u.message}`,{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:u}):new ut("Failed to perform inference: an HTTP error occurred when requesting the provider.",{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:u})}const c=l?.startsWith("text/plain;")?await s.text():void 0;throw new ut(`Failed to perform inference: ${c??"an HTTP error occurred when requesting the provider"}`,{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:c??""})}return s.headers.get("Content-Type")?.startsWith("application/json")?{data:await s.json(),requestContext:a}:{data:await s.blob(),requestContext:a}}async function*Cd(t,e,n){const{url:i,info:r}=await is({...t,stream:!0},e,n),s=await(n?.fetch??fetch)(i,r);if(n?.retry_on_error!==!1&&s.status===503)return yield*Cd(t,e,n);if(!s.ok){if(s.headers.get("Content-Type")?.startsWith("application/json")){const u=await s.json();if([400,422,404,500].includes(s.status)&&n?.chatCompletion)throw new ut(`Provider ${t.provider} does not seem to support chat completion for model ${t.model} . Error: ${JSON.stringify(u.error)}`,{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:u});if(typeof u.error=="string")throw new ut(`Failed to perform inference: ${u.error}`,{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:u});if(u.error&&"message"in u.error&&typeof u.error.message=="string")throw new ut(`Failed to perform inference: ${u.error.message}`,{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:u});if(typeof u.message=="string")throw new ut(`Failed to perform inference: ${u.message}`,{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:u})}throw new ut("Failed to perform inference: an HTTP error occurred when requesting the provider.",{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:""})}if(!s.headers.get("content-type")?.startsWith("text/event-stream"))throw new ut("Failed to perform inference: server does not support event stream content type, it returned "+s.headers.get("content-type"),{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:""});if(!s.body)return;const a=s.body.getReader();let o=[];const c=YL(JL(()=>{},()=>{},u=>{o.push(u)}));try{for(;;){const{done:u,value:d}=await a.read();if(u)return;c(d);for(const h of o)if(h.data.length>0){if(h.data==="[DONE]")return;const f=JSON.parse(h.data);if(typeof f=="object"&&f!==null&&"error"in f){const m=typeof f.error=="string"?f.error:typeof f.error=="object"&&f.error&&"message"in f.error&&typeof f.error.message=="string"?f.error.message:JSON.stringify(f.error);throw new ut(`Failed to perform inference: an occurred while streaming the response: ${m}`,{url:i,method:r.method??"GET",headers:r.headers,body:bn(r.body)},{requestId:s.headers.get("x-request-id")??"",status:s.status,body:f})}yield f}o=[]}}finally{a.releaseLock()}}async function GL(t,e){sl().warn("The request method is deprecated and will be removed in a future version of huggingface.js. Use specific task functions instead.");const i=await pe(t.provider,t.model,t.endpointUrl),r=he(i,e?.task);return(await ge(t,r,e)).data}async function*e4(t,e){sl().warn("The streamingRequest method is deprecated and will be removed in a future version of huggingface.js. Use specific task functions instead.");const i=await pe(t.provider,t.model,t.endpointUrl),r=he(i,e?.task);yield*Cd(t,r,e)}function w_(t){return"data"in t?t:{...be(t,"inputs"),data:t.inputs}}async function t4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"audio-classification"),r=w_(t),{data:s}=await ge(r,i,{...e,task:"audio-classification"});return i.getResponse(s)}async function n4(t,e){const n="inputs"in t?t.model:void 0,i=await pe(t.provider,n),r=he(i,"audio-to-audio"),s=w_(t),{data:a}=await ge(s,r,{...e,task:"audio-to-audio"});return r.getResponse(a)}async function i4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"automatic-speech-recognition"),r=await i.preparePayloadAsync(t),{data:s}=await ge(r,i,{...e,task:"automatic-speech-recognition"});if(!(typeof s?.text=="string"))throw new W("Received malformed response from automatic-speech-recognition API");return i.getResponse(s)}async function r4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"text-to-speech"),{data:r}=await ge(t,i,{...e,task:"text-to-speech"});return i.getResponse(r)}function Tg(t){return"data"in t?t:{...be(t,"inputs"),data:t.inputs}}async function s4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"image-classification"),r=Tg(t),{data:s}=await ge(r,i,{...e,task:"image-classification"});return i.getResponse(s)}async function a4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"image-segmentation"),r=await i.preparePayloadAsync(t),{data:s}=await ge(r,i,{...e,task:"image-segmentation"}),{url:a,info:o}=await is(t,i,{...e,task:"image-segmentation"});return i.getResponse(s,a,o.headers)}async function o4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"image-to-image"),r=await i.preparePayloadAsync(t),{data:s}=await ge(r,i,{...e,task:"image-to-image"}),{url:a,info:o}=await is(t,i,{...e,task:"image-to-image"});return i.getResponse(s,a,o.headers)}async function l4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"image-to-text"),r=Tg(t),{data:s}=await ge(r,i,{...e,task:"image-to-text"});return i.getResponse(s[0])}async function c4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"image-to-video"),r=await i.preparePayloadAsync(t),{data:s}=await ge(r,i,{...e,task:"image-to-video"}),{url:a,info:o}=await is(t,i,{...e,task:"image-to-video"});return i.getResponse(s,a,o.headers)}async function u4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"object-detection"),r=Tg(t),{data:s}=await ge(r,i,{...e,task:"object-detection"});return i.getResponse(s)}async function d4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"text-to-image"),{data:r}=await ge(t,i,{...e,task:"text-to-image"}),{url:s,info:a}=await is(t,i,{...e,task:"text-to-image"});return i.getResponse(r,s,a.headers,e?.outputType)}async function p4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"text-to-video"),{data:r}=await ge(t,i,{...e,task:"text-to-video"}),{url:s,info:a}=await is(t,i,{...e,task:"text-to-video"});return i.getResponse(r,s,a.headers)}async function h4(t){return t.inputs instanceof Blob?{...t,inputs:{image:gn(new Uint8Array(await t.inputs.arrayBuffer()))}}:{...t,inputs:{image:gn(new Uint8Array(t.inputs.image instanceof ArrayBuffer?t.inputs.image:await t.inputs.image.arrayBuffer()))}}}async function f4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"zero-shot-image-classification"),r=await h4(t),{data:s}=await ge(r,i,{...e,task:"zero-shot-image-classification"});return i.getResponse(s)}async function m4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"conversational"),{data:r}=await ge(t,i,{...e,task:"conversational"});return i.getResponse(r)}async function*g4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"conversational");yield*Cd(t,i,{...e,task:"conversational"})}async function y4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"feature-extraction"),{data:r}=await ge(t,i,{...e,task:"feature-extraction"});return i.getResponse(r)}async function v4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"fill-mask"),{data:r}=await ge(t,i,{...e,task:"fill-mask"});return i.getResponse(r)}async function x4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"question-answering"),{data:r}=await ge(t,i,{...e,task:"question-answering"});return i.getResponse(r)}async function b4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"sentence-similarity"),{data:r}=await ge(t,i,{...e,task:"sentence-similarity"});return i.getResponse(r)}async function w4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"summarization"),{data:r}=await ge(t,i,{...e,task:"summarization"});return i.getResponse(r)}async function k4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"table-question-answering"),{data:r}=await ge(t,i,{...e,task:"table-question-answering"});return i.getResponse(r)}async function S4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"text-classification"),{data:r}=await ge(t,i,{...e,task:"text-classification"});return i.getResponse(r)}async function _4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"text-generation"),{data:r}=await ge(t,i,{...e,task:"text-generation"});return i.getResponse(r)}async function*C4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"text-generation");yield*Cd(t,i,{...e,task:"text-generation"})}async function A4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"token-classification"),{data:r}=await ge(t,i,{...e,task:"token-classification"});return i.getResponse(r)}async function T4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"translation"),{data:r}=await ge(t,i,{...e,task:"translation"});return i.getResponse(r)}async function N4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"zero-shot-classification"),{data:r}=await ge(t,i,{...e,task:"zero-shot-classification"});return i.getResponse(r)}async function P4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"document-question-answering"),r={...t,inputs:{question:t.inputs.question,image:gn(new Uint8Array(await t.inputs.image.arrayBuffer()))}},{data:s}=await ge(r,i,{...e,task:"document-question-answering"});return i.getResponse(s)}async function E4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"visual-question-answering"),r={...t,inputs:{question:t.inputs.question,image:gn(new Uint8Array(await t.inputs.image.arrayBuffer()))}},{data:s}=await ge(r,i,{...e,task:"visual-question-answering"});return i.getResponse(s)}async function R4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"tabular-classification"),{data:r}=await ge(t,i,{...e,task:"tabular-classification"});return i.getResponse(r)}async function I4(t,e){const n=await pe(t.provider,t.model,t.endpointUrl),i=he(n,"tabular-regression"),{data:r}=await ge(t,i,{...e,task:"tabular-regression"});return i.getResponse(r)}const D4=Object.freeze(Object.defineProperty({__proto__:null,audioClassification:t4,audioToAudio:n4,automaticSpeechRecognition:i4,chatCompletion:m4,chatCompletionStream:g4,documentQuestionAnswering:P4,featureExtraction:y4,fillMask:v4,imageClassification:s4,imageSegmentation:a4,imageToImage:o4,imageToText:l4,imageToVideo:c4,objectDetection:u4,questionAnswering:x4,request:GL,sentenceSimilarity:b4,streamingRequest:e4,summarization:w4,tableQuestionAnswering:k4,tabularClassification:R4,tabularRegression:I4,textClassification:S4,textGeneration:_4,textGenerationStream:C4,textToImage:d4,textToSpeech:r4,textToVideo:p4,tokenClassification:A4,translation:T4,visualQuestionAnswering:E4,zeroShotClassification:N4,zeroShotImageClassification:f4},Symbol.toStringTag,{value:"Module"}));function M4(t){return Object.entries(t)}class Ng{constructor(e="",n={}){D(this,"accessToken");D(this,"defaultOptions");this.accessToken=e,this.defaultOptions=n;for(const[i,r]of M4(D4))Object.defineProperty(this,i,{enumerable:!1,value:(s,a)=>r({endpointUrl:n.endpointUrl,accessToken:e,...s},{...be(n,["endpointUrl"]),...a})})}endpoint(e){return new Ng(this.accessToken,{...this.defaultOptions,endpointUrl:e})}}class Uv extends Ng{}var O=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Comment:"Comment"}),Ci=class{constructor(t,e){this.value=t,this.type=e}};function Bv(t){return/\w/.test(t)}function Aa(t){return/[0-9]/.test(t)}var O4=[["{%",O.OpenStatement],["%}",O.CloseStatement],["{{",O.OpenExpression],["}}",O.CloseExpression],["(",O.OpenParen],[")",O.CloseParen],["{",O.OpenCurlyBracket],["}",O.CloseCurlyBracket],["[",O.OpenSquareBracket],["]",O.CloseSquareBracket],[",",O.Comma],[".",O.Dot],[":",O.Colon],["|",O.Pipe],["<=",O.ComparisonBinaryOperator],[">=",O.ComparisonBinaryOperator],["==",O.ComparisonBinaryOperator],["!=",O.ComparisonBinaryOperator],["<",O.ComparisonBinaryOperator],[">",O.ComparisonBinaryOperator],["+",O.AdditiveBinaryOperator],["-",O.AdditiveBinaryOperator],["~",O.AdditiveBinaryOperator],["*",O.MultiplicativeBinaryOperator],["/",O.MultiplicativeBinaryOperator],["%",O.MultiplicativeBinaryOperator],["=",O.Equals]],L4=new Map([["n",`
`],["t","	"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function j4(t,e={}){return t.endsWith(`
`)&&(t=t.slice(0,-1)),e.lstrip_blocks&&(t=t.replace(/^[ \t]*({[#%-])/gm,"$1")),e.trim_blocks&&(t=t.replace(/([#%-]})\n/g,"$1")),t.replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{").replace(/-#}\s*/g,"#}").replace(/\s*{#-/g,"{#").replace(/{%\s*(end)?generation\s*%}/gs,"")}function F4(t,e={}){const n=[],i=j4(t,e);let r=0,s=0;const a=o=>{let l="";for(;o(i[r]);){if(i[r]==="\\"){if(++r,r>=i.length)throw new SyntaxError("Unexpected end of input");const c=i[r++],u=L4.get(c);if(u===void 0)throw new SyntaxError(`Unexpected escaped character: ${c}`);l+=u;continue}if(l+=i[r++],r>=i.length)throw new SyntaxError("Unexpected end of input")}return l};e:for(;r<i.length;){const o=n.at(-1)?.type;if(o===void 0||o===O.CloseStatement||o===O.CloseExpression||o===O.Comment){let c="";for(;r<i.length&&!(i[r]==="{"&&(i[r+1]==="%"||i[r+1]==="{"||i[r+1]==="#"));)c+=i[r++];if(c.length>0){n.push(new Ci(c,O.Text));continue}}if(i[r]==="{"&&i[r+1]==="#"){r+=2;let c="";for(;i[r]!=="#"||i[r+1]!=="}";){if(r+2>=i.length)throw new SyntaxError("Missing end of comment tag");c+=i[r++]}n.push(new Ci(c,O.Comment)),r+=2;continue}a(c=>/\s/.test(c));const l=i[r];if(l==="-"||l==="+"){const c=n.at(-1)?.type;if(c===O.Text||c===void 0)throw new SyntaxError(`Unexpected character: ${l}`);switch(c){case O.Identifier:case O.NumericLiteral:case O.StringLiteral:case O.CloseParen:case O.CloseSquareBracket:break;default:{++r;const u=a(Aa);n.push(new Ci(`${l}${u}`,u.length>0?O.NumericLiteral:O.UnaryOperator));continue}}}for(const[c,u]of O4){if(c==="}}"&&s>0)continue;if(i.slice(r,r+c.length)===c){n.push(new Ci(c,u)),u===O.OpenExpression?s=0:u===O.OpenCurlyBracket?++s:u===O.CloseCurlyBracket&&--s,r+=c.length;continue e}}if(l==="'"||l==='"'){++r;const c=a(u=>u!==l);n.push(new Ci(c,O.StringLiteral)),++r;continue}if(Aa(l)){let c=a(Aa);if(i[r]==="."&&Aa(i[r+1])){++r;const u=a(Aa);c=`${c}.${u}`}n.push(new Ci(c,O.NumericLiteral));continue}if(Bv(l)){const c=a(Bv);n.push(new Ci(c,O.Identifier));continue}throw new SyntaxError(`Unexpected character: ${l}`)}return n}var Nn=class{constructor(){D(this,"type","Statement")}},$4=class extends Nn{constructor(e){super();D(this,"type","Program");this.body=e}},z4=class extends Nn{constructor(e,n,i){super();D(this,"type","If");this.test=e,this.body=n,this.alternate=i}},U4=class extends Nn{constructor(e,n,i,r){super();D(this,"type","For");this.loopvar=e,this.iterable=n,this.body=i,this.defaultBlock=r}},B4=class extends Nn{constructor(){super(...arguments);D(this,"type","Break")}},V4=class extends Nn{constructor(){super(...arguments);D(this,"type","Continue")}},q4=class extends Nn{constructor(e,n,i){super();D(this,"type","Set");this.assignee=e,this.value=n,this.body=i}},H4=class extends Nn{constructor(e,n,i){super();D(this,"type","Macro");this.name=e,this.args=n,this.body=i}},W4=class extends Nn{constructor(e){super();D(this,"type","Comment");this.value=e}},tn=class extends Nn{constructor(){super(...arguments);D(this,"type","Expression")}},K4=class extends tn{constructor(e,n,i){super();D(this,"type","MemberExpression");this.object=e,this.property=n,this.computed=i}},Vv=class extends tn{constructor(e,n){super();D(this,"type","CallExpression");this.callee=e,this.args=n}},ds=class extends tn{constructor(e){super();D(this,"type","Identifier");this.value=e}},ua=class extends tn{constructor(e){super();D(this,"type","Literal");this.value=e}},Q4=class extends ua{constructor(){super(...arguments);D(this,"type","IntegerLiteral")}},X4=class extends ua{constructor(){super(...arguments);D(this,"type","FloatLiteral")}},qv=class extends ua{constructor(){super(...arguments);D(this,"type","StringLiteral")}},Y4=class extends ua{constructor(){super(...arguments);D(this,"type","ArrayLiteral")}},Hv=class extends ua{constructor(){super(...arguments);D(this,"type","TupleLiteral")}},J4=class extends ua{constructor(){super(...arguments);D(this,"type","ObjectLiteral")}},Ta=class extends tn{constructor(e,n,i){super();D(this,"type","BinaryExpression");this.operator=e,this.left=n,this.right=i}},Z4=class extends tn{constructor(e,n){super();D(this,"type","FilterExpression");this.operand=e,this.filter=n}},G4=class extends Nn{constructor(e,n){super();D(this,"type","FilterStatement");this.filter=e,this.body=n}},e3=class extends tn{constructor(e,n){super();D(this,"type","SelectExpression");this.lhs=e,this.test=n}},t3=class extends tn{constructor(e,n,i){super();D(this,"type","TestExpression");this.operand=e,this.negate=n,this.test=i}},n3=class extends tn{constructor(e,n){super();D(this,"type","UnaryExpression");this.operator=e,this.argument=n}},i3=class extends tn{constructor(e=void 0,n=void 0,i=void 0){super();D(this,"type","SliceExpression");this.start=e,this.stop=n,this.step=i}},r3=class extends tn{constructor(e,n){super();D(this,"type","KeywordArgumentExpression");this.key=e,this.value=n}},s3=class extends tn{constructor(e){super();D(this,"type","SpreadExpression");this.argument=e}},a3=class extends Nn{constructor(e,n,i){super();D(this,"type","CallStatement");this.call=e,this.callerArgs=n,this.body=i}},o3=class extends tn{constructor(e,n,i){super();D(this,"type","Ternary");this.condition=e,this.trueExpr=n,this.falseExpr=i}};function l3(t){const e=new $4([]);let n=0;function i(P,R){const L=t[n++];if(!L||L.type!==P)throw new Error(`Parser Error: ${R}. ${L.type} !== ${P}.`);return L}function r(P){if(!l(P))throw new SyntaxError(`Expected ${P}`);++n}function s(){switch(t[n].type){case O.Comment:return new W4(t[n++].value);case O.Text:return c();case O.OpenStatement:return u();case O.OpenExpression:return d();default:throw new SyntaxError(`Unexpected token type: ${t[n].type}`)}}function a(...P){return n+P.length<=t.length&&P.every((R,L)=>R===t[n+L].type)}function o(...P){return t[n]?.type===O.OpenStatement&&t[n+1]?.type===O.Identifier&&P.includes(t[n+1]?.value)}function l(...P){return n+P.length<=t.length&&P.every((R,L)=>t[n+L].type==="Identifier"&&R===t[n+L].value)}function c(){return new qv(i(O.Text,"Expected text token").value)}function u(){if(i(O.OpenStatement,"Expected opening statement token"),t[n].type!==O.Identifier)throw new SyntaxError(`Unknown statement, got ${t[n].type}`);const P=t[n].value;let R;switch(P){case"set":++n,R=h();break;case"if":++n,R=f(),i(O.OpenStatement,"Expected {% token"),r("endif"),i(O.CloseStatement,"Expected %} token");break;case"macro":++n,R=m(),i(O.OpenStatement,"Expected {% token"),r("endmacro"),i(O.CloseStatement,"Expected %} token");break;case"for":++n,R=b(),i(O.OpenStatement,"Expected {% token"),r("endfor"),i(O.CloseStatement,"Expected %} token");break;case"call":{++n;let L=null;a(O.OpenParen)&&(L=N());const $=Y();if($.type!=="Identifier")throw new SyntaxError("Expected identifier following call statement");const se=N();i(O.CloseStatement,"Expected closing statement token");const Ge=[];for(;!o("endcall");)Ge.push(s());i(O.OpenStatement,"Expected '{%'"),r("endcall"),i(O.CloseStatement,"Expected closing statement token");const ke=new Vv($,se);R=new a3(ke,L,Ge);break}case"break":++n,i(O.CloseStatement,"Expected closing statement token"),R=new B4;break;case"continue":++n,i(O.CloseStatement,"Expected closing statement token"),R=new V4;break;case"filter":{++n;let L=Y();L instanceof ds&&a(O.OpenParen)&&(L=E(L)),i(O.CloseStatement,"Expected closing statement token");const $=[];for(;!o("endfilter");)$.push(s());i(O.OpenStatement,"Expected '{%'"),r("endfilter"),i(O.CloseStatement,"Expected '%}'"),R=new G4(L,$);break}default:throw new SyntaxError(`Unknown statement type: ${P}`)}return R}function d(){i(O.OpenExpression,"Expected opening expression token");const P=v();return i(O.CloseExpression,"Expected closing expression token"),P}function h(){const P=y();let R=null;const L=[];if(a(O.Equals))++n,R=y();else{for(i(O.CloseStatement,"Expected %} token");!o("endset");)L.push(s());i(O.OpenStatement,"Expected {% token"),r("endset")}return i(O.CloseStatement,"Expected closing statement token"),new q4(P,R,L)}function f(){const P=v();i(O.CloseStatement,"Expected closing statement token");const R=[],L=[];for(;!o("elif","else","endif");)R.push(s());if(o("elif")){++n,++n;const $=f();L.push($)}else if(o("else"))for(++n,++n,i(O.CloseStatement,"Expected closing statement token");!o("endif");)L.push(s());return new z4(P,R,L)}function m(){const P=Y();if(P.type!=="Identifier")throw new SyntaxError("Expected identifier following macro statement");const R=N();i(O.CloseStatement,"Expected closing statement token");const L=[];for(;!o("endmacro");)L.push(s());return new H4(P,R,L)}function y(P=!1){const R=P?Y:v,L=[R()],$=a(O.Comma);for(;$&&(++n,L.push(R()),!!a(O.Comma)););return $?new Hv(L):L[0]}function b(){const P=y(!0);if(!(P instanceof ds||P instanceof Hv))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${P.type} instead`);if(!l("in"))throw new SyntaxError("Expected `in` keyword following loop variable");++n;const R=v();i(O.CloseStatement,"Expected closing statement token");const L=[];for(;!o("endfor","else");)L.push(s());const $=[];if(o("else"))for(++n,++n,i(O.CloseStatement,"Expected closing statement token");!o("endfor");)$.push(s());return new U4(P,R,L,$)}function v(){return x()}function x(){const P=w();if(l("if")){++n;const R=w();if(l("else")){++n;const L=x();return new o3(R,P,L)}else return new e3(P,R)}return P}function w(){let P=S();for(;l("or");){const R=t[n];++n;const L=S();P=new Ta(R,P,L)}return P}function S(){let P=C();for(;l("and");){const R=t[n];++n;const L=C();P=new Ta(R,P,L)}return P}function C(){let P;for(;l("not");){const R=t[n];++n;const L=C();P=new n3(R,L)}return P??_()}function _(){let P=T();for(;;){let R;if(l("not","in"))R=new Ci("not in",O.Identifier),n+=2;else if(l("in"))R=t[n++];else if(a(O.ComparisonBinaryOperator))R=t[n++];else break;const L=T();P=new Ta(R,P,L)}return P}function T(){let P=q();for(;a(O.AdditiveBinaryOperator);){const R=t[n];++n;const L=q();P=new Ta(R,P,L)}return P}function A(){const P=B(Y());return a(O.OpenParen)?E(P):P}function E(P){let R=new Vv(P,N());return R=B(R),a(O.OpenParen)&&(R=E(R)),R}function N(){i(O.OpenParen,"Expected opening parenthesis for arguments list");const P=I();return i(O.CloseParen,"Expected closing parenthesis for arguments list"),P}function I(){const P=[];for(;!a(O.CloseParen);){let R;if(t[n].type===O.MultiplicativeBinaryOperator&&t[n].value==="*"){++n;const L=v();R=new s3(L)}else if(R=v(),a(O.Equals)){if(++n,!(R instanceof ds))throw new SyntaxError("Expected identifier for keyword argument");const L=v();R=new r3(R,L)}P.push(R),a(O.Comma)&&++n}return P}function j(){const P=[];let R=!1;for(;!a(O.CloseSquareBracket);)a(O.Colon)?(P.push(void 0),++n,R=!0):(P.push(v()),a(O.Colon)&&(++n,R=!0));if(P.length===0)throw new SyntaxError("Expected at least one argument for member/slice expression");if(R){if(P.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new i3(...P)}return P[0]}function B(P){for(;a(O.Dot)||a(O.OpenSquareBracket);){const R=t[n];++n;let L;const $=R.type===O.OpenSquareBracket;if($)L=j(),i(O.CloseSquareBracket,"Expected closing square bracket");else if(L=Y(),L.type!=="Identifier")throw new SyntaxError("Expected identifier following dot operator");P=new K4(P,L,$)}return P}function q(){let P=H();for(;a(O.MultiplicativeBinaryOperator);){const R=t[n++],L=H();P=new Ta(R,P,L)}return P}function H(){let P=Q();for(;l("is");){++n;const R=l("not");R&&++n;const L=Y();if(!(L instanceof ds))throw new SyntaxError("Expected identifier for the test");P=new t3(P,R,L)}return P}function Q(){let P=A();for(;a(O.Pipe);){++n;let R=Y();if(!(R instanceof ds))throw new SyntaxError("Expected identifier for the filter");a(O.OpenParen)&&(R=E(R)),P=new Z4(P,R)}return P}function Y(){const P=t[n++];switch(P.type){case O.NumericLiteral:{const R=P.value;return R.includes(".")?new X4(Number(R)):new Q4(Number(R))}case O.StringLiteral:{let R=P.value;for(;a(O.StringLiteral);)R+=t[n++].value;return new qv(R)}case O.Identifier:return new ds(P.value);case O.OpenParen:{const R=y();return i(O.CloseParen,"Expected closing parenthesis, got ${tokens[current].type} instead."),R}case O.OpenSquareBracket:{const R=[];for(;!a(O.CloseSquareBracket);)R.push(v()),a(O.Comma)&&++n;return++n,new Y4(R)}case O.OpenCurlyBracket:{const R=new Map;for(;!a(O.CloseCurlyBracket);){const L=v();i(O.Colon,"Expected colon between key and value in object literal");const $=v();R.set(L,$),a(O.Comma)&&++n}return++n,new J4(R)}default:throw new SyntaxError(`Unexpected token: ${P.type}`)}}for(;n<t.length;)e.body.push(s());return e}function c3(t,e,n=1){e===void 0&&(e=t,t=0);const i=[];for(let r=t;r<e;r+=n)i.push(r);return i}function Wv(t,e,n,i=1){const r=Math.sign(i);r>=0?(e=(e??(e=0))<0?Math.max(t.length+e,0):Math.min(e,t.length),n=(n??(n=t.length))<0?Math.max(t.length+n,0):Math.min(n,t.length)):(e=(e??(e=t.length-1))<0?Math.max(t.length+e,-1):Math.min(e,t.length-1),n=(n??(n=-1))<-1?Math.max(t.length+n,-1):Math.min(n,t.length-1));const s=[];for(let a=e;r*a<r*n;a+=i)s.push(t[a]);return s}function u3(t){return t.replace(/\b\w/g,e=>e.toUpperCase())}function d3(t){return p3(new Date,t)}function p3(t,e){const n=new Intl.DateTimeFormat(void 0,{month:"long"}),i=new Intl.DateTimeFormat(void 0,{month:"short"}),r=s=>s<10?"0"+s:s.toString();return e.replace(/%[YmdbBHM%]/g,s=>{switch(s){case"%Y":return t.getFullYear().toString();case"%m":return r(t.getMonth()+1);case"%d":return r(t.getDate());case"%b":return i.format(t);case"%B":return n.format(t);case"%H":return r(t.getHours());case"%M":return r(t.getMinutes());case"%%":return"%";default:return s}})}function h3(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f3(t,e,n,i){if(i===0)return t;let r=i==null||i<0?1/0:i;const s=e.length===0?new RegExp("(?=)","gu"):new RegExp(h3(e),"gu");return t.replaceAll(s,a=>r>0?(--r,n):a)}var Kv=class extends Error{},Qv=class extends Error{},Wn=class{constructor(t=void 0){D(this,"type","RuntimeValue");D(this,"value");D(this,"builtins",new Map);this.value=t}__bool__(){return new ce(!!this.value)}toString(){return String(this.value)}},re=class extends Wn{constructor(){super(...arguments);D(this,"type","IntegerValue")}},He=class extends Wn{constructor(){super(...arguments);D(this,"type","FloatValue")}toString(){return this.value%1===0?this.value.toFixed(1):this.value.toString()}},K=class extends Wn{constructor(){super(...arguments);D(this,"type","StringValue");D(this,"builtins",new Map([["upper",new $e(()=>new K(this.value.toUpperCase()))],["lower",new $e(()=>new K(this.value.toLowerCase()))],["strip",new $e(()=>new K(this.value.trim()))],["title",new $e(()=>new K(u3(this.value)))],["capitalize",new $e(()=>new K(this.value.charAt(0).toUpperCase()+this.value.slice(1)))],["length",new re(this.value.length)],["rstrip",new $e(()=>new K(this.value.trimEnd()))],["lstrip",new $e(()=>new K(this.value.trimStart()))],["startswith",new $e(e=>{if(e.length===0)throw new Error("startswith() requires at least one argument");const n=e[0];if(n instanceof K)return new ce(this.value.startsWith(n.value));if(n instanceof me){for(const i of n.value){if(!(i instanceof K))throw new Error("startswith() tuple elements must be strings");if(this.value.startsWith(i.value))return new ce(!0)}return new ce(!1)}throw new Error("startswith() argument must be a string or tuple of strings")})],["endswith",new $e(e=>{if(e.length===0)throw new Error("endswith() requires at least one argument");const n=e[0];if(n instanceof K)return new ce(this.value.endsWith(n.value));if(n instanceof me){for(const i of n.value){if(!(i instanceof K))throw new Error("endswith() tuple elements must be strings");if(this.value.endsWith(i.value))return new ce(!0)}return new ce(!1)}throw new Error("endswith() argument must be a string or tuple of strings")})],["split",new $e(e=>{const n=e[0]??new Nt;if(!(n instanceof K||n instanceof Nt))throw new Error("sep argument must be a string or null");const i=e[1]??new re(-1);if(!(i instanceof re))throw new Error("maxsplit argument must be a number");let r=[];if(n instanceof Nt){const s=this.value.trimStart();for(const{0:a,index:o}of s.matchAll(/\S+/g)){if(i.value!==-1&&r.length>=i.value&&o!==void 0){r.push(a+s.slice(o+a.length));break}r.push(a)}}else{if(n.value==="")throw new Error("empty separator");r=this.value.split(n.value),i.value!==-1&&r.length>i.value&&r.push(r.splice(i.value).join(n.value))}return new me(r.map(s=>new K(s)))})],["replace",new $e(e=>{if(e.length<2)throw new Error("replace() requires at least two arguments");const n=e[0],i=e[1];if(!(n instanceof K&&i instanceof K))throw new Error("replace() arguments must be strings");let r;if(e.length>2?e[2].type==="KeywordArgumentsValue"?r=e[2].value.get("count")??new Nt:r=e[2]:r=new Nt,!(r instanceof re||r instanceof Nt))throw new Error("replace() count argument must be a number or null");return new K(f3(this.value,n.value,i.value,r.value))})]]))}},ce=class extends Wn{constructor(){super(...arguments);D(this,"type","BooleanValue")}},Mt=class extends Wn{constructor(){super(...arguments);D(this,"type","ObjectValue");D(this,"builtins",new Map([["get",new $e(([e,n])=>{if(!(e instanceof K))throw new Error(`Object key must be a string: got ${e.type}`);return this.value.get(e.value)??n??new Nt})],["items",new $e(()=>this.items())],["keys",new $e(()=>this.keys())],["values",new $e(()=>this.values())]]))}__bool__(){return new ce(this.value.size>0)}items(){return new me(Array.from(this.value.entries()).map(([e,n])=>new me([new K(e),n])))}keys(){return new me(Array.from(this.value.keys()).map(e=>new K(e)))}values(){return new me(Array.from(this.value.values()))}},jp=class extends Mt{constructor(){super(...arguments);D(this,"type","KeywordArgumentsValue")}},me=class extends Wn{constructor(){super(...arguments);D(this,"type","ArrayValue");D(this,"builtins",new Map([["length",new re(this.value.length)]]))}__bool__(){return new ce(this.value.length>0)}},m3=class extends me{constructor(){super(...arguments);D(this,"type","TupleValue")}},$e=class extends Wn{constructor(){super(...arguments);D(this,"type","FunctionValue")}},Nt=class extends Wn{constructor(){super(...arguments);D(this,"type","NullValue")}},lt=class extends Wn{constructor(){super(...arguments);D(this,"type","UndefinedValue")}},Cr=class{constructor(t){D(this,"variables",new Map([["namespace",new $e(t=>{if(t.length===0)return new Mt(new Map);if(t.length!==1||!(t[0]instanceof Mt))throw new Error("`namespace` expects either zero arguments or a single object argument");return t[0]})]]));D(this,"tests",new Map([["boolean",t=>t.type==="BooleanValue"],["callable",t=>t instanceof $e],["odd",t=>{if(!(t instanceof re))throw new Error(`cannot odd on ${t.type}`);return t.value%2!==0}],["even",t=>{if(!(t instanceof re))throw new Error(`cannot even on ${t.type}`);return t.value%2===0}],["false",t=>t.type==="BooleanValue"&&!t.value],["true",t=>t.type==="BooleanValue"&&t.value],["none",t=>t.type==="NullValue"],["string",t=>t.type==="StringValue"],["number",t=>t instanceof re||t instanceof He],["integer",t=>t instanceof re],["iterable",t=>t.type==="ArrayValue"||t.type==="StringValue"],["mapping",t=>t.type==="ObjectValue"],["lower",t=>{const e=t.value;return t.type==="StringValue"&&e===e.toLowerCase()}],["upper",t=>{const e=t.value;return t.type==="StringValue"&&e===e.toUpperCase()}],["none",t=>t.type==="NullValue"],["defined",t=>t.type!=="UndefinedValue"],["undefined",t=>t.type==="UndefinedValue"],["equalto",(t,e)=>t.value===e.value],["eq",(t,e)=>t.value===e.value]]));this.parent=t}set(t,e){return this.declareVariable(t,kc(e))}declareVariable(t,e){if(this.variables.has(t))throw new SyntaxError(`Variable already declared: ${t}`);return this.variables.set(t,e),e}setVariable(t,e){return this.variables.set(t,e),e}resolve(t){if(this.variables.has(t))return this;if(this.parent)return this.parent.resolve(t);throw new Error(`Unknown variable: ${t}`)}lookupVariable(t){try{return this.resolve(t).variables.get(t)??new lt}catch{return new lt}}};function g3(t){t.set("false",!1),t.set("true",!0),t.set("none",null),t.set("raise_exception",e=>{throw new Error(e)}),t.set("range",c3),t.set("strftime_now",d3),t.set("True",!0),t.set("False",!1),t.set("None",null)}var y3=class{constructor(t){D(this,"global");this.global=t??new Cr}run(t){return this.evaluate(t,this.global)}evaluateBinaryExpression(t,e){const n=this.evaluate(t.left,e);switch(t.operator.value){case"and":return n.__bool__().value?this.evaluate(t.right,e):n;case"or":return n.__bool__().value?n:this.evaluate(t.right,e)}const i=this.evaluate(t.right,e);switch(t.operator.value){case"==":return new ce(n.value==i.value);case"!=":return new ce(n.value!=i.value)}if(n instanceof lt||i instanceof lt){if(i instanceof lt&&["in","not in"].includes(t.operator.value))return new ce(t.operator.value==="not in");throw new Error(`Cannot perform operation ${t.operator.value} on undefined values`)}else{if(n instanceof Nt||i instanceof Nt)throw new Error("Cannot perform operation on null values");if(t.operator.value==="~")return new K(n.value.toString()+i.value.toString());if((n instanceof re||n instanceof He)&&(i instanceof re||i instanceof He)){const r=n.value,s=i.value;switch(t.operator.value){case"+":case"-":case"*":{const a=t.operator.value==="+"?r+s:t.operator.value==="-"?r-s:r*s;return n instanceof He||i instanceof He?new He(a):new re(a)}case"/":return new He(r/s);case"%":{const a=r%s;return n instanceof He||i instanceof He?new He(a):new re(a)}case"<":return new ce(r<s);case">":return new ce(r>s);case">=":return new ce(r>=s);case"<=":return new ce(r<=s)}}else if(n instanceof me&&i instanceof me)switch(t.operator.value){case"+":return new me(n.value.concat(i.value))}else if(i instanceof me){const r=i.value.find(s=>s.value===n.value)!==void 0;switch(t.operator.value){case"in":return new ce(r);case"not in":return new ce(!r)}}}if(n instanceof K||i instanceof K)switch(t.operator.value){case"+":return new K(n.value.toString()+i.value.toString())}if(n instanceof K&&i instanceof K)switch(t.operator.value){case"in":return new ce(i.value.includes(n.value));case"not in":return new ce(!i.value.includes(n.value))}if(n instanceof K&&i instanceof Mt)switch(t.operator.value){case"in":return new ce(i.value.has(n.value));case"not in":return new ce(!i.value.has(n.value))}throw new SyntaxError(`Unknown operator "${t.operator.value}" between ${n.type} and ${i.type}`)}evaluateArguments(t,e){const n=[],i=new Map;for(const r of t)if(r.type==="SpreadExpression"){const s=r,a=this.evaluate(s.argument,e);if(!(a instanceof me))throw new Error(`Cannot unpack non-iterable type: ${a.type}`);for(const o of a.value)n.push(o)}else if(r.type==="KeywordArgumentExpression"){const s=r;i.set(s.key.value,this.evaluate(s.value,e))}else{if(i.size>0)throw new Error("Positional arguments must come before keyword arguments");n.push(this.evaluate(r,e))}return[n,i]}applyFilter(t,e,n){if(e.type==="Identifier"){const i=e;if(i.value==="tojson")return new K(ao(t));if(t instanceof me)switch(i.value){case"list":return t;case"first":return t.value[0];case"last":return t.value[t.value.length-1];case"length":return new re(t.value.length);case"reverse":return new me(t.value.reverse());case"sort":return new me(t.value.sort((r,s)=>{if(r.type!==s.type)throw new Error(`Cannot compare different types: ${r.type} and ${s.type}`);switch(r.type){case"IntegerValue":case"FloatValue":return r.value-s.value;case"StringValue":return r.value.localeCompare(s.value);default:throw new Error(`Cannot compare type: ${r.type}`)}}));case"join":return new K(t.value.map(r=>r.value).join(""));case"string":return new K(ao(t));case"unique":{const r=new Set,s=[];for(const a of t.value)r.has(a.value)||(r.add(a.value),s.push(a));return new me(s)}default:throw new Error(`Unknown ArrayValue filter: ${i.value}`)}else if(t instanceof K)switch(i.value){case"length":case"upper":case"lower":case"title":case"capitalize":{const r=t.builtins.get(i.value);if(r instanceof $e)return r.value([],n);if(r instanceof re)return r;throw new Error(`Unknown StringValue filter: ${i.value}`)}case"trim":return new K(t.value.trim());case"indent":return new K(t.value.split(`
`).map((r,s)=>s===0||r.length===0?r:"    "+r).join(`
`));case"join":case"string":return t;case"int":{const r=parseInt(t.value,10);return new re(isNaN(r)?0:r)}case"float":{const r=parseFloat(t.value);return new He(isNaN(r)?0:r)}default:throw new Error(`Unknown StringValue filter: ${i.value}`)}else if(t instanceof re||t instanceof He)switch(i.value){case"abs":return t instanceof re?new re(Math.abs(t.value)):new He(Math.abs(t.value));case"int":return new re(Math.floor(t.value));case"float":return new He(t.value);default:throw new Error(`Unknown NumericValue filter: ${i.value}`)}else if(t instanceof Mt)switch(i.value){case"items":return new me(Array.from(t.value.entries()).map(([r,s])=>new me([new K(r),s])));case"length":return new re(t.value.size);default:throw new Error(`Unknown ObjectValue filter: ${i.value}`)}else if(t instanceof ce)switch(i.value){case"bool":return new ce(t.value);case"int":return new re(t.value?1:0);case"float":return new He(t.value?1:0);case"string":return new K(t.value?"true":"false");default:throw new Error(`Unknown BooleanValue filter: ${i.value}`)}throw new Error(`Cannot apply filter "${i.value}" to type: ${t.type}`)}else if(e.type==="CallExpression"){const i=e;if(i.callee.type!=="Identifier")throw new Error(`Unknown filter: ${i.callee.type}`);const r=i.callee.value;if(r==="tojson"){const[,s]=this.evaluateArguments(i.args,n),a=s.get("indent")??new Nt;if(!(a instanceof re||a instanceof Nt))throw new Error("If set, indent must be a number");return new K(ao(t,a.value))}else if(r==="join"){let s;if(t instanceof K)s=Array.from(t.value);else if(t instanceof me)s=t.value.map(c=>c.value);else throw new Error(`Cannot apply filter "${r}" to type: ${t.type}`);const[a,o]=this.evaluateArguments(i.args,n),l=a.at(0)??o.get("separator")??new K("");if(!(l instanceof K))throw new Error("separator must be a string");return new K(s.join(l.value))}else if(r==="int"||r==="float"){const[s,a]=this.evaluateArguments(i.args,n),o=s.at(0)??a.get("default")??(r==="int"?new re(0):new He(0));if(t instanceof K){const l=r==="int"?parseInt(t.value,10):parseFloat(t.value);return isNaN(l)?o:r==="int"?new re(l):new He(l)}else{if(t instanceof re||t instanceof He)return t;if(t instanceof ce)return r==="int"?new re(t.value?1:0):new He(t.value?1:0);throw new Error(`Cannot apply filter "${r}" to type: ${t.type}`)}}else if(r==="default"){const[s,a]=this.evaluateArguments(i.args,n),o=s[0]??new K(""),l=s[1]??a.get("boolean")??new ce(!1);if(!(l instanceof ce))throw new Error("`default` filter flag must be a boolean");return t instanceof lt||l.value&&!t.__bool__().value?o:t}if(t instanceof me){switch(r){case"selectattr":case"rejectattr":{const s=r==="selectattr";if(t.value.some(d=>!(d instanceof Mt)))throw new Error(`\`${r}\` can only be applied to array of objects`);if(i.args.some(d=>d.type!=="StringLiteral"))throw new Error(`arguments of \`${r}\` must be strings`);const[a,o,l]=i.args.map(d=>this.evaluate(d,n));let c;if(o){const d=n.tests.get(o.value);if(!d)throw new Error(`Unknown test: ${o.value}`);c=d}else c=(...d)=>d[0].__bool__().value;const u=t.value.filter(d=>{const h=d.value.get(a.value),f=h?c(h,l):!1;return s?f:!f});return new me(u)}case"map":{const[,s]=this.evaluateArguments(i.args,n);if(s.has("attribute")){const a=s.get("attribute");if(!(a instanceof K))throw new Error("attribute must be a string");const o=s.get("default"),l=t.value.map(c=>{if(!(c instanceof Mt))throw new Error("items in map must be an object");return c.value.get(a.value)??o??new lt});return new me(l)}else throw new Error("`map` expressions without `attribute` set are not currently supported.")}}throw new Error(`Unknown ArrayValue filter: ${r}`)}else if(t instanceof K){switch(r){case"indent":{const[s,a]=this.evaluateArguments(i.args,n),o=s.at(0)??a.get("width")??new re(4);if(!(o instanceof re))throw new Error("width must be a number");const l=s.at(1)??a.get("first")??new ce(!1),c=s.at(2)??a.get("blank")??new ce(!1),u=t.value.split(`
`),d=" ".repeat(o.value),h=u.map((f,m)=>!l.value&&m===0||!c.value&&f.length===0?f:d+f);return new K(h.join(`
`))}case"replace":{const s=t.builtins.get("replace");if(!(s instanceof $e))throw new Error("replace filter not available");const[a,o]=this.evaluateArguments(i.args,n);return s.value([...a,new jp(o)],n)}}throw new Error(`Unknown StringValue filter: ${r}`)}else throw new Error(`Cannot apply filter "${r}" to type: ${t.type}`)}throw new Error(`Unknown filter: ${e.type}`)}evaluateFilterExpression(t,e){const n=this.evaluate(t.operand,e);return this.applyFilter(n,t.filter,e)}evaluateTestExpression(t,e){const n=this.evaluate(t.operand,e),i=e.tests.get(t.test.value);if(!i)throw new Error(`Unknown test: ${t.test.value}`);const r=i(n);return new ce(t.negate?!r:r)}evaluateSelectExpression(t,e){return this.evaluate(t.test,e).__bool__().value?this.evaluate(t.lhs,e):new lt}evaluateUnaryExpression(t,e){const n=this.evaluate(t.argument,e);switch(t.operator.value){case"not":return new ce(!n.value);default:throw new SyntaxError(`Unknown operator: ${t.operator.value}`)}}evaluateTernaryExpression(t,e){return this.evaluate(t.condition,e).__bool__().value?this.evaluate(t.trueExpr,e):this.evaluate(t.falseExpr,e)}evalProgram(t,e){return this.evaluateBlock(t.body,e)}evaluateBlock(t,e){let n="";for(const i of t){const r=this.evaluate(i,e);r.type!=="NullValue"&&r.type!=="UndefinedValue"&&(n+=r.toString())}return new K(n)}evaluateIdentifier(t,e){return e.lookupVariable(t.value)}evaluateCallExpression(t,e){const[n,i]=this.evaluateArguments(t.args,e);i.size>0&&n.push(new jp(i));const r=this.evaluate(t.callee,e);if(r.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${r.type}`);return r.value(n,e)}evaluateSliceExpression(t,e,n){if(!(t instanceof me||t instanceof K))throw new Error("Slice object must be an array or string");const i=this.evaluate(e.start,n),r=this.evaluate(e.stop,n),s=this.evaluate(e.step,n);if(!(i instanceof re||i instanceof lt))throw new Error("Slice start must be numeric or undefined");if(!(r instanceof re||r instanceof lt))throw new Error("Slice stop must be numeric or undefined");if(!(s instanceof re||s instanceof lt))throw new Error("Slice step must be numeric or undefined");return t instanceof me?new me(Wv(t.value,i.value,r.value,s.value)):new K(Wv(Array.from(t.value),i.value,r.value,s.value).join(""))}evaluateMemberExpression(t,e){const n=this.evaluate(t.object,e);let i;if(t.computed){if(t.property.type==="SliceExpression")return this.evaluateSliceExpression(n,t.property,e);i=this.evaluate(t.property,e)}else i=new K(t.property.value);let r;if(n instanceof Mt){if(!(i instanceof K))throw new Error(`Cannot access property with non-string: got ${i.type}`);r=n.value.get(i.value)??n.builtins.get(i.value)}else if(n instanceof me||n instanceof K)if(i instanceof re)r=n.value.at(i.value),n instanceof K&&(r=new K(n.value.at(i.value)));else if(i instanceof K)r=n.builtins.get(i.value);else throw new Error(`Cannot access property with non-string/non-number: got ${i.type}`);else{if(!(i instanceof K))throw new Error(`Cannot access property with non-string: got ${i.type}`);r=n.builtins.get(i.value)}return r instanceof Wn?r:new lt}evaluateSet(t,e){const n=t.value?this.evaluate(t.value,e):this.evaluateBlock(t.body,e);if(t.assignee.type==="Identifier"){const i=t.assignee.value;e.setVariable(i,n)}else if(t.assignee.type==="TupleLiteral"){const i=t.assignee;if(!(n instanceof me))throw new Error(`Cannot unpack non-iterable type in set: ${n.type}`);const r=n.value;if(r.length!==i.value.length)throw new Error(`Too ${i.value.length>r.length?"few":"many"} items to unpack in set`);for(let s=0;s<i.value.length;++s){const a=i.value[s];if(a.type!=="Identifier")throw new Error(`Cannot unpack to non-identifier in set: ${a.type}`);e.setVariable(a.value,r[s])}}else if(t.assignee.type==="MemberExpression"){const i=t.assignee,r=this.evaluate(i.object,e);if(!(r instanceof Mt))throw new Error("Cannot assign to member of non-object");if(i.property.type!=="Identifier")throw new Error("Cannot assign to member with non-identifier property");r.value.set(i.property.value,n)}else throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(t.assignee)}`);return new Nt}evaluateIf(t,e){const n=this.evaluate(t.test,e);return this.evaluateBlock(n.__bool__().value?t.body:t.alternate,e)}evaluateFor(t,e){const n=new Cr(e);let i,r;if(t.iterable.type==="SelectExpression"){const c=t.iterable;r=this.evaluate(c.lhs,n),i=c.test}else r=this.evaluate(t.iterable,n);if(!(r instanceof me||r instanceof Mt))throw new Error(`Expected iterable or object type in for loop: got ${r.type}`);r instanceof Mt&&(r=r.keys());const s=[],a=[];for(let c=0;c<r.value.length;++c){const u=new Cr(n),d=r.value[c];let h;if(t.loopvar.type==="Identifier")h=f=>f.setVariable(t.loopvar.value,d);else if(t.loopvar.type==="TupleLiteral"){const f=t.loopvar;if(d.type!=="ArrayValue")throw new Error(`Cannot unpack non-iterable type: ${d.type}`);const m=d;if(f.value.length!==m.value.length)throw new Error(`Too ${f.value.length>m.value.length?"few":"many"} items to unpack`);h=y=>{for(let b=0;b<f.value.length;++b){if(f.value[b].type!=="Identifier")throw new Error(`Cannot unpack non-identifier type: ${f.value[b].type}`);y.setVariable(f.value[b].value,m.value[b])}}}else throw new Error(`Invalid loop variable(s): ${t.loopvar.type}`);i&&(h(u),!this.evaluate(i,u).__bool__().value)||(s.push(d),a.push(h))}let o="",l=!0;for(let c=0;c<s.length;++c){const u=new Map([["index",new re(c+1)],["index0",new re(c)],["revindex",new re(s.length-c)],["revindex0",new re(s.length-c-1)],["first",new ce(c===0)],["last",new ce(c===s.length-1)],["length",new re(s.length)],["previtem",c>0?s[c-1]:new lt],["nextitem",c<s.length-1?s[c+1]:new lt]]);n.setVariable("loop",new Mt(u)),a[c](n);try{const d=this.evaluateBlock(t.body,n);o+=d.value}catch(d){if(d instanceof Qv)continue;if(d instanceof Kv)break;throw d}l=!1}if(l){const c=this.evaluateBlock(t.defaultBlock,n);o+=c.value}return new K(o)}evaluateMacro(t,e){return e.setVariable(t.name.value,new $e((n,i)=>{const r=new Cr(i);n=n.slice();let s;n.at(-1)?.type==="KeywordArgumentsValue"&&(s=n.pop());for(let a=0;a<t.args.length;++a){const o=t.args[a],l=n[a];if(o.type==="Identifier"){const c=o;if(!l)throw new Error(`Missing positional argument: ${c.value}`);r.setVariable(c.value,l)}else if(o.type==="KeywordArgumentExpression"){const c=o,u=l??s?.value.get(c.key.value)??this.evaluate(c.value,r);r.setVariable(c.key.value,u)}else throw new Error(`Unknown argument type: ${o.type}`)}return this.evaluateBlock(t.body,r)})),new Nt}evaluateCallStatement(t,e){const n=new $e((o,l)=>{const c=new Cr(l);if(t.callerArgs)for(let u=0;u<t.callerArgs.length;++u){const d=t.callerArgs[u];if(d.type!=="Identifier")throw new Error(`Caller parameter must be an identifier, got ${d.type}`);c.setVariable(d.value,o[u]??new lt)}return this.evaluateBlock(t.body,c)}),[i,r]=this.evaluateArguments(t.call.args,e);i.push(new jp(r));const s=this.evaluate(t.call.callee,e);if(s.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${s.type}`);const a=new Cr(e);return a.setVariable("caller",n),s.value(i,a)}evaluateFilterStatement(t,e){const n=this.evaluateBlock(t.body,e);return this.applyFilter(n,t.filter,e)}evaluate(t,e){if(!t)return new lt;switch(t.type){case"Program":return this.evalProgram(t,e);case"Set":return this.evaluateSet(t,e);case"If":return this.evaluateIf(t,e);case"For":return this.evaluateFor(t,e);case"Macro":return this.evaluateMacro(t,e);case"CallStatement":return this.evaluateCallStatement(t,e);case"Break":throw new Kv;case"Continue":throw new Qv;case"IntegerLiteral":return new re(t.value);case"FloatLiteral":return new He(t.value);case"StringLiteral":return new K(t.value);case"ArrayLiteral":return new me(t.value.map(n=>this.evaluate(n,e)));case"TupleLiteral":return new m3(t.value.map(n=>this.evaluate(n,e)));case"ObjectLiteral":{const n=new Map;for(const[i,r]of t.value){const s=this.evaluate(i,e);if(!(s instanceof K))throw new Error(`Object keys must be strings: got ${s.type}`);n.set(s.value,this.evaluate(r,e))}return new Mt(n)}case"Identifier":return this.evaluateIdentifier(t,e);case"CallExpression":return this.evaluateCallExpression(t,e);case"MemberExpression":return this.evaluateMemberExpression(t,e);case"UnaryExpression":return this.evaluateUnaryExpression(t,e);case"BinaryExpression":return this.evaluateBinaryExpression(t,e);case"FilterExpression":return this.evaluateFilterExpression(t,e);case"FilterStatement":return this.evaluateFilterStatement(t,e);case"TestExpression":return this.evaluateTestExpression(t,e);case"SelectExpression":return this.evaluateSelectExpression(t,e);case"Ternary":return this.evaluateTernaryExpression(t,e);case"Comment":return new Nt;default:throw new SyntaxError(`Unknown node type: ${t.type}`)}}};function kc(t){switch(typeof t){case"number":return Number.isInteger(t)?new re(t):new He(t);case"string":return new K(t);case"boolean":return new ce(t);case"undefined":return new lt;case"object":return t===null?new Nt:Array.isArray(t)?new me(t.map(kc)):new Mt(new Map(Object.entries(t).map(([e,n])=>[e,kc(n)])));case"function":return new $e((e,n)=>{const i=t(...e.map(r=>r.value))??null;return kc(i)});default:throw new Error(`Cannot convert to runtime value: ${t}`)}}function ao(t,e,n){const i=n??0;switch(t.type){case"NullValue":case"UndefinedValue":return"null";case"IntegerValue":case"FloatValue":case"StringValue":case"BooleanValue":return JSON.stringify(t.value);case"ArrayValue":case"ObjectValue":{const r=e?" ".repeat(e):"",s=`
`+r.repeat(i),a=s+r;if(t.type==="ArrayValue"){const o=t.value.map(l=>ao(l,e,i+1));return e?`[${a}${o.join(`,${a}`)}${s}]`:`[${o.join(", ")}]`}else{const o=Array.from(t.value.entries()).map(([l,c])=>{const u=`"${l}": ${ao(c,e,i+1)}`;return e?`${a}${u}`:u});return e?`{${o.join(",")}${s}}`:`{${o.join(", ")}}`}}default:throw new Error(`Cannot convert to JSON: ${t.type}`)}}var nt=`
`,v3="{%- ",x3=" -%}";function b3(t){switch(t.operator.type){case"MultiplicativeBinaryOperator":return 4;case"AdditiveBinaryOperator":return 3;case"ComparisonBinaryOperator":return 2;case"Identifier":return t.operator.value==="and"?1:t.operator.value==="in"||t.operator.value==="not in"?2:0}return 0}function w3(t,e="	"){const n=typeof e=="number"?" ".repeat(e):e;return Cn(t.body,0,n).replace(/\n$/,"")}function dt(...t){return v3+t.join(" ")+x3}function Cn(t,e,n){return t.map(i=>k3(i,e,n)).join(nt)}function k3(t,e,n){const i=n.repeat(e);switch(t.type){case"Program":return Cn(t.body,e,n);case"If":return S3(t,e,n);case"For":return _3(t,e,n);case"Set":return C3(t,e,n);case"Macro":return A3(t,e,n);case"Break":return i+dt("break");case"Continue":return i+dt("continue");case"CallStatement":return T3(t,e,n);case"FilterStatement":return N3(t,e,n);case"Comment":return i+"{# "+t.value+" #}";default:return i+"{{- "+oe(t)+" -}}"}}function S3(t,e,n){const i=n.repeat(e),r=[];let s=t;for(;s&&(r.push({test:s.test,body:s.body}),s.alternate.length===1&&s.alternate[0].type==="If");)s=s.alternate[0];let a=i+dt("if",oe(r[0].test))+nt+Cn(r[0].body,e+1,n);for(let o=1;o<r.length;++o)a+=nt+i+dt("elif",oe(r[o].test))+nt+Cn(r[o].body,e+1,n);return s&&s.alternate.length>0&&(a+=nt+i+dt("else")+nt+Cn(s.alternate,e+1,n)),a+=nt+i+dt("endif"),a}function _3(t,e,n){const i=n.repeat(e);let r="";if(t.iterable.type==="SelectExpression"){const a=t.iterable;r=`${oe(a.lhs)} if ${oe(a.test)}`}else r=oe(t.iterable);let s=i+dt("for",oe(t.loopvar),"in",r)+nt+Cn(t.body,e+1,n);return t.defaultBlock.length>0&&(s+=nt+i+dt("else")+nt+Cn(t.defaultBlock,e+1,n)),s+=nt+i+dt("endfor"),s}function C3(t,e,n){const i=n.repeat(e),r=oe(t.assignee),s=t.value?oe(t.value):"",a=i+dt("set",`${r}${t.value?" = "+s:""}`);return t.body.length===0?a:a+nt+Cn(t.body,e+1,n)+nt+i+dt("endset")}function A3(t,e,n){const i=n.repeat(e),r=t.args.map(oe).join(", ");return i+dt("macro",`${t.name.value}(${r})`)+nt+Cn(t.body,e+1,n)+nt+i+dt("endmacro")}function T3(t,e,n){const i=n.repeat(e),r=t.callerArgs&&t.callerArgs.length>0?`(${t.callerArgs.map(oe).join(", ")})`:"",s=oe(t.call);let a=i+dt(`call${r}`,s)+nt;return a+=Cn(t.body,e+1,n)+nt,a+=i+dt("endcall"),a}function N3(t,e,n){const i=n.repeat(e),r=t.filter.type==="Identifier"?t.filter.value:oe(t.filter);let s=i+dt("filter",r)+nt;return s+=Cn(t.body,e+1,n)+nt,s+=i+dt("endfilter"),s}function oe(t,e=-1){switch(t.type){case"SpreadExpression":return`*${oe(t.argument)}`;case"Identifier":return t.value;case"IntegerLiteral":return`${t.value}`;case"FloatLiteral":return`${t.value}`;case"StringLiteral":return JSON.stringify(t.value);case"BinaryExpression":{const n=t,i=b3(n),r=oe(n.left,i),s=oe(n.right,i+1),a=`${r} ${n.operator.value} ${s}`;return i<e?`(${a})`:a}case"UnaryExpression":{const n=t;return n.operator.value+(n.operator.value==="not"?" ":"")+oe(n.argument,1/0)}case"CallExpression":{const n=t,i=n.args.map(oe).join(", ");return`${oe(n.callee)}(${i})`}case"MemberExpression":{const n=t;let i=oe(n.object);["Identifier","MemberExpression","CallExpression","StringLiteral","IntegerLiteral","FloatLiteral","ArrayLiteral","TupleLiteral","ObjectLiteral"].includes(n.object.type)||(i=`(${i})`);let r=oe(n.property);return!n.computed&&n.property.type!=="Identifier"&&(r=`(${r})`),n.computed?`${i}[${r}]`:`${i}.${r}`}case"FilterExpression":{const n=t,i=oe(n.operand,1/0);return n.filter.type==="CallExpression"?`${i} | ${oe(n.filter)}`:`${i} | ${n.filter.value}`}case"SelectExpression":{const n=t;return`${oe(n.lhs)} if ${oe(n.test)}`}case"TestExpression":{const n=t;return`${oe(n.operand)} is${n.negate?" not":""} ${n.test.value}`}case"ArrayLiteral":case"TupleLiteral":{const n=t.value.map(oe),i=t.type==="ArrayLiteral"?"[]":"()";return`${i[0]}${n.join(", ")}${i[1]}`}case"ObjectLiteral":return`{${Array.from(t.value.entries()).map(([i,r])=>`${oe(i)}: ${oe(r)}`).join(", ")}}`;case"SliceExpression":{const n=t,i=n.start?oe(n.start):"",r=n.stop?oe(n.stop):"",s=n.step?`:${oe(n.step)}`:"";return`${i}:${r}${s}`}case"KeywordArgumentExpression":{const n=t;return`${n.key.value}=${oe(n.value)}`}case"Ternary":{const n=t,i=`${oe(n.trueExpr)} if ${oe(n.condition,0)} else ${oe(n.falseExpr)}`;return e>-1?`(${i})`:i}default:throw new Error(`Unknown expression type: ${t.type}`)}}var P3=class{constructor(t){D(this,"parsed");const e=F4(t,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=l3(e)}render(t){const e=new Cr;if(g3(e),t)for(const[r,s]of Object.entries(t))e.set(r,s);return new y3(e).run(this.parsed).value}format(t){return w3(this.parsed,t?.indent||"	")}};const E3={"adapter-transformers":["question-answering","text-classification","token-classification"],allennlp:["question-answering"],asteroid:["audio-to-audio"],bertopic:["text-classification"],diffusers:["image-to-image","text-to-image"],doctr:["object-detection"],espnet:["text-to-speech","automatic-speech-recognition"],fairseq:["text-to-speech","audio-to-audio"],fastai:["image-classification"],fasttext:["feature-extraction","text-classification"],flair:["token-classification"],k2:["automatic-speech-recognition"],keras:["image-classification"],nemo:["automatic-speech-recognition"],open_clip:["zero-shot-classification","zero-shot-image-classification"],paddlenlp:["fill-mask","summarization","zero-shot-classification"],peft:["text-generation"],"pyannote-audio":["automatic-speech-recognition"],"sentence-transformers":["feature-extraction","sentence-similarity"],setfit:["text-classification"],sklearn:["tabular-classification","tabular-regression","text-classification"],spacy:["token-classification","text-classification","sentence-similarity"],"span-marker":["token-classification"],speechbrain:["audio-classification","audio-to-audio","automatic-speech-recognition","text-to-speech"],stanza:["token-classification"],timm:["image-classification","image-feature-extraction"],transformers:["audio-classification","automatic-speech-recognition","depth-estimation","document-question-answering","feature-extraction","fill-mask","image-classification","image-feature-extraction","image-segmentation","image-to-image","image-to-text","image-text-to-text","mask-generation","object-detection","question-answering","summarization","table-question-answering","text-classification","text-generation","text-to-audio","text-to-speech","token-classification","translation","video-classification","visual-question-answering","zero-shot-classification","zero-shot-image-classification","zero-shot-object-detection"],mindspore:["image-classification"]},Pg={"text-classification":{name:"Text Classification",subtasks:[{type:"acceptability-classification",name:"Acceptability Classification"},{type:"entity-linking-classification",name:"Entity Linking Classification"},{type:"fact-checking",name:"Fact Checking"},{type:"intent-classification",name:"Intent Classification"},{type:"language-identification",name:"Language Identification"},{type:"multi-class-classification",name:"Multi Class Classification"},{type:"multi-label-classification",name:"Multi Label Classification"},{type:"multi-input-text-classification",name:"Multi-input Text Classification"},{type:"natural-language-inference",name:"Natural Language Inference"},{type:"semantic-similarity-classification",name:"Semantic Similarity Classification"},{type:"sentiment-classification",name:"Sentiment Classification"},{type:"topic-classification",name:"Topic Classification"},{type:"semantic-similarity-scoring",name:"Semantic Similarity Scoring"},{type:"sentiment-scoring",name:"Sentiment Scoring"},{type:"sentiment-analysis",name:"Sentiment Analysis"},{type:"hate-speech-detection",name:"Hate Speech Detection"},{type:"text-scoring",name:"Text Scoring"}],modality:"nlp"},"token-classification":{name:"Token Classification",subtasks:[{type:"named-entity-recognition",name:"Named Entity Recognition"},{type:"part-of-speech",name:"Part of Speech"},{type:"parsing",name:"Parsing"},{type:"lemmatization",name:"Lemmatization"},{type:"word-sense-disambiguation",name:"Word Sense Disambiguation"},{type:"coreference-resolution",name:"Coreference-resolution"}],modality:"nlp"},"table-question-answering":{name:"Table Question Answering",modality:"nlp"},"question-answering":{name:"Question Answering",subtasks:[{type:"extractive-qa",name:"Extractive QA"},{type:"open-domain-qa",name:"Open Domain QA"},{type:"closed-domain-qa",name:"Closed Domain QA"}],modality:"nlp"},"zero-shot-classification":{name:"Zero-Shot Classification",modality:"nlp"},translation:{name:"Translation",modality:"nlp"},summarization:{name:"Summarization",subtasks:[{type:"news-articles-summarization",name:"News Articles Summarization"},{type:"news-articles-headline-generation",name:"News Articles Headline Generation"}],modality:"nlp"},"feature-extraction":{name:"Feature Extraction",modality:"nlp"},"text-generation":{name:"Text Generation",subtasks:[{type:"dialogue-modeling",name:"Dialogue Modeling"},{type:"dialogue-generation",name:"Dialogue Generation"},{type:"conversational",name:"Conversational"},{type:"language-modeling",name:"Language Modeling"},{type:"text-simplification",name:"Text simplification"},{type:"explanation-generation",name:"Explanation Generation"},{type:"abstractive-qa",name:"Abstractive QA"},{type:"open-domain-abstractive-qa",name:"Open Domain Abstractive QA"},{type:"closed-domain-qa",name:"Closed Domain QA"},{type:"open-book-qa",name:"Open Book QA"},{type:"closed-book-qa",name:"Closed Book QA"},{type:"text2text-generation",name:"Text2Text Generation"}],modality:"nlp"},"fill-mask":{name:"Fill-Mask",subtasks:[{type:"slot-filling",name:"Slot Filling"},{type:"masked-language-modeling",name:"Masked Language Modeling"}],modality:"nlp"},"sentence-similarity":{name:"Sentence Similarity",modality:"nlp"},"text-to-speech":{name:"Text-to-Speech",modality:"audio"},"text-to-audio":{name:"Text-to-Audio",modality:"audio"},"automatic-speech-recognition":{name:"Automatic Speech Recognition",modality:"audio"},"audio-to-audio":{name:"Audio-to-Audio",modality:"audio"},"audio-classification":{name:"Audio Classification",subtasks:[{type:"keyword-spotting",name:"Keyword Spotting"},{type:"speaker-identification",name:"Speaker Identification"},{type:"audio-intent-classification",name:"Audio Intent Classification"},{type:"audio-emotion-recognition",name:"Audio Emotion Recognition"},{type:"audio-language-identification",name:"Audio Language Identification"}],modality:"audio"},"audio-text-to-text":{name:"Audio-Text-to-Text",modality:"multimodal",hideInDatasets:!0},"voice-activity-detection":{name:"Voice Activity Detection",modality:"audio"},"depth-estimation":{name:"Depth Estimation",modality:"cv"},"image-classification":{name:"Image Classification",subtasks:[{type:"multi-label-image-classification",name:"Multi Label Image Classification"},{type:"multi-class-image-classification",name:"Multi Class Image Classification"}],modality:"cv"},"object-detection":{name:"Object Detection",subtasks:[{type:"face-detection",name:"Face Detection"},{type:"vehicle-detection",name:"Vehicle Detection"}],modality:"cv"},"image-segmentation":{name:"Image Segmentation",subtasks:[{type:"instance-segmentation",name:"Instance Segmentation"},{type:"semantic-segmentation",name:"Semantic Segmentation"},{type:"panoptic-segmentation",name:"Panoptic Segmentation"}],modality:"cv"},"text-to-image":{name:"Text-to-Image",modality:"cv"},"image-to-text":{name:"Image-to-Text",subtasks:[{type:"image-captioning",name:"Image Captioning"}],modality:"cv"},"image-to-image":{name:"Image-to-Image",subtasks:[{type:"image-inpainting",name:"Image Inpainting"},{type:"image-colorization",name:"Image Colorization"},{type:"super-resolution",name:"Super Resolution"}],modality:"cv"},"image-to-video":{name:"Image-to-Video",modality:"cv"},"unconditional-image-generation":{name:"Unconditional Image Generation",modality:"cv"},"video-classification":{name:"Video Classification",modality:"cv"},"reinforcement-learning":{name:"Reinforcement Learning",modality:"rl"},robotics:{name:"Robotics",modality:"rl",subtasks:[{type:"grasping",name:"Grasping"},{type:"task-planning",name:"Task Planning"}]},"tabular-classification":{name:"Tabular Classification",modality:"tabular",subtasks:[{type:"tabular-multi-class-classification",name:"Tabular Multi Class Classification"},{type:"tabular-multi-label-classification",name:"Tabular Multi Label Classification"}]},"tabular-regression":{name:"Tabular Regression",modality:"tabular",subtasks:[{type:"tabular-single-column-regression",name:"Tabular Single Column Regression"}]},"tabular-to-text":{name:"Tabular to Text",modality:"tabular",subtasks:[{type:"rdf-to-text",name:"RDF to text"}],hideInModels:!0},"table-to-text":{name:"Table to Text",modality:"nlp",hideInModels:!0},"multiple-choice":{name:"Multiple Choice",subtasks:[{type:"multiple-choice-qa",name:"Multiple Choice QA"},{type:"multiple-choice-coreference-resolution",name:"Multiple Choice Coreference Resolution"}],modality:"nlp",hideInModels:!0},"text-ranking":{name:"Text Ranking",modality:"nlp"},"text-retrieval":{name:"Text Retrieval",subtasks:[{type:"document-retrieval",name:"Document Retrieval"},{type:"utterance-retrieval",name:"Utterance Retrieval"},{type:"entity-linking-retrieval",name:"Entity Linking Retrieval"},{type:"fact-checking-retrieval",name:"Fact Checking Retrieval"}],modality:"nlp",hideInModels:!0},"time-series-forecasting":{name:"Time Series Forecasting",modality:"tabular",subtasks:[{type:"univariate-time-series-forecasting",name:"Univariate Time Series Forecasting"},{type:"multivariate-time-series-forecasting",name:"Multivariate Time Series Forecasting"}]},"text-to-video":{name:"Text-to-Video",modality:"cv"},"image-text-to-text":{name:"Image-Text-to-Text",modality:"multimodal"},"visual-question-answering":{name:"Visual Question Answering",subtasks:[{type:"visual-question-answering",name:"Visual Question Answering"}],modality:"multimodal"},"document-question-answering":{name:"Document Question Answering",subtasks:[{type:"document-question-answering",name:"Document Question Answering"}],modality:"multimodal",hideInDatasets:!0},"zero-shot-image-classification":{name:"Zero-Shot Image Classification",modality:"cv"},"graph-ml":{name:"Graph Machine Learning",modality:"other"},"mask-generation":{name:"Mask Generation",modality:"cv"},"zero-shot-object-detection":{name:"Zero-Shot Object Detection",modality:"cv"},"text-to-3d":{name:"Text-to-3D",modality:"cv"},"image-to-3d":{name:"Image-to-3D",modality:"cv"},"image-feature-extraction":{name:"Image Feature Extraction",modality:"cv"},"video-text-to-text":{name:"Video-Text-to-Text",modality:"multimodal",hideInDatasets:!1},"keypoint-detection":{name:"Keypoint Detection",subtasks:[{type:"pose-estimation",name:"Pose Estimation"}],modality:"cv",hideInDatasets:!0},"visual-document-retrieval":{name:"Visual Document Retrieval",modality:"multimodal"},"any-to-any":{name:"Any-to-Any",modality:"multimodal"},"video-to-video":{name:"Video-to-Video",modality:"cv",hideInDatasets:!0},other:{name:"Other",modality:"other",hideInModels:!0,hideInDatasets:!0}},R3=Object.keys(Pg);Object.values(Pg).flatMap(t=>"subtasks"in t?t.subtasks:[]).map(t=>t.type);new Set(R3);const I3={datasets:[{description:"A dataset with multiple modality input and output pairs.",id:"PKU-Alignment/align-anything"}],demo:{inputs:[{filename:"any-to-any-input.jpg",type:"img"},{label:"Text Prompt",content:"What is the significance of this place?",type:"text"}],outputs:[{label:"Generated Text",content:"The place in the picture is Osaka Castle, located in Osaka, Japan. Osaka Castle is a historic castle that was originally built in the 16th century by Toyotomi Hideyoshi, a powerful warlord of the time. It is one of the most famous landmarks in Osaka and is known for its distinctive white walls and black roof tiles. The castle has been rebuilt several times over the centuries and is now a popular tourist attraction, offering visitors a glimpse into Japan's rich history and culture.",type:"text"},{filename:"any-to-any-output.wav",type:"audio"}]},metrics:[],models:[{description:"Strong model that can take in video, audio, image, text and output text and natural speech.",id:"Qwen/Qwen2.5-Omni-7B"},{description:"Robust model that can take in image and text and generate image and text.",id:"OmniGen2/OmniGen2"},{description:"Any-to-any model with speech, video, audio, image and text understanding capabilities.",id:"openbmb/MiniCPM-o-2_6"},{description:"A model that can understand image and text and generate image and text.",id:"ByteDance-Seed/BAGEL-7B-MoT"}],spaces:[{description:"An application to chat with an any-to-any (image & text) model.",id:"OmniGen2/OmniGen2"}],summary:"Any-to-any models can understand two or more modalities and output two or more modalities.",widgetModels:[],youtubeId:""},D3={datasets:[{description:"A benchmark of 10 different audio tasks.",id:"s3prl/superb"},{description:"A dataset of YouTube clips and their sound categories.",id:"agkphysics/AudioSet"}],demo:{inputs:[{filename:"audio.wav",type:"audio"}],outputs:[{data:[{label:"Up",score:.2},{label:"Down",score:.8}],type:"chart"}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"An easy-to-use model for command recognition.",id:"speechbrain/google_speech_command_xvector"},{description:"An emotion recognition model.",id:"ehcalabres/wav2vec2-lg-xlsr-en-speech-emotion-recognition"},{description:"A language identification model.",id:"facebook/mms-lid-126"}],spaces:[{description:"An application that can classify music into different genre.",id:"kurianbenoy/audioclassification"}],summary:"Audio classification is the task of assigning a label or class to a given audio. It can be used for recognizing which command a user is giving or the emotion of a statement, as well as identifying a speaker.",widgetModels:["MIT/ast-finetuned-audioset-10-10-0.4593"],youtubeId:"KWwzcmG98Ds"},M3={datasets:[{description:"512-element X-vector embeddings of speakers from CMU ARCTIC dataset.",id:"Matthijs/cmu-arctic-xvectors"}],demo:{inputs:[{filename:"input.wav",type:"audio"}],outputs:[{filename:"label-0.wav",type:"audio"},{filename:"label-1.wav",type:"audio"}]},metrics:[{description:"The Signal-to-Noise ratio is the relationship between the target signal level and the background noise level. It is calculated as the logarithm of the target signal divided by the background noise, in decibels.",id:"snri"},{description:"The Signal-to-Distortion ratio is the relationship between the target signal and the sum of noise, interference, and artifact errors",id:"sdri"}],models:[{description:"A speech enhancement model.",id:"ResembleAI/resemble-enhance"},{description:"A model that can change the voice in a speech recording.",id:"microsoft/speecht5_vc"}],spaces:[{description:"An application for speech separation.",id:"younver/speechbrain-speech-separation"},{description:"An application for audio style transfer.",id:"nakas/audio-diffusion_style_transfer"}],summary:"Audio-to-Audio is a family of tasks in which the input is an audio and the output is one or multiple generated audios. Some example tasks are speech enhancement and source separation.",widgetModels:["speechbrain/sepformer-wham"],youtubeId:"iohj7nCCYoM"},O3={datasets:[{description:"31,175 hours of multilingual audio-text dataset in 108 languages.",id:"mozilla-foundation/common_voice_17_0"},{description:"Multilingual and diverse audio dataset with 101k hours of audio.",id:"amphion/Emilia-Dataset"},{description:"A dataset with 44.6k hours of English speaker data and 6k hours of other language speakers.",id:"parler-tts/mls_eng"},{description:"A multilingual audio dataset with 370K hours of audio.",id:"espnet/yodas"}],demo:{inputs:[{filename:"input.flac",type:"audio"}],outputs:[{label:"Transcript",content:"Going along slushy country roads and speaking to damp audiences in...",type:"text"}]},metrics:[{description:"",id:"wer"},{description:"",id:"cer"}],models:[{description:"A powerful ASR model by OpenAI.",id:"openai/whisper-large-v3"},{description:"A good generic speech model by MetaAI for fine-tuning.",id:"facebook/w2v-bert-2.0"},{description:"An end-to-end model that performs ASR and Speech Translation by MetaAI.",id:"facebook/seamless-m4t-v2-large"},{description:"A powerful multilingual ASR and Speech Translation model by Nvidia.",id:"nvidia/canary-1b"},{description:"Powerful speaker diarization model.",id:"pyannote/speaker-diarization-3.1"}],spaces:[{description:"A powerful general-purpose speech recognition application.",id:"hf-audio/whisper-large-v3"},{description:"Latest ASR model from Useful Sensors.",id:"mrfakename/Moonshinex"},{description:"A high quality speech and text translation model by Meta.",id:"facebook/seamless_m4t"},{description:"A powerful multilingual ASR and Speech Translation model by Nvidia",id:"nvidia/canary-1b"}],summary:"Automatic Speech Recognition (ASR), also known as Speech to Text (STT), is the task of transcribing a given audio to text. It has many applications, such as voice user interfaces.",widgetModels:["openai/whisper-large-v3"],youtubeId:"TksaY_FDgnk"},L3={datasets:[{description:"Largest document understanding dataset.",id:"HuggingFaceM4/Docmatix"},{description:"Dataset from the 2020 DocVQA challenge. The documents are taken from the UCSF Industry Documents Library.",id:"eliolio/docvqa"}],demo:{inputs:[{label:"Question",content:"What is the idea behind the consumer relations efficiency team?",type:"text"},{filename:"document-question-answering-input.png",type:"img"}],outputs:[{label:"Answer",content:"Balance cost efficiency with quality customer service",type:"text"}]},metrics:[{description:"The evaluation metric for the DocVQA challenge is the Average Normalized Levenshtein Similarity (ANLS). This metric is flexible to character regognition errors and compares the predicted answer with the ground truth answer.",id:"anls"},{description:"Exact Match is a metric based on the strict character match of the predicted answer and the right answer. For answers predicted correctly, the Exact Match will be 1. Even if only one character is different, Exact Match will be 0",id:"exact-match"}],models:[{description:"A robust document question answering model.",id:"impira/layoutlm-document-qa"},{description:"A document question answering model specialized in invoices.",id:"impira/layoutlm-invoices"},{description:"A special model for OCR-free document question answering.",id:"microsoft/udop-large"},{description:"A powerful model for document question answering.",id:"google/pix2struct-docvqa-large"}],spaces:[{description:"A robust document question answering application.",id:"impira/docquery"},{description:"An application that can answer questions from invoices.",id:"impira/invoices"},{description:"An application to compare different document question answering models.",id:"merve/compare_docvqa_models"}],summary:"Document Question Answering (also known as Document Visual Question Answering) is the task of answering questions on document images. Document question answering models take a (document, question) pair as input and return an answer in natural language. Models usually rely on multi-modal features, combining text, position of words (bounding-boxes) and image.",widgetModels:["impira/layoutlm-invoices"],youtubeId:""},j3={datasets:[{description:"Wikipedia dataset containing cleaned articles of all languages. Can be used to train `feature-extraction` models.",id:"wikipedia"}],demo:{inputs:[{label:"Input",content:"India, officially the Republic of India, is a country in South Asia.",type:"text"}],outputs:[{table:[["Dimension 1","Dimension 2","Dimension 3"],["2.583383083343506","2.757075071334839","0.9023529887199402"],["8.29393482208252","1.1071064472198486","2.03399395942688"],["-0.7754912972450256","-1.647324562072754","-0.6113331913948059"],["0.07087723910808563","1.5942802429199219","1.4610432386398315"]],type:"tabular"}]},metrics:[],models:[{description:"A powerful feature extraction model for natural language processing tasks.",id:"thenlper/gte-large"},{description:"A strong feature extraction model for retrieval.",id:"Alibaba-NLP/gte-Qwen1.5-7B-instruct"}],spaces:[{description:"A leaderboard to rank text feature extraction models based on a benchmark.",id:"mteb/leaderboard"},{description:"A leaderboard to rank best feature extraction models based on human feedback.",id:"mteb/arena"}],summary:"Feature extraction is the task of extracting features learnt in a model.",widgetModels:["facebook/bart-base"]},F3={datasets:[{description:"A common dataset that is used to train models for many languages.",id:"wikipedia"},{description:"A large English dataset with text crawled from the web.",id:"c4"}],demo:{inputs:[{label:"Input",content:"The <mask> barked at me",type:"text"}],outputs:[{type:"chart",data:[{label:"wolf",score:.487},{label:"dog",score:.061},{label:"cat",score:.058},{label:"fox",score:.047},{label:"squirrel",score:.025}]}]},metrics:[{description:"Cross Entropy is a metric that calculates the difference between two probability distributions. Each probability distribution is the distribution of predicted words",id:"cross_entropy"},{description:"Perplexity is the exponential of the cross-entropy loss. It evaluates the probabilities assigned to the next word by the model. Lower perplexity indicates better performance",id:"perplexity"}],models:[{description:"State-of-the-art masked language model.",id:"answerdotai/ModernBERT-large"},{description:"A multilingual model trained on 100 languages.",id:"FacebookAI/xlm-roberta-base"}],spaces:[],summary:"Masked language modeling is the task of masking some of the words in a sentence and predicting which words should replace those masks. These models are useful when we want to get a statistical understanding of the language in which the model is trained in.",widgetModels:["distilroberta-base"],youtubeId:"mqElG5QJWUg"},$3={datasets:[{description:"Benchmark dataset used for image classification with images that belong to 100 classes.",id:"cifar100"},{description:"Dataset consisting of images of garments.",id:"fashion_mnist"}],demo:{inputs:[{filename:"image-classification-input.jpeg",type:"img"}],outputs:[{type:"chart",data:[{label:"Egyptian cat",score:.514},{label:"Tabby cat",score:.193},{label:"Tiger cat",score:.068}]}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"A strong image classification model.",id:"google/vit-base-patch16-224"},{description:"A robust image classification model.",id:"facebook/deit-base-distilled-patch16-224"},{description:"A strong image classification model.",id:"facebook/convnext-large-224"}],spaces:[{description:"A leaderboard to evaluate different image classification models.",id:"timm/leaderboard"}],summary:"Image classification is the task of assigning a label or class to an entire image. Images are expected to have only one class for each image. Image classification models take an image as input and return a prediction about which class the image belongs to.",widgetModels:["google/vit-base-patch16-224"],youtubeId:"tjAIM7BOYhw"},z3={datasets:[{description:"ImageNet-1K is a image classification dataset in which images are used to train image-feature-extraction models.",id:"imagenet-1k"}],demo:{inputs:[{filename:"mask-generation-input.png",type:"img"}],outputs:[{table:[["Dimension 1","Dimension 2","Dimension 3"],["0.21236686408519745","1.0919708013534546","0.8512550592422485"],["0.809657871723175","-0.18544459342956543","-0.7851548194885254"],["1.3103108406066895","-0.2479034662246704","-0.9107287526130676"],["1.8536205291748047","-0.36419737339019775","0.09717650711536407"]],type:"tabular"}]},metrics:[],models:[{description:"A powerful image feature extraction model.",id:"timm/vit_large_patch14_dinov2.lvd142m"},{description:"A strong image feature extraction model.",id:"nvidia/MambaVision-T-1K"},{description:"A robust image feature extraction model.",id:"facebook/dino-vitb16"},{description:"Cutting-edge image feature extraction model.",id:"apple/aimv2-large-patch14-336-distilled"},{description:"Strong image feature extraction model that can be used on images and documents.",id:"OpenGVLab/InternViT-6B-448px-V1-2"}],spaces:[{description:"A leaderboard to evaluate different image-feature-extraction models on classification performances",id:"timm/leaderboard"}],summary:"Image feature extraction is the task of extracting features learnt in a computer vision model.",widgetModels:[]},U3={datasets:[{description:"Synthetic dataset, for image relighting",id:"VIDIT"},{description:"Multiple images of celebrities, used for facial expression translation",id:"huggan/CelebA-faces"},{description:"12M image-caption pairs.",id:"Spawning/PD12M"}],demo:{inputs:[{filename:"image-to-image-input.jpeg",type:"img"}],outputs:[{filename:"image-to-image-output.png",type:"img"}]},isPlaceholder:!1,metrics:[{description:"Peak Signal to Noise Ratio (PSNR) is an approximation of the human perception, considering the ratio of the absolute intensity with respect to the variations. Measured in dB, a high value indicates a high fidelity.",id:"PSNR"},{description:"Structural Similarity Index (SSIM) is a perceptual metric which compares the luminance, contrast and structure of two images. The values of SSIM range between -1 and 1, and higher values indicate closer resemblance to the original image.",id:"SSIM"},{description:"Inception Score (IS) is an analysis of the labels predicted by an image classification model when presented with a sample of the generated images.",id:"IS"}],models:[{description:"An image-to-image model to improve image resolution.",id:"fal/AuraSR-v2"},{description:"Powerful image editing model.",id:"black-forest-labs/FLUX.1-Kontext-dev"},{description:"Virtual try-on model.",id:"yisol/IDM-VTON"},{description:"Image re-lighting model.",id:"kontext-community/relighting-kontext-dev-lora-v3"},{description:"Strong model for inpainting and outpainting.",id:"black-forest-labs/FLUX.1-Fill-dev"},{description:"Strong model for image editing using depth maps.",id:"black-forest-labs/FLUX.1-Depth-dev-lora"}],spaces:[{description:"Image editing application.",id:"black-forest-labs/FLUX.1-Kontext-Dev"},{description:"Image relighting application.",id:"lllyasviel/iclight-v2-vary"},{description:"An application for image upscaling.",id:"jasperai/Flux.1-dev-Controlnet-Upscaler"}],summary:"Image-to-image is the task of transforming an input image through a variety of possible manipulations and enhancements, such as super-resolution, image inpainting, colorization, and more.",widgetModels:["Qwen/Qwen-Image"],youtubeId:""},B3={datasets:[{description:"Dataset from 12M image-text of Reddit",id:"red_caps"},{description:"Dataset from 3.3M images of Google",id:"datasets/conceptual_captions"}],demo:{inputs:[{filename:"savanna.jpg",type:"img"}],outputs:[{label:"Detailed description",content:"a herd of giraffes and zebras grazing in a field",type:"text"}]},metrics:[],models:[{description:"Strong OCR model.",id:"allenai/olmOCR-7B-0725"},{description:"Powerful image captioning model.",id:"fancyfeast/llama-joycaption-beta-one-hf-llava"}],spaces:[{description:"SVG generator app from images.",id:"multimodalart/OmniSVG-3B"},{description:"An application that converts documents to markdown.",id:"numind/NuMarkdown-8B-Thinking"},{description:"An application that can caption images.",id:"fancyfeast/joy-caption-beta-one"}],summary:"Image to text models output a text from a given image. Image captioning or optical character recognition can be considered as the most common applications of image to text.",widgetModels:["Salesforce/blip-image-captioning-large"],youtubeId:""},V3={datasets:[{description:"Instructions composed of image and text.",id:"liuhaotian/LLaVA-Instruct-150K"},{description:"Collection of image-text pairs on scientific topics.",id:"DAMO-NLP-SG/multimodal_textbook"},{description:"A collection of datasets made for model fine-tuning.",id:"HuggingFaceM4/the_cauldron"},{description:"Screenshots of websites with their HTML/CSS codes.",id:"HuggingFaceM4/WebSight"}],demo:{inputs:[{filename:"image-text-to-text-input.png",type:"img"},{label:"Text Prompt",content:"Describe the position of the bee in detail.",type:"text"}],outputs:[{label:"Answer",content:"The bee is sitting on a pink flower, surrounded by other flowers. The bee is positioned in the center of the flower, with its head and front legs sticking out.",type:"text"}]},metrics:[],models:[{description:"Small and efficient yet powerful vision language model.",id:"HuggingFaceTB/SmolVLM-Instruct"},{description:"Cutting-edge reasoning vision language model.",id:"zai-org/GLM-4.5V"},{description:"Cutting-edge small vision language model to convert documents to text.",id:"rednote-hilab/dots.ocr"},{description:"Small yet powerful model.",id:"Qwen/Qwen2.5-VL-3B-Instruct"},{description:"Image-text-to-text model with agentic capabilities.",id:"microsoft/Magma-8B"}],spaces:[{description:"Leaderboard to evaluate vision language models.",id:"opencompass/open_vlm_leaderboard"},{description:"An application that compares object detection capabilities of different vision language models.",id:"sergiopaniego/vlm_object_understanding"},{description:"An application to compare different OCR models.",id:"prithivMLmods/Multimodal-OCR"}],summary:"Image-text-to-text models take in an image and text prompt and output text. These models are also called vision-language models, or VLMs. The difference from image-to-text models is that these models take an additional text input, not restricting the model to certain use cases like image captioning, and may also be trained to accept a conversation as input.",widgetModels:["zai-org/GLM-4.5V"],youtubeId:"IoGaGfU1CIg"},q3={datasets:[{description:"Scene segmentation dataset.",id:"scene_parse_150"}],demo:{inputs:[{filename:"image-segmentation-input.jpeg",type:"img"}],outputs:[{filename:"image-segmentation-output.png",type:"img"}]},metrics:[{description:"Average Precision (AP) is the Area Under the PR Curve (AUC-PR). It is calculated for each semantic class separately",id:"Average Precision"},{description:"Mean Average Precision (mAP) is the overall average of the AP values",id:"Mean Average Precision"},{description:"Intersection over Union (IoU) is the overlap of segmentation masks. Mean IoU is the average of the IoU of all semantic classes",id:"Mean Intersection over Union"},{description:"APα is the Average Precision at the IoU threshold of a α value, for example, AP50 and AP75",id:"APα"}],models:[{description:"Solid panoptic segmentation model trained on COCO.",id:"tue-mps/coco_panoptic_eomt_large_640"},{description:"Background removal model.",id:"briaai/RMBG-1.4"},{description:"A multipurpose image segmentation model for high resolution images.",id:"ZhengPeng7/BiRefNet"},{description:"Powerful human-centric image segmentation model.",id:"facebook/sapiens-seg-1b"},{description:"Panoptic segmentation model trained on the COCO (common objects) dataset.",id:"facebook/mask2former-swin-large-coco-panoptic"}],spaces:[{description:"A semantic segmentation application that can predict unseen instances out of the box.",id:"facebook/ov-seg"},{description:"One of the strongest segmentation applications.",id:"jbrinkma/segment-anything"},{description:"A human-centric segmentation model.",id:"facebook/sapiens-pose"},{description:"An instance segmentation application to predict neuronal cell types from microscopy images.",id:"rashmi/sartorius-cell-instance-segmentation"},{description:"An application that segments videos.",id:"ArtGAN/Segment-Anything-Video"},{description:"An panoptic segmentation application built for outdoor environments.",id:"segments/panoptic-segment-anything"}],summary:"Image Segmentation divides an image into segments where each pixel in the image is mapped to an object. This task has multiple variants such as instance segmentation, panoptic segmentation and semantic segmentation.",widgetModels:["nvidia/segformer-b0-finetuned-ade-512-512"],youtubeId:"dKE8SIt9C-w"},H3={datasets:[{description:"A benchmark dataset for reference image controlled video generation.",id:"ali-vilab/VACE-Benchmark"},{description:"A dataset of video generation style preferences.",id:"Rapidata/sora-video-generation-style-likert-scoring"},{description:"A dataset with videos and captions throughout the videos.",id:"BestWishYsh/ChronoMagic"}],demo:{inputs:[{filename:"image-to-video-input.jpg",type:"img"},{label:"Optional Text Prompt",content:"This penguin is dancing",type:"text"}],outputs:[{filename:"image-to-video-output.gif",type:"img"}]},metrics:[{description:"Fréchet Video Distance (FVD) measures the perceptual similarity between the distributions of generated videos and a set of real videos, assessing overall visual quality and temporal coherence of the video generated from an input image.",id:"fvd"},{description:"CLIP Score measures the semantic similarity between a textual prompt (if provided alongside the input image) and the generated video frames. It evaluates how well the video's generated content and motion align with the textual description, conditioned on the initial image.",id:"clip_score"},{description:"First Frame Fidelity, often measured using LPIPS (Learned Perceptual Image Patch Similarity), PSNR, or SSIM, quantifies how closely the first frame of the generated video matches the input conditioning image.",id:"lpips"},{description:"Identity Preservation Score measures the consistency of identity (e.g., a person's face or a specific object's characteristics) between the input image and throughout the generated video frames, often calculated using features from specialized models like face recognition (e.g., ArcFace) or re-identification models.",id:"identity_preservation"},{description:"Motion Score evaluates the quality, realism, and temporal consistency of motion in the video generated from a static image. This can be based on optical flow analysis (e.g., smoothness, magnitude), consistency of object trajectories, or specific motion plausibility assessments.",id:"motion_score"}],models:[{description:"LTX-Video, a 13B parameter model for high quality video generation",id:"Lightricks/LTX-Video-0.9.7-dev"},{description:"A 14B parameter model for reference image controlled video generation",id:"Wan-AI/Wan2.1-VACE-14B"},{description:"An image-to-video generation model using FramePack F1 methodology with Hunyuan-DiT architecture",id:"lllyasviel/FramePack_F1_I2V_HY_20250503"},{description:"A distilled version of the LTX-Video-0.9.7-dev model for faster inference",id:"Lightricks/LTX-Video-0.9.7-distilled"},{description:"An image-to-video generation model by Skywork AI, 14B parameters, producing 720p videos.",id:"Skywork/SkyReels-V2-I2V-14B-720P"},{description:"Image-to-video variant of Tencent's HunyuanVideo.",id:"tencent/HunyuanVideo-I2V"},{description:"A 14B parameter model for 720p image-to-video generation by Wan-AI.",id:"Wan-AI/Wan2.1-I2V-14B-720P"},{description:"A Diffusers version of the Wan2.1-I2V-14B-720P model for 720p image-to-video generation.",id:"Wan-AI/Wan2.1-I2V-14B-720P-Diffusers"}],spaces:[{description:"An application to generate videos fast.",id:"Lightricks/ltx-video-distilled"},{description:"Generate videos with the FramePack-F1",id:"linoyts/FramePack-F1"},{description:"Generate videos with the FramePack",id:"lisonallen/framepack-i2v"},{description:"Wan2.1 with CausVid LoRA",id:"multimodalart/wan2-1-fast"},{description:"A demo for Stable Video Diffusion",id:"multimodalart/stable-video-diffusion"}],summary:"Image-to-video models take a still image as input and generate a video. These models can be guided by text prompts to influence the content and style of the output video.",widgetModels:[],youtubeId:void 0},W3={datasets:[{description:"Widely used benchmark dataset for multiple Vision tasks.",id:"merve/coco2017"},{description:"Medical Imaging dataset of the Human Brain for segmentation and mask generating tasks",id:"rocky93/BraTS_segmentation"}],demo:{inputs:[{filename:"mask-generation-input.png",type:"img"}],outputs:[{filename:"mask-generation-output.png",type:"img"}]},metrics:[{description:"IoU is used to measure the overlap between predicted mask and the ground truth mask.",id:"Intersection over Union (IoU)"}],models:[{description:"Small yet powerful mask generation model.",id:"Zigeng/SlimSAM-uniform-50"},{description:"Very strong mask generation model.",id:"facebook/sam2-hiera-large"}],spaces:[{description:"An application that combines a mask generation model with a zero-shot object detection model for text-guided image segmentation.",id:"merve/OWLSAM2"},{description:"An application that compares the performance of a large and a small mask generation model.",id:"merve/slimsam"},{description:"An application based on an improved mask generation model.",id:"SkalskiP/segment-anything-model-2"},{description:"An application to remove objects from videos using mask generation models.",id:"SkalskiP/SAM_and_ProPainter"}],summary:"Mask generation is the task of generating masks that identify a specific object or region of interest in a given image. Masks are often used in segmentation tasks, where they provide a precise way to isolate the object of interest for further processing or analysis.",widgetModels:[],youtubeId:""},K3={datasets:[{description:"Widely used benchmark dataset for multiple vision tasks.",id:"merve/coco2017"},{description:"Multi-task computer vision benchmark.",id:"merve/pascal-voc"}],demo:{inputs:[{filename:"object-detection-input.jpg",type:"img"}],outputs:[{filename:"object-detection-output.jpg",type:"img"}]},metrics:[{description:"The Average Precision (AP) metric is the Area Under the PR Curve (AUC-PR). It is calculated for each class separately",id:"Average Precision"},{description:"The Mean Average Precision (mAP) metric is the overall average of the AP values",id:"Mean Average Precision"},{description:"The APα metric is the Average Precision at the IoU threshold of a α value, for example, AP50 and AP75",id:"APα"}],models:[{description:"Solid object detection model pre-trained on the COCO 2017 dataset.",id:"facebook/detr-resnet-50"},{description:"Accurate object detection model.",id:"IDEA-Research/dab-detr-resnet-50"},{description:"Fast and accurate object detection model.",id:"PekingU/rtdetr_v2_r50vd"},{description:"Object detection model for low-lying objects.",id:"StephanST/WALDO30"}],spaces:[{description:"Real-time object detection demo.",id:"Roboflow/RF-DETR"},{description:"An application that contains various object detection models to try from.",id:"Gradio-Blocks/Object-Detection-With-DETR-and-YOLOS"},{description:"A cutting-edge object detection application.",id:"sunsmarterjieleaf/yolov12"},{description:"An object tracking, segmentation and inpainting application.",id:"VIPLab/Track-Anything"},{description:"Very fast object tracking application based on object detection.",id:"merve/RT-DETR-tracking-coco"}],summary:"Object Detection models allow users to identify objects of certain defined classes. Object detection models receive an image as input and output the images with bounding boxes and labels on detected objects.",widgetModels:["facebook/detr-resnet-50"],youtubeId:"WdAeKSOpxhw"},Q3={datasets:[{description:"NYU Depth V2 Dataset: Video dataset containing both RGB and depth sensor data.",id:"sayakpaul/nyu_depth_v2"},{description:"Monocular depth estimation benchmark based without noise and errors.",id:"depth-anything/DA-2K"}],demo:{inputs:[{filename:"depth-estimation-input.jpg",type:"img"}],outputs:[{filename:"depth-estimation-output.png",type:"img"}]},metrics:[],models:[{description:"Cutting-edge depth estimation model.",id:"depth-anything/Depth-Anything-V2-Large"},{description:"A strong monocular depth estimation model.",id:"jingheya/lotus-depth-g-v1-0"},{description:"A depth estimation model that predicts depth in videos.",id:"tencent/DepthCrafter"},{description:"A robust depth estimation model.",id:"apple/DepthPro-hf"}],spaces:[{description:"An application that predicts the depth of an image and then reconstruct the 3D model as voxels.",id:"radames/dpt-depth-estimation-3d-voxels"},{description:"An application for bleeding-edge depth estimation.",id:"akhaliq/depth-pro"},{description:"An application on cutting-edge depth estimation in videos.",id:"tencent/DepthCrafter"},{description:"A human-centric depth estimation application.",id:"facebook/sapiens-depth"}],summary:"Depth estimation is the task of predicting depth of the objects present in an image.",widgetModels:[""],youtubeId:""},_f={datasets:[],demo:{inputs:[],outputs:[]},isPlaceholder:!0,metrics:[],models:[],spaces:[],summary:"",widgetModels:[],youtubeId:void 0,canonicalId:void 0},X3={datasets:[{description:"A curation of widely used datasets for Data Driven Deep Reinforcement Learning (D4RL)",id:"edbeeching/decision_transformer_gym_replay"}],demo:{inputs:[{label:"State",content:"Red traffic light, pedestrians are about to pass.",type:"text"}],outputs:[{label:"Action",content:"Stop the car.",type:"text"},{label:"Next State",content:"Yellow light, pedestrians have crossed.",type:"text"}]},metrics:[{description:"Accumulated reward across all time steps discounted by a factor that ranges between 0 and 1 and determines how much the agent optimizes for future relative to immediate rewards. Measures how good is the policy ultimately found by a given algorithm considering uncertainty over the future.",id:"Discounted Total Reward"},{description:"Average return obtained after running the policy for a certain number of evaluation episodes. As opposed to total reward, mean reward considers how much reward a given algorithm receives while learning.",id:"Mean Reward"},{description:"Measures how good a given algorithm is after a predefined time. Some algorithms may be guaranteed to converge to optimal behavior across many time steps. However, an agent that reaches an acceptable level of optimality after a given time horizon may be preferable to one that ultimately reaches optimality but takes a long time.",id:"Level of Performance After Some Time"}],models:[{description:"A Reinforcement Learning model trained on expert data from the Gym Hopper environment",id:"edbeeching/decision-transformer-gym-hopper-expert"},{description:"A PPO agent playing seals/CartPole-v0 using the stable-baselines3 library and the RL Zoo.",id:"HumanCompatibleAI/ppo-seals-CartPole-v0"}],spaces:[{description:"An application for a cute puppy agent learning to catch a stick.",id:"ThomasSimonini/Huggy"},{description:"An application to play Snowball Fight with a reinforcement learning agent.",id:"ThomasSimonini/SnowballFight"}],summary:"Reinforcement learning is the computational approach of learning from action by interacting with an environment through trial and error and receiving rewards (negative or positive) as feedback",widgetModels:[],youtubeId:"q0BiUn5LiBc"},Y3={datasets:[{description:"A famous question answering dataset based on English articles from Wikipedia.",id:"squad_v2"},{description:"A dataset of aggregated anonymized actual queries issued to the Google search engine.",id:"natural_questions"}],demo:{inputs:[{label:"Question",content:"Which name is also used to describe the Amazon rainforest in English?",type:"text"},{label:"Context",content:"The Amazon rainforest, also known in English as Amazonia or the Amazon Jungle",type:"text"}],outputs:[{label:"Answer",content:"Amazonia",type:"text"}]},metrics:[{description:"Exact Match is a metric based on the strict character match of the predicted answer and the right answer. For answers predicted correctly, the Exact Match will be 1. Even if only one character is different, Exact Match will be 0",id:"exact-match"},{description:" The F1-Score metric is useful if we value both false positives and false negatives equally. The F1-Score is calculated on each word in the predicted sequence against the correct answer",id:"f1"}],models:[{description:"A robust baseline model for most question answering domains.",id:"deepset/roberta-base-squad2"},{description:"Small yet robust model that can answer questions.",id:"distilbert/distilbert-base-cased-distilled-squad"},{description:"A special model that can answer questions from tables.",id:"google/tapas-base-finetuned-wtq"}],spaces:[{description:"An application that can answer a long question from Wikipedia.",id:"deepset/wikipedia-assistant"}],summary:"Question Answering models can retrieve the answer to a question from a given text, which is useful for searching for an answer in a document. Some question answering models can generate answers without context!",widgetModels:["deepset/roberta-base-squad2"],youtubeId:"ajPx5LwJD-I"},J3={datasets:[{description:"Bing queries with relevant passages from various web sources.",id:"microsoft/ms_marco"}],demo:{inputs:[{label:"Source sentence",content:"Machine learning is so easy.",type:"text"},{label:"Sentences to compare to",content:"Deep learning is so straightforward.",type:"text"},{label:"",content:"This is so difficult, like rocket science.",type:"text"},{label:"",content:"I can't believe how much I struggled with this.",type:"text"}],outputs:[{type:"chart",data:[{label:"Deep learning is so straightforward.",score:.623},{label:"This is so difficult, like rocket science.",score:.413},{label:"I can't believe how much I struggled with this.",score:.256}]}]},metrics:[{description:"Reciprocal Rank is a measure used to rank the relevancy of documents given a set of documents. Reciprocal Rank is the reciprocal of the rank of the document retrieved, meaning, if the rank is 3, the Reciprocal Rank is 0.33. If the rank is 1, the Reciprocal Rank is 1",id:"Mean Reciprocal Rank"},{description:"The similarity of the embeddings is evaluated mainly on cosine similarity. It is calculated as the cosine of the angle between two vectors. It is particularly useful when your texts are not the same length",id:"Cosine Similarity"}],models:[{description:"This model works well for sentences and paragraphs and can be used for clustering/grouping and semantic searches.",id:"sentence-transformers/all-mpnet-base-v2"},{description:"A multilingual robust sentence similarity model.",id:"BAAI/bge-m3"},{description:"A robust sentence similarity model.",id:"HIT-TMG/KaLM-embedding-multilingual-mini-instruct-v1.5"}],spaces:[{description:"An application that leverages sentence similarity to answer questions from YouTube videos.",id:"Gradio-Blocks/Ask_Questions_To_YouTube_Videos"},{description:"An application that retrieves relevant PubMed abstracts for a given online article which can be used as further references.",id:"Gradio-Blocks/pubmed-abstract-retriever"},{description:"An application that leverages sentence similarity to summarize text.",id:"nickmuchi/article-text-summarizer"},{description:"A guide that explains how Sentence Transformers can be used for semantic search.",id:"sentence-transformers/Sentence_Transformers_for_semantic_search"}],summary:"Sentence Similarity is the task of determining how similar two texts are. Sentence similarity models convert input texts into vectors (embeddings) that capture semantic information and calculate how close (similar) they are between them. This task is particularly useful for information retrieval and clustering/grouping.",widgetModels:["BAAI/bge-small-en-v1.5"],youtubeId:"VCZq5AkbNEU"},Z3={canonicalId:"text-generation",datasets:[{description:"News articles in five different languages along with their summaries. Widely used for benchmarking multilingual summarization models.",id:"mlsum"},{description:"English conversations and their summaries. Useful for benchmarking conversational agents.",id:"samsum"}],demo:{inputs:[{label:"Input",content:"The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building, and the tallest structure in Paris. Its base is square, measuring 125 metres (410 ft) on each side. It was the first structure to reach a height of 300 metres. Excluding transmitters, the Eiffel Tower is the second tallest free-standing structure in France after the Millau Viaduct.",type:"text"}],outputs:[{label:"Output",content:"The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building. It was the first structure to reach a height of 300 metres.",type:"text"}]},metrics:[{description:"The generated sequence is compared against its summary, and the overlap of tokens are counted. ROUGE-N refers to overlap of N subsequent tokens, ROUGE-1 refers to overlap of single tokens and ROUGE-2 is the overlap of two subsequent tokens.",id:"rouge"}],models:[{description:"A strong summarization model trained on English news articles. Excels at generating factual summaries.",id:"facebook/bart-large-cnn"},{description:"A summarization model trained on medical articles.",id:"Falconsai/medical_summarization"}],spaces:[{description:"An application that can summarize long paragraphs.",id:"pszemraj/summarize-long-text"},{description:"A much needed summarization application for terms and conditions.",id:"ml6team/distilbart-tos-summarizer-tosdr"},{description:"An application that summarizes long documents.",id:"pszemraj/document-summarization"},{description:"An application that can detect errors in abstractive summarization.",id:"ml6team/post-processing-summarization"}],summary:"Summarization is the task of producing a shorter version of a document while preserving its important information. Some models can extract text from the original input, while other models can generate entirely new text.",widgetModels:["facebook/bart-large-cnn"],youtubeId:"yHnr5Dk2zCI"},G3={datasets:[{description:"The WikiTableQuestions dataset is a large-scale dataset for the task of question answering on semi-structured tables.",id:"wikitablequestions"},{description:"WikiSQL is a dataset of 80654 hand-annotated examples of questions and SQL queries distributed across 24241 tables from Wikipedia.",id:"wikisql"}],demo:{inputs:[{table:[["Rank","Name","No.of reigns","Combined days"],["1","lou Thesz","3","3749"],["2","Ric Flair","8","3103"],["3","Harley Race","7","1799"]],type:"tabular"},{label:"Question",content:"What is the number of reigns for Harley Race?",type:"text"}],outputs:[{label:"Result",content:"7",type:"text"}]},metrics:[{description:"Checks whether the predicted answer(s) is the same as the ground-truth answer(s).",id:"Denotation Accuracy"}],models:[{description:"A table question answering model that is capable of neural SQL execution, i.e., employ TAPEX to execute a SQL query on a given table.",id:"microsoft/tapex-base"},{description:"A robust table question answering model.",id:"google/tapas-base-finetuned-wtq"}],spaces:[{description:"An application that answers questions based on table CSV files.",id:"katanaml/table-query"}],summary:"Table Question Answering (Table QA) is the answering a question about an information on a given table.",widgetModels:["google/tapas-base-finetuned-wtq"]},e5={datasets:[{description:"A comprehensive curation of datasets covering all benchmarks.",id:"inria-soda/tabular-benchmark"}],demo:{inputs:[{table:[["Glucose","Blood Pressure ","Skin Thickness","Insulin","BMI"],["148","72","35","0","33.6"],["150","50","30","0","35.1"],["141","60","29","1","39.2"]],type:"tabular"}],outputs:[{table:[["Diabetes"],["1"],["1"],["0"]],type:"tabular"}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"Breast cancer prediction model based on decision trees.",id:"scikit-learn/cancer-prediction-trees"}],spaces:[{description:"An application that can predict defective products on a production line.",id:"scikit-learn/tabular-playground"},{description:"An application that compares various tabular classification techniques on different datasets.",id:"scikit-learn/classification"}],summary:"Tabular classification is the task of classifying a target category (a group) based on set of attributes.",widgetModels:["scikit-learn/tabular-playground"],youtubeId:""},t5={datasets:[{description:"A comprehensive curation of datasets covering all benchmarks.",id:"inria-soda/tabular-benchmark"}],demo:{inputs:[{table:[["Car Name","Horsepower","Weight"],["ford torino","140","3,449"],["amc hornet","97","2,774"],["toyota corolla","65","1,773"]],type:"tabular"}],outputs:[{table:[["MPG (miles per gallon)"],["17"],["18"],["31"]],type:"tabular"}]},metrics:[{description:"",id:"mse"},{description:"Coefficient of determination (or R-squared) is a measure of how well the model fits the data. Higher R-squared is considered a better fit.",id:"r-squared"}],models:[{description:"Fish weight prediction based on length measurements and species.",id:"scikit-learn/Fish-Weight"}],spaces:[{description:"An application that can predict weight of a fish based on set of attributes.",id:"scikit-learn/fish-weight-prediction"}],summary:"Tabular regression is the task of predicting a numerical value given a set of attributes.",widgetModels:["scikit-learn/Fish-Weight"],youtubeId:""},n5={datasets:[{description:"RedCaps is a large-scale dataset of 12M image-text pairs collected from Reddit.",id:"red_caps"},{description:"Conceptual Captions is a dataset consisting of ~3.3M images annotated with captions.",id:"conceptual_captions"},{description:"12M image-caption pairs.",id:"Spawning/PD12M"}],demo:{inputs:[{label:"Input",content:"A city above clouds, pastel colors, Victorian style",type:"text"}],outputs:[{filename:"image.jpeg",type:"img"}]},metrics:[{description:"The Inception Score (IS) measure assesses diversity and meaningfulness. It uses a generated image sample to predict its label. A higher score signifies more diverse and meaningful images.",id:"IS"},{description:"The Fréchet Inception Distance (FID) calculates the distance between distributions between synthetic and real samples. A lower FID score indicates better similarity between the distributions of real and generated images.",id:"FID"},{description:"R-precision assesses how the generated image aligns with the provided text description. It uses the generated images as queries to retrieve relevant text descriptions. The top 'r' relevant descriptions are selected and used to calculate R-precision as r/R, where 'R' is the number of ground truth descriptions associated with the generated images. A higher R-precision value indicates a better model.",id:"R-Precision"}],models:[{description:"One of the most powerful image generation models that can generate realistic outputs.",id:"black-forest-labs/FLUX.1-Krea-dev"},{description:"A powerful image generation model.",id:"Qwen/Qwen-Image"},{description:"Powerful and fast image generation model.",id:"ByteDance/SDXL-Lightning"},{description:"A powerful text-to-image model.",id:"ByteDance/Hyper-SD"}],spaces:[{description:"A powerful text-to-image application.",id:"stabilityai/stable-diffusion-3-medium"},{description:"A text-to-image application to generate comics.",id:"jbilcke-hf/ai-comic-factory"},{description:"An application to match multiple custom image generation models.",id:"multimodalart/flux-lora-lab"},{description:"A powerful yet very fast image generation application.",id:"latent-consistency/lcm-lora-for-sdxl"},{description:"A gallery to explore various text-to-image models.",id:"multimodalart/LoraTheExplorer"},{description:"An application for `text-to-image`, `image-to-image` and image inpainting.",id:"ArtGAN/Stable-Diffusion-ControlNet-WebUI"},{description:"An application to generate realistic images given photos of a person and a prompt.",id:"InstantX/InstantID"}],summary:"Text-to-image is the task of generating images from input text. These pipelines can also be used to modify and edit images based on text prompts.",widgetModels:["black-forest-labs/FLUX.1-dev"],youtubeId:""},i5={canonicalId:"text-to-audio",datasets:[{description:"10K hours of multi-speaker English dataset.",id:"parler-tts/mls_eng_10k"},{description:"Multi-speaker English dataset.",id:"mythicinfinity/libritts_r"},{description:"Multi-lingual dataset.",id:"facebook/multilingual_librispeech"}],demo:{inputs:[{label:"Input",content:"I love audio models on the Hub!",type:"text"}],outputs:[{filename:"audio.wav",type:"audio"}]},metrics:[{description:"The Mel Cepstral Distortion (MCD) metric is used to calculate the quality of generated speech.",id:"mel cepstral distortion"}],models:[{description:"Small yet powerful TTS model.",id:"KittenML/kitten-tts-nano-0.1"},{description:"Bleeding edge TTS model.",id:"ResembleAI/chatterbox"},{description:"A massively multi-lingual TTS model.",id:"fishaudio/fish-speech-1.5"},{description:"A text-to-dialogue model.",id:"nari-labs/Dia-1.6B-0626"}],spaces:[{description:"An application for generate high quality speech in different languages.",id:"hexgrad/Kokoro-TTS"},{description:"A multilingual text-to-speech application.",id:"fishaudio/fish-speech-1"},{description:"Performant TTS application.",id:"ResembleAI/Chatterbox"},{description:"An application to compare different TTS models.",id:"TTS-AGI/TTS-Arena-V2"},{description:"An application that generates podcast episodes.",id:"ngxson/kokoro-podcast-generator"}],summary:"Text-to-Speech (TTS) is the task of generating natural sounding speech given text input. TTS models can be extended to have a single model that generates speech for multiple speakers and multiple languages.",widgetModels:["suno/bark"],youtubeId:"NW62DpzJ274"},r5={datasets:[{description:"A widely used dataset useful to benchmark named entity recognition models.",id:"eriktks/conll2003"},{description:"A multilingual dataset of Wikipedia articles annotated for named entity recognition in over 150 different languages.",id:"unimelb-nlp/wikiann"}],demo:{inputs:[{label:"Input",content:"My name is Omar and I live in Zürich.",type:"text"}],outputs:[{text:"My name is Omar and I live in Zürich.",tokens:[{type:"PERSON",start:11,end:15},{type:"GPE",start:30,end:36}],type:"text-with-tokens"}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"A robust performance model to identify people, locations, organizations and names of miscellaneous entities.",id:"dslim/bert-base-NER"},{description:"A strong model to identify people, locations, organizations and names in multiple languages.",id:"FacebookAI/xlm-roberta-large-finetuned-conll03-english"},{description:"A token classification model specialized on medical entity recognition.",id:"blaze999/Medical-NER"},{description:"Flair models are typically the state of the art in named entity recognition tasks.",id:"flair/ner-english"}],spaces:[{description:"An application that can recognizes entities, extracts noun chunks and recognizes various linguistic features of each token.",id:"spacy/gradio_pipeline_visualizer"}],summary:"Token classification is a natural language understanding task in which a label is assigned to some tokens in a text. Some popular token classification subtasks are Named Entity Recognition (NER) and Part-of-Speech (PoS) tagging. NER models could be trained to identify specific entities in a text, such as dates, individuals and places; and PoS tagging would identify, for example, which words in a text are verbs, nouns, and punctuation marks.",widgetModels:["FacebookAI/xlm-roberta-large-finetuned-conll03-english"],youtubeId:"wVHdVlPScxA"},s5={canonicalId:"text-generation",datasets:[{description:"A dataset of copyright-free books translated into 16 different languages.",id:"Helsinki-NLP/opus_books"},{description:"An example of translation between programming languages. This dataset consists of functions in Java and C#.",id:"google/code_x_glue_cc_code_to_code_trans"}],demo:{inputs:[{label:"Input",content:"My name is Omar and I live in Zürich.",type:"text"}],outputs:[{label:"Output",content:"Mein Name ist Omar und ich wohne in Zürich.",type:"text"}]},metrics:[{description:"BLEU score is calculated by counting the number of shared single or subsequent tokens between the generated sequence and the reference. Subsequent n tokens are called “n-grams”. Unigram refers to a single token while bi-gram refers to token pairs and n-grams refer to n subsequent tokens. The score ranges from 0 to 1, where 1 means the translation perfectly matched and 0 did not match at all",id:"bleu"},{description:"",id:"sacrebleu"}],models:[{description:"Very powerful model that can translate many languages between each other, especially low-resource languages.",id:"facebook/nllb-200-1.3B"},{description:"A general-purpose Transformer that can be used to translate from English to German, French, or Romanian.",id:"google-t5/t5-base"}],spaces:[{description:"An application that can translate between 100 languages.",id:"Iker/Translate-100-languages"},{description:"An application that can translate between many languages.",id:"Geonmo/nllb-translation-demo"}],summary:"Translation is the task of converting text from one language to another.",widgetModels:["facebook/mbart-large-50-many-to-many-mmt"],youtubeId:"1JvfrvZgi6c"},a5={datasets:[{description:"A widely used dataset used to benchmark multiple variants of text classification.",id:"nyu-mll/glue"},{description:"A text classification dataset used to benchmark natural language inference models",id:"stanfordnlp/snli"}],demo:{inputs:[{label:"Input",content:"I love Hugging Face!",type:"text"}],outputs:[{type:"chart",data:[{label:"POSITIVE",score:.9},{label:"NEUTRAL",score:.1},{label:"NEGATIVE",score:0}]}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"The F1 metric is the harmonic mean of the precision and recall. It can be calculated as: F1 = 2 * (precision * recall) / (precision + recall)",id:"f1"}],models:[{description:"A robust model trained for sentiment analysis.",id:"distilbert/distilbert-base-uncased-finetuned-sst-2-english"},{description:"A sentiment analysis model specialized in financial sentiment.",id:"ProsusAI/finbert"},{description:"A sentiment analysis model specialized in analyzing tweets.",id:"cardiffnlp/twitter-roberta-base-sentiment-latest"},{description:"A model that can classify languages.",id:"papluca/xlm-roberta-base-language-detection"},{description:"A model that can classify text generation attacks.",id:"meta-llama/Prompt-Guard-86M"}],spaces:[{description:"An application that can classify financial sentiment.",id:"IoannisTr/Tech_Stocks_Trading_Assistant"},{description:"A dashboard that contains various text classification tasks.",id:"miesnerjacob/Multi-task-NLP"},{description:"An application that analyzes user reviews in healthcare.",id:"spacy/healthsea-demo"}],summary:"Text Classification is the task of assigning a label or class to a given text. Some use cases are sentiment analysis, natural language inference, and assessing grammatical correctness.",widgetModels:["distilbert/distilbert-base-uncased-finetuned-sst-2-english"],youtubeId:"leNG9fN9FQU"},o5={datasets:[{description:"Multilingual dataset used to evaluate text generation models.",id:"CohereForAI/Global-MMLU"},{description:"High quality multilingual data used to train text-generation models.",id:"HuggingFaceFW/fineweb-2"},{description:"Truly open-source, curated and cleaned dialogue dataset.",id:"HuggingFaceH4/ultrachat_200k"},{description:"A reasoning dataset.",id:"open-r1/OpenThoughts-114k-math"},{description:"A multilingual instruction dataset with preference ratings on responses.",id:"allenai/tulu-3-sft-mixture"},{description:"A large synthetic dataset for alignment of text generation models.",id:"HuggingFaceTB/smoltalk"},{description:"A dataset made for training text generation models solving math questions.",id:"HuggingFaceTB/finemath"}],demo:{inputs:[{label:"Input",content:"Once upon a time,",type:"text"}],outputs:[{label:"Output",content:"Once upon a time, we knew that our ancestors were on the verge of extinction. The great explorers and poets of the Old World, from Alexander the Great to Chaucer, are dead and gone. A good many of our ancient explorers and poets have",type:"text"}]},metrics:[{description:"Cross Entropy is a metric that calculates the difference between two probability distributions. Each probability distribution is the distribution of predicted words",id:"Cross Entropy"},{description:"The Perplexity metric is the exponential of the cross-entropy loss. It evaluates the probabilities assigned to the next word by the model. Lower perplexity indicates better performance",id:"Perplexity"}],models:[{description:"A text-generation model trained to follow instructions.",id:"google/gemma-2-2b-it"},{description:"Powerful text generation model for coding.",id:"Qwen/Qwen3-Coder-480B-A35B-Instruct"},{description:"Great text generation model with top-notch tool calling capabilities.",id:"openai/gpt-oss-120b"},{description:"Powerful text generation model.",id:"zai-org/GLM-4.5"},{description:"A powerful small model with reasoning capabilities.",id:"Qwen/Qwen3-4B-Thinking-2507"},{description:"Strong conversational model that supports very long instructions.",id:"Qwen/Qwen2.5-7B-Instruct-1M"},{description:"Text generation model used to write code.",id:"Qwen/Qwen2.5-Coder-32B-Instruct"},{description:"Powerful reasoning based open large language model.",id:"deepseek-ai/DeepSeek-R1"}],spaces:[{description:"An application that writes and executes code from text instructions and supports many models.",id:"akhaliq/anycoder"},{description:"An application that builds websites from natural language prompts.",id:"enzostvs/deepsite"},{description:"A leaderboard for comparing chain-of-thought performance of models.",id:"logikon/open_cot_leaderboard"},{description:"An text generation based application based on a very powerful LLaMA2 model.",id:"ysharma/Explore_llamav2_with_TGI"},{description:"An text generation based application to converse with Zephyr model.",id:"HuggingFaceH4/zephyr-chat"},{description:"A leaderboard that ranks text generation models based on blind votes from people.",id:"lmsys/chatbot-arena-leaderboard"},{description:"An chatbot to converse with a very powerful text generation model.",id:"mlabonne/phixtral-chat"}],summary:"Generating text is the task of generating new text given another text. These models can, for example, fill in incomplete text or paraphrase.",widgetModels:["mistralai/Mistral-Nemo-Instruct-2407"],youtubeId:"e9gNEAlsOvU"},l5={datasets:[{description:"Bing queries with relevant passages from various web sources.",id:"microsoft/ms_marco"}],demo:{inputs:[{label:"Source sentence",content:"Machine learning is so easy.",type:"text"},{label:"Sentences to compare to",content:"Deep learning is so straightforward.",type:"text"},{label:"",content:"This is so difficult, like rocket science.",type:"text"},{label:"",content:"I can't believe how much I struggled with this.",type:"text"}],outputs:[{type:"chart",data:[{label:"Deep learning is so straightforward.",score:2.2006407},{label:"This is so difficult, like rocket science.",score:-6.2634873},{label:"I can't believe how much I struggled with this.",score:-10.251488}]}]},metrics:[{description:"Discounted Cumulative Gain (DCG) measures the gain, or usefulness, of search results discounted by their position. The normalization is done by dividing the DCG by the ideal DCG, which is the DCG of the perfect ranking.",id:"Normalized Discounted Cumulative Gain"},{description:"Reciprocal Rank is a measure used to rank the relevancy of documents given a set of documents. Reciprocal Rank is the reciprocal of the rank of the document retrieved, meaning, if the rank is 3, the Reciprocal Rank is 0.33. If the rank is 1, the Reciprocal Rank is 1",id:"Mean Reciprocal Rank"},{description:"Mean Average Precision (mAP) is the overall average of the Average Precision (AP) values, where AP is the Area Under the PR Curve (AUC-PR)",id:"Mean Average Precision"}],models:[{description:"An extremely efficient text ranking model trained on a web search dataset.",id:"cross-encoder/ms-marco-MiniLM-L6-v2"},{description:"A strong multilingual text reranker model.",id:"Alibaba-NLP/gte-multilingual-reranker-base"},{description:"An efficient text ranking model that punches above its weight.",id:"Alibaba-NLP/gte-reranker-modernbert-base"}],spaces:[],summary:"Text Ranking is the task of ranking a set of texts based on their relevance to a query. Text ranking models are trained on large datasets of queries and relevant documents to learn how to rank documents based on their relevance to the query. This task is particularly useful for search engines and information retrieval systems.",widgetModels:["cross-encoder/ms-marco-MiniLM-L6-v2"],youtubeId:""},c5={datasets:[{description:"Microsoft Research Video to Text is a large-scale dataset for open domain video captioning",id:"iejMac/CLIP-MSR-VTT"},{description:"UCF101 Human Actions dataset consists of 13,320 video clips from YouTube, with 101 classes.",id:"quchenyuan/UCF101-ZIP"},{description:"A high-quality dataset for human action recognition in YouTube videos.",id:"nateraw/kinetics"},{description:"A dataset of video clips of humans performing pre-defined basic actions with everyday objects.",id:"HuggingFaceM4/something_something_v2"},{description:"This dataset consists of text-video pairs and contains noisy samples with irrelevant video descriptions",id:"HuggingFaceM4/webvid"},{description:"A dataset of short Flickr videos for the temporal localization of events with descriptions.",id:"iejMac/CLIP-DiDeMo"}],demo:{inputs:[{label:"Input",content:"Darth Vader is surfing on the waves.",type:"text"}],outputs:[{filename:"text-to-video-output.gif",type:"img"}]},metrics:[{description:"Inception Score uses an image classification model that predicts class labels and evaluates how distinct and diverse the images are. A higher score indicates better video generation.",id:"is"},{description:"Frechet Inception Distance uses an image classification model to obtain image embeddings. The metric compares mean and standard deviation of the embeddings of real and generated images. A smaller score indicates better video generation.",id:"fid"},{description:"Frechet Video Distance uses a model that captures coherence for changes in frames and the quality of each frame. A smaller score indicates better video generation.",id:"fvd"},{description:"CLIPSIM measures similarity between video frames and text using an image-text similarity model. A higher score indicates better video generation.",id:"clipsim"}],models:[{description:"A strong model for consistent video generation.",id:"tencent/HunyuanVideo"},{description:"A text-to-video model with high fidelity motion and strong prompt adherence.",id:"Lightricks/LTX-Video"},{description:"A text-to-video model focusing on physics-aware applications like robotics.",id:"nvidia/Cosmos-1.0-Diffusion-7B-Text2World"},{description:"Very fast model for video generation.",id:"Lightricks/LTX-Video-0.9.8-13B-distilled"}],spaces:[{description:"An application that generates video from text.",id:"VideoCrafter/VideoCrafter"},{description:"Consistent video generation application.",id:"Wan-AI/Wan2.1"},{description:"A cutting edge video generation application.",id:"Pyramid-Flow/pyramid-flow"}],summary:"Text-to-video models can be used in any application that requires generating consistent sequence of images from text. ",widgetModels:["Wan-AI/Wan2.2-TI2V-5B"],youtubeId:void 0},u5={datasets:[{description:"The CIFAR-100 dataset consists of 60000 32x32 colour images in 100 classes, with 600 images per class.",id:"cifar100"},{description:"Multiple images of celebrities, used for facial expression translation.",id:"CelebA"}],demo:{inputs:[{label:"Seed",content:"42",type:"text"},{label:"Number of images to generate:",content:"4",type:"text"}],outputs:[{filename:"unconditional-image-generation-output.jpeg",type:"img"}]},metrics:[{description:"The inception score (IS) evaluates the quality of generated images. It measures the diversity of the generated images (the model predictions are evenly distributed across all possible labels) and their 'distinction' or 'sharpness' (the model confidently predicts a single label for each image).",id:"Inception score (IS)"},{description:"The Fréchet Inception Distance (FID) evaluates the quality of images created by a generative model by calculating the distance between feature vectors for real and generated images.",id:"Frećhet Inception Distance (FID)"}],models:[{description:"High-quality image generation model trained on the CIFAR-10 dataset. It synthesizes images of the ten classes presented in the dataset using diffusion probabilistic models, a class of latent variable models inspired by considerations from nonequilibrium thermodynamics.",id:"google/ddpm-cifar10-32"},{description:"High-quality image generation model trained on the 256x256 CelebA-HQ dataset. It synthesizes images of faces using diffusion probabilistic models, a class of latent variable models inspired by considerations from nonequilibrium thermodynamics.",id:"google/ddpm-celebahq-256"}],spaces:[{description:"An application that can generate realistic faces.",id:"CompVis/celeba-latent-diffusion"}],summary:"Unconditional image generation is the task of generating images with no condition in any context (like a prompt text or another image). Once trained, the model will create images that resemble its training data distribution.",widgetModels:[""],youtubeId:""},d5={datasets:[{description:"Benchmark dataset used for video classification with videos that belong to 400 classes.",id:"kinetics400"}],demo:{inputs:[{filename:"video-classification-input.gif",type:"img"}],outputs:[{type:"chart",data:[{label:"Playing Guitar",score:.514},{label:"Playing Tennis",score:.193},{label:"Cooking",score:.068}]}]},metrics:[{description:"",id:"accuracy"},{description:"",id:"recall"},{description:"",id:"precision"},{description:"",id:"f1"}],models:[{description:"Strong Video Classification model trained on the Kinetics 400 dataset.",id:"google/vivit-b-16x2-kinetics400"},{description:"Strong Video Classification model trained on the Kinetics 400 dataset.",id:"microsoft/xclip-base-patch32"}],spaces:[{description:"An application that classifies video at different timestamps.",id:"nateraw/lavila"},{description:"An application that classifies video.",id:"fcakyon/video-classification"}],summary:"Video classification is the task of assigning a label or class to an entire video. Videos are expected to have only one class for each video. Video classification models take a video as input and return a prediction about which class the video belongs to.",widgetModels:[],youtubeId:""},p5={datasets:[{description:"A large dataset used to train visual document retrieval models.",id:"vidore/colpali_train_set"}],demo:{inputs:[{filename:"input.png",type:"img"},{label:"Question",content:"Is the model in this paper the fastest for inference?",type:"text"}],outputs:[{type:"chart",data:[{label:"Page 10",score:.7},{label:"Page 11",score:.06},{label:"Page 9",score:.003}]}]},isPlaceholder:!1,metrics:[{description:"NDCG@k scores ranked recommendation lists for top-k results. 0 is the worst, 1 is the best.",id:"Normalized Discounted Cumulative Gain at K"}],models:[{description:"Very accurate visual document retrieval model for multilingual queries and documents.",id:"vidore/colqwen2-v1.0"},{description:"Very fast and efficient visual document retrieval model that can also take in other modalities like audio.",id:"Tevatron/OmniEmbed-v0.1"}],spaces:[{description:"A leaderboard of visual document retrieval models.",id:"vidore/vidore-leaderboard"},{description:"Visual retrieval augmented generation demo based on ColQwen2 model.",id:"vidore/visual-rag-tool"}],summary:"Visual document retrieval is the task of searching for relevant image-based documents, such as PDFs. These models take a text query and multiple documents as input and return the top-most relevant documents and relevancy scores as output.",widgetModels:[""],youtubeId:""},h5={datasets:[{description:"A widely used dataset containing questions (with answers) about images.",id:"Graphcore/vqa"},{description:"A dataset to benchmark visual reasoning based on text in images.",id:"facebook/textvqa"}],demo:{inputs:[{filename:"elephant.jpeg",type:"img"},{label:"Question",content:"What is in this image?",type:"text"}],outputs:[{type:"chart",data:[{label:"elephant",score:.97},{label:"elephants",score:.06},{label:"animal",score:.003}]}]},isPlaceholder:!1,metrics:[{description:"",id:"accuracy"},{description:"Measures how much a predicted answer differs from the ground truth based on the difference in their semantic meaning.",id:"wu-palmer similarity"}],models:[{description:"A visual question answering model trained to convert charts and plots to text.",id:"google/deplot"},{description:"A visual question answering model trained for mathematical reasoning and chart derendering from images.",id:"google/matcha-base"},{description:"A strong visual question answering that answers questions from book covers.",id:"google/pix2struct-ocrvqa-large"}],spaces:[{description:"An application that compares visual question answering models across different tasks.",id:"merve/pix2struct"},{description:"An application that can answer questions based on images.",id:"nielsr/vilt-vqa"},{description:"An application that can caption images and answer questions about a given image. ",id:"Salesforce/BLIP"},{description:"An application that can caption images and answer questions about a given image. ",id:"vumichien/Img2Prompt"}],summary:"Visual Question Answering is the task of answering open-ended questions based on an image. They output natural language responses to natural language questions.",widgetModels:["dandelin/vilt-b32-finetuned-vqa"],youtubeId:""},f5={datasets:[{description:"A widely used dataset used to benchmark multiple variants of text classification.",id:"nyu-mll/glue"},{description:"The Multi-Genre Natural Language Inference (MultiNLI) corpus is a crowd-sourced collection of 433k sentence pairs annotated with textual entailment information.",id:"nyu-mll/multi_nli"},{description:"FEVER is a publicly available dataset for fact extraction and verification against textual sources.",id:"fever/fever"}],demo:{inputs:[{label:"Text Input",content:"Dune is the best movie ever.",type:"text"},{label:"Candidate Labels",content:"CINEMA, ART, MUSIC",type:"text"}],outputs:[{type:"chart",data:[{label:"CINEMA",score:.9},{label:"ART",score:.1},{label:"MUSIC",score:0}]}]},metrics:[],models:[{description:"Powerful zero-shot text classification model.",id:"facebook/bart-large-mnli"},{description:"Cutting-edge zero-shot multilingual text classification model.",id:"MoritzLaurer/ModernBERT-large-zeroshot-v2.0"},{description:"Zero-shot text classification model that can be used for topic and sentiment classification.",id:"knowledgator/gliclass-modern-base-v2.0-init"}],spaces:[],summary:"Zero-shot text classification is a task in natural language processing where a model is trained on a set of labeled examples but is then able to classify new examples from previously unseen classes.",widgetModels:["facebook/bart-large-mnli"]},m5={datasets:[{description:"",id:""}],demo:{inputs:[{filename:"image-classification-input.jpeg",type:"img"},{label:"Classes",content:"cat, dog, bird",type:"text"}],outputs:[{type:"chart",data:[{label:"Cat",score:.664},{label:"Dog",score:.329},{label:"Bird",score:.008}]}]},metrics:[{description:"Computes the number of times the correct label appears in top K labels predicted",id:"top-K accuracy"}],models:[{description:"Multilingual image classification model for 80 languages.",id:"visheratin/mexma-siglip"},{description:"Strong zero-shot image classification model.",id:"google/siglip2-base-patch16-224"},{description:"Robust zero-shot image classification model.",id:"intfloat/mmE5-mllama-11b-instruct"},{description:"Powerful zero-shot image classification model supporting 94 languages.",id:"jinaai/jina-clip-v2"},{description:"Strong image classification model for biomedical domain.",id:"microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224"}],spaces:[{description:"An application that leverages zero-shot image classification to find best captions to generate an image. ",id:"pharma/CLIP-Interrogator"},{description:"An application to compare different zero-shot image classification models. ",id:"merve/compare_clip_siglip"}],summary:"Zero-shot image classification is the task of classifying previously unseen classes during training of a model.",widgetModels:["google/siglip-so400m-patch14-224"],youtubeId:""},g5={datasets:[],demo:{inputs:[{filename:"zero-shot-object-detection-input.jpg",type:"img"},{label:"Classes",content:"cat, dog, bird",type:"text"}],outputs:[{filename:"zero-shot-object-detection-output.jpg",type:"img"}]},metrics:[{description:"The Average Precision (AP) metric is the Area Under the PR Curve (AUC-PR). It is calculated for each class separately",id:"Average Precision"},{description:"The Mean Average Precision (mAP) metric is the overall average of the AP values",id:"Mean Average Precision"},{description:"The APα metric is the Average Precision at the IoU threshold of a α value, for example, AP50 and AP75",id:"APα"}],models:[{description:"Solid zero-shot object detection model.",id:"openmmlab-community/mm_grounding_dino_large_all"},{description:"Cutting-edge zero-shot object detection model.",id:"fushh7/LLMDet"}],spaces:[{description:"A demo to compare different zero-shot object detection models per output and latency.",id:"ariG23498/zero-shot-od"},{description:"A demo that combines a zero-shot object detection and mask generation model for zero-shot segmentation.",id:"merve/OWLSAM"}],summary:"Zero-shot object detection is a computer vision task to detect objects and their classes in images, without any prior training or knowledge of the classes. Zero-shot object detection models receive an image as input, as well as a list of candidate classes, and output the bounding boxes and labels where the objects have been detected.",widgetModels:[],youtubeId:""},y5={datasets:[{description:"A large dataset of over 10 million 3D objects.",id:"allenai/objaverse-xl"},{description:"A dataset of isolated object images for evaluating image-to-3D models.",id:"dylanebert/iso3d"}],demo:{inputs:[{filename:"image-to-3d-image-input.png",type:"img"}],outputs:[{label:"Result",content:"image-to-3d-3d-output-filename.glb",type:"text"}]},metrics:[],models:[{description:"Fast image-to-3D mesh model by Tencent.",id:"TencentARC/InstantMesh"},{description:"3D world generation model.",id:"tencent/HunyuanWorld-1"},{description:"A scaled up image-to-3D mesh model derived from TripoSR.",id:"hwjiang/Real3D"},{description:"Consistent image-to-3d generation model.",id:"stabilityai/stable-point-aware-3d"}],spaces:[{description:"Leaderboard to evaluate image-to-3D models.",id:"dylanebert/3d-arena"},{description:"Image-to-3D demo with mesh outputs.",id:"TencentARC/InstantMesh"},{description:"Image-to-3D demo.",id:"stabilityai/stable-point-aware-3d"},{description:"Image-to-3D demo with mesh outputs.",id:"hwjiang/Real3D"},{description:"Image-to-3D demo with splat outputs.",id:"dylanebert/LGM-mini"}],summary:"Image-to-3D models take in image input and produce 3D output.",widgetModels:[],youtubeId:""},v5={datasets:[{description:"A large dataset of over 10 million 3D objects.",id:"allenai/objaverse-xl"},{description:"Descriptive captions for 3D objects in Objaverse.",id:"tiange/Cap3D"}],demo:{inputs:[{label:"Prompt",content:"a cat statue",type:"text"}],outputs:[{label:"Result",content:"text-to-3d-3d-output-filename.glb",type:"text"}]},metrics:[],models:[{description:"Text-to-3D mesh model by OpenAI",id:"openai/shap-e"},{description:"Generative 3D gaussian splatting model.",id:"ashawkey/LGM"}],spaces:[{description:"Text-to-3D demo with mesh outputs.",id:"hysts/Shap-E"},{description:"Text/image-to-3D demo with splat outputs.",id:"ashawkey/LGM"}],summary:"Text-to-3D models take in text input and produce 3D output.",widgetModels:[],youtubeId:""},x5={datasets:[{description:"A dataset of hand keypoints of over 500k examples.",id:"Vincent-luo/hagrid-mediapipe-hands"}],demo:{inputs:[{filename:"keypoint-detection-input.png",type:"img"}],outputs:[{filename:"keypoint-detection-output.png",type:"img"}]},metrics:[],models:[{description:"A robust keypoint detection model.",id:"magic-leap-community/superpoint"},{description:"A robust keypoint matching model.",id:"magic-leap-community/superglue_outdoor"},{description:"Strong keypoint detection model used to detect human pose.",id:"qualcomm/RTMPose-Body2d"},{description:"Powerful keypoint matching model.",id:"ETH-CVG/lightglue_disk"}],spaces:[{description:"An application that detects hand keypoints in real-time.",id:"datasciencedojo/Hand-Keypoint-Detection-Realtime"},{description:"An application for keypoint detection and matching.",id:"ETH-CVG/LightGlue"}],summary:"Keypoint detection is the task of identifying meaningful distinctive points or features in an image.",widgetModels:[],youtubeId:""},b5={datasets:[{description:"Multiple-choice questions and answers about videos.",id:"lmms-lab/Video-MME"},{description:"A dataset of instructions and question-answer pairs about videos.",id:"lmms-lab/VideoChatGPT"},{description:"Large video understanding dataset.",id:"HuggingFaceFV/finevideo"}],demo:{inputs:[{filename:"video-text-to-text-input.gif",type:"img"},{label:"Text Prompt",content:"What is happening in this video?",type:"text"}],outputs:[{label:"Answer",content:"The video shows a series of images showing a fountain with water jets and a variety of colorful flowers and butterflies in the background.",type:"text"}]},metrics:[],models:[{description:"A robust video-text-to-text model.",id:"Vision-CAIR/LongVU_Qwen2_7B"},{description:"Strong video-text-to-text model with reasoning capabilities.",id:"GoodiesHere/Apollo-LMMs-Apollo-7B-t32"},{description:"Strong video-text-to-text model.",id:"HuggingFaceTB/SmolVLM2-2.2B-Instruct"}],spaces:[{description:"An application to chat with a video-text-to-text model.",id:"llava-hf/video-llava"},{description:"A leaderboard for various video-text-to-text models.",id:"opencompass/openvlm_video_leaderboard"},{description:"An application to generate highlights from a video.",id:"HuggingFaceTB/SmolVLM2-HighlightGenerator"}],summary:"Video-text-to-text models take in a video and a text prompt and output text. These models are also called video-language models.",widgetModels:[""],youtubeId:""},w5={"audio-classification":["speechbrain","transformers","transformers.js"],"audio-to-audio":["asteroid","fairseq","speechbrain"],"automatic-speech-recognition":["espnet","nemo","speechbrain","transformers","transformers.js"],"audio-text-to-text":[],"depth-estimation":["transformers","transformers.js"],"document-question-answering":["transformers","transformers.js"],"feature-extraction":["sentence-transformers","transformers","transformers.js"],"fill-mask":["transformers","transformers.js"],"graph-ml":["transformers"],"image-classification":["keras","timm","transformers","transformers.js"],"image-feature-extraction":["timm","transformers"],"image-segmentation":["transformers","transformers.js"],"image-text-to-text":["transformers"],"image-to-image":["diffusers","transformers","transformers.js"],"image-to-text":["transformers","transformers.js"],"image-to-video":["diffusers"],"keypoint-detection":["transformers"],"video-classification":["transformers"],"mask-generation":["transformers"],"multiple-choice":["transformers"],"object-detection":["transformers","transformers.js","ultralytics"],other:[],"question-answering":["adapter-transformers","allennlp","transformers","transformers.js"],robotics:[],"reinforcement-learning":["transformers","stable-baselines3","ml-agents","sample-factory"],"sentence-similarity":["sentence-transformers","spacy","transformers.js"],summarization:["transformers","transformers.js"],"table-question-answering":["transformers"],"table-to-text":["transformers"],"tabular-classification":["sklearn"],"tabular-regression":["sklearn"],"tabular-to-text":["transformers"],"text-classification":["adapter-transformers","setfit","spacy","transformers","transformers.js"],"text-generation":["transformers","transformers.js"],"text-ranking":["sentence-transformers","transformers"],"text-retrieval":[],"text-to-image":["diffusers"],"text-to-speech":["espnet","tensorflowtts","transformers","transformers.js"],"text-to-audio":["transformers","transformers.js"],"text-to-video":["diffusers"],"time-series-forecasting":[],"token-classification":["adapter-transformers","flair","spacy","span-marker","stanza","transformers","transformers.js"],translation:["transformers","transformers.js"],"unconditional-image-generation":["diffusers"],"video-text-to-text":["transformers"],"visual-question-answering":["transformers","transformers.js"],"voice-activity-detection":[],"zero-shot-classification":["transformers","transformers.js"],"zero-shot-image-classification":["transformers","transformers.js"],"zero-shot-object-detection":["transformers","transformers.js"],"text-to-3d":["diffusers"],"image-to-3d":["diffusers"],"any-to-any":["transformers"],"visual-document-retrieval":["transformers"],"video-to-video":["diffusers"]};function ee(t,e=_f){return{...e,id:t,label:Pg[t].name,libraries:w5[t]}}ee("any-to-any",I3),ee("audio-classification",D3),ee("audio-to-audio",M3),ee("audio-text-to-text",_f),ee("automatic-speech-recognition",O3),ee("depth-estimation",Q3),ee("document-question-answering",L3),ee("visual-document-retrieval",p5),ee("feature-extraction",j3),ee("fill-mask",F3),ee("image-classification",$3),ee("image-feature-extraction",z3),ee("image-segmentation",q3),ee("image-to-image",U3),ee("image-text-to-text",V3),ee("image-to-text",B3),ee("image-to-video",H3),ee("keypoint-detection",x5),ee("mask-generation",W3),ee("object-detection",K3),ee("video-classification",d5),ee("question-answering",Y3),ee("reinforcement-learning",X3),ee("sentence-similarity",J3),ee("summarization",Z3),ee("table-question-answering",G3),ee("tabular-classification",e5),ee("tabular-regression",t5),ee("text-classification",a5),ee("text-generation",o5),ee("text-ranking",l5),ee("text-to-image",n5),ee("text-to-speech",i5),ee("text-to-video",c5),ee("token-classification",r5),ee("translation",s5),ee("unconditional-image-generation",u5),ee("video-text-to-text",b5),ee("video-to-video",_f),ee("visual-question-answering",h5),ee("zero-shot-classification",f5),ee("zero-shot-image-classification",m5),ee("zero-shot-object-detection",g5),ee("text-to-3d",v5),ee("image-to-3d",y5);const k5=()=>'"Hi, I recently bought a device from your company but it is not working as advertised and I would like to get reimbursed!"',S5=()=>'"Меня зовут Вольфганг и я живу в Берлине"',_5=()=>'"The tower is 324 metres (1,063 ft) tall, about the same height as an 81-storey building, and the tallest structure in Paris. Its base is square, measuring 125 metres (410 ft) on each side. During its construction, the Eiffel Tower surpassed the Washington Monument to become the tallest man-made structure in the world, a title it held for 41 years until the Chrysler Building in New York City was finished in 1930. It was the first structure to reach a height of 300 metres. Due to the addition of a broadcasting aerial at the top of the tower in 1957, it is now taller than the Chrysler Building by 5.2 metres (17 ft). Excluding transmitters, the Eiffel Tower is the second tallest free-standing structure in France after the Millau Viaduct."',C5=()=>`{
    "query": "How many stars does the transformers repository have?",
    "table": {
        "Repository": ["Transformers", "Datasets", "Tokenizers"],
        "Stars": ["36542", "4512", "3934"],
        "Contributors": ["651", "77", "34"],
        "Programming language": [
            "Python",
            "Python",
            "Rust, Python and NodeJS"
        ]
    }
}`,A5=()=>`{
        "image": "cat.png",
        "question": "What is in this image?"
    }`,T5=()=>`{
    "question": "What is my name?",
    "context": "My name is Clara and I live in Berkeley."
}`,N5=()=>'"I like you. I love you"',P5=()=>'"My name is Sarah Jessica Parker but you can call me Jessica"',Xv=t=>t.tags.includes("conversational")?t.pipeline_tag==="text-generation"?[{role:"user",content:"What is the capital of France?"}]:[{role:"user",content:[{type:"text",text:"Describe this image in one sentence."},{type:"image_url",image_url:{url:"https://cdn.britannica.com/61/93061-050-99147DCE/Statue-of-Liberty-Island-New-York-Bay.jpg"}}]}]:'"Can you please let us know more details about your "',E5=t=>`"The answer to the universe is ${t.mask_token}."`,R5=()=>`{
    "source_sentence": "That is a happy person",
    "sentences": [
        "That is a happy dog",
        "That is a very happy person",
        "Today is a sunny day"
    ]
}`,I5=()=>'"Today is a sunny day and I will get some ice cream."',D5=()=>'"cats.jpg"',M5=()=>'"cats.jpg"',O5=()=>`{
    "image": "cat.png",
    "prompt": "Turn the cat into a tiger."
}`,L5=()=>`{
    "image": "cat.png",
    "prompt": "The cat starts to dance"
}`,j5=()=>'"cats.jpg"',F5=()=>'"cats.jpg"',$5=()=>'"sample1.flac"',z5=()=>'"sample1.flac"',U5=()=>'"Astronaut riding a horse"',B5=()=>'"A young man walking on the street"',V5=()=>'"The answer to the universe is 42"',q5=()=>'"liquid drum and bass, atmospheric synths, airy sounds"',H5=()=>'"sample1.flac"',Yv=()=>`'{"Height":[11.52,12.48],"Length1":[23.2,24.0],"Length2":[25.4,26.3],"Species": ["Bream","Bream"]}'`,W5=()=>'"cats.jpg"',K5={"audio-to-audio":$5,"audio-classification":z5,"automatic-speech-recognition":H5,"document-question-answering":A5,"feature-extraction":I5,"fill-mask":E5,"image-classification":D5,"image-to-text":M5,"image-to-image":O5,"image-to-video":L5,"image-segmentation":j5,"object-detection":F5,"question-answering":T5,"sentence-similarity":R5,summarization:_5,"table-question-answering":C5,"tabular-regression":Yv,"tabular-classification":Yv,"text-classification":N5,"text-generation":Xv,"image-text-to-text":Xv,"text-to-image":U5,"text-to-video":B5,"text-to-speech":V5,"text-to-audio":q5,"token-classification":P5,translation:S5,"zero-shot-classification":k5,"zero-shot-image-classification":W5};function Q5(t,e=!1,n=!1){if(t.pipeline_tag){const i=K5[t.pipeline_tag];if(i){let r=i(t);if(typeof r=="string"&&(e&&(r=r.replace(/(?:(?:\r?\n|\r)\t*)|\t+/g," ")),n)){const s=/^"(.+)"$/s,a=r.match(s);r=a?a[1]:r}return r}}return"No input example has been defined for this model task."}function X5(t,e){let n=JSON.stringify(t,null,"	");return e?.indent&&(n=n.replaceAll(`
`,`
${e.indent}`)),e?.attributeKeyQuotes||(n=n.replace(/"([^"]+)":/g,"$1:")),e?.customContentEscaper&&(n=e.customContentEscaper(n)),n}const k_="custom_code";function zn(t){const e=t.split("/");return e.length===1?e[0]:e[1]}const Y5=t=>JSON.stringify(t).slice(1,-1),J5=t=>[`from adapters import AutoAdapterModel

model = AutoAdapterModel.from_pretrained("${t.config?.adapter_transformers?.model_name}")
model.load_adapter("${t.id}", set_active=True)`],Z5=t=>[`import allennlp_models
from allennlp.predictors.predictor import Predictor

predictor = Predictor.from_path("hf://${t.id}")`],G5=t=>[`import allennlp_models
from allennlp.predictors.predictor import Predictor

predictor = Predictor.from_path("hf://${t.id}")
predictor_input = {"passage": "My name is Wolfgang and I live in Berlin", "question": "Where do I live?"}
predictions = predictor.predict_json(predictor_input)`],ej=t=>t.tags.includes("question-answering")?G5(t):Z5(t),tj=t=>[`from araclip import AraClip

model = AraClip.from_pretrained("${t.id}")`],nj=t=>[`from asteroid.models import BaseModel

model = BaseModel.from_pretrained("${t.id}")`],ij=t=>{const e=`# Watermark Generator
from audioseal import AudioSeal

model = AudioSeal.load_generator("${t.id}")
# pass a tensor (tensor_wav) of shape (batch, channels, samples) and a sample rate
wav, sr = tensor_wav, 16000
	
watermark = model.get_watermark(wav, sr)
watermarked_audio = wav + watermark`,n=`# Watermark Detector
from audioseal import AudioSeal

detector = AudioSeal.load_detector("${t.id}")
	
result, message = detector.detect_watermark(watermarked_audio, sr)`;return[e,n]};function da(t){return t.cardData?.base_model?.toString()??"fill-in-base-model"}function rs(t){const e=t.widgetData?.[0]?.text??t.cardData?.instance_prompt;if(e)return Y5(e)}const rj=t=>[`import requests
from PIL import Image
from ben2 import AutoModel

url = "https://huggingface.co/datasets/mishig/sample_images/resolve/main/teapot.jpg"
image = Image.open(requests.get(url, stream=True).raw)

model = AutoModel.from_pretrained("${t.id}")
model.to("cuda").eval()
foreground = model.inference(image)
`],sj=t=>[`from bertopic import BERTopic

model = BERTopic.load("${t.id}")`],aj=t=>[`from bm25s.hf import BM25HF

retriever = BM25HF.load_from_hub("${t.id}")`],oj=()=>[`# pip install chatterbox-tts
import torchaudio as ta
from chatterbox.tts import ChatterboxTTS

model = ChatterboxTTS.from_pretrained(device="cuda")

text = "Ezreal and Jinx teamed up with Ahri, Yasuo, and Teemo to take down the enemy's Nexus in an epic late-game pentakill."
wav = model.generate(text)
ta.save("test-1.wav", wav, model.sr)

# If you want to synthesize with a different voice, specify the audio prompt
AUDIO_PROMPT_PATH="YOUR_FILE.wav"
wav = model.generate(text, audio_prompt_path=AUDIO_PROMPT_PATH)
ta.save("test-2.wav", wav, model.sr)`],lj=()=>["pip install git+https://github.com/SAP-samples/contexttab",`# Run a classification task
from sklearn.datasets import load_breast_cancer
from sklearn.metrics import accuracy_score
from sklearn.model_selection import train_test_split

from contexttab import ConTextTabClassifier

# Load sample data
X, y = load_breast_cancer(return_X_y=True)
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.5, random_state=42)

# Initialize a classifier
# You can omit checkpoint and checkpoint_revision to use the default model
clf = ConTextTabClassifier(checkpoint="l2/base.pt", checkpoint_revision="v1.0.0", bagging=1, max_context_size=2048)

clf.fit(X_train, y_train)

# Predict probabilities
prediction_probabilities = clf.predict_proba(X_test)
# Predict labels
predictions = clf.predict(X_test)
print("Accuracy", accuracy_score(y_test, predictions))`,`# Run a regression task
from sklearn.datasets import fetch_openml
from sklearn.metrics import r2_score
from sklearn.model_selection import train_test_split

from contexttab import ConTextTabRegressor


# Load sample data
df = fetch_openml(data_id=531, as_frame=True)
X = df.data
y = df.target.astype(float)

# Train-test split
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.5, random_state=42)

# Initialize the regressor
# You can omit checkpoint and checkpoint_revision to use the default model
regressor = ConTextTabRegressor(checkpoint="l2/base.pt", checkpoint_revision="v1.0.0", bagging=1, max_context_size=2048)

regressor.fit(X_train, y_train)

# Predict on the test set
predictions = regressor.predict(X_test)

r2 = r2_score(y_test, predictions)
print("R² Score:", r2)`],cj=()=>[`# pip install git+https://github.com/Google-Health/cxr-foundation.git#subdirectory=python

# Load image as grayscale (Stillwaterising, CC0, via Wikimedia Commons)
import requests
from PIL import Image
from io import BytesIO
image_url = "https://upload.wikimedia.org/wikipedia/commons/c/c8/Chest_Xray_PA_3-8-2010.png"
img = Image.open(requests.get(image_url, headers={'User-Agent': 'Demo'}, stream=True).raw).convert('L')

# Run inference
from clientside.clients import make_hugging_face_client
cxr_client = make_hugging_face_client('cxr_model')
print(cxr_client.get_image_embeddings_from_images([img]))`],uj=t=>{let e,n,i;return e="<ENCODER>",n="<NUMBER_OF_FEATURES>",i="<OUT_CHANNELS>",t.id==="depth-anything/Depth-Anything-V2-Small"?(e="vits",n="64",i="[48, 96, 192, 384]"):t.id==="depth-anything/Depth-Anything-V2-Base"?(e="vitb",n="128",i="[96, 192, 384, 768]"):t.id==="depth-anything/Depth-Anything-V2-Large"&&(e="vitl",n="256",i="[256, 512, 1024, 1024"),[`
# Install from https://github.com/DepthAnything/Depth-Anything-V2

# Load the model and infer depth from an image
import cv2
import torch

from depth_anything_v2.dpt import DepthAnythingV2

# instantiate the model
model = DepthAnythingV2(encoder="${e}", features=${n}, out_channels=${i})

# load the weights
filepath = hf_hub_download(repo_id="${t.id}", filename="depth_anything_v2_${e}.pth", repo_type="model")
state_dict = torch.load(filepath, map_location="cpu")
model.load_state_dict(state_dict).eval()

raw_img = cv2.imread("your/image/path")
depth = model.infer_image(raw_img) # HxW raw depth map in numpy
    `]},dj=t=>[`# Download checkpoint
pip install huggingface-hub
huggingface-cli download --local-dir checkpoints ${t.id}`,`import depth_pro

# Load model and preprocessing transform
model, transform = depth_pro.create_model_and_transforms()
model.eval()

# Load and preprocess an image.
image, _, f_px = depth_pro.load_rgb("example.png")
image = transform(image)

# Run inference.
prediction = model.infer(image, f_px=f_px)

# Results: 1. Depth in meters
depth = prediction["depth"]
# Results: 2. Focal length in pixels
focallength_px = prediction["focallength_px"]`],pj=()=>[`from huggingface_hub import from_pretrained_keras
import tensorflow as tf, requests

# Load and format input
IMAGE_URL = "https://storage.googleapis.com/dx-scin-public-data/dataset/images/3445096909671059178.png"
input_tensor = tf.train.Example(
    features=tf.train.Features(
        feature={
            "image/encoded": tf.train.Feature(
                bytes_list=tf.train.BytesList(value=[requests.get(IMAGE_URL, stream=True).content])
            )
        }
    )
).SerializeToString()

# Load model and run inference
loaded_model = from_pretrained_keras("google/derm-foundation")
infer = loaded_model.signatures["serving_default"]
print(infer(inputs=tf.constant([input_tensor])))`],hj=t=>[`import soundfile as sf
from dia.model import Dia

model = Dia.from_pretrained("${t.id}")
text = "[S1] Dia is an open weights text to dialogue model. [S2] You get full control over scripts and voices. [S1] Wow. Amazing. (laughs) [S2] Try it now on Git hub or Hugging Face."
output = model.generate(text)

sf.write("simple.mp3", output, 44100)`],fj=t=>[`# pip install git+https://github.com/NVlabs/describe-anything
from huggingface_hub import snapshot_download
from dam import DescribeAnythingModel

snapshot_download(${t.id}, local_dir="checkpoints")

dam = DescribeAnythingModel(
	model_path="checkpoints",
	conv_mode="v1",
	prompt_mode="focal_prompt",
)`],S_="Astronaut in a jungle, cold color palette, muted colors, detailed, 8k",__="Turn this cat into a dog",Eg="A man with short gray hair plays a red electric guitar.",mj=t=>[`from diffusers import DiffusionPipeline

pipe = DiffusionPipeline.from_pretrained("${t.id}")

prompt = "${rs(t)??S_}"
image = pipe(prompt).images[0]`],gj=t=>[`from diffusers import DiffusionPipeline
from diffusers.utils import load_image

pipe = DiffusionPipeline.from_pretrained("${t.id}")

prompt = "${rs(t)??__}"
input_image = load_image("https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/cat.png")

image = pipe(image=input_image, prompt=prompt).images[0]`],yj=t=>[`import torch
from diffusers import DiffusionPipeline
from diffusers.utils import load_image, export_to_video

pipe = DiffusionPipeline.from_pretrained("${t.id}", torch_dtype=torch.float16)
pipe.to("cuda")

prompt = "${rs(t)??Eg}"
image = load_image(
    "https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/guitar-man.png"
)

output = pipe(image=image, prompt=prompt).frames[0]
export_to_video(output, "output.mp4")`],vj=t=>[`from diffusers import ControlNetModel, StableDiffusionControlNetPipeline

controlnet = ControlNetModel.from_pretrained("${t.id}")
pipe = StableDiffusionControlNetPipeline.from_pretrained(
	"${da(t)}", controlnet=controlnet
)`],xj=t=>[`from diffusers import DiffusionPipeline

pipe = DiffusionPipeline.from_pretrained("${da(t)}")
pipe.load_lora_weights("${t.id}")

prompt = "${rs(t)??S_}"
image = pipe(prompt).images[0]`],bj=t=>[`from diffusers import DiffusionPipeline
from diffusers.utils import load_image

pipe = DiffusionPipeline.from_pretrained("${da(t)}")
pipe.load_lora_weights("${t.id}")

prompt = "${rs(t)??__}"
input_image = load_image("https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/cat.png")

image = pipe(image=input_image, prompt=prompt).images[0]`],wj=t=>[`from diffusers import DiffusionPipeline
from diffusers.utils import export_to_video

pipe = DiffusionPipeline.from_pretrained("${da(t)}")
pipe.load_lora_weights("${t.id}")

prompt = "${rs(t)??Eg}"

output = pipe(prompt=prompt).frames[0]
export_to_video(output, "output.mp4")`],kj=t=>[`from diffusers import DiffusionPipeline
from diffusers.utils import load_image, export_to_video

pipe = DiffusionPipeline.from_pretrained("${da(t)}")
pipe.load_lora_weights("${t.id}")

prompt = "${rs(t)??Eg}"
input_image = load_image("https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/guitar-man.png")

image = pipe(image=input_image, prompt=prompt).frames[0]
export_to_video(output, "output.mp4")`],Sj=t=>[`from diffusers import DiffusionPipeline

pipe = DiffusionPipeline.from_pretrained("${da(t)}")
pipe.load_textual_inversion("${t.id}")`],_j=t=>[`import torch
from diffusers import FluxFillPipeline
from diffusers.utils import load_image

image = load_image("https://huggingface.co/datasets/diffusers/diffusers-images-docs/resolve/main/cup.png")
mask = load_image("https://huggingface.co/datasets/diffusers/diffusers-images-docs/resolve/main/cup_mask.png")

pipe = FluxFillPipeline.from_pretrained("${t.id}", torch_dtype=torch.bfloat16).to("cuda")
image = pipe(
    prompt="a white paper cup",
    image=image,
    mask_image=mask,
    height=1632,
    width=1232,
    guidance_scale=30,
    num_inference_steps=50,
    max_sequence_length=512,
    generator=torch.Generator("cpu").manual_seed(0)
).images[0]
image.save(f"flux-fill-dev.png")`],Cj=t=>[`import torch
from diffusers import AutoPipelineForInpainting
from diffusers.utils import load_image

pipe = AutoPipelineForInpainting.from_pretrained("${t.id}", torch_dtype=torch.float16, variant="fp16").to("cuda")

img_url = "https://raw.githubusercontent.com/CompVis/latent-diffusion/main/data/inpainting_examples/overture-creations-5sI6fQgYIuo.png"
mask_url = "https://raw.githubusercontent.com/CompVis/latent-diffusion/main/data/inpainting_examples/overture-creations-5sI6fQgYIuo_mask.png"

image = load_image(img_url).resize((1024, 1024))
mask_image = load_image(mask_url).resize((1024, 1024))

prompt = "a tiger sitting on a park bench"
generator = torch.Generator(device="cuda").manual_seed(0)

image = pipe(
  prompt=prompt,
  image=image,
  mask_image=mask_image,
  guidance_scale=8.0,
  num_inference_steps=20,  # steps between 15 and 30 work well for us
  strength=0.99,  # make sure to use \`strength\` below 1.0
  generator=generator,
).images[0]`],Aj=t=>t.tags.includes("StableDiffusionInpaintPipeline")||t.tags.includes("StableDiffusionXLInpaintPipeline")?Cj(t):t.tags.includes("controlnet")?vj(t):t.tags.includes("lora")?t.pipeline_tag==="image-to-image"?bj(t):t.pipeline_tag==="image-to-video"?kj(t):t.pipeline_tag==="text-to-video"?wj(t):xj(t):t.tags.includes("textual_inversion")?Sj(t):t.tags.includes("FluxFillPipeline")?_j(t):t.pipeline_tag==="image-to-video"?yj(t):t.pipeline_tag==="image-to-image"?gj(t):mj(t),Tj=t=>{const e=`# Pipeline for Stable Diffusion 3
from diffusionkit.mlx import DiffusionPipeline

pipeline = DiffusionPipeline(
	shift=3.0,
	use_t5=False,
	model_version=${t.id},
	low_memory_mode=True,
	a16=True,
	w16=True,
)`,n=`# Pipeline for Flux
from diffusionkit.mlx import FluxPipeline

pipeline = FluxPipeline(
  shift=1.0,
  model_version=${t.id},
  low_memory_mode=True,
  a16=True,
  w16=True,
)`,i=`# Image Generation
HEIGHT = 512
WIDTH = 512
NUM_STEPS = ${t.tags.includes("flux")?4:50}
CFG_WEIGHT = ${t.tags.includes("flux")?0:5}

image, _ = pipeline.generate_image(
  "a photo of a cat",
  cfg_weight=CFG_WEIGHT,
  num_steps=NUM_STEPS,
  latent_size=(HEIGHT // 8, WIDTH // 8),
)`;return[t.tags.includes("flux")?n:e,i]},Nj=t=>[`# pip install --no-binary :all: cartesia-pytorch
from cartesia_pytorch import ReneLMHeadModel
from transformers import AutoTokenizer

model = ReneLMHeadModel.from_pretrained("${t.id}")
tokenizer = AutoTokenizer.from_pretrained("allenai/OLMo-1B-hf")

in_message = ["Rene Descartes was"]
inputs = tokenizer(in_message, return_tensors="pt")

outputs = model.generate(inputs.input_ids, max_length=50, top_k=100, top_p=0.99)
out_message = tokenizer.batch_decode(outputs, skip_special_tokens=True)[0]

print(out_message)
)`],Pj=t=>[`import mlx.core as mx
import cartesia_mlx as cmx

model = cmx.from_pretrained("${t.id}")
model.set_dtype(mx.float32)   

prompt = "Rene Descartes was"

for text in model.generate(
    prompt,
    max_tokens=500,
    eval_every_n=5,
    verbose=True,
    top_p=0.99,
    temperature=0.85,
):
    print(text, end="", flush=True)
`],Ej=t=>{const e=zn(t.id).replaceAll("-","_");return[`# Load it from the Hub directly
import edsnlp
nlp = edsnlp.load("${t.id}")
`,`# Or install it as a package
!pip install git+https://huggingface.co/${t.id}

# and import it as a module
import ${e}

nlp = ${e}.load()  # or edsnlp.load("${e}")
`]},Rj=t=>[`from espnet2.bin.tts_inference import Text2Speech

model = Text2Speech.from_pretrained("${t.id}")

speech, *_ = model("text to generate speech from")`],Ij=t=>[`from espnet2.bin.asr_inference import Speech2Text

model = Speech2Text.from_pretrained(
  "${t.id}"
)

speech, rate = soundfile.read("speech.wav")
text, *_ = model(speech)[0]`],Dj=()=>["unknown model type (must be text-to-speech or automatic-speech-recognition)"],Mj=t=>t.tags.includes("text-to-speech")?Rj(t):t.tags.includes("automatic-speech-recognition")?Ij(t):Dj(),Oj=t=>[`from fairseq.checkpoint_utils import load_model_ensemble_and_task_from_hf_hub

models, cfg, task = load_model_ensemble_and_task_from_hf_hub(
    "${t.id}"
)`],Lj=t=>[`from flair.models import SequenceTagger

tagger = SequenceTagger.load("${t.id}")`],jj=t=>[`from gliner import GLiNER

model = GLiNER.from_pretrained("${t.id}")`],Fj=t=>[`# Download model
from huggingface_hub import snapshot_download

snapshot_download(${t.id}, local_dir="checkpoints")

from indextts.infer import IndexTTS

# Ensure config.yaml is present in the checkpoints directory
tts = IndexTTS(model_dir="checkpoints", cfg_path="checkpoints/config.yaml")

voice = "path/to/your/reference_voice.wav"  # Path to the voice reference audio file
text = "Hello, how are you?"
output_path = "output_index.wav"

tts.infer(voice, text, output_path)`],$j=t=>[`# CLI usage
# see docs: https://ai-riksarkivet.github.io/htrflow/latest/getting_started/quick_start.html
htrflow pipeline <path/to/pipeline.yaml> <path/to/image>`,`# Python usage
from htrflow.pipeline.pipeline import Pipeline
from htrflow.pipeline.steps import Task
from htrflow.models.framework.model import ModelClass

pipeline = Pipeline(
    [
        Task(
            ModelClass, {"model": "${t.id}"}, {}
        ),
    ])`],zj=t=>[`# Available backend options are: "jax", "torch", "tensorflow".
import os
os.environ["KERAS_BACKEND"] = "jax"
	
import keras

model = keras.saving.load_model("hf://${t.id}")
`],Uj=t=>`
import keras_hub

# Load CausalLM model (optional: use half precision for inference)
causal_lm = keras_hub.models.CausalLM.from_preset("hf://${t}", dtype="bfloat16")
causal_lm.compile(sampler="greedy")  # (optional) specify a sampler

# Generate text
causal_lm.generate("Keras: deep learning for", max_length=64)
`,Bj=t=>`
import keras_hub

# Load TextToImage model (optional: use half precision for inference)
text_to_image = keras_hub.models.TextToImage.from_preset("hf://${t}", dtype="bfloat16")

# Generate images with a TextToImage model.
text_to_image.generate("Astronaut in a jungle")
`,Vj=t=>`
import keras_hub

# Load TextClassifier model
text_classifier = keras_hub.models.TextClassifier.from_preset(
    "hf://${t}",
    num_classes=2,
)
# Fine-tune
text_classifier.fit(x=["Thilling adventure!", "Total snoozefest."], y=[1, 0])
# Classify text
text_classifier.predict(["Not my cup of tea."])
`,qj=t=>`
import keras_hub
import keras

# Load ImageClassifier model
image_classifier = keras_hub.models.ImageClassifier.from_preset(
    "hf://${t}",
    num_classes=2,
)
# Fine-tune
image_classifier.fit(
    x=keras.random.randint((32, 64, 64, 3), 0, 256),
    y=keras.random.randint((32, 1), 0, 2),
)
# Classify image
image_classifier.predict(keras.random.randint((1, 64, 64, 3), 0, 256))
`,Jv={CausalLM:Uj,TextToImage:Bj,TextClassifier:Vj,ImageClassifier:qj},Hj=(t,e)=>`
import keras_hub

# Create a ${t} model
task = keras_hub.models.${t}.from_preset("hf://${e}")
`,Wj=t=>`
import keras_hub

# Create a Backbone model unspecialized for any task
backbone = keras_hub.models.Backbone.from_preset("hf://${t}")
`,Kj=t=>{const e=t.id,n=t.config?.keras_hub?.tasks??[],i=[];for(const[r,s]of Object.entries(Jv))n.includes(r)&&i.push(s(e));for(const r of n)Object.keys(Jv).includes(r)||i.push(Hj(r,e));return i.push(Wj(e)),i},Qj=t=>[`# Example usage for KimiAudio
# pip install git+https://github.com/MoonshotAI/Kimi-Audio.git

from kimia_infer.api.kimia import KimiAudio

model = KimiAudio(model_path="${t.id}", load_detokenizer=True)

sampling_params = {
    "audio_temperature": 0.8,
    "audio_top_k": 10,
    "text_temperature": 0.0,
    "text_top_k": 5,
}

# For ASR
asr_audio = "asr_example.wav"
messages_asr = [
    {"role": "user", "message_type": "text", "content": "Please transcribe the following audio:"},
    {"role": "user", "message_type": "audio", "content": asr_audio}
]
_, text = model.generate(messages_asr, **sampling_params, output_type="text")
print(text)

# For Q&A
qa_audio = "qa_example.wav"
messages_conv = [{"role": "user", "message_type": "audio", "content": qa_audio}]
wav, text = model.generate(messages_conv, **sampling_params, output_type="both")
sf.write("output_audio.wav", wav.cpu().view(-1).numpy(), 24000)
print(text)
`],Xj=t=>[`from kittentts import KittenTTS
m = KittenTTS("${t.id}")

audio = m.generate("This high quality TTS model works without a GPU")

# Save the audio
import soundfile as sf
sf.write('output.wav', audio, 24000)`],Yj=t=>t.tags.includes("bi-encoder")?[`#install from https://github.com/webis-de/lightning-ir

from lightning_ir import BiEncoderModule
model = BiEncoderModule("${t.id}")

model.score("query", ["doc1", "doc2", "doc3"])`]:t.tags.includes("cross-encoder")?[`#install from https://github.com/webis-de/lightning-ir

from lightning_ir import CrossEncoderModule
model = CrossEncoderModule("${t.id}")

model.score("query", ["doc1", "doc2", "doc3"])`]:[`#install from https://github.com/webis-de/lightning-ir

from lightning_ir import BiEncoderModule, CrossEncoderModule

# depending on the model type, use either BiEncoderModule or CrossEncoderModule
model = BiEncoderModule("${t.id}") 
# model = CrossEncoderModule("${t.id}")

model.score("query", ["doc1", "doc2", "doc3"])`],Jj=t=>{const e=[`# !pip install llama-cpp-python

from llama_cpp import Llama

llm = Llama.from_pretrained(
	repo_id="${t.id}",
	filename="{{GGUF_FILE}}",
)
`];if(t.tags.includes("conversational")){const n=Q5(t);e.push(`llm.create_chat_completion(
	messages = ${X5(n,{attributeKeyQuotes:!0,indent:"	"})}
)`)}else e.push(`output = llm(
	"Once upon a time,",
	max_tokens=512,
	echo=True
)
print(output)`);return e},Zj=t=>{if(t.tags.includes("smolvla")){const e=[`# See https://github.com/huggingface/lerobot?tab=readme-ov-file#installation for more details
git clone https://github.com/huggingface/lerobot.git
cd lerobot
pip install -e .[smolvla]`,`# Launch finetuning on your dataset
python lerobot/scripts/train.py \\
--policy.path=${t.id} \\
--dataset.repo_id=lerobot/svla_so101_pickplace \\ 
--batch_size=64 \\
--steps=20000 \\
--output_dir=outputs/train/my_smolvla \\
--job_name=my_smolvla_training \\
--policy.device=cuda \\
--wandb.enable=true`];return t.id!=="lerobot/smolvla_base"&&e.push(`# Run the policy using the record function	
python -m lerobot.record \\
  --robot.type=so101_follower \\
  --robot.port=/dev/ttyACM0 \\ # <- Use your port
  --robot.id=my_blue_follower_arm \\ # <- Use your robot id
  --robot.cameras="{ front: {type: opencv, index_or_path: 8, width: 640, height: 480, fps: 30}}" \\ # <- Use your cameras
  --dataset.single_task="Grasp a lego block and put it in the bin." \\ # <- Use the same task description you used in your dataset recording
  --dataset.repo_id=HF_USER/dataset_name \\  # <- This will be the dataset name on HF Hub
  --dataset.episode_time_s=50 \\
  --dataset.num_episodes=10 \\
  --policy.path=${t.id}`),e}return[]},Gj=t=>[`# Note: 'keras<3.x' or 'tf_keras' must be installed (legacy)
# See https://github.com/keras-team/tf-keras for more details.
from huggingface_hub import from_pretrained_keras

model = from_pretrained_keras("${t.id}")
`],eF=t=>[`from mamba_ssm import MambaLMHeadModel

model = MambaLMHeadModel.from_pretrained("${t.id}")`],tF=t=>[`# Install from https://github.com/Camb-ai/MARS5-TTS

from inference import Mars5TTS
mars5 = Mars5TTS.from_pretrained("${t.id}")`],nF=t=>[`# Install from https://github.com/pq-yang/MatAnyone.git

from matanyone.model.matanyone import MatAnyone
model = MatAnyone.from_pretrained("${t.id}")`,`
from matanyone import InferenceCore
processor = InferenceCore("${t.id}")`],iF=()=>[`# Install from https://github.com/buaacyw/MeshAnything.git

from MeshAnything.models.meshanything import MeshAnything

# refer to https://github.com/buaacyw/MeshAnything/blob/main/main.py#L91 on how to define args
# and https://github.com/buaacyw/MeshAnything/blob/main/app.py regarding usage
model = MeshAnything(args)`],rF=t=>[`import open_clip

model, preprocess_train, preprocess_val = open_clip.create_model_and_transforms('hf-hub:${t.id}')
tokenizer = open_clip.get_tokenizer('hf-hub:${t.id}')`],sF=t=>{if(t.config?.architectures?.[0]){const e=t.config.architectures[0];return[[`from paddlenlp.transformers import AutoTokenizer, ${e}`,"",`tokenizer = AutoTokenizer.from_pretrained("${t.id}", from_hf_hub=True)`,`model = ${e}.from_pretrained("${t.id}", from_hf_hub=True)`].join(`
`)]}else return[["# ⚠️ Type of model unknown","from paddlenlp.transformers import AutoTokenizer, AutoModel","",`tokenizer = AutoTokenizer.from_pretrained("${t.id}", from_hf_hub=True)`,`model = AutoModel.from_pretrained("${t.id}", from_hf_hub=True)`].join(`
`)]},aF=t=>{const e={textline_detection:{className:"TextDetection"},textline_recognition:{className:"TextRecognition"},seal_text_detection:{className:"SealTextDetection"},doc_img_unwarping:{className:"TextImageUnwarping"},doc_img_orientation_classification:{className:"DocImgOrientationClassification"},textline_orientation_classification:{className:"TextLineOrientationClassification"},chart_parsing:{className:"ChartParsing"},formula_recognition:{className:"FormulaRecognition"},layout_detection:{className:"LayoutDetection"},table_cells_detection:{className:"TableCellsDetection"},wired_table_classification:{className:"TableClassification"},table_structure_recognition:{className:"TableStructureRecognition"}};if(t.tags.includes("doc_vlm"))return[`# pip install paddleocr
from paddleocr import DocVLM
model = DocVLM(model_name="${zn(t.id)}")
output = model.predict(
    input={"image": "path/to/image.png", "query": "Parsing this image and output the content in Markdown format."},
    batch_size=1
)
for res in output:
    res.print()
    res.save_to_img(save_path="./output/")
    res.save_to_json(save_path="./output/res.json")`];for(const n of t.tags)if(n in e){const{className:i}=e[n];return[`# pip install paddleocr
from paddleocr import ${i}
model = ${i}(model_name="${zn(t.id)}")
output = model.predict(input="path/to/image.png", batch_size=1)
for res in output:
    res.print()
    res.save_to_img(save_path="./output/")
    res.save_to_json(save_path="./output/res.json")`]}return[`# Please refer to the document for information on how to use the model. 
# https://paddlepaddle.github.io/PaddleOCR/latest/en/version3.x/module_usage/module_overview.html`]},oF=t=>{const e=`# Use PE-Core models as CLIP models
import core.vision_encoder.pe as pe

model = pe.CLIP.from_config("${t.id}", pretrained=True)`,n=`# Use any PE model as a vision encoder
import core.vision_encoder.pe as pe

model = pe.VisionTransformer.from_config("${t.id}", pretrained=True)`;return t.id.includes("Core")?[e,n]:[n]},lF=t=>[`from huggingface_hub import snapshot_download
from phantom_wan import WANI2V, configs

checkpoint_dir = snapshot_download("${t.id}")
wan_i2v = WanI2V(
            config=configs.WAN_CONFIGS['i2v-14B'],
            checkpoint_dir=checkpoint_dir,
        )
 video = wan_i2v.generate(text_prompt, image_prompt)`],cF=t=>[`from pyannote.audio import Pipeline
  
pipeline = Pipeline.from_pretrained("${t.id}")

# inference on the whole file
pipeline("file.wav")

# inference on an excerpt
from pyannote.core import Segment
excerpt = Segment(start=2.0, end=5.0)

from pyannote.audio import Audio
waveform, sample_rate = Audio().crop("file.wav", excerpt)
pipeline({"waveform": waveform, "sample_rate": sample_rate})`],uF=t=>[`from pyannote.audio import Model, Inference

model = Model.from_pretrained("${t.id}")
inference = Inference(model)

# inference on the whole file
inference("file.wav")

# inference on an excerpt
from pyannote.core import Segment
excerpt = Segment(start=2.0, end=5.0)
inference.crop("file.wav", excerpt)`],dF=t=>t.tags.includes("pyannote-audio-pipeline")?cF(t):uF(t),pF=t=>[`from relik import Relik
 
relik = Relik.from_pretrained("${t.id}")`],hF=t=>[`# Install from https://github.com/microsoft/renderformer

from renderformer import RenderFormerRenderingPipeline
pipeline = RenderFormerRenderingPipeline.from_pretrained("${t.id}")`],fF=t=>[`from tensorflow_tts.inference import AutoProcessor, TFAutoModel

processor = AutoProcessor.from_pretrained("${t.id}")
model = TFAutoModel.from_pretrained("${t.id}")
`],mF=t=>[`from tensorflow_tts.inference import TFAutoModel

model = TFAutoModel.from_pretrained("${t.id}")
audios = model.inference(mels)
`],gF=t=>[`from tensorflow_tts.inference import TFAutoModel

model = TFAutoModel.from_pretrained("${t.id}")
`],yF=t=>t.tags.includes("text-to-mel")?fF(t):t.tags.includes("mel-to-wav")?mF(t):gF(t),vF=t=>[`import timm

model = timm.create_model("hf_hub:${t.id}", pretrained=True)`],xF=()=>[`# pip install sae-lens
from sae_lens import SAE

sae, cfg_dict, sparsity = SAE.from_pretrained(
    release = "RELEASE_ID", # e.g., "gpt2-small-res-jb". See other options in https://github.com/jbloomAus/SAELens/blob/main/sae_lens/pretrained_saes.yaml
    sae_id = "SAE_ID", # e.g., "blocks.8.hook_resid_pre". Won't always be a hook point
)`],bF=()=>[`# seed_story_cfg_path refers to 'https://github.com/TencentARC/SEED-Story/blob/master/configs/clm_models/agent_7b_sft.yaml'
# llm_cfg_path refers to 'https://github.com/TencentARC/SEED-Story/blob/master/configs/clm_models/llama2chat7b_lora.yaml'
from omegaconf import OmegaConf
import hydra

# load Llama2
llm_cfg = OmegaConf.load(llm_cfg_path)
llm = hydra.utils.instantiate(llm_cfg, torch_dtype="fp16")

# initialize seed_story
seed_story_cfg = OmegaConf.load(seed_story_cfg_path)
seed_story = hydra.utils.instantiate(seed_story_cfg, llm=llm) `],wF=(t,e)=>[`import joblib
from skops.hub_utils import download
download("${t.id}", "path_to_folder")
model = joblib.load(
	"${e}"
)
# only load pickle files from sources you trust
# read more about it here https://skops.readthedocs.io/en/stable/persistence.html`],kF=(t,e)=>[`from skops.hub_utils import download
from skops.io import load
download("${t.id}", "path_to_folder")
# make sure model file is in skops format
# if model is a pickle file, make sure it's from a source you trust
model = load("path_to_folder/${e}")`],SF=t=>[`from huggingface_hub import hf_hub_download
import joblib
model = joblib.load(
	hf_hub_download("${t.id}", "sklearn_model.joblib")
)
# only load pickle files from sources you trust
# read more about it here https://skops.readthedocs.io/en/stable/persistence.html`],_F=t=>{if(t.tags.includes("skops")){const e=t.config?.sklearn?.model?.file,n=t.config?.sklearn?.model_format;return e?n==="pickle"?wF(t,e):kF(t,e):["# ⚠️ Model filename not specified in config.json"]}else return SF(t)},CF=t=>[`import torch
import torchaudio
from einops import rearrange
from stable_audio_tools import get_pretrained_model
from stable_audio_tools.inference.generation import generate_diffusion_cond

device = "cuda" if torch.cuda.is_available() else "cpu"

# Download model
model, model_config = get_pretrained_model("${t.id}")
sample_rate = model_config["sample_rate"]
sample_size = model_config["sample_size"]

model = model.to(device)

# Set up text and timing conditioning
conditioning = [{
	"prompt": "128 BPM tech house drum loop",
}]

# Generate stereo audio
output = generate_diffusion_cond(
	model,
	conditioning=conditioning,
	sample_size=sample_size,
	device=device
)

# Rearrange audio batch to a single sequence
output = rearrange(output, "b d n -> d (b n)")

# Peak normalize, clip, convert to int16, and save to file
output = output.to(torch.float32).div(torch.max(torch.abs(output))).clamp(-1, 1).mul(32767).to(torch.int16).cpu()
torchaudio.save("output.wav", output, sample_rate)`],AF=t=>[`from huggingface_hub import from_pretrained_fastai

learn = from_pretrained_fastai("${t.id}")`],TF=t=>{const e=`# Use SAM2 with images
import torch
from sam2.sam2_image_predictor import SAM2ImagePredictor

predictor = SAM2ImagePredictor.from_pretrained(${t.id})

with torch.inference_mode(), torch.autocast("cuda", dtype=torch.bfloat16):
    predictor.set_image(<your_image>)
    masks, _, _ = predictor.predict(<input_prompts>)`,n=`# Use SAM2 with videos
import torch
from sam2.sam2_video_predictor import SAM2VideoPredictor
	
predictor = SAM2VideoPredictor.from_pretrained(${t.id})

with torch.inference_mode(), torch.autocast("cuda", dtype=torch.bfloat16):
    state = predictor.init_state(<your_video>)

    # add new prompts and instantly get the output on the same frame
    frame_idx, object_ids, masks = predictor.add_new_points(state, <your_prompts>):

    # propagate the prompts to get masklets throughout the video
    for frame_idx, object_ids, masks in predictor.propagate_in_video(state):
        ...`;return[e,n]},NF=t=>[`python -m sample_factory.huggingface.load_from_hub -r ${t.id} -d ./train_dir`];function PF(t){const e=t.widgetData?.[0];if(e?.source_sentence&&e?.sentences?.length)return[e.source_sentence,...e.sentences]}const EF=t=>{const e=t.tags.includes(k_)?", trust_remote_code=True":"";if(t.tags.includes("cross-encoder")||t.pipeline_tag=="text-ranking")return[`from sentence_transformers import CrossEncoder

model = CrossEncoder("${t.id}"${e})

query = "Which planet is known as the Red Planet?"
passages = [
	"Venus is often called Earth's twin because of its similar size and proximity.",
	"Mars, known for its reddish appearance, is often referred to as the Red Planet.",
	"Jupiter, the largest planet in our solar system, has a prominent red spot.",
	"Saturn, famous for its rings, is sometimes mistaken for the Red Planet."
]

scores = model.predict([(query, passage) for passage in passages])
print(scores)`];const n=PF(t)??["The weather is lovely today.","It's so sunny outside!","He drove to the stadium."];return[`from sentence_transformers import SentenceTransformer

model = SentenceTransformer("${t.id}"${e})

sentences = ${JSON.stringify(n,null,4)}
embeddings = model.encode(sentences)

similarities = model.similarity(embeddings, embeddings)
print(similarities.shape)
# [${n.length}, ${n.length}]`]},RF=t=>[`from setfit import SetFitModel

model = SetFitModel.from_pretrained("${t.id}")`],IF=t=>[`!pip install https://huggingface.co/${t.id}/resolve/main/${zn(t.id)}-any-py3-none-any.whl

# Using spacy.load().
import spacy
nlp = spacy.load("${zn(t.id)}")

# Importing as module.
import ${zn(t.id)}
nlp = ${zn(t.id)}.load()`],DF=t=>[`from span_marker import SpanMarkerModel

model = SpanMarkerModel.from_pretrained("${t.id}")`],MF=t=>[`import stanza

stanza.download("${zn(t.id).replace("stanza-","")}")
nlp = stanza.Pipeline("${zn(t.id).replace("stanza-","")}")`],OF=t=>{switch(t){case"EncoderClassifier":return"classify_file";case"EncoderDecoderASR":case"EncoderASR":return"transcribe_file";case"SpectralMaskEnhancement":return"enhance_file";case"SepformerSeparation":return"separate_file";default:return}},LF=t=>{const e=t.config?.speechbrain?.speechbrain_interface;if(e===void 0)return["# interface not specified in config.json"];const n=OF(e);return n===void 0?["# interface in config.json invalid"]:[`from speechbrain.pretrained import ${e}
model = ${e}.from_hparams(
  "${t.id}"
)
model.${n}("file.wav")`]},jF=t=>[`from terratorch.registry import BACKBONE_REGISTRY

model = BACKBONE_REGISTRY.build("${t.id}")`],FF=t=>{const e=t.transformersInfo;if(!e)return["# ⚠️ Type of model unknown"];const n=t.tags.includes(k_)?", trust_remote_code=True":"",i=[];if(e.processor){const r=e.processor==="AutoTokenizer"?"tokenizer":e.processor==="AutoFeatureExtractor"?"extractor":"processor";i.push("# Load model directly",`from transformers import ${e.processor}, ${e.auto_model}`,"",`${r} = ${e.processor}.from_pretrained("${t.id}"`+n+")",`model = ${e.auto_model}.from_pretrained("${t.id}"`+n+")"),t.tags.includes("conversational")&&(t.tags.includes("image-text-to-text")?i.push("messages = [",["    {",'        "role": "user",','        "content": [','            {"type": "image", "url": "https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/p-blog/candy.JPG"},','            {"type": "text", "text": "What animal is on the candy?"}',"        ]","    },"].join(`
`),"]"):i.push("messages = [",'    {"role": "user", "content": "Who are you?"},',"]"),i.push(`inputs = ${r}.apply_chat_template(`,"	messages,","	add_generation_prompt=True,","	tokenize=True,","	return_dict=True,",'	return_tensors="pt",',").to(model.device)","","outputs = model.generate(**inputs, max_new_tokens=40)",`print(${r}.decode(outputs[0][inputs["input_ids"].shape[-1]:]))`))}else i.push("# Load model directly",`from transformers import ${e.auto_model}`,`model = ${e.auto_model}.from_pretrained("${t.id}"`+n+', torch_dtype="auto")');if(t.pipeline_tag&&E3.transformers?.includes(t.pipeline_tag)){const r=["# Use a pipeline as a high-level helper","from transformers import pipeline","",`pipe = pipeline("${t.pipeline_tag}", model="${t.id}"`+n+")"];return t.tags.includes("conversational")?t.tags.includes("image-text-to-text")?(r.push("messages = [",["    {",'        "role": "user",','        "content": [','            {"type": "image", "url": "https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/p-blog/candy.JPG"},','            {"type": "text", "text": "What animal is on the candy?"}',"        ]","    },"].join(`
`),"]"),r.push("pipe(text=messages)")):(r.push("messages = [",'    {"role": "user", "content": "Who are you?"},',"]"),r.push("pipe(messages)")):t.pipeline_tag==="zero-shot-image-classification"?r.push("pipe(",'    "https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/parrots.png",','    candidate_labels=["animals", "humans", "landscape"],',")"):t.pipeline_tag==="image-classification"&&r.push('pipe("https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/hub/parrots.png")'),[r.join(`
`),i.join(`
`)]}return[i.join(`
`)]},$F=t=>{if(!t.pipeline_tag)return["// ⚠️ Unknown pipeline tag"];const e="@huggingface/transformers";return[`// npm i ${e}
import { pipeline } from '${e}';

// Allocate pipeline
const pipe = await pipeline('${t.pipeline_tag}', '${t.id}');`]},zF=t=>{switch(t){case"CAUSAL_LM":return"CausalLM";case"SEQ_2_SEQ_LM":return"Seq2SeqLM";case"TOKEN_CLS":return"TokenClassification";case"SEQ_CLS":return"SequenceClassification";default:return}},UF=t=>{const{base_model_name_or_path:e,task_type:n}=t.config?.peft??{},i=zF(n);return i?e?[`from peft import PeftModel
from transformers import AutoModelFor${i}

base_model = AutoModelFor${i}.from_pretrained("${e}")
model = PeftModel.from_pretrained(base_model, "${t.id}")`]:["Base model is not found."]:["Task type is invalid."]},BF=t=>[`from huggingface_hub import hf_hub_download
import fasttext

model = fasttext.load_model(hf_hub_download("${t.id}", "model.bin"))`],VF=t=>[`from huggingface_sb3 import load_from_hub
checkpoint = load_from_hub(
	repo_id="${t.id}",
	filename="{MODEL FILENAME}.zip",
)`],qF=(t,e)=>{switch(t){case"ASR":return[`import nemo.collections.asr as nemo_asr
asr_model = nemo_asr.models.ASRModel.from_pretrained("${e.id}")

transcriptions = asr_model.transcribe(["file.wav"])`];default:return}},HF=t=>[`mlagents-load-from-hf --repo-id="${t.id}" --local-dir="./download: string[]s"`],WF=()=>[`string modelName = "[Your model name here].sentis";
Model model = ModelLoader.Load(Application.streamingAssetsPath + "/" + modelName);
IWorker engine = WorkerFactory.CreateWorker(BackendType.GPUCompute, model);
// Please see provided C# file for more details
`],KF=t=>[`
# Load the model and infer image from text
import torch
from app.sana_pipeline import SanaPipeline
from torchvision.utils import save_image

sana = SanaPipeline("configs/sana_config/1024ms/Sana_1600M_img1024.yaml")
sana.from_pretrained("hf://${t.id}")

image = sana(
    prompt='a cyberpunk cat with a neon sign that says "Sana"',
    height=1024,
    width=1024,
    guidance_scale=5.0,
    pag_guidance_scale=2.0,
    num_inference_steps=18,
) `],QF=t=>[`# Install from https://github.com/google-deepmind/videoprism
import jax
from videoprism import models as vp

flax_model = vp.get_model("${t.id}")
loaded_state = vp.load_pretrained_weights("${t.id}")

@jax.jit
def forward_fn(inputs, train=False):
  return flax_model.apply(loaded_state, inputs, train=train)`],XF=t=>[`from Trainer_finetune import Model

model = Model.from_pretrained("${t.id}")`],YF=t=>[`from huggingface_hub import hf_hub_download
	 from inference_onnx import LVFaceONNXInferencer

model_path = hf_hub_download("${t.id}", "LVFace-L_Glint360K/LVFace-L_Glint360K.onnx")
inferencer = LVFaceONNXInferencer(model_path, use_gpu=True, timeout=300)
img_path = 'path/to/image1.jpg'
embedding = inferencer.infer_from_image(img_path)`],JF=t=>[`from voicecraft import VoiceCraft

model = VoiceCraft.from_pretrained("${t.id}")`],ZF=()=>[`# !pip install git+https://github.com/fluxions-ai/vui

import torchaudio

from vui.inference import render
from vui.model import Vui,

model = Vui.from_pretrained().cuda()
waveform = render(
    model,
    "Hey, here is some random stuff, usually something quite long as the shorter the text the less likely the model can cope!",
)
print(waveform.shape)
torchaudio.save("out.opus", waveform[0], 22050)
`],GF=()=>[`import ChatTTS
import torchaudio

chat = ChatTTS.Chat()
chat.load_models(compile=False) # Set to True for better performance

texts = ["PUT YOUR TEXT HERE",]

wavs = chat.infer(texts, )

torchaudio.save("output1.wav", torch.from_numpy(wavs[0]), 24000)`],Zv=t=>{const e=t.tags.find(r=>r.match(/^yolov\d+$/)),n=e?`YOLOv${e.slice(4)}`:"YOLOvXX";return[(e?"":`# Couldn't find a valid YOLO version tag.
# Replace XX with the correct version.
`)+`from ultralytics import ${n}

model = ${n}.from_pretrained("${t.id}")
source = 'http://images.cocodataset.org/val2017/000000039769.jpg'
model.predict(source=source, save=True)`]},e6=t=>[`# Option 1: use with transformers

from transformers import AutoModelForImageSegmentation
birefnet = AutoModelForImageSegmentation.from_pretrained("${t.id}", trust_remote_code=True)
`,`# Option 2: use with BiRefNet

# Install from https://github.com/ZhengPeng7/BiRefNet

from models.birefnet import BiRefNet
model = BiRefNet.from_pretrained("${t.id}")`],t6=t=>[`from swarmformer import SwarmFormerModel

model = SwarmFormerModel.from_pretrained("${t.id}")
`],n6=t=>[`# Follow installation instructions at https://github.com/PKU-YuanGroup/UniWorld-V1

from univa.models.qwen2p5vl.modeling_univa_qwen2p5vl import UnivaQwen2p5VLForConditionalGeneration
	model = UnivaQwen2p5VLForConditionalGeneration.from_pretrained(
        "${t.id}",
        torch_dtype=torch.bfloat16,
        attn_implementation="flash_attention_2",
    ).to("cuda")
	processor = AutoProcessor.from_pretrained("${t.id}")
`],i6=t=>[`# Download the model from the Hub
pip install huggingface_hub[hf_xet]

huggingface-cli download --local-dir ${zn(t.id)} ${t.id}`],r6=t=>[`# Make sure mlx-lm is installed
# pip install --upgrade mlx-lm
# if on a CUDA device, also pip install mlx[cuda]

# Generate text with mlx-lm
from mlx_lm import load, generate

model, tokenizer = load("${t.id}")

prompt = "Once upon a time in"
text = generate(model, tokenizer, prompt=prompt, verbose=True)`],s6=t=>[`# Make sure mlx-lm is installed
# pip install --upgrade mlx-lm

# Generate text with mlx-lm
from mlx_lm import load, generate

model, tokenizer = load("${t.id}")

prompt = "Write a story about Einstein"
messages = [{"role": "user", "content": prompt}]
prompt = tokenizer.apply_chat_template(
    messages, add_generation_prompt=True
)

text = generate(model, tokenizer, prompt=prompt, verbose=True)`],a6=t=>[`# Make sure mlx-vlm is installed
# pip install --upgrade mlx-vlm

from mlx_vlm import load, generate
from mlx_vlm.prompt_utils import apply_chat_template
from mlx_vlm.utils import load_config

# Load the model
model, processor = load("${t.id}")
config = load_config("${t.id}")

# Prepare input
image = ["http://images.cocodataset.org/val2017/000000039769.jpg"]
prompt = "Describe this image."

# Apply chat template
formatted_prompt = apply_chat_template(
    processor, config, prompt, num_images=1
)

# Generate output
output = generate(model, processor, formatted_prompt, image)
print(output)`],o6=t=>[`from mlxim.model import create_model

model = create_model(${t.id})`],l6=t=>t.pipeline_tag==="image-text-to-text"?a6(t):t.pipeline_tag==="text-generation"?t.tags.includes("conversational")?s6(t):r6(t):i6(t),c6=t=>[`from model2vec import StaticModel

model = StaticModel.from_pretrained("${t.id}")`],u6=t=>{let e;return t.tags.includes("automatic-speech-recognition")&&(e=qF("ASR",t)),e??["# tag did not correspond to a valid NeMo domain."]},d6=t=>{const e=t.tags??[];return e.includes("gguf")||e.includes("onnx")?[]:[`
  import outetts
  
  enum = outetts.Models("${t.id}".split("/", 1)[1])       # VERSION_1_0_SIZE_1B
  cfg  = outetts.ModelConfig.auto_config(enum, outetts.Backend.HF)
  tts  = outetts.Interface(cfg)
  
  speaker = tts.load_default_speaker("EN-FEMALE-1-NEUTRAL")
  tts.generate(
	  outetts.GenerationConfig(
		  text="Hello there, how are you doing?",
		  speaker=speaker,
	  )
  ).save("output.wav")
  `]},p6=t=>[`from pxia import AutoModel

model = AutoModel.from_pretrained("${t.id}")`],h6=t=>[`from pythae.models import AutoModel

model = AutoModel.load_from_hf_hub("${t.id}")`],f6=t=>[`from audiocraft.models import MusicGen

model = MusicGen.get_pretrained("${t.id}")

descriptions = ['happy rock', 'energetic EDM', 'sad jazz']
wav = model.generate(descriptions)  # generates 3 samples.`],m6=t=>[`from audiocraft.models import MAGNeT
	
model = MAGNeT.get_pretrained("${t.id}")

descriptions = ['disco beat', 'energetic EDM', 'funky groove']
wav = model.generate(descriptions)  # generates 3 samples.`],g6=t=>[`from audiocraft.models import AudioGen
	
model = AudioGen.get_pretrained("${t.id}")
model.set_generation_params(duration=5)  # generate 5 seconds.
descriptions = ['dog barking', 'sirene of an emergency vehicle', 'footsteps in a corridor']
wav = model.generate(descriptions)  # generates 3 samples.`],y6=t=>[`from anemoi.inference.runners.default import DefaultRunner
from anemoi.inference.config.run import RunConfiguration
# Create Configuration
config = RunConfiguration(checkpoint = {"huggingface":"${t.id}"})
# Load Runner
runner = DefaultRunner(config)`],v6=t=>t.tags.includes("musicgen")?f6(t):t.tags.includes("audiogen")?g6(t):t.tags.includes("magnet")?m6(t):["# Type of model unknown."],x6=()=>[`# Install CLI with Homebrew on macOS device
brew install whisperkit-cli

# View all available inference options
whisperkit-cli transcribe --help
	
# Download and run inference using whisper base model
whisperkit-cli transcribe --audio-path /path/to/audio.mp3

# Or use your preferred model variant
whisperkit-cli transcribe --model "large-v3" --model-prefix "distil" --audio-path /path/to/audio.mp3 --verbose`],b6=t=>[`from threedtopia_xl.models import threedtopia_xl

model = threedtopia_xl.from_pretrained("${t.id}")
model.generate(cond="path/to/image.png")`],w6=t=>[`# pip install git+https://github.com/Zyphra/Zonos.git
import torchaudio
from zonos.model import Zonos
from zonos.conditioning import make_cond_dict

model = Zonos.from_pretrained("${t.id}", device="cuda")

wav, sr = torchaudio.load("speaker.wav")           # 5-10s reference clip
speaker = model.make_speaker_embedding(wav, sr)

cond  = make_cond_dict(text="Hello, world!", speaker=speaker, language="en-us")
codes = model.generate(model.prepare_conditioning(cond))

audio = model.autoencoder.decode(codes)[0].cpu()
torchaudio.save("sample.wav", audio, model.autoencoder.sampling_rate)
`],k6={acestep:{prettyLabel:"ACE-Step",repoName:"ACE-Step",repoUrl:"https://github.com/ace-step/ACE-Step",filter:!1,countDownloads:'path:"ace_step_transformer/config.json"'},"adapter-transformers":{prettyLabel:"Adapters",repoName:"adapters",repoUrl:"https://github.com/Adapter-Hub/adapters",docsUrl:"https://huggingface.co/docs/hub/adapters",snippets:J5,filter:!0,countDownloads:'path:"adapter_config.json"'},allennlp:{prettyLabel:"AllenNLP",repoName:"AllenNLP",repoUrl:"https://github.com/allenai/allennlp",docsUrl:"https://huggingface.co/docs/hub/allennlp",snippets:ej,filter:!0},anemoi:{prettyLabel:"AnemoI",repoName:"AnemoI",repoUrl:"https://github.com/ecmwf/anemoi-inference",docsUrl:"https://anemoi.readthedocs.io/en/latest/",filter:!1,countDownloads:'path_extension:"ckpt"',snippets:y6},araclip:{prettyLabel:"AraClip",repoName:"AraClip",repoUrl:"https://huggingface.co/Arabic-Clip/araclip",filter:!1,snippets:tj},asteroid:{prettyLabel:"Asteroid",repoName:"Asteroid",repoUrl:"https://github.com/asteroid-team/asteroid",docsUrl:"https://huggingface.co/docs/hub/asteroid",snippets:nj,filter:!0,countDownloads:'path:"pytorch_model.bin"'},audiocraft:{prettyLabel:"Audiocraft",repoName:"audiocraft",repoUrl:"https://github.com/facebookresearch/audiocraft",snippets:v6,filter:!1,countDownloads:'path:"state_dict.bin"'},audioseal:{prettyLabel:"AudioSeal",repoName:"audioseal",repoUrl:"https://github.com/facebookresearch/audioseal",filter:!1,countDownloads:'path_extension:"pth"',snippets:ij},"bagel-mot":{prettyLabel:"Bagel",repoName:"Bagel",repoUrl:"https://github.com/ByteDance-Seed/Bagel/",filter:!1,countDownloads:'path:"llm_config.json"'},bboxmaskpose:{prettyLabel:"BBoxMaskPose",repoName:"BBoxMaskPose",repoUrl:"https://github.com/MiraPurkrabek/BBoxMaskPose",filter:!1,countDownloads:'path_extension:"pth"'},ben2:{prettyLabel:"BEN2",repoName:"BEN2",repoUrl:"https://github.com/PramaLLC/BEN2",snippets:rj,filter:!1},bertopic:{prettyLabel:"BERTopic",repoName:"BERTopic",repoUrl:"https://github.com/MaartenGr/BERTopic",snippets:sj,filter:!0},big_vision:{prettyLabel:"Big Vision",repoName:"big_vision",repoUrl:"https://github.com/google-research/big_vision",filter:!1,countDownloads:'path_extension:"npz"'},birder:{prettyLabel:"Birder",repoName:"Birder",repoUrl:"https://gitlab.com/birder/birder",filter:!1,countDownloads:'path_extension:"pt"'},birefnet:{prettyLabel:"BiRefNet",repoName:"BiRefNet",repoUrl:"https://github.com/ZhengPeng7/BiRefNet",snippets:e6,filter:!1},bm25s:{prettyLabel:"BM25S",repoName:"bm25s",repoUrl:"https://github.com/xhluca/bm25s",snippets:aj,filter:!1,countDownloads:'path:"params.index.json"'},champ:{prettyLabel:"Champ",repoName:"Champ",repoUrl:"https://github.com/fudan-generative-vision/champ",countDownloads:'path:"champ/motion_module.pth"'},chatterbox:{prettyLabel:"Chatterbox",repoName:"Chatterbox",repoUrl:"https://github.com/resemble-ai/chatterbox",snippets:oj,countDownloads:'path:"tokenizer.json"',filter:!1},chat_tts:{prettyLabel:"ChatTTS",repoName:"ChatTTS",repoUrl:"https://github.com/2noise/ChatTTS.git",snippets:GF,filter:!1,countDownloads:'path:"asset/GPT.pt"'},colpali:{prettyLabel:"ColPali",repoName:"ColPali",repoUrl:"https://github.com/ManuelFay/colpali",filter:!1,countDownloads:'path:"adapter_config.json"'},comet:{prettyLabel:"COMET",repoName:"COMET",repoUrl:"https://github.com/Unbabel/COMET/",countDownloads:'path:"hparams.yaml"'},contexttab:{prettyLabel:"ConTextTab",repoName:"ConTextTab",repoUrl:"https://github.com/SAP-samples/contexttab",countDownloads:'path_extension:"pt"',snippets:lj},cosmos:{prettyLabel:"Cosmos",repoName:"Cosmos",repoUrl:"https://github.com/NVIDIA/Cosmos",countDownloads:'path:"config.json" OR path_extension:"pt"'},"cxr-foundation":{prettyLabel:"CXR Foundation",repoName:"cxr-foundation",repoUrl:"https://github.com/google-health/cxr-foundation",snippets:cj,filter:!1,countDownloads:'path:"precomputed_embeddings/embeddings.npz" OR path:"pax-elixr-b-text/saved_model.pb"'},deepforest:{prettyLabel:"DeepForest",repoName:"deepforest",docsUrl:"https://deepforest.readthedocs.io/en/latest/",repoUrl:"https://github.com/weecology/DeepForest"},"depth-anything-v2":{prettyLabel:"DepthAnythingV2",repoName:"Depth Anything V2",repoUrl:"https://github.com/DepthAnything/Depth-Anything-V2",snippets:uj,filter:!1,countDownloads:'path_extension:"pth"'},"depth-pro":{prettyLabel:"Depth Pro",repoName:"Depth Pro",repoUrl:"https://github.com/apple/ml-depth-pro",countDownloads:'path_extension:"pt"',snippets:dj,filter:!1},"derm-foundation":{prettyLabel:"Derm Foundation",repoName:"derm-foundation",repoUrl:"https://github.com/google-health/derm-foundation",snippets:pj,filter:!1,countDownloads:'path:"scin_dataset_precomputed_embeddings.npz" OR path:"saved_model.pb"'},"describe-anything":{prettyLabel:"Describe Anything",repoName:"Describe Anything",repoUrl:"https://github.com/NVlabs/describe-anything",snippets:fj,filter:!1},"dia-tts":{prettyLabel:"Dia",repoName:"Dia",repoUrl:"https://github.com/nari-labs/dia",snippets:hj,filter:!1},diffree:{prettyLabel:"Diffree",repoName:"Diffree",repoUrl:"https://github.com/OpenGVLab/Diffree",filter:!1,countDownloads:'path:"diffree-step=000010999.ckpt"'},diffusers:{prettyLabel:"Diffusers",repoName:"🤗/diffusers",repoUrl:"https://github.com/huggingface/diffusers",docsUrl:"https://huggingface.co/docs/hub/diffusers",snippets:Aj,filter:!0},diffusionkit:{prettyLabel:"DiffusionKit",repoName:"DiffusionKit",repoUrl:"https://github.com/argmaxinc/DiffusionKit",snippets:Tj},doctr:{prettyLabel:"docTR",repoName:"doctr",repoUrl:"https://github.com/mindee/doctr"},cartesia_pytorch:{prettyLabel:"Cartesia Pytorch",repoName:"Cartesia Pytorch",repoUrl:"https://github.com/cartesia-ai/cartesia_pytorch",snippets:Nj},cartesia_mlx:{prettyLabel:"Cartesia MLX",repoName:"Cartesia MLX",repoUrl:"https://github.com/cartesia-ai/cartesia_mlx",snippets:Pj},clipscope:{prettyLabel:"clipscope",repoName:"clipscope",repoUrl:"https://github.com/Lewington-pitsos/clipscope",filter:!1,countDownloads:'path_extension:"pt"'},cosyvoice:{prettyLabel:"CosyVoice",repoName:"CosyVoice",repoUrl:"https://github.com/FunAudioLLM/CosyVoice",filter:!1,countDownloads:'path_extension:"onnx" OR path_extension:"pt"'},cotracker:{prettyLabel:"CoTracker",repoName:"CoTracker",repoUrl:"https://github.com/facebookresearch/co-tracker",filter:!1,countDownloads:'path_extension:"pth"'},edsnlp:{prettyLabel:"EDS-NLP",repoName:"edsnlp",repoUrl:"https://github.com/aphp/edsnlp",docsUrl:"https://aphp.github.io/edsnlp/latest/",filter:!1,snippets:Ej,countDownloads:'path_filename:"config" AND path_extension:"cfg"'},elm:{prettyLabel:"ELM",repoName:"elm",repoUrl:"https://github.com/slicex-ai/elm",filter:!1,countDownloads:'path_filename:"slicex_elm_config" AND path_extension:"json"'},espnet:{prettyLabel:"ESPnet",repoName:"ESPnet",repoUrl:"https://github.com/espnet/espnet",docsUrl:"https://huggingface.co/docs/hub/espnet",snippets:Mj,filter:!0},fairseq:{prettyLabel:"Fairseq",repoName:"fairseq",repoUrl:"https://github.com/pytorch/fairseq",snippets:Oj,filter:!0},fastai:{prettyLabel:"fastai",repoName:"fastai",repoUrl:"https://github.com/fastai/fastai",docsUrl:"https://huggingface.co/docs/hub/fastai",snippets:AF,filter:!0},fasttext:{prettyLabel:"fastText",repoName:"fastText",repoUrl:"https://fasttext.cc/",snippets:BF,filter:!0,countDownloads:'path_extension:"bin"'},flair:{prettyLabel:"Flair",repoName:"Flair",repoUrl:"https://github.com/flairNLP/flair",docsUrl:"https://huggingface.co/docs/hub/flair",snippets:Lj,filter:!0,countDownloads:'path:"pytorch_model.bin"'},fme:{prettyLabel:"Full Model Emulation",repoName:"Full Model Emulation",repoUrl:"https://github.com/ai2cm/ace",docsUrl:"https://ai2-climate-emulator.readthedocs.io/en/latest/",filter:!1,countDownloads:'path_extension:"tar"'},"gemma.cpp":{prettyLabel:"gemma.cpp",repoName:"gemma.cpp",repoUrl:"https://github.com/google/gemma.cpp",filter:!1,countDownloads:'path_extension:"sbs"'},"geometry-crafter":{prettyLabel:"GeometryCrafter",repoName:"GeometryCrafter",repoUrl:"https://github.com/TencentARC/GeometryCrafter",countDownloads:'path:"point_map_vae/diffusion_pytorch_model.safetensors"'},gliner:{prettyLabel:"GLiNER",repoName:"GLiNER",repoUrl:"https://github.com/urchade/GLiNER",snippets:jj,filter:!1,countDownloads:'path:"gliner_config.json"'},"glyph-byt5":{prettyLabel:"Glyph-ByT5",repoName:"Glyph-ByT5",repoUrl:"https://github.com/AIGText/Glyph-ByT5",filter:!1,countDownloads:'path:"checkpoints/byt5_model.pt"'},grok:{prettyLabel:"Grok",repoName:"Grok",repoUrl:"https://github.com/xai-org/grok-1",filter:!1,countDownloads:'path:"ckpt/tensor00000_000" OR path:"ckpt-0/tensor00000_000"'},hallo:{prettyLabel:"Hallo",repoName:"Hallo",repoUrl:"https://github.com/fudan-generative-vision/hallo",countDownloads:'path:"hallo/net.pth"'},hermes:{prettyLabel:"HERMES",repoName:"HERMES",repoUrl:"https://github.com/LMD0311/HERMES",filter:!1,countDownloads:'path:"ckpt/hermes_final.pth"'},hezar:{prettyLabel:"Hezar",repoName:"Hezar",repoUrl:"https://github.com/hezarai/hezar",docsUrl:"https://hezarai.github.io/hezar",countDownloads:'path:"model_config.yaml" OR path:"embedding/embedding_config.yaml"'},htrflow:{prettyLabel:"HTRflow",repoName:"HTRflow",repoUrl:"https://github.com/AI-Riksarkivet/htrflow",docsUrl:"https://ai-riksarkivet.github.io/htrflow",snippets:$j},"hunyuan-dit":{prettyLabel:"HunyuanDiT",repoName:"HunyuanDiT",repoUrl:"https://github.com/Tencent/HunyuanDiT",countDownloads:'path:"pytorch_model_ema.pt" OR path:"pytorch_model_distill.pt"'},"hunyuan3d-2":{prettyLabel:"Hunyuan3D-2",repoName:"Hunyuan3D-2",repoUrl:"https://github.com/Tencent/Hunyuan3D-2",countDownloads:'path_filename:"model_index" OR path_filename:"config"'},imstoucan:{prettyLabel:"IMS Toucan",repoName:"IMS-Toucan",repoUrl:"https://github.com/DigitalPhonetics/IMS-Toucan",countDownloads:'path:"embedding_gan.pt" OR path:"Vocoder.pt" OR path:"ToucanTTS.pt"'},"index-tts":{prettyLabel:"IndexTTS",repoName:"IndexTTS",repoUrl:"https://github.com/index-tts/index-tts",snippets:Fj,filter:!1},"infinite-you":{prettyLabel:"InfiniteYou",repoName:"InfiniteYou",repoUrl:"https://github.com/bytedance/InfiniteYou",filter:!1,countDownloads:'path:"infu_flux_v1.0/sim_stage1/image_proj_model.bin" OR path:"infu_flux_v1.0/aes_stage2/image_proj_model.bin"'},keras:{prettyLabel:"Keras",repoName:"Keras",repoUrl:"https://github.com/keras-team/keras",docsUrl:"https://huggingface.co/docs/hub/keras",snippets:zj,filter:!0,countDownloads:'path:"config.json" OR path_extension:"keras"'},"tf-keras":{prettyLabel:"TF-Keras",repoName:"TF-Keras",repoUrl:"https://github.com/keras-team/tf-keras",docsUrl:"https://huggingface.co/docs/hub/tf-keras",snippets:Gj,countDownloads:'path:"saved_model.pb"'},"keras-hub":{prettyLabel:"KerasHub",repoName:"KerasHub",repoUrl:"https://github.com/keras-team/keras-hub",docsUrl:"https://keras.io/keras_hub/",snippets:Kj,filter:!0},"kimi-audio":{prettyLabel:"KimiAudio",repoName:"KimiAudio",repoUrl:"https://github.com/MoonshotAI/Kimi-Audio",snippets:Qj,filter:!1},kittentts:{prettyLabel:"KittenTTS",repoName:"KittenTTS",repoUrl:"https://github.com/KittenML/KittenTTS",snippets:Xj},kronos:{prettyLabel:"KRONOS",repoName:"KRONOS",repoUrl:"https://github.com/mahmoodlab/KRONOS",filter:!1,countDownloads:'path_extension:"pt"'},k2:{prettyLabel:"K2",repoName:"k2",repoUrl:"https://github.com/k2-fsa/k2"},"lightning-ir":{prettyLabel:"Lightning IR",repoName:"Lightning IR",repoUrl:"https://github.com/webis-de/lightning-ir",snippets:Yj},"litert-lm":{prettyLabel:"LiteRT-LM",repoName:"LiteRT-LM",repoUrl:"https://github.com/google-ai-edge/LiteRT-LM",filter:!1,countDownloads:'path_extension:"litertlm"'},lerobot:{prettyLabel:"LeRobot",repoName:"LeRobot",repoUrl:"https://github.com/huggingface/lerobot",docsUrl:"https://huggingface.co/docs/lerobot",filter:!1,snippets:Zj},liveportrait:{prettyLabel:"LivePortrait",repoName:"LivePortrait",repoUrl:"https://github.com/KwaiVGI/LivePortrait",filter:!1,countDownloads:'path:"liveportrait/landmark.onnx"'},"llama-cpp-python":{prettyLabel:"llama-cpp-python",repoName:"llama-cpp-python",repoUrl:"https://github.com/abetlen/llama-cpp-python",snippets:Jj},"mini-omni2":{prettyLabel:"Mini-Omni2",repoName:"Mini-Omni2",repoUrl:"https://github.com/gpt-omni/mini-omni2",countDownloads:'path:"model_config.yaml"'},mindspore:{prettyLabel:"MindSpore",repoName:"mindspore",repoUrl:"https://github.com/mindspore-ai/mindspore"},"magi-1":{prettyLabel:"MAGI-1",repoName:"MAGI-1",repoUrl:"https://github.com/SandAI-org/MAGI-1",countDownloads:'path:"ckpt/vae/config.json"'},"magenta-realtime":{prettyLabel:"Magenta RT",repoName:"Magenta RT",repoUrl:"https://github.com/magenta/magenta-realtime",countDownloads:'path:"checkpoints/llm_base_x4286_c1860k.tar" OR path:"checkpoints/llm_large_x3047_c1860k.tar" OR path:"checkpoints/llm_large_x3047_c1860k/checkpoint"'},"mamba-ssm":{prettyLabel:"MambaSSM",repoName:"MambaSSM",repoUrl:"https://github.com/state-spaces/mamba",filter:!1,snippets:eF},"mars5-tts":{prettyLabel:"MARS5-TTS",repoName:"MARS5-TTS",repoUrl:"https://github.com/Camb-ai/MARS5-TTS",filter:!1,countDownloads:'path:"mars5_ar.safetensors"',snippets:tF},matanyone:{prettyLabel:"MatAnyone",repoName:"MatAnyone",repoUrl:"https://github.com/pq-yang/MatAnyone",snippets:nF,filter:!1},"mesh-anything":{prettyLabel:"MeshAnything",repoName:"MeshAnything",repoUrl:"https://github.com/buaacyw/MeshAnything",filter:!1,countDownloads:'path:"MeshAnything_350m.pth"',snippets:iF},merlin:{prettyLabel:"Merlin",repoName:"Merlin",repoUrl:"https://github.com/StanfordMIMI/Merlin",filter:!1,countDownloads:'path_extension:"pt"'},medvae:{prettyLabel:"MedVAE",repoName:"MedVAE",repoUrl:"https://github.com/StanfordMIMI/MedVAE",filter:!1,countDownloads:'path_extension:"ckpt"'},mitie:{prettyLabel:"MITIE",repoName:"MITIE",repoUrl:"https://github.com/mit-nlp/MITIE",countDownloads:'path_filename:"total_word_feature_extractor"'},"ml-agents":{prettyLabel:"ml-agents",repoName:"ml-agents",repoUrl:"https://github.com/Unity-Technologies/ml-agents",docsUrl:"https://huggingface.co/docs/hub/ml-agents",snippets:HF,filter:!0,countDownloads:'path_extension:"onnx"'},mlx:{prettyLabel:"MLX",repoName:"MLX",repoUrl:"https://github.com/ml-explore/mlx-examples/tree/main",snippets:l6,filter:!0},"mlx-image":{prettyLabel:"mlx-image",repoName:"mlx-image",repoUrl:"https://github.com/riccardomusmeci/mlx-image",docsUrl:"https://huggingface.co/docs/hub/mlx-image",snippets:o6,filter:!1,countDownloads:'path:"model.safetensors"'},"mlc-llm":{prettyLabel:"MLC-LLM",repoName:"MLC-LLM",repoUrl:"https://github.com/mlc-ai/mlc-llm",docsUrl:"https://llm.mlc.ai/docs/",filter:!1,countDownloads:'path:"mlc-chat-config.json"'},model2vec:{prettyLabel:"Model2Vec",repoName:"model2vec",repoUrl:"https://github.com/MinishLab/model2vec",snippets:c6,filter:!1},moshi:{prettyLabel:"Moshi",repoName:"Moshi",repoUrl:"https://github.com/kyutai-labs/moshi",filter:!1,countDownloads:'path:"tokenizer-e351c8d8-checkpoint125.safetensors"'},mtvcraft:{prettyLabel:"MTVCraft",repoName:"MTVCraft",repoUrl:"https://github.com/baaivision/MTVCraft",filter:!1,countDownloads:'path:"vae/3d-vae.pt"'},nemo:{prettyLabel:"NeMo",repoName:"NeMo",repoUrl:"https://github.com/NVIDIA/NeMo",snippets:u6,filter:!0,countDownloads:'path_extension:"nemo" OR path:"model_config.yaml" OR path_extension:"json"'},"open-oasis":{prettyLabel:"open-oasis",repoName:"open-oasis",repoUrl:"https://github.com/etched-ai/open-oasis",countDownloads:'path:"oasis500m.safetensors"'},open_clip:{prettyLabel:"OpenCLIP",repoName:"OpenCLIP",repoUrl:"https://github.com/mlfoundations/open_clip",snippets:rF,filter:!0,countDownloads:`path:"open_clip_model.safetensors"
			OR path:"model.safetensors"
			OR path:"open_clip_pytorch_model.bin"
			OR path:"pytorch_model.bin"`},"open-sora":{prettyLabel:"Open-Sora",repoName:"Open-Sora",repoUrl:"https://github.com/hpcaitech/Open-Sora",filter:!1,countDownloads:'path:"Open_Sora_v2.safetensors"'},outetts:{prettyLabel:"OuteTTS",repoName:"OuteTTS",repoUrl:"https://github.com/edwko/OuteTTS",snippets:d6,filter:!1},paddlenlp:{prettyLabel:"paddlenlp",repoName:"PaddleNLP",repoUrl:"https://github.com/PaddlePaddle/PaddleNLP",docsUrl:"https://huggingface.co/docs/hub/paddlenlp",snippets:sF,filter:!0,countDownloads:'path:"model_config.json"'},PaddleOCR:{prettyLabel:"PaddleOCR",repoName:"PaddleOCR",repoUrl:"https://github.com/PaddlePaddle/PaddleOCR",snippets:aF,filter:!0},peft:{prettyLabel:"PEFT",repoName:"PEFT",repoUrl:"https://github.com/huggingface/peft",snippets:UF,filter:!0,countDownloads:'path:"adapter_config.json"'},"perception-encoder":{prettyLabel:"PerceptionEncoder",repoName:"PerceptionModels",repoUrl:"https://github.com/facebookresearch/perception_models",filter:!1,snippets:oF,countDownloads:'path_extension:"pt"'},"phantom-wan":{prettyLabel:"Phantom",repoName:"Phantom",repoUrl:"https://github.com/Phantom-video/Phantom",snippets:lF,filter:!1,countDownloads:'path_extension:"pth"'},pxia:{prettyLabel:"pxia",repoName:"pxia",repoUrl:"https://github.com/not-lain/pxia",snippets:p6,filter:!1},"pyannote-audio":{prettyLabel:"pyannote.audio",repoName:"pyannote-audio",repoUrl:"https://github.com/pyannote/pyannote-audio",snippets:dF,filter:!0},"py-feat":{prettyLabel:"Py-Feat",repoName:"Py-Feat",repoUrl:"https://github.com/cosanlab/py-feat",docsUrl:"https://py-feat.org/",filter:!1},pythae:{prettyLabel:"pythae",repoName:"pythae",repoUrl:"https://github.com/clementchadebec/benchmark_VAE",snippets:h6,filter:!1},recurrentgemma:{prettyLabel:"RecurrentGemma",repoName:"recurrentgemma",repoUrl:"https://github.com/google-deepmind/recurrentgemma",filter:!1,countDownloads:'path:"tokenizer.model"'},relik:{prettyLabel:"Relik",repoName:"Relik",repoUrl:"https://github.com/SapienzaNLP/relik",snippets:pF,filter:!1},refiners:{prettyLabel:"Refiners",repoName:"Refiners",repoUrl:"https://github.com/finegrain-ai/refiners",docsUrl:"https://refine.rs/",filter:!1,countDownloads:'path:"model.safetensors"'},renderformer:{prettyLabel:"RenderFormer",repoName:"RenderFormer",repoUrl:"https://github.com/microsoft/renderformer",snippets:hF,filter:!1},reverb:{prettyLabel:"Reverb",repoName:"Reverb",repoUrl:"https://github.com/revdotcom/reverb",filter:!1},saelens:{prettyLabel:"SAELens",repoName:"SAELens",repoUrl:"https://github.com/jbloomAus/SAELens",snippets:xF,filter:!1},sam2:{prettyLabel:"sam2",repoName:"sam2",repoUrl:"https://github.com/facebookresearch/segment-anything-2",filter:!1,snippets:TF,countDownloads:'path_extension:"pt"'},"sample-factory":{prettyLabel:"sample-factory",repoName:"sample-factory",repoUrl:"https://github.com/alex-petrenko/sample-factory",docsUrl:"https://huggingface.co/docs/hub/sample-factory",snippets:NF,filter:!0,countDownloads:'path:"cfg.json"'},sapiens:{prettyLabel:"sapiens",repoName:"sapiens",repoUrl:"https://github.com/facebookresearch/sapiens",filter:!1,countDownloads:'path_extension:"pt2" OR path_extension:"pth" OR path_extension:"onnx"'},seedvr:{prettyLabel:"SeedVR",repoName:"SeedVR",repoUrl:"https://github.com/ByteDance-Seed/SeedVR",filter:!1,countDownloads:'path_extension:"pth"'},"sentence-transformers":{prettyLabel:"sentence-transformers",repoName:"sentence-transformers",repoUrl:"https://github.com/UKPLab/sentence-transformers",docsUrl:"https://huggingface.co/docs/hub/sentence-transformers",snippets:EF,filter:!0},setfit:{prettyLabel:"setfit",repoName:"setfit",repoUrl:"https://github.com/huggingface/setfit",docsUrl:"https://huggingface.co/docs/hub/setfit",snippets:RF,filter:!0},sklearn:{prettyLabel:"Scikit-learn",repoName:"Scikit-learn",repoUrl:"https://github.com/scikit-learn/scikit-learn",snippets:_F,filter:!0,countDownloads:'path:"sklearn_model.joblib"'},spacy:{prettyLabel:"spaCy",repoName:"spaCy",repoUrl:"https://github.com/explosion/spaCy",docsUrl:"https://huggingface.co/docs/hub/spacy",snippets:IF,filter:!0,countDownloads:'path_extension:"whl"'},"span-marker":{prettyLabel:"SpanMarker",repoName:"SpanMarkerNER",repoUrl:"https://github.com/tomaarsen/SpanMarkerNER",docsUrl:"https://huggingface.co/docs/hub/span_marker",snippets:DF,filter:!0},speechbrain:{prettyLabel:"speechbrain",repoName:"speechbrain",repoUrl:"https://github.com/speechbrain/speechbrain",docsUrl:"https://huggingface.co/docs/hub/speechbrain",snippets:LF,filter:!0,countDownloads:'path:"hyperparams.yaml"'},"ssr-speech":{prettyLabel:"SSR-Speech",repoName:"SSR-Speech",repoUrl:"https://github.com/WangHelin1997/SSR-Speech",filter:!1,countDownloads:'path_extension:".pth"'},"stable-audio-tools":{prettyLabel:"Stable Audio Tools",repoName:"stable-audio-tools",repoUrl:"https://github.com/Stability-AI/stable-audio-tools.git",filter:!1,countDownloads:'path:"model.safetensors"',snippets:CF},monkeyocr:{prettyLabel:"MonkeyOCR",repoName:"monkeyocr",repoUrl:"https://github.com/Yuliang-Liu/MonkeyOCR",filter:!1,countDownloads:'path:"Recognition/config.json"'},"diffusion-single-file":{prettyLabel:"Diffusion Single File",repoName:"diffusion-single-file",repoUrl:"https://github.com/comfyanonymous/ComfyUI",filter:!1,countDownloads:'path_extension:"safetensors"'},"seed-story":{prettyLabel:"SEED-Story",repoName:"SEED-Story",repoUrl:"https://github.com/TencentARC/SEED-Story",filter:!1,countDownloads:'path:"cvlm_llama2_tokenizer/tokenizer.model"',snippets:bF},soloaudio:{prettyLabel:"SoloAudio",repoName:"SoloAudio",repoUrl:"https://github.com/WangHelin1997/SoloAudio",filter:!1,countDownloads:'path:"soloaudio_v2.pt"'},songbloom:{prettyLabel:"SongBloom",repoName:"SongBloom",repoUrl:"https://github.com/Cypress-Yang/SongBloom",filter:!1,countDownloads:'path_extension:"pt"'},"stable-baselines3":{prettyLabel:"stable-baselines3",repoName:"stable-baselines3",repoUrl:"https://github.com/huggingface/huggingface_sb3",docsUrl:"https://huggingface.co/docs/hub/stable-baselines3",snippets:VF,filter:!0,countDownloads:'path_extension:"zip"'},stanza:{prettyLabel:"Stanza",repoName:"stanza",repoUrl:"https://github.com/stanfordnlp/stanza",docsUrl:"https://huggingface.co/docs/hub/stanza",snippets:MF,filter:!0,countDownloads:'path:"models/default.zip"'},swarmformer:{prettyLabel:"SwarmFormer",repoName:"SwarmFormer",repoUrl:"https://github.com/takara-ai/SwarmFormer",snippets:t6,filter:!1},"f5-tts":{prettyLabel:"F5-TTS",repoName:"F5-TTS",repoUrl:"https://github.com/SWivid/F5-TTS",filter:!1,countDownloads:'path_extension:"safetensors" OR path_extension:"pt"'},genmo:{prettyLabel:"Genmo",repoName:"Genmo",repoUrl:"https://github.com/genmoai/models",filter:!1,countDownloads:'path:"vae_stats.json"'},"tencent-song-generation":{prettyLabel:"SongGeneration",repoName:"SongGeneration",repoUrl:"https://github.com/tencent-ailab/songgeneration",filter:!1,countDownloads:'path:"ckpt/songgeneration_base/model.pt"'},tensorflowtts:{prettyLabel:"TensorFlowTTS",repoName:"TensorFlowTTS",repoUrl:"https://github.com/TensorSpeech/TensorFlowTTS",snippets:yF},tabpfn:{prettyLabel:"TabPFN",repoName:"TabPFN",repoUrl:"https://github.com/PriorLabs/TabPFN"},terratorch:{prettyLabel:"TerraTorch",repoName:"TerraTorch",repoUrl:"https://github.com/IBM/terratorch",docsUrl:"https://ibm.github.io/terratorch/",filter:!1,countDownloads:'path_extension:"pt"',snippets:jF},"tic-clip":{prettyLabel:"TiC-CLIP",repoName:"TiC-CLIP",repoUrl:"https://github.com/apple/ml-tic-clip",filter:!1,countDownloads:'path_extension:"pt" AND path_prefix:"checkpoints/"'},timesfm:{prettyLabel:"TimesFM",repoName:"timesfm",repoUrl:"https://github.com/google-research/timesfm",filter:!1,countDownloads:'path:"checkpoints/checkpoint_1100000/state/checkpoint" OR path:"checkpoints/checkpoint_2150000/state/checkpoint" OR path_extension:"ckpt"'},timm:{prettyLabel:"timm",repoName:"pytorch-image-models",repoUrl:"https://github.com/rwightman/pytorch-image-models",docsUrl:"https://huggingface.co/docs/hub/timm",snippets:vF,filter:!0,countDownloads:'path:"pytorch_model.bin" OR path:"model.safetensors"'},tirex:{prettyLabel:"TiRex",repoName:"TiRex",repoUrl:"https://github.com/NX-AI/tirex",countDownloads:'path_extension:"ckpt"'},torchgeo:{prettyLabel:"TorchGeo",repoName:"TorchGeo",repoUrl:"https://github.com/microsoft/torchgeo",docsUrl:"https://torchgeo.readthedocs.io/",filter:!1,countDownloads:'path_extension:"pt" OR path_extension:"pth"'},transformers:{prettyLabel:"Transformers",repoName:"🤗/transformers",repoUrl:"https://github.com/huggingface/transformers",docsUrl:"https://huggingface.co/docs/hub/transformers",snippets:FF,filter:!0},"transformers.js":{prettyLabel:"Transformers.js",repoName:"transformers.js",repoUrl:"https://github.com/huggingface/transformers.js",docsUrl:"https://huggingface.co/docs/hub/transformers-js",snippets:$F,filter:!0},trellis:{prettyLabel:"Trellis",repoName:"Trellis",repoUrl:"https://github.com/microsoft/TRELLIS",countDownloads:'path_extension:"safetensors"'},ultralytics:{prettyLabel:"ultralytics",repoName:"ultralytics",repoUrl:"https://github.com/ultralytics/ultralytics",docsUrl:"https://github.com/ultralytics/ultralytics",filter:!1,countDownloads:'path_extension:"pt"',snippets:Zv},univa:{prettyLabel:"univa",repoName:"univa",repoUrl:"https://github.com/PKU-YuanGroup/UniWorld-V1",snippets:n6,filter:!0,countDownloads:'path:"config.json"'},"uni-3dar":{prettyLabel:"Uni-3DAR",repoName:"Uni-3DAR",repoUrl:"https://github.com/dptech-corp/Uni-3DAR",docsUrl:"https://github.com/dptech-corp/Uni-3DAR",countDownloads:'path_extension:"pt"'},"unity-sentis":{prettyLabel:"unity-sentis",repoName:"unity-sentis",repoUrl:"https://github.com/Unity-Technologies/sentis-samples",snippets:WF,filter:!0,countDownloads:'path_extension:"sentis"'},sana:{prettyLabel:"Sana",repoName:"Sana",repoUrl:"https://github.com/NVlabs/Sana",countDownloads:'path_extension:"pth"',snippets:KF},videoprism:{prettyLabel:"VideoPrism",repoName:"VideoPrism",repoUrl:"https://github.com/google-deepmind/videoprism",countDownloads:'path_extension:"npz"',snippets:QF},"vfi-mamba":{prettyLabel:"VFIMamba",repoName:"VFIMamba",repoUrl:"https://github.com/MCG-NJU/VFIMamba",countDownloads:'path_extension:"pkl"',snippets:XF},lvface:{prettyLabel:"LVFace",repoName:"LVFace",repoUrl:"https://github.com/bytedance/LVFace",countDownloads:'path_extension:"pt" OR path_extension:"onnx"',snippets:YF},voicecraft:{prettyLabel:"VoiceCraft",repoName:"VoiceCraft",repoUrl:"https://github.com/jasonppy/VoiceCraft",docsUrl:"https://github.com/jasonppy/VoiceCraft",snippets:JF},vui:{prettyLabel:"Vui",repoName:"Vui",repoUrl:"https://github.com/vui-ai/vui",countDownloads:'path_extension:"pt"',snippets:ZF},"wan2.2":{prettyLabel:"Wan2.2",repoName:"Wan2.2",repoUrl:"https://github.com/Wan-Video/Wan2.2",countDownloads:'path_filename:"config" AND path_extension:"json"'},wham:{prettyLabel:"WHAM",repoName:"wham",repoUrl:"https://huggingface.co/microsoft/wham",docsUrl:"https://huggingface.co/microsoft/wham/blob/main/README.md",countDownloads:'path_extension:"ckpt"'},whisperkit:{prettyLabel:"WhisperKit",repoName:"WhisperKit",repoUrl:"https://github.com/argmaxinc/WhisperKit",docsUrl:"https://github.com/argmaxinc/WhisperKit?tab=readme-ov-file#homebrew",snippets:x6,countDownloads:'path_filename:"model" AND path_extension:"mil" AND _exists_:"path_prefix"'},yolov10:{prettyLabel:"YOLOv10",repoName:"YOLOv10",repoUrl:"https://github.com/THU-MIG/yolov10",docsUrl:"https://github.com/THU-MIG/yolov10",countDownloads:'path_extension:"pt" OR path_extension:"safetensors"',snippets:Zv},zonos:{prettyLabel:"Zonos",repoName:"Zonos",repoUrl:"https://github.com/Zyphra/Zonos",docsUrl:"https://github.com/Zyphra/Zonos",snippets:w6,filter:!1},"3dtopia-xl":{prettyLabel:"3DTopia-XL",repoName:"3DTopia-XL",repoUrl:"https://github.com/3DTopia/3DTopia-XL",filter:!1,countDownloads:'path:"model_vae_fp16.pt"',snippets:b6}};Object.entries(k6).filter(([t,e])=>e.filter).map(([t])=>t);var G;(function(t){t[t.F32=0]="F32",t[t.F16=1]="F16",t[t.Q4_0=2]="Q4_0",t[t.Q4_1=3]="Q4_1",t[t.Q4_1_SOME_F16=4]="Q4_1_SOME_F16",t[t.Q4_2=5]="Q4_2",t[t.Q4_3=6]="Q4_3",t[t.Q8_0=7]="Q8_0",t[t.Q5_0=8]="Q5_0",t[t.Q5_1=9]="Q5_1",t[t.Q2_K=10]="Q2_K",t[t.Q3_K_S=11]="Q3_K_S",t[t.Q3_K_M=12]="Q3_K_M",t[t.Q3_K_L=13]="Q3_K_L",t[t.Q4_K_S=14]="Q4_K_S",t[t.Q4_K_M=15]="Q4_K_M",t[t.Q5_K_S=16]="Q5_K_S",t[t.Q5_K_M=17]="Q5_K_M",t[t.Q6_K=18]="Q6_K",t[t.IQ2_XXS=19]="IQ2_XXS",t[t.IQ2_XS=20]="IQ2_XS",t[t.Q2_K_S=21]="Q2_K_S",t[t.IQ3_XS=22]="IQ3_XS",t[t.IQ3_XXS=23]="IQ3_XXS",t[t.IQ1_S=24]="IQ1_S",t[t.IQ4_NL=25]="IQ4_NL",t[t.IQ3_S=26]="IQ3_S",t[t.IQ3_M=27]="IQ3_M",t[t.IQ2_S=28]="IQ2_S",t[t.IQ2_M=29]="IQ2_M",t[t.IQ4_XS=30]="IQ4_XS",t[t.IQ1_M=31]="IQ1_M",t[t.BF16=32]="BF16",t[t.Q4_0_4_4=33]="Q4_0_4_4",t[t.Q4_0_4_8=34]="Q4_0_4_8",t[t.Q4_0_8_8=35]="Q4_0_8_8",t[t.TQ1_0=36]="TQ1_0",t[t.TQ2_0=37]="TQ2_0",t[t.MXFP4_MOE=38]="MXFP4_MOE",t[t.Q2_K_XL=1e3]="Q2_K_XL",t[t.Q3_K_XL=1001]="Q3_K_XL",t[t.Q4_K_XL=1002]="Q4_K_XL",t[t.Q5_K_XL=1003]="Q5_K_XL",t[t.Q6_K_XL=1004]="Q6_K_XL",t[t.Q8_K_XL=1005]="Q8_K_XL"})(G||(G={}));const S6=Object.values(G).filter(t=>typeof t=="string");new RegExp(`(?<quant>${S6.join("|")})(_(?<sizeVariation>[A-Z]+))?`);G.F32,G.BF16,G.F16,G.Q8_K_XL,G.Q8_0,G.Q6_K_XL,G.Q6_K,G.Q5_K_XL,G.Q5_K_M,G.Q5_K_S,G.Q5_0,G.Q5_1,G.Q4_K_XL,G.Q4_K_M,G.Q4_K_S,G.IQ4_NL,G.IQ4_XS,G.Q4_0_4_4,G.Q4_0_4_8,G.Q4_0_8_8,G.Q4_1_SOME_F16,G.Q4_0,G.Q4_1,G.Q4_2,G.Q4_3,G.MXFP4_MOE,G.Q3_K_XL,G.Q3_K_L,G.Q3_K_M,G.Q3_K_S,G.IQ3_M,G.IQ3_S,G.IQ3_XS,G.IQ3_XXS,G.Q2_K_XL,G.Q2_K,G.Q2_K_S,G.IQ2_M,G.IQ2_S,G.IQ2_XS,G.IQ2_XXS,G.IQ1_S,G.IQ1_M,G.TQ1_0,G.TQ2_0;var Gv;(function(t){t[t.F32=0]="F32",t[t.F16=1]="F16",t[t.Q4_0=2]="Q4_0",t[t.Q4_1=3]="Q4_1",t[t.Q5_0=6]="Q5_0",t[t.Q5_1=7]="Q5_1",t[t.Q8_0=8]="Q8_0",t[t.Q8_1=9]="Q8_1",t[t.Q2_K=10]="Q2_K",t[t.Q3_K=11]="Q3_K",t[t.Q4_K=12]="Q4_K",t[t.Q5_K=13]="Q5_K",t[t.Q6_K=14]="Q6_K",t[t.Q8_K=15]="Q8_K",t[t.IQ2_XXS=16]="IQ2_XXS",t[t.IQ2_XS=17]="IQ2_XS",t[t.IQ3_XXS=18]="IQ3_XXS",t[t.IQ1_S=19]="IQ1_S",t[t.IQ4_NL=20]="IQ4_NL",t[t.IQ3_S=21]="IQ3_S",t[t.IQ2_S=22]="IQ2_S",t[t.IQ4_XS=23]="IQ4_XS",t[t.I8=24]="I8",t[t.I16=25]="I16",t[t.I32=26]="I32",t[t.I64=27]="I64",t[t.F64=28]="F64",t[t.IQ1_M=29]="IQ1_M",t[t.BF16=30]="BF16",t[t.TQ1_0=34]="TQ1_0",t[t.TQ2_0=35]="TQ2_0",t[t.MXFP4=39]="MXFP4"})(Gv||(Gv={}));const _6={js:{fetch:{basic:`async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.json();
	return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});`,basicAudio:`async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "audio/flac",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.json();
	return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});`,basicImage:`async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "image/jpeg",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.json();
	return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});`,conversational:`async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.json();
	return result;
}

query({ 
{{ autoInputs.asTsString }}
}).then((response) => {
    console.log(JSON.stringify(response));
});`,imageToImage:`const image = fs.readFileSync("{{inputs.asObj.inputs}}");

async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "image/jpeg",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: {
				"inputs": \`data:image/png;base64,\${data.inputs.encode("base64")}\`,
				"parameters": data.parameters,
			}
		}
	);
	const result = await response.json();
	return result;
}

query({ 
	inputs: image,
	parameters: {
		prompt: "{{ inputs.asObj.parameters.prompt }}",
	}
}).then((response) => {
    console.log(JSON.stringify(response));
});`,imageToVideo:`const image = fs.readFileSync("{{inputs.asObj.inputs}}");

async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "image/jpeg",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: {
				"image_url": \`data:image/png;base64,\${data.image.encode("base64")}\`,
				"prompt": data.prompt,
			}
		}
	);
	const result = await response.json();
	return result;
}

query({
	"image": image,
	"prompt": "{{inputs.asObj.parameters.prompt}}",
}).then((response) => {
    // Use video
});`,textToAudio:`{% if model.library_name == "transformers" %}
async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.blob();
    return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    // Returns a byte object of the Audio wavform. Use it directly!
});
{% else %}
async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
    const result = await response.json();
    return result;
}

query({ inputs: {{ providerInputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});
{% endif %} `,textToImage:`async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.blob();
	return result;
}


query({ {{ providerInputs.asTsString }} }).then((response) => {
    // Use image
});`,textToSpeech:`{% if model.library_name == "transformers" %}
async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
{% if billTo %}
				"X-HF-Bill-To": "{{ billTo }}",
{% endif %}			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
	const result = await response.blob();
    return result;
}

query({ text: {{ inputs.asObj.inputs }} }).then((response) => {
    // Returns a byte object of the Audio wavform. Use it directly!
});
{% else %}
async function query(data) {
	const response = await fetch(
		"{{ fullUrl }}",
		{
			headers: {
				Authorization: "{{ authorizationHeader }}",
				"Content-Type": "application/json",
			},
			method: "POST",
			body: JSON.stringify(data),
		}
	);
    const result = await response.json();
    return result;
}

query({ text: {{ inputs.asObj.inputs }} }).then((response) => {
    console.log(JSON.stringify(response));
});
{% endif %} `,zeroShotClassification:`async function query(data) {
    const response = await fetch(
		"{{ fullUrl }}",
        {
            headers: {
				Authorization: "{{ authorizationHeader }}",
                "Content-Type": "application/json",
{% if billTo %}
                "X-HF-Bill-To": "{{ billTo }}",
{% endif %}         },
            method: "POST",
            body: JSON.stringify(data),
        }
    );
    const result = await response.json();
    return result;
}

query({
    inputs: {{ providerInputs.asObj.inputs }},
    parameters: { candidate_labels: ["refund", "legal", "faq"] }
}).then((response) => {
    console.log(JSON.stringify(response));
});`},"huggingface.js":{basic:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const output = await client.{{ methodName }}({
{% if endpointUrl %}
    endpointUrl: "{{ endpointUrl }}",
{% endif %}
	model: "{{ model.id }}",
	inputs: {{ inputs.asObj.inputs }},
	provider: "{{ provider }}",
}{% if billTo %}, {
	billTo: "{{ billTo }}",
}{% endif %});

console.log(output);`,basicAudio:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const data = fs.readFileSync({{inputs.asObj.inputs}});

const output = await client.{{ methodName }}({
{% if endpointUrl %}
    endpointUrl: "{{ endpointUrl }}",
{% endif %}
	data,
	model: "{{ model.id }}",
	provider: "{{ provider }}",
}{% if billTo %}, {
	billTo: "{{ billTo }}",
}{% endif %});

console.log(output);`,basicImage:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const data = fs.readFileSync({{inputs.asObj.inputs}});

const output = await client.{{ methodName }}({
{% if endpointUrl %}
    endpointUrl: "{{ endpointUrl }}",
{% endif %}
	data,
	model: "{{ model.id }}",
	provider: "{{ provider }}",
}{% if billTo %}, {
	billTo: "{{ billTo }}",
}{% endif %});

console.log(output);`,conversational:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const chatCompletion = await client.chatCompletion({
{% if endpointUrl %}
    endpointUrl: "{{ endpointUrl }}",
{% endif %}
    provider: "{{ provider }}",
    model: "{{ model.id }}",
{{ inputs.asTsString }}
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});

console.log(chatCompletion.choices[0].message);`,conversationalStream:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

let out = "";

const stream = client.chatCompletionStream({
{% if endpointUrl %}
    endpointUrl: "{{ endpointUrl }}",
{% endif %}
    provider: "{{ provider }}",
    model: "{{ model.id }}",
{{ inputs.asTsString }}
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});

for await (const chunk of stream) {
	if (chunk.choices && chunk.choices.length > 0) {
		const newContent = chunk.choices[0].delta.content;
		out += newContent;
		console.log(newContent);
	}
}`,imageToImage:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const data = fs.readFileSync("{{inputs.asObj.inputs}}");

const image = await client.imageToImage({
{% if endpointUrl %}
	endpointUrl: "{{ endpointUrl }}",
{% endif %}
	provider: "{{provider}}",
	model: "{{model.id}}",
	inputs: data,
	parameters: { prompt: "{{inputs.asObj.parameters.prompt}}", },
}{% if billTo %}, {
	billTo: "{{ billTo }}",
}{% endif %});
/// Use the generated image (it's a Blob)
// For example, you can save it to a file or display it in an image element
`,imageToVideo:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const data = fs.readFileSync("{{inputs.asObj.inputs}}");

const video = await client.imageToVideo({
{% if endpointUrl %}
	endpointUrl: "{{ endpointUrl }}",
{% endif %}
	provider: "{{provider}}",
	model: "{{model.id}}",
	inputs: data,
	parameters: { prompt: "{{inputs.asObj.parameters.prompt}}", },
}{% if billTo %}, {
	billTo: "{{ billTo }}",
}{% endif %});

/// Use the generated video (it's a Blob)
// For example, you can save it to a file or display it in a video element
`,textToImage:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const image = await client.textToImage({
{% if endpointUrl %}
    endpointUrl: "{{ endpointUrl }}",
{% endif %}
    provider: "{{ provider }}",
    model: "{{ model.id }}",
	inputs: {{ inputs.asObj.inputs }},
	parameters: { num_inference_steps: 5 },
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});
/// Use the generated image (it's a Blob)`,textToSpeech:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const audio = await client.textToSpeech({
{% if endpointUrl %}
    endpointUrl: "{{ endpointUrl }}",
{% endif %}
    provider: "{{ provider }}",
    model: "{{ model.id }}",
	inputs: {{ inputs.asObj.inputs }},
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});
// Use the generated audio (it's a Blob)`,textToVideo:`import { InferenceClient } from "@huggingface/inference";

const client = new InferenceClient("{{ accessToken }}");

const video = await client.textToVideo({
{% if endpointUrl %}
    endpointUrl: "{{ endpointUrl }}",
{% endif %}
    provider: "{{ provider }}",
    model: "{{ model.id }}",
	inputs: {{ inputs.asObj.inputs }},
}{% if billTo %}, {
    billTo: "{{ billTo }}",
}{% endif %});
// Use the generated video (it's a Blob)`},openai:{conversational:`import { OpenAI } from "openai";

const client = new OpenAI({
	baseURL: "{{ baseUrl }}",
	apiKey: "{{ accessToken }}",
{% if billTo %}
	defaultHeaders: {
		"X-HF-Bill-To": "{{ billTo }}" 
	}
{% endif %}
});

const chatCompletion = await client.chat.completions.create({
	model: "{{ providerModelId }}",
{{ inputs.asTsString }}
});

console.log(chatCompletion.choices[0].message);`,conversationalStream:`import { OpenAI } from "openai";

const client = new OpenAI({
	baseURL: "{{ baseUrl }}",
	apiKey: "{{ accessToken }}",
{% if billTo %}
    defaultHeaders: {
		"X-HF-Bill-To": "{{ billTo }}" 
	}
{% endif %}
});

const stream = await client.chat.completions.create({
    model: "{{ providerModelId }}",
{{ inputs.asTsString }}
    stream: true,
});

for await (const chunk of stream) {
    process.stdout.write(chunk.choices[0]?.delta?.content || "");
}`}},python:{fal_client:{imageToImage:`{%if provider == "fal-ai" %}
import fal_client
import base64

def on_queue_update(update):
    if isinstance(update, fal_client.InProgress):
        for log in update.logs:
           print(log["message"])

with open("{{inputs.asObj.inputs}}", "rb") as image_file:
    image_base_64 = base64.b64encode(image_file.read()).decode('utf-8')

result = fal_client.subscribe(
    "fal-ai/flux-kontext/dev",
    arguments={
        "prompt": f"data:image/png;base64,{image_base_64}",
        "image_url": "{{ providerInputs.asObj.inputs }}",
    },
    with_logs=True,
    on_queue_update=on_queue_update,
)
print(result)
{%endif%}
`,imageToVideo:`{%if provider == "fal-ai" %}
import fal_client
import base64

def on_queue_update(update):
    if isinstance(update, fal_client.InProgress):
        for log in update.logs:
           print(log["message"])

with open("{{inputs.asObj.inputs}}", "rb") as image_file:
    image_base_64 = base64.b64encode(image_file.read()).decode('utf-8')

result = fal_client.subscribe(
    "{{model.id}}",
    arguments={
        "image_url": f"data:image/png;base64,{image_base_64}",
        "prompt": "{{inputs.asObj.parameters.prompt}}",
    },
    with_logs=True,
    on_queue_update=on_queue_update,
)
print(result)
{%endif%}
`,textToImage:`{% if provider == "fal-ai" %}
import fal_client

{% if providerInputs.asObj.loras is defined and providerInputs.asObj.loras != none %}
result = fal_client.subscribe(
    "{{ providerModelId }}",
    arguments={
        "prompt": {{ inputs.asObj.inputs }},
        "loras":{{ providerInputs.asObj.loras | tojson }},
    },
)
{% else %}
result = fal_client.subscribe(
    "{{ providerModelId }}",
    arguments={
        "prompt": {{ inputs.asObj.inputs }},
    },
)
{% endif %} 
print(result)
{% endif %} `},huggingface_hub:{basic:`result = client.{{ methodName }}(
    {{ inputs.asObj.inputs }},
    model="{{ model.id }}",
)`,basicAudio:'output = client.{{ methodName }}({{ inputs.asObj.inputs }}, model="{{ model.id }}")',basicImage:'output = client.{{ methodName }}({{ inputs.asObj.inputs }}, model="{{ model.id }}")',conversational:`completion = client.chat.completions.create(
    model="{{ model.id }}",
{{ inputs.asPythonString }}
)

print(completion.choices[0].message) `,conversationalStream:`stream = client.chat.completions.create(
    model="{{ model.id }}",
{{ inputs.asPythonString }}
    stream=True,
)

for chunk in stream:
    print(chunk.choices[0].delta.content, end="") `,documentQuestionAnswering:`output = client.document_question_answering(
    "{{ inputs.asObj.image }}",
    question="{{ inputs.asObj.question }}",
    model="{{ model.id }}",
) `,imageToImage:`with open("{{ inputs.asObj.inputs }}", "rb") as image_file:
   input_image = image_file.read()

# output is a PIL.Image object
image = client.image_to_image(
    input_image,
    prompt="{{ inputs.asObj.parameters.prompt }}",
    model="{{ model.id }}",
)
`,imageToVideo:`with open("{{ inputs.asObj.inputs }}", "rb") as image_file:
   input_image = image_file.read()

video = client.image_to_video(
    input_image,
    prompt="{{ inputs.asObj.parameters.prompt }}",
    model="{{ model.id }}",
) 
`,importInferenceClient:`from huggingface_hub import InferenceClient

client = InferenceClient(
{% if endpointUrl %}
    base_url="{{ baseUrl }}",
{% endif %}
    provider="{{ provider }}",
    api_key="{{ accessToken }}",
{% if billTo %}
    bill_to="{{ billTo }}",
{% endif %}
)`,questionAnswering:`answer = client.question_answering(
    question="{{ inputs.asObj.question }}",
    context="{{ inputs.asObj.context }}",
    model="{{ model.id }}",
) `,tableQuestionAnswering:`answer = client.table_question_answering(
    query="{{ inputs.asObj.query }}",
    table={{ inputs.asObj.table }},
    model="{{ model.id }}",
) `,textToImage:`# output is a PIL.Image object
image = client.text_to_image(
    {{ inputs.asObj.inputs }},
    model="{{ model.id }}",
) `,textToSpeech:`# audio is returned as bytes
audio = client.text_to_speech(
    {{ inputs.asObj.inputs }},
    model="{{ model.id }}",
) 
`,textToVideo:`video = client.text_to_video(
    {{ inputs.asObj.inputs }},
    model="{{ model.id }}",
) `},openai:{conversational:`from openai import OpenAI

client = OpenAI(
    base_url="{{ baseUrl }}",
    api_key="{{ accessToken }}",
{% if billTo %}
    default_headers={
        "X-HF-Bill-To": "{{ billTo }}"
    }
{% endif %}
)

completion = client.chat.completions.create(
    model="{{ providerModelId }}",
{{ inputs.asPythonString }}
)

print(completion.choices[0].message) `,conversationalStream:`from openai import OpenAI

client = OpenAI(
    base_url="{{ baseUrl }}",
    api_key="{{ accessToken }}",
{% if billTo %}
    default_headers={
        "X-HF-Bill-To": "{{ billTo }}"
    }
{% endif %}
)

stream = client.chat.completions.create(
    model="{{ providerModelId }}",
{{ inputs.asPythonString }}
    stream=True,
)

for chunk in stream:
    print(chunk.choices[0].delta.content, end="")`},requests:{basic:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

output = query({
    "inputs": {{ providerInputs.asObj.inputs }},
}) `,basicAudio:`def query(filename):
    with open(filename, "rb") as f:
        data = f.read()
    response = requests.post(API_URL, headers={"Content-Type": "audio/flac", **headers}, data=data)
    return response.json()

output = query({{ providerInputs.asObj.inputs }})`,basicImage:`def query(filename):
    with open(filename, "rb") as f:
        data = f.read()
    response = requests.post(API_URL, headers={"Content-Type": "image/jpeg", **headers}, data=data)
    return response.json()

output = query({{ providerInputs.asObj.inputs }})`,conversational:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

response = query({
{{ autoInputs.asJsonString }}
})

print(response["choices"][0]["message"])`,conversationalStream:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload, stream=True)
    for line in response.iter_lines():
        if not line.startswith(b"data:"):
            continue
        if line.strip() == b"data: [DONE]":
            return
        yield json.loads(line.decode("utf-8").lstrip("data:").rstrip("/n"))

chunks = query({
{{ autoInputs.asJsonString }},
    "stream": True,
})

for chunk in chunks:
    print(chunk["choices"][0]["delta"]["content"], end="")`,documentQuestionAnswering:`def query(payload):
    with open(payload["image"], "rb") as f:
        img = f.read()
        payload["image"] = base64.b64encode(img).decode("utf-8")
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

output = query({
    "inputs": {
        "image": "{{ inputs.asObj.image }}",
        "question": "{{ inputs.asObj.question }}",
    },
}) `,imageToImage:`
def query(payload):
    with open(payload["inputs"], "rb") as f:
        img = f.read()
        payload["inputs"] = base64.b64encode(img).decode("utf-8")
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

image_bytes = query({
{{ providerInputs.asJsonString }}
})

# You can access the image with PIL.Image for example
import io
from PIL import Image
image = Image.open(io.BytesIO(image_bytes)) `,imageToVideo:`
def query(payload):
    with open(payload["inputs"], "rb") as f:
        img = f.read()
        payload["inputs"] = base64.b64encode(img).decode("utf-8")
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

video_bytes = query({
{{ inputs.asJsonString }}
})
`,importRequests:`{% if importBase64 %}
import base64
{% endif %}
{% if importJson %}
import json
{% endif %}
import requests

API_URL = "{{ fullUrl }}"
headers = {
    "Authorization": "{{ authorizationHeader }}",
{% if billTo %}
    "X-HF-Bill-To": "{{ billTo }}"
{% endif %}
}`,tabular:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

response = query({
    "inputs": {
        "data": {{ providerInputs.asObj.inputs }}
    },
}) `,textToAudio:`{% if model.library_name == "transformers" %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

audio_bytes = query({
    "inputs": {{ inputs.asObj.inputs }},
})
# You can access the audio with IPython.display for example
from IPython.display import Audio
Audio(audio_bytes)
{% else %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

audio, sampling_rate = query({
    "inputs": {{ inputs.asObj.inputs }},
})
# You can access the audio with IPython.display for example
from IPython.display import Audio
Audio(audio, rate=sampling_rate)
{% endif %} `,textToImage:`{% if provider == "hf-inference" %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

image_bytes = query({
    "inputs": {{ providerInputs.asObj.inputs }},
})

# You can access the image with PIL.Image for example
import io
from PIL import Image
image = Image.open(io.BytesIO(image_bytes))
{% endif %}`,textToSpeech:`{% if model.library_name == "transformers" %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.content

audio_bytes = query({
    "text": {{ inputs.asObj.inputs }},
})
# You can access the audio with IPython.display for example
from IPython.display import Audio
Audio(audio_bytes)
{% else %}
def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

audio, sampling_rate = query({
    "text": {{ inputs.asObj.inputs }},
})
# You can access the audio with IPython.display for example
from IPython.display import Audio
Audio(audio, rate=sampling_rate)
{% endif %} `,zeroShotClassification:`def query(payload):
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

output = query({
    "inputs": {{ providerInputs.asObj.inputs }},
    "parameters": {"candidate_labels": ["refund", "legal", "faq"]},
}) `,zeroShotImageClassification:`def query(data):
    with open(data["image_path"], "rb") as f:
        img = f.read()
    payload={
        "parameters": data["parameters"],
        "inputs": base64.b64encode(img).decode("utf-8")
    }
    response = requests.post(API_URL, headers=headers, json=payload)
    return response.json()

output = query({
    "image_path": {{ providerInputs.asObj.inputs }},
    "parameters": {"candidate_labels": ["cat", "dog", "llama"]},
}) `}},sh:{curl:{basic:`curl {{ fullUrl }} \\
    -X POST \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: application/json' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    -d '{
{{ providerInputs.asCurlString }}
    }'`,basicAudio:`curl {{ fullUrl }} \\
    -X POST \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: audio/flac' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    --data-binary @{{ providerInputs.asObj.inputs }}`,basicImage:`curl {{ fullUrl }} \\
    -X POST \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: image/jpeg' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    --data-binary @{{ providerInputs.asObj.inputs }}`,conversational:`curl {{ fullUrl }} \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: application/json' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    -d '{
{{ autoInputs.asCurlString }},
        "stream": false
    }'`,conversationalStream:`curl {{ fullUrl }} \\
    -H 'Authorization: {{ authorizationHeader }}' \\
    -H 'Content-Type: application/json' \\
{% if billTo %}
    -H 'X-HF-Bill-To: {{ billTo }}' \\
{% endif %}
    -d '{
{{ autoInputs.asCurlString }},
        "stream": true
    }'`,zeroShotClassification:`curl {{ fullUrl }} \\
    -X POST \\
    -d '{"inputs": {{ providerInputs.asObj.inputs }}, "parameters": {"candidate_labels": ["refund", "legal", "faq"]}}' \\
    -H 'Content-Type: application/json' \\
    -H 'Authorization: {{ authorizationHeader }}'
{% if billTo %} \\
    -H 'X-HF-Bill-To: {{ billTo }}'
{% endif %}`}}},C_=(t,e,n)=>{const i=_6[t]?.[e]?.[n];if(!i)throw new Error(`Template not found: ${t}/${e}/${n}`);return r=>new P3(i).render({...r})};C_("python","huggingface_hub","importInferenceClient");C_("python","requests","importRequests");class C6{constructor(){this.hf=null,this.isInitialized=!1,this.apiKey=null,this.models={classification:"HooshvareLab/bert-fa-base-uncased",sentiment:"HooshvareLab/bert-fa-base-uncased-sentiment-digikala",ner:"HooshvareLab/bert-fa-base-uncased-ner-peyma",summarization:"csebuetnlp/mT5_multilingual_XLSum"},this.legalCategories=[{id:"civil",name:"حقوق مدنی",keywords:["مدنی","قرارداد","تعهدات","اموال"]},{id:"criminal",name:"حقوق جزا",keywords:["جزا","مجازات","جرم","کیفر"]},{id:"administrative",name:"حقوق اداری",keywords:["اداری","دولت","مأمور","خدمات"]},{id:"constitutional",name:"حقوق قانون اساسی",keywords:["اساسی","قانون اساسی","اصول"]},{id:"commercial",name:"حقوق تجارت",keywords:["تجارت","بازرگانی","شرکت","تجاری"]},{id:"family",name:"حقوق خانواده",keywords:["خانواده","ازدواج","طلاق","نفقه"]},{id:"labor",name:"حقوق کار",keywords:["کار","کارگر","استخدام","اجیر"]},{id:"tax",name:"حقوق مالیاتی",keywords:["مالیات","عوارض","درآمد","مالی"]}],this.analysisCache=new Map,this.processingQueue=[],this.isProcessing=!1,this.initializeAI()}async initializeAI(){try{this.apiKey=localStorage.getItem("huggingface_api_key")||{}.HUGGINGFACE_API_KEY||"hf_demo_key",this.apiKey&&this.apiKey!=="hf_demo_key"?(this.hf=new Uv(this.apiKey),console.log("🤖 HuggingFace API initialized")):console.log("🤖 AI service running in demo mode"),this.isInitialized=!0,await this.testConnection()}catch(e){console.error("❌ Failed to initialize AI service:",e),this.isInitialized=!0}}async testConnection(){try{if(!this.hf)return{success:!1,message:"API key required"};const e="این یک متن آزمایشی برای تست سرویس هوش مصنوعی است.",n=await this.hf.textClassification({model:this.models.classification,inputs:e});return console.log("✅ HuggingFace connection test successful"),{success:!0,result:n}}catch(e){return console.warn("⚠️ HuggingFace connection test failed, using fallback:",e),{success:!1,error:e.message}}}async analyzeDocument(e){const n=Date.now();try{console.log(`🔍 Analyzing document: ${e.title}`);const i=this.generateCacheKey(e);if(this.analysisCache.has(i))return console.log("📋 Using cached analysis result"),this.analysisCache.get(i);const r={documentId:e.id,title:e.title,analyzedAt:new Date().toISOString(),processingTime:0,results:{}},s=[this.classifyDocument(e),this.extractEntities(e),this.analyzeSentiment(e),this.generateSummary(e),this.identifyKeyTopics(e)],[a,o,l,c,u]=await Promise.allSettled(s);r.results={classification:a.status==="fulfilled"?a.value:null,entities:o.status==="fulfilled"?o.value:null,sentiment:l.status==="fulfilled"?l.value:null,summary:c.status==="fulfilled"?c.value:null,topics:u.status==="fulfilled"?u.value:null};const d=Object.values(r.results).filter(h=>h&&h.confidence).map(h=>h.confidence);return r.overallConfidence=d.length>0?d.reduce((h,f)=>h+f,0)/d.length:.75,r.processingTime=Date.now()-n,this.analysisCache.set(i,r),_e.updateAIMetrics({confidence:r.overallConfidence*100,processingTime:r.processingTime,accuracy:this.calculateAccuracy(r)}),console.log(`✅ Document analysis completed in ${r.processingTime}ms`),r}catch(i){const r=Date.now()-n;console.error("❌ Document analysis failed:",i);const s=await this.generateFallbackAnalysis(e);return s.processingTime=r,s.error=i.message,s}}async classifyDocument(e){try{if(this.hf){const n=await this.hf.textClassification({model:this.models.classification,inputs:e.content.substring(0,512)});return this.mapToLegalCategories(n,e)}else return this.performKeywordClassification(e)}catch(n){return console.warn("Classification fallback due to error:",n),this.performKeywordClassification(e)}}mapToLegalCategories(e,n){const i=n.content.toLowerCase(),r=n.title.toLowerCase(),s=this.legalCategories.map(a=>{let o=0;return a.keywords.forEach(l=>{const c=(r.match(new RegExp(l,"g"))||[]).length,u=(i.match(new RegExp(l,"g"))||[]).length;o+=c*10+u}),{category:a.name,id:a.id,score:o,confidence:Math.min(o/100,1)}});return s.sort((a,o)=>o.score-a.score),{primaryCategory:s[0],allCategories:s.slice(0,3),confidence:s[0].confidence,method:this.hf?"huggingface":"keyword"}}performKeywordClassification(e){const n=`${e.title} ${e.content}`.toLowerCase(),i=this.legalCategories.map(r=>{const s=r.keywords.reduce((a,o)=>a+(n.split(o).length-1),0);return{category:r.name,id:r.id,score:s,confidence:Math.min(s/10,1)}});return i.sort((r,s)=>s.score-r.score),{primaryCategory:i[0],allCategories:i.slice(0,3),confidence:i[0].confidence,method:"keyword"}}async extractEntities(e){try{const n=e.content.substring(0,1e3);if(this.hf){const i=await this.hf.tokenClassification({model:this.models.ner,inputs:n});return this.processNERResults(i)}else return this.extractEntitiesWithRegex(n)}catch(n){return console.warn("Entity extraction fallback:",n),this.extractEntitiesWithRegex(e.content)}}processNERResults(e){const n={persons:[],organizations:[],locations:[],laws:[],dates:[]};return e.forEach(i=>{const r=i.entity_group||i.entity,s=i.word;r.includes("PER")?n.persons.push(s):r.includes("ORG")?n.organizations.push(s):r.includes("LOC")&&n.locations.push(s)}),{entities:n,confidence:.85,method:"huggingface"}}extractEntitiesWithRegex(e){const n={persons:[],organizations:[],locations:[],laws:[],dates:[]},i=/\d{4}\/\d{1,2}\/\d{1,2}/g;n.dates=[...new Set(e.match(i)||[])];const r=/(قانون|آیین‌نامه|بخشنامه)\s+[^\n\.]{10,100}/g;n.laws=[...new Set(e.match(r)||[])];const s=/(وزارت|سازمان|شرکت|مؤسسه|بنیاد)\s+[^\n\.]{5,50}/g;return n.organizations=[...new Set(e.match(s)||[])],{entities:n,confidence:.7,method:"regex"}}async analyzeSentiment(e){try{const n=e.content.substring(0,512);if(this.hf){const i=await this.hf.textClassification({model:this.models.sentiment,inputs:n});return{sentiment:i[0]?.label||"NEUTRAL",confidence:i[0]?.score||.5,method:"huggingface"}}else return this.analyzeSentimentWithKeywords(n)}catch(n){return console.warn("Sentiment analysis fallback:",n),this.analyzeSentimentWithKeywords(e.content)}}analyzeSentimentWithKeywords(e){const n=["مثبت","خوب","عالی","موفق","بهبود","پیشرفت","توسعه"],i=["منفی","بد","مشکل","خطا","نقص","تخلف","مجازات"],r=e.toLowerCase(),s=n.reduce((c,u)=>c+(r.split(u).length-1),0),a=i.reduce((c,u)=>c+(r.split(u).length-1),0);let o,l;return s>a?(o="POSITIVE",l=Math.min(s/(s+a),.9)):a>s?(o="NEGATIVE",l=Math.min(a/(s+a),.9)):(o="NEUTRAL",l=.6),{sentiment:o,confidence:l,method:"keyword"}}async generateSummary(e){try{const n=e.content;if(this.hf&&n.length>200){const i=await this.hf.summarization({model:this.models.summarization,inputs:n.substring(0,1024),parameters:{max_length:150,min_length:50}});return{summary:i.summary_text,confidence:.8,method:"huggingface",originalLength:n.length,summaryLength:i.summary_text.length}}else return this.generateKeywordSummary(e)}catch(n){return console.warn("Summarization fallback:",n),this.generateKeywordSummary(e)}}generateKeywordSummary(e){const r=e.content.split(/[.!?؟]/).filter(s=>s.trim().length>20).slice(0,5).map(s=>s.trim()).filter(s=>s.length>0).join(". ")+".";return{summary:r.substring(0,300),confidence:.65,method:"keyword",originalLength:e.content.length,summaryLength:r.length}}async identifyKeyTopics(e){try{const n=e.content.toLowerCase(),i={قراردادها:["قرارداد","توافق","تعهد","التزام"],مالکیت:["مالکیت","املاک","ملک","دارایی"],مجازات:["مجازات","جزا","کیفر","تنبیه"],دادرسی:["دادرسی","محاکمه","رسیدگی","دادگاه"],خانواده:["ازدواج","طلاق","نفقه","حضانت"],کار:["استخدام","کارگر","حقوق","بیمه"],مالیات:["مالیات","عوارض","درآمد","مالی"],تجارت:["تجارت","بازرگانی","شرکت","کسب‌وکار"]},r={};Object.entries(i).forEach(([a,o])=>{let l=0;o.forEach(c=>{const u=(n.match(new RegExp(c,"g"))||[]).length;l+=u}),l>0&&(r[a]={score:l,confidence:Math.min(l/10,1),keywords:o.filter(c=>n.includes(c))})});const s=Object.entries(r).sort(([,a],[,o])=>o.score-a.score).slice(0,5);return{topics:s.map(([a,o])=>({name:a,...o})),confidence:s.length>0?s[0][1].confidence:.5,method:"keyword"}}catch(n){return console.error("❌ Topic identification failed:",n),{topics:[],confidence:0,method:"fallback",error:n.message}}}async batchAnalyze(e,n={}){const{concurrent:i=3,onProgress:r}=n,s=[],a=[];console.log(`🔄 Starting batch analysis of ${e.length} documents`);for(let o=0;o<e.length;o+=i){const c=e.slice(o,o+i).map(async(d,h)=>{try{const f=await this.analyzeDocument(d);return r&&r({completed:o+h+1,total:e.length,current:d.title}),f}catch(f){return a.push({document:d.id,error:f.message}),null}}),u=await Promise.all(c);s.push(...u.filter(d=>d!==null)),o+i<e.length&&await new Promise(d=>setTimeout(d,1e3))}return{results:s,errors:a,processed:s.length,failed:a.length,total:e.length}}async compareDocuments(e,n){try{const i=e.content.toLowerCase().substring(0,1e3),r=n.content.toLowerCase().substring(0,1e3);return{similarity:this.calculateTextSimilarity(i,r),confidence:.8,method:"text_comparison",documents:[e.id,n.id]}}catch(i){throw console.error("❌ Document comparison failed:",i),i}}calculateTextSimilarity(e,n){const i=new Set(e.split(/\s+/)),r=new Set(n.split(/\s+/)),s=new Set([...i].filter(o=>r.has(o))),a=new Set([...i,...r]);return s.size/a.size}async generateFallbackAnalysis(e){const n=this.performKeywordClassification(e),i=this.extractEntitiesWithRegex(e.content),r=this.analyzeSentimentWithKeywords(e.content),s=await this.identifyKeyTopics(e);return{documentId:e.id,title:e.title,analyzedAt:new Date().toISOString(),results:{classification:n,entities:i,sentiment:r,topics:s},overallConfidence:.7,method:"fallback"}}generateCacheKey(e){const n=this.simpleHash(e.content);return`${e.id}_${n}`}simpleHash(e){let n=0;for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);n=(n<<5)-n+r,n=n&n}return Math.abs(n).toString(36)}calculateAccuracy(e){const n=e.results;let i=0,r=0;return Object.values(n).forEach(s=>{s&&typeof s.confidence=="number"&&(i+=s.confidence,r++)}),r>0?i/r*100:75}setApiKey(e){this.apiKey=e,localStorage.setItem("huggingface_api_key",e),e&&e!=="hf_demo_key"?(this.hf=new Uv(e),console.log("🔑 HuggingFace API key updated")):(this.hf=null,console.log("🔑 API key removed, using fallback methods"))}getAnalysisStats(){return{cacheSize:this.analysisCache.size,queueSize:this.processingQueue.length,isProcessing:this.isProcessing,hasApiKey:!!this.apiKey&&this.apiKey!=="hf_demo_key",supportedModels:Object.keys(this.models),legalCategories:this.legalCategories.length}}clearCache(){this.analysisCache.clear(),console.log("🗑️ Analysis cache cleared")}exportAnalysisResults(){const e=Array.from(this.analysisCache.values());return{results:e,exportTime:new Date().toISOString(),totalAnalyses:e.length}}}const $r=new C6,Ul=({title:t,value:e,change:n,changeType:i="increase",icon:r,color:s="blue",loading:a=!1,onClick:o})=>{const l={blue:{bg:"bg-blue-100 dark:bg-blue-900/30",icon:"text-blue-600 dark:text-blue-400",trend:"text-blue-600"},green:{bg:"bg-green-100 dark:bg-green-900/30",icon:"text-green-600 dark:text-green-400",trend:"text-green-600"},purple:{bg:"bg-purple-100 dark:bg-purple-900/30",icon:"text-purple-600 dark:text-purple-400",trend:"text-purple-600"},orange:{bg:"bg-orange-100 dark:bg-orange-900/30",icon:"text-orange-600 dark:text-orange-400",trend:"text-orange-600"},red:{bg:"bg-red-100 dark:bg-red-900/30",icon:"text-red-600 dark:text-red-400",trend:"text-red-600"}},c=()=>{switch(i){case"increase":return p(Is,{className:"w-4 h-4"});case"decrease":return p(gO,{className:"w-4 h-4"});default:return p(lO,{className:"w-4 h-4"})}},u=()=>{switch(i){case"increase":return"text-green-600";case"decrease":return"text-red-600";default:return"text-gray-600"}};return a?p("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:p("div",{className:"animate-pulse",children:g("div",{className:"flex items-center justify-between",children:[g("div",{className:"space-y-3",children:[p("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-24"}),p("div",{className:"h-8 bg-gray-200 dark:bg-gray-600 rounded w-16"}),p("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-20"})]}),p("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-600 rounded-full"})]})})}):g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2,transition:{duration:.2}},onClick:o,className:`bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 ${o?"cursor-pointer hover:shadow-xl":""} transition-all duration-200`,children:[g("div",{className:"flex items-center justify-between",children:[g("div",{className:"space-y-2",children:[p("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:t}),g("div",{className:"flex items-baseline gap-2",children:[p("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:typeof e=="number"?e.toLocaleString("fa-IR"):e}),n!=null&&g("div",{className:`flex items-center gap-1 text-sm ${u()}`,children:[c(),p("span",{children:typeof n=="number"?n.toLocaleString("fa-IR"):n})]})]}),g("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["آخرین بروزرسانی: ",new Date().toLocaleTimeString("fa-IR")]})]}),p("div",{className:`p-3 rounded-full ${l[s].bg}`,children:p(r,{className:`w-6 h-6 ${l[s].icon}`})})]}),typeof e=="string"&&e.includes("%")&&p("div",{className:"mt-4",children:p("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p(V.div,{initial:{width:0},animate:{width:e},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${s==="green"?"from-green-500 to-green-600":s==="blue"?"from-blue-500 to-blue-600":s==="purple"?"from-purple-500 to-purple-600":s==="orange"?"from-orange-500 to-orange-600":"from-red-500 to-red-600"}`})})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function al(t){return t+.5|0}const Li=(t,e,n)=>Math.max(Math.min(t,n),e);function Ua(t){return Li(al(t*2.55),0,255)}function Ji(t){return Li(al(t*255),0,255)}function ei(t){return Li(al(t/2.55)/100,0,1)}function ex(t){return Li(al(t*100),0,100)}const sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cf=[..."0123456789ABCDEF"],A6=t=>Cf[t&15],T6=t=>Cf[(t&240)>>4]+Cf[t&15],Bl=t=>(t&240)>>4===(t&15),N6=t=>Bl(t.r)&&Bl(t.g)&&Bl(t.b)&&Bl(t.a);function P6(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&sn[t[1]]*17,g:255&sn[t[2]]*17,b:255&sn[t[3]]*17,a:e===5?sn[t[4]]*17:255}:(e===7||e===9)&&(n={r:sn[t[1]]<<4|sn[t[2]],g:sn[t[3]]<<4|sn[t[4]],b:sn[t[5]]<<4|sn[t[6]],a:e===9?sn[t[7]]<<4|sn[t[8]]:255})),n}const E6=(t,e)=>t<255?e(t):"";function R6(t){var e=N6(t)?A6:T6;return t?"#"+e(t.r)+e(t.g)+e(t.b)+E6(t.a,e):void 0}const I6=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A_(t,e,n){const i=e*Math.min(n,1-n),r=(s,a=(s+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function D6(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function M6(t,e,n){const i=A_(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function O6(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function Rg(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),a=Math.min(n,i,r),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=O6(n,i,r,u,s),l=l*60+.5),[l|0,c||0,o]}function Ig(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ji)}function Dg(t,e,n){return Ig(A_,t,e,n)}function L6(t,e,n){return Ig(M6,t,e,n)}function j6(t,e,n){return Ig(D6,t,e,n)}function T_(t){return(t%360+360)%360}function F6(t){const e=I6.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ua(+e[5]):Ji(+e[5]));const r=T_(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=L6(r,s,a):e[1]==="hsv"?i=j6(r,s,a):i=Dg(r,s,a),{r:i[0],g:i[1],b:i[2],a:n}}function $6(t,e){var n=Rg(t);n[0]=T_(n[0]+e),n=Dg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function z6(t){if(!t)return;const e=Rg(t),n=e[0],i=ex(e[1]),r=ex(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ei(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const tx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function U6(){const t={},e=Object.keys(nx),n=Object.keys(tx);let i,r,s,a,o;for(i=0;i<e.length;i++){for(a=o=e[i],r=0;r<n.length;r++)s=n[r],o=o.replace(s,tx[s]);s=parseInt(nx[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Vl;function B6(t){Vl||(Vl=U6(),Vl.transparent=[0,0,0,0]);const e=Vl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const V6=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function q6(t){const e=V6.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?Ua(a):Li(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Ua(i):Li(i,0,255)),r=255&(e[4]?Ua(r):Li(r,0,255)),s=255&(e[6]?Ua(s):Li(s,0,255)),{r:i,g:r,b:s,a:n}}}function H6(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ei(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Fp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ps=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function W6(t,e,n){const i=ps(ei(t.r)),r=ps(ei(t.g)),s=ps(ei(t.b));return{r:Ji(Fp(i+n*(ps(ei(e.r))-i))),g:Ji(Fp(r+n*(ps(ei(e.g))-r))),b:Ji(Fp(s+n*(ps(ei(e.b))-s))),a:t.a+n*(e.a-t.a)}}function ql(t,e,n){if(t){let i=Rg(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Dg(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function N_(t,e){return t&&Object.assign(e||{},t)}function ix(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ji(t[3]))):(e=N_(t,{r:0,g:0,b:0,a:1}),e.a=Ji(e.a)),e}function K6(t){return t.charAt(0)==="r"?q6(t):F6(t)}class Fo{constructor(e){if(e instanceof Fo)return e;const n=typeof e;let i;n==="object"?i=ix(e):n==="string"&&(i=P6(e)||B6(e)||K6(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=N_(this._rgb);return e&&(e.a=ei(e.a)),e}set rgb(e){this._rgb=ix(e)}rgbString(){return this._valid?H6(this._rgb):void 0}hexString(){return this._valid?R6(this._rgb):void 0}hslString(){return this._valid?z6(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=i.a-r.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=W6(this._rgb,e._rgb,n)),this}clone(){return new Fo(this.rgb)}alpha(e){return this._rgb.a=Ji(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=al(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ql(this._rgb,2,e),this}darken(e){return ql(this._rgb,2,-e),this}saturate(e){return ql(this._rgb,1,e),this}desaturate(e){return ql(this._rgb,1,-e),this}rotate(e){return $6(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xn(){}const Q6=(()=>{let t=0;return()=>t++})();function de(t){return t==null}function Pe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function le(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ve(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Wt(t,e){return Ve(t)?t:e}function ie(t,e){return typeof t>"u"?e:t}const X6=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,P_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ce(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ve(t,e,n,i){let r,s,a;if(Pe(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(le(t))for(a=Object.keys(t),s=a.length,r=0;r<s;r++)e.call(n,t[a[r]],a[r])}function Tu(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Nu(t){if(Pe(t))return t.map(Nu);if(le(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Nu(t[n[r]]);return e}return t}function E_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Y6(t,e,n,i){if(!E_(t))return;const r=e[t],s=n[t];le(r)&&le(s)?$o(r,s,i):e[t]=Nu(s)}function $o(t,e,n){const i=Pe(e)?e:[e],r=i.length;if(!le(t))return t;n=n||{};const s=n.merger||Y6;let a;for(let o=0;o<r;++o){if(a=i[o],!le(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],t,a,n)}return t}function oo(t,e){return $o(t,e,{merger:J6})}function J6(t,e,n){if(!E_(t))return;const i=e[t],r=n[t];le(i)&&le(r)?oo(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Nu(r))}const rx={"":t=>t,x:t=>t.x,y:t=>t.y};function Z6(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function G6(t){const e=Z6(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function nr(t,e){return(rx[e]||(rx[e]=G6(e)))(t)}function Mg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const zo=t=>typeof t<"u",ir=t=>typeof t=="function",sx=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function e$(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const fe=Math.PI,Re=2*fe,t$=Re+fe,Pu=Number.POSITIVE_INFINITY,n$=fe/180,Ke=fe/2,gr=fe/4,ax=fe*2/3,ji=Math.log10,qn=Math.sign;function lo(t,e,n){return Math.abs(t-e)<n}function ox(t){const e=Math.round(t);t=lo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ji(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function i$(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function r$(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Uo(t){return!r$(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function s$(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function R_(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function kn(t){return t*(fe/180)}function Og(t){return t*(180/fe)}function lx(t){if(!Ve(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function I_(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*fe&&(s+=Re),{angle:s,distance:r}}function Af(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function a$(t,e){return(t-e+t$)%Re-fe}function vt(t){return(t%Re+Re)%Re}function Bo(t,e,n,i){const r=vt(t),s=vt(e),a=vt(n),o=vt(s-r),l=vt(a-r),c=vt(r-s),u=vt(r-a);return r===s||r===a||i&&s===a||o>l&&c<u}function kt(t,e,n){return Math.max(e,Math.min(n,t))}function o$(t){return kt(t,-32768,32767)}function ai(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Lg(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Or=(t,e,n,i)=>Lg(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),l$=(t,e,n)=>Lg(t,n,i=>t[i][e]>=n);function c$(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const D_=["push","pop","shift","splice","unshift"];function u$(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),D_.forEach(n=>{const i="_onData"+Mg(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...s)}),a}})})}function cx(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(D_.forEach(s=>{delete t[s]}),delete t._chartjs)}function M_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const O_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function L_(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,O_.call(window,()=>{i=!1,t.apply(e,n)}))}}function d$(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const jg=t=>t==="start"?"left":t==="end"?"right":"center",yt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,p$=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function h$(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:h,minDefined:f,maxDefined:m}=a.getUserBounds();if(f){if(r=Math.min(Or(l,u,d).lo,n?i:Or(e,u,a.getPixelForValue(d)).lo),c){const y=l.slice(0,r+1).reverse().findIndex(b=>!de(b[o.axis]));r-=Math.max(0,y)}r=kt(r,0,i-1)}if(m){let y=Math.max(Or(l,a.axis,h,!0).hi+1,n?0:Or(e,u,a.getPixelForValue(h),!0).hi+1);if(c){const b=l.slice(y-1).findIndex(v=>!de(v[o.axis]));y+=Math.max(0,b)}s=kt(y,r,i)-r}else s=i-r}return{start:r,count:s}}function f$(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Hl=t=>t===0||t===1,ux=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Re/n)),dx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Re/n)+1,co={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ke)+1,easeOutSine:t=>Math.sin(t*Ke),easeInOutSine:t=>-.5*(Math.cos(fe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Hl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Hl(t)?t:ux(t,.075,.3),easeOutElastic:t=>Hl(t)?t:dx(t,.075,.3),easeInOutElastic(t){return Hl(t)?t:t<.5?.5*ux(t*2,.1125,.45):.5+.5*dx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-co.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?co.easeInBounce(t*2)*.5:co.easeOutBounce(t*2-1)*.5+.5};function Fg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function px(t){return Fg(t)?t:new Fo(t)}function $p(t){return Fg(t)?t:new Fo(t).saturate(.5).darken(.1).hexString()}const m$=["x","y","borderWidth","radius","tension"],g$=["color","borderColor","backgroundColor"];function y$(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:g$},numbers:{type:"number",properties:m$}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function v$(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hx=new Map;function x$(t,e){e=e||{};const n=t+JSON.stringify(e);let i=hx.get(n);return i||(i=new Intl.NumberFormat(t,e),hx.set(n,i)),i}function ol(t,e,n){return x$(e,n).format(t)}const j_={values(t){return Pe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=b$(t,n)}const a=ji(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),ol(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(ji(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?j_.numeric.call(this,t,e,n):""}};function b$(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ad={formatters:j_};function w$(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ad.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Qr=Object.create(null),Tf=Object.create(null);function uo(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function zp(t,e,n){return typeof e=="string"?$o(uo(t,e),n):$o(uo(t,""),e)}class k${constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>$p(r.backgroundColor),this.hoverBorderColor=(i,r)=>$p(r.borderColor),this.hoverColor=(i,r)=>$p(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return zp(this,e,n)}get(e){return uo(this,e)}describe(e,n){return zp(Tf,e,n)}override(e,n){return zp(Qr,e,n)}route(e,n,i,r){const s=uo(this,e),a=uo(this,i),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[r];return le(l)?Object.assign({},c,l):ie(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var qe=new k$({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[y$,v$,w$]);function S$(t){return!t||de(t.size)||de(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Eu(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function _$(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let a=0;const o=n.length;let l,c,u,d,h;for(l=0;l<o;l++)if(d=n[l],d!=null&&!Pe(d))a=Eu(t,r,s,a,d);else if(Pe(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Pe(h)&&(a=Eu(t,r,s,a,h));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return a}function yr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function fx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Nf(t,e,n,i){F_(t,e,n,i,null)}function F_(t,e,n,i,r){let s,a,o,l,c,u,d,h;const f=e.pointStyle,m=e.rotation,y=e.radius;let b=(m||0)*n$;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(b),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,y,0,0,Re):t.arc(n,i,y,0,Re),t.closePath();break;case"triangle":u=r?r/2:y,t.moveTo(n+Math.sin(b)*u,i-Math.cos(b)*y),b+=ax,t.lineTo(n+Math.sin(b)*u,i-Math.cos(b)*y),b+=ax,t.lineTo(n+Math.sin(b)*u,i-Math.cos(b)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,a=Math.cos(b+gr)*l,d=Math.cos(b+gr)*(r?r/2-c:l),o=Math.sin(b+gr)*l,h=Math.sin(b+gr)*(r?r/2-c:l),t.arc(n-d,i-o,c,b-fe,b-Ke),t.arc(n+h,i-a,c,b-Ke,b),t.arc(n+d,i+o,c,b,b+Ke),t.arc(n-h,i+a,c,b+Ke,b+fe),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*y,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}b+=gr;case"rectRot":d=Math.cos(b)*(r?r/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,h=Math.sin(b)*(r?r/2:y),t.moveTo(n-d,i-o),t.lineTo(n+h,i-a),t.lineTo(n+d,i+o),t.lineTo(n-h,i+a),t.closePath();break;case"crossRot":b+=gr;case"cross":d=Math.cos(b)*(r?r/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,h=Math.sin(b)*(r?r/2:y),t.moveTo(n-d,i-o),t.lineTo(n+d,i+o),t.moveTo(n+h,i-a),t.lineTo(n-h,i+a);break;case"star":d=Math.cos(b)*(r?r/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,h=Math.sin(b)*(r?r/2:y),t.moveTo(n-d,i-o),t.lineTo(n+d,i+o),t.moveTo(n+h,i-a),t.lineTo(n-h,i+a),b+=gr,d=Math.cos(b)*(r?r/2:y),a=Math.cos(b)*y,o=Math.sin(b)*y,h=Math.sin(b)*(r?r/2:y),t.moveTo(n-d,i-o),t.lineTo(n+d,i+o),t.moveTo(n+h,i-a),t.lineTo(n-h,i+a);break;case"line":a=r?r/2:Math.cos(b)*y,o=Math.sin(b)*y,t.moveTo(n-a,i-o),t.lineTo(n+a,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(b)*(r?r/2:y),i+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Td(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Nd(t){t.restore()}function C$(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function A$(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function T$(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),de(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function N$(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function P$(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Xr(t,e,n,i,r,s={}){const a=Pe(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,T$(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&P$(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),de(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),N$(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function Vo(t,e){const{x:n,y:i,w:r,h:s,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*fe,fe,!0),t.lineTo(n,i+s-a.bottomLeft),t.arc(n+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,fe,Ke,!0),t.lineTo(n+r-a.bottomRight,i+s),t.arc(n+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Ke,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-Ke,!0),t.lineTo(n+a.topLeft,i)}const E$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,R$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function I$(t,e){const n=(""+t).match(E$);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const D$=t=>+t||0;function $g(t,e){const n={},i=le(e),r=i?Object.keys(e):e,s=le(t)?i?a=>ie(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=D$(s(a));return n}function $_(t){return $g(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zr(t){return $g(t,["topLeft","topRight","bottomLeft","bottomRight"])}function _t(t){const e=$_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rt(t,e){t=t||{},e=e||qe.font;let n=ie(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ie(t.style,e.style);i&&!(""+i).match(R$)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ie(t.family,e.family),lineHeight:I$(ie(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ie(t.weight,e.weight),string:""};return r.string=S$(r),r}function Wl(t,e,n,i){let r=!0,s,a,o;for(s=0,a=t.length;s<a;++s)if(o=t[s],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),r=!1),n!==void 0&&Pe(o)&&(o=o[n%o.length],r=!1),o!==void 0))return i&&!r&&(i.cacheable=!1),o}function M$(t,e,n){const{min:i,max:r}=t,s=P_(e,(r-i)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function hr(t,e){return Object.assign(Object.create(t),e)}function zg(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=V_("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:o=>zg([o,...t],e,s,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return U_(o,l,()=>B$(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return gx(o).includes(l)},ownKeys(o){return gx(o)},set(o,l,c){const u=o._storage||(o._storage=r());return o[l]=u[l]=c,delete o._keys,!0}})}function ta(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:z_(t,i),setContext:s=>ta(t,s,n,i),override:s=>ta(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return U_(s,a,()=>L$(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function z_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:ir(n)?n:()=>n,isIndexable:ir(i)?i:()=>i}}const O$=(t,e)=>t?t+Mg(e):e,Ug=(t,e)=>le(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function U_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function L$(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=t;let o=i[e];return ir(o)&&a.isScriptable(e)&&(o=j$(e,o,t,n)),Pe(o)&&o.length&&(o=F$(e,o,t,a.isIndexable)),Ug(e,o)&&(o=ta(o,r,s&&s[e],a)),o}function j$(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||i);return o.delete(t),Ug(t,l)&&(l=Bg(r._scopes,r,t,l)),l}function F$(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(le(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Bg(c,r,t,u);e.push(ta(d,s,a&&a[t],o))}}return e}function B_(t,e,n){return ir(t)?t(e,n):t}const $$=(t,e)=>t===!0?e:typeof t=="string"?nr(e,t):void 0;function z$(t,e,n,i,r){for(const s of e){const a=$$(n,s);if(a){t.add(a);const o=B_(a._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function Bg(t,e,n,i){const r=e._rootScopes,s=B_(e._fallback,n,i),a=[...t,...r],o=new Set;o.add(i);let l=mx(o,a,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=mx(o,a,s,l,i),l===null)?!1:zg(Array.from(o),[""],r,s,()=>U$(e,n,i))}function mx(t,e,n,i,r){for(;n;)n=z$(t,e,n,i,r);return n}function U$(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Pe(r)&&le(n)?n:r||{}}function B$(t,e,n,i){let r;for(const s of e)if(r=V_(O$(s,t),n),typeof r<"u")return Ug(t,r)?Bg(n,i,t,r):r}function V_(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function gx(t){let e=t._keys;return e||(e=t._keys=V$(t._scopes)),e}function V$(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function q_(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,a=new Array(i);let o,l,c,u;for(o=0,l=i;o<l;++o)c=o+n,u=e[c],a[o]={r:r.parse(nr(u,s),c)};return a}const q$=Number.EPSILON||1e-14,na=(t,e)=>e<t.length&&!t[e].skip&&t[e],H_=t=>t==="x"?"y":"x";function H$(t,e,n,i){const r=t.skip?e:t,s=e,a=n.skip?e:n,o=Af(s,r),l=Af(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:s.x-d*(a.x-r.x),y:s.y-d*(a.y-r.y)},next:{x:s.x+h*(a.x-r.x),y:s.y+h*(a.y-r.y)}}}function W$(t,e,n){const i=t.length;let r,s,a,o,l,c=na(t,0);for(let u=0;u<i-1;++u)if(l=c,c=na(t,u+1),!(!l||!c)){if(lo(e[u],0,q$)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],o=Math.pow(r,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[u]=r*a*e[u],n[u+1]=s*a*e[u])}}function K$(t,e,n="x"){const i=H_(n),r=t.length;let s,a,o,l=na(t,0);for(let c=0;c<r;++c){if(a=o,o=l,l=na(t,c+1),!o)continue;const u=o[n],d=o[i];a&&(s=(u-a[n])/3,o[`cp1${n}`]=u-s,o[`cp1${i}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,o[`cp2${n}`]=u+s,o[`cp2${i}`]=d+s*e[c])}}function Q$(t,e="x"){const n=H_(e),i=t.length,r=Array(i).fill(0),s=Array(i);let a,o,l,c=na(t,0);for(a=0;a<i;++a)if(o=l,l=c,c=na(t,a+1),!!l){if(c){const u=c[e]-l[e];r[a]=u!==0?(c[n]-l[n])/u:0}s[a]=o?c?qn(r[a-1])!==qn(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}W$(t,r,s),K$(t,s,e)}function Kl(t,e,n){return Math.max(Math.min(t,n),e)}function X$(t,e){let n,i,r,s,a,o=oi(t[0],e);for(n=0,i=t.length;n<i;++n)a=s,s=o,o=n<i-1&&oi(t[n+1],e),s&&(r=t[n],a&&(r.cp1x=Kl(r.cp1x,e.left,e.right),r.cp1y=Kl(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=Kl(r.cp2x,e.left,e.right),r.cp2y=Kl(r.cp2y,e.top,e.bottom)))}function Y$(t,e,n,i,r){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Q$(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=H$(c,o,t[Math.min(s+1,a-(i?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&X$(t,n)}function Vg(){return typeof window<"u"&&typeof document<"u"}function qg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ru(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Pd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function J$(t,e){return Pd(t).getPropertyValue(e)}const Z$=["top","right","bottom","left"];function Ur(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=Z$[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const G$=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function ez(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let a=!1,o,l;if(G$(r,s,t.target))o=r,l=s;else{const c=e.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Ar(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Pd(n),s=r.boxSizing==="border-box",a=Ur(r,"padding"),o=Ur(r,"border","width"),{x:l,y:c,box:u}=ez(t,n),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:f,height:m}=e;return s&&(f-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/m*n.height/i)}}function tz(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&qg(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=Pd(s),l=Ur(o,"border","width"),c=Ur(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,i=Ru(o.maxWidth,s,"clientWidth"),r=Ru(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Pu,maxHeight:r||Pu}}const Ql=t=>Math.round(t*10)/10;function nz(t,e,n,i){const r=Pd(t),s=Ur(r,"margin"),a=Ru(r.maxWidth,t,"clientWidth")||Pu,o=Ru(r.maxHeight,t,"clientHeight")||Pu,l=tz(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const h=Ur(r,"border","width"),f=Ur(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=Ql(Math.min(c,a,l.maxWidth)),u=Ql(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Ql(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Ql(Math.floor(u*i))),{width:c,height:u}}function yx(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(t.currentDevicePixelRatio=i,a.height=r,a.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const iz=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Vg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function vx(t,e){const n=J$(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Tr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function rz(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function sz(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Tr(t,r,n),o=Tr(r,s,n),l=Tr(s,e,n),c=Tr(a,o,n),u=Tr(o,l,n);return Tr(c,u,n)}const az=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},oz=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Vs(t,e,n){return t?az(e,n):oz()}function W_(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function K_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Q_(t){return t==="angle"?{between:Bo,compare:a$,normalize:vt}:{between:ai,compare:(e,n)=>e-n,normalize:e=>e}}function xx({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function lz(t,e,n){const{property:i,start:r,end:s}=n,{between:a,normalize:o}=Q_(i),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&a(o(e[c%l][i]),r,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function X_(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,a=e.length,{compare:o,between:l,normalize:c}=Q_(i),{start:u,end:d,loop:h,style:f}=lz(t,e,n),m=[];let y=!1,b=null,v,x,w;const S=()=>l(r,w,v)&&o(r,w)!==0,C=()=>o(s,v)===0||l(s,w,v),_=()=>y||S(),T=()=>!y||C();for(let A=u,E=u;A<=d;++A)x=e[A%a],!x.skip&&(v=c(x[i]),v!==w&&(y=l(v,r,s),b===null&&_()&&(b=o(v,r)===0?A:E),b!==null&&T()&&(m.push(xx({start:b,end:A,loop:h,count:a,style:f})),b=null),E=A,w=v));return b!==null&&m.push(xx({start:b,end:d,loop:h,count:a,style:f})),m}function Y_(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=X_(i[r],t.points,e);s.length&&n.push(...s)}return n}function cz(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function uz(t,e,n,i){const r=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?o.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%r,end:a%r,loop:i}),s}function dz(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:a,end:o}=cz(n,r,s,i);if(i===!0)return bx(t,[{start:a,end:o,loop:s}],n,e);const l=o<a?o+r:o,c=!!t._fullLoop&&a===0&&o===r-1;return bx(t,uz(n,a,l,c),n,e)}function bx(t,e,n,i){return!i||!i.setContext||!n?e:pz(t,e,n,i)}function pz(t,e,n,i){const r=t._chart.getContext(),s=wx(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let u=s,d=e[0].start,h=d;function f(m,y,b,v){const x=o?-1:1;if(m!==y){for(m+=l;n[m%l].skip;)m-=x;for(;n[y%l].skip;)y+=x;m%l!==y%l&&(c.push({start:m%l,end:y%l,loop:b,style:v}),u=v,d=y%l)}}for(const m of e){d=o?d:m.start;let y=n[d%l],b;for(h=d+1;h<=m.end;h++){const v=n[h%l];b=wx(i.setContext(hr(r,{type:"segment",p0:y,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),hz(b,u)&&f(d,h-1,m.loop,u),y=v,u=b}d<h-1&&f(d,h-1,m.loop,u)}return c}function wx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function hz(t,e){if(!e)return!1;const n=[],i=function(r,s){return Fg(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Xl(t,e,n){return t.options.clip?t[n]:e[n]}function fz(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Xl(n,e,"left"),right:Xl(n,e,"right"),top:Xl(i,e,"top"),bottom:Xl(i,e,"bottom")}:e}function J_(t,e){const n=e._clip;if(n.disabled)return!1;const i=fz(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=O_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Yn=new mz;const kx="transparent",gz={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=px(t||kx),r=i.valid&&px(e||kx);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class yz{constructor(e,n,i,r){const s=n[i];r=Wl([e.to,r,s,e.from]);const a=Wl([e.from,s,r]);this._active=!0,this._fn=e.fn||gz[e.type||typeof a],this._easing=co[e.easing]||co.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Wl([e.to,n,r,e.from]),this._from=Wl([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<i),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class Z_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!le(e))return;const n=Object.keys(qe.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!le(s))return;const a={};for(const o of n)a[o]=s[o];(Pe(s.properties)&&s.properties||[r]).forEach(o=>{(o===r||!i.has(o))&&i.set(o,a)})})}_animateOptions(e,n){const i=n.options,r=xz(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&vz(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new yz(h,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Yn.add(this._chart,i),!0}}function vz(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function xz(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Sx(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function bz(t,e,n){if(n===!1)return!1;const i=Sx(t,n),r=Sx(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function wz(t){let e,n,i,r;return le(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function G_(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function _x(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=r.length;a<o;++a){if(l=+r[a],l===n){if(u=!0,i.all)continue;break}c=t.values[l],Ve(c)&&(s||e===0||qn(e)===qn(c))&&(e+=c)}return!u&&!i.all?0:e}function kz(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[r]:u,[s]:t[u]};return o}function Up(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Sz(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function _z(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Cz(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Cx(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function Ax(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=i,l=s.axis,c=a.axis,u=Sz(s,a,i),d=e.length;let h;for(let f=0;f<d;++f){const m=e[f],{[l]:y,[c]:b}=m,v=m._stacks||(m._stacks={});h=v[c]=Cz(r,u,y),h[o]=b,h._top=Cx(h,a,!0,i.type),h._bottom=Cx(h,a,!1,i.type);const x=h._visualValues||(h._visualValues={});x[o]=b}}function Bp(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Az(t,e){return hr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Tz(t,e,n){return hr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Na(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Vp=t=>t==="reset"||t==="none",Tx=(t,e)=>e?t:Object.assign({},t),Nz=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:G_(n,!0),values:null};class pi{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Up(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Na(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,h,f,m)=>d==="x"?h:d==="r"?m:f,s=n.xAxisID=ie(i.xAxisID,Bp(e,"x")),a=n.yAxisID=ie(i.yAxisID,Bp(e,"y")),o=n.rAxisID=ie(i.rAxisID,Bp(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,a,o),u=n.vAxisID=r(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cx(this._data,this),e._stacked&&Na(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(le(n)){const r=this._cachedMeta;this._data=kz(n,r)}else if(i!==n){if(i){cx(i,this);const r=this._cachedMeta;Na(r),r._parsed=[]}n&&Object.isExtensible(n)&&u$(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Up(n.vScale,n),n.stack!==i.stack&&(r=!0,Na(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(Ax(this,n._parsed),n._stacked=Up(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,o=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,h;if(this._parsing===!1)i._parsed=r,i._sorted=!0,h=r;else{Pe(r[e])?h=this.parseArrayData(i,r,e,n):le(r[e])?h=this.parseObjectData(i,r,e,n):h=this.parsePrimitiveData(i,r,e,n);const f=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<n;++u)i._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);i._sorted=l}a&&Ax(this,h)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,d=new Array(r);let h,f,m;for(h=0,f=r;h<f;++h)m=h+i,d[h]={[o]:u||s.parse(c[m],m),[l]:a.parse(n[m],m)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:a}=e,o=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+i,d=n[u],o[l]={x:s.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,n,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,h,f;for(u=0,d=r;u<d;++u)h=u+i,f=n[h],c[u]={x:s.parse(nr(f,o),h),y:a.parse(nr(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:G_(r,!0),values:n._stacks[e.axis]._visualValues};return _x(o,a,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let a=s===null?NaN:s;const o=r&&i._stacks[n.axis];r&&o&&(r.values=o,a=_x(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,o=this._getOtherScale(e),l=Nz(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=_z(o);let h,f;function m(){f=r[h];const y=f[o.axis];return!Ve(f[e.axis])||u>y||d<y}for(h=0;h<a&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=n.length;r<s;++r)a=n[r][e.axis],Ve(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=wz(ie(this.options.clip,bz(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const d=r[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=Tz(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Az(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],l=this.enableOptionSharing&&zo(i);if(o)return Tx(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(qe.elements[e]),m=()=>this.getContext(i,r,n),y=c.resolveNamedOptions(h,f,m,d);return y.$shared&&(y.$shared=l,s[a]=Object.freeze(Tx(y,l))),y}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,i,n))}const c=new Z_(r,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Vp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:a}}updateElement(e,n,i,r){Vp(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Vp(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const r=i.length,s=n.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Na(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}D(pi,"defaults",{}),D(pi,"datasetElementType",null),D(pi,"dataElementType",null);function Pz(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=M_(i.sort((r,s)=>r-s))}return t._cache.$bar}function Ez(t){const e=t.iScale,n=Pz(e,t.type);let i=e._length,r,s,a,o;const l=()=>{a===32767||a===-32768||(zo(o)&&(i=Math.min(i,Math.abs(a-o)||i)),o=a)};for(r=0,s=n.length;r<s;++r)a=e.getPixelForValue(n[r]),l();for(o=void 0,r=0,s=e.ticks.length;r<s;++r)a=e.getPixelForTick(r),l();return i}function Rz(t,e,n,i){const r=n.barThickness;let s,a;return de(r)?(s=e.min*n.categoryPercentage,a=n.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:e.pixels[t]-s/2}}function Iz(t,e,n,i){const r=e.pixels,s=r[t];let a=t>0?r[t-1]:null,o=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/i,ratio:n.barPercentage,start:c}}function Dz(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),a=Math.min(r,s),o=Math.max(r,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:a,max:o}}function e2(t,e,n,i){return Pe(t)?Dz(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Nx(t,e,n,i){const r=t.iScale,s=t.vScale,a=r.getLabels(),o=r===s,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[r.axis]=o||r.parse(a[c],c),l.push(e2(h,d,s,c));return l}function qp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Mz(t,e,n){return t!==0?qn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Oz(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function Lz(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=Oz(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[Px(u,a,o,l)]=!0,r=c)),s[Px(r,a,o,l)]=!0,t.borderSkipped=s}function Px(t,e,n,i){return i?(t=jz(t,e,n),t=Ex(t,n,e)):t=Ex(t,e,n),t}function jz(t,e,n){return t===e?n:t===n?e:t}function Ex(t,e,n){return t==="start"?e:t==="end"?n:t}function Fz(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Sc extends pi{parsePrimitiveData(e,n,i,r){return Nx(e,n,i,r)}parseArrayData(e,n,i,r){return Nx(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let h,f,m,y;for(h=i,f=i+r;h<f;++h)y=n[h],m={},m[s.axis]=s.parse(nr(y,c),h),d.push(e2(nr(y,u),m,a,h));return d}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),a=s._custom,o=qp(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const m=this.getParsed(f),y=s||de(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),b=this._calculateBarIndexPixels(f,u),v=(m._stacks||{})[o.axis],x={horizontal:c,base:y.base,enableBorderRadius:!v||qp(m._custom)||a===v._top||a===v._bottom,x:c?y.head:b.center,y:c?b.center:y.head,height:c?b.size:Math.abs(y.size),width:c?Math.abs(y.size):b.size};h&&(x.options=d||this.resolveDataElementOptions(f,e[f].active?"active":r));const w=x.options||e[f].options;Lz(x,w,v,a),Fz(x,w,u.ratio),this.updateElement(e[f],f,x,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=i.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[i.axis],c=u=>{const d=u._parsed.find(f=>f[i.axis]===l),h=d&&d[u.vScale.axis];if(de(h)||isNaN(h))return!0};for(const u of r)if(!(n!==void 0&&c(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[ie(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,a;for(s=0,a=n.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const o=e.barThickness;return{min:o||Ez(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,u=qp(c);let d=l[n.axis],h=0,f=i?this.applyStack(n,l,i):d,m,y;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&qn(d)!==qn(c.barEnd)&&(h=0),h+=d);const b=!de(s)&&!u?s:h;let v=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(h+f):m=v,y=m-v,Math.abs(y)<a){y=Mz(y,n,o)*a,d===o&&(v-=y/2);const x=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),S=Math.min(x,w),C=Math.max(x,w);v=Math.max(Math.min(v,C),S),m=v+y,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(m)-n.getValueForPixel(v))}if(v===n.getPixelForValue(o)){const x=qn(y)*n.getLineWidthForValue(o)/2;v+=x,y-=x}return{size:y,base:v,head:m,center:m+y/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,a=ie(r.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(n.grouped){const u=s?this._getStackCount(e):n.stackCount,d=r.barThickness==="flex"?Iz(e,n,r,u*c):Rz(e,n,r,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(ie(h,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+f;o=d.start+d.chunk*m+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else o=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}D(Sc,"id","bar"),D(Sc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),D(Sc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function $z(t,e,n){let i=1,r=1,s=0,a=0;if(e<Re){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(w,S,C)=>Bo(w,o,l,!0)?1:Math.max(S,S*n,C,C*n),m=(w,S,C)=>Bo(w,o,l,!0)?-1:Math.min(S,S*n,C,C*n),y=f(0,c,d),b=f(Ke,u,h),v=m(fe,c,d),x=m(fe+Ke,u,h);i=(y-v)/2,r=(b-x)/2,s=-(y+v)/2,a=-(b+x)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}class Ds extends pi{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(le(i[e])){const{key:l="value"}=this._parsing;s=c=>+nr(i[c],l)}let a,o;for(a=e,o=e+n;a<o;++a)r._parsed[a]=s(a)}}_getRotation(){return kn(this.options.rotation-90)}_getCircumference(){return kn(this.options.circumference)}_getRotationExtents(){let e=Re,n=-Re;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(X6(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:m,offsetY:y}=$z(d,u,l),b=(i.width-a)/h,v=(i.height-a)/f,x=Math.max(Math.min(b,v)/2,0),w=P_(this.options.radius,x),S=Math.max(w*l,0),C=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=y*w,r.total=this.calculateTotal(),this.outerRadius=w-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Re)}updateElements(e,n,i,r){const s=r==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,r);let v=this._getRotation(),x;for(x=0;x<n;++x)v+=this._circumference(x,s);for(x=n;x<n+i;++x){const w=this._circumference(x,s),S=e[x],C={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+w,circumference:w,outerRadius:m,innerRadius:f};b&&(C.options=y||this.resolveDataElementOptions(x,S.active?"active":r)),v+=w,this.updateElement(S,x,C,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Re*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=ol(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,a,o,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,o=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=o.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}D(Ds,"id","doughnut"),D(Ds,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),D(Ds,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),D(Ds,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class _c extends pi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=h$(n,r,a);this._drawStart=o,this._drawCount=l,f$(n)&&(o=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:c},e),this.updateElements(r,o,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,r),h=a.axis,f=o.axis,{spanGaps:m,segment:y}=this.options,b=Uo(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none",x=n+i,w=e.length;let S=n>0&&this.getParsed(n-1);for(let C=0;C<w;++C){const _=e[C],T=v?_:{};if(C<n||C>=x){T.skip=!0;continue}const A=this.getParsed(C),E=de(A[f]),N=T[h]=a.getPixelForValue(A[h],C),I=T[f]=s||E?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,A,l):A[f],C);T.skip=isNaN(N)||isNaN(I)||E,T.stop=C>0&&Math.abs(A[h]-S[h])>b,y&&(T.parsed=A,T.raw=c.data[C]),d&&(T.options=u||this.resolveDataElementOptions(C,_.active?"active":r)),v||this.updateElement(_,C,T,r),S=A}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}D(_c,"id","line"),D(_c,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),D(_c,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Cc extends pi{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=ol(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return q_.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,n,i,r){const s=r==="reset",a=this.chart,l=a.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*fe;let f=h,m;const y=360/this.countVisibleElements();for(m=0;m<n;++m)f+=this._computeAngle(m,r,y);for(m=n;m<n+i;m++){const b=e[m];let v=f,x=f+this._computeAngle(m,r,y),w=a.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=x,s&&(l.animateScale&&(w=0),l.animateRotate&&(v=x=h));const S={x:u,y:d,innerRadius:0,outerRadius:w,startAngle:v,endAngle:x,options:this.resolveDataElementOptions(m,b.active?"active":r)};this.updateElement(b,m,S,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?kn(this.resolveDataElementOptions(e,n).angle||i):0}}D(Cc,"id","polarArea"),D(Cc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),D(Cc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Pf extends Ds{}D(Pf,"id","pie"),D(Pf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ac extends pi{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return q_.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===r.length,options:a};this.updateElement(i,void 0,o,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,a=r==="reset";for(let o=n;o<n+i;o++){const l=e[o],c=this.resolveDataElementOptions(o,l.active?"active":r),u=s.getPointPositionForValue(o,this.getParsed(o).r),d=a?s.xCenter:u.x,h=a?s.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,o,f,r)}}}D(Ac,"id","radar"),D(Ac,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),D(Ac,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function vr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Hg{constructor(e){D(this,"options");this.options=e||{}}static override(e){Object.assign(Hg.prototype,e)}init(){}formats(){return vr()}parse(){return vr()}format(){return vr()}add(){return vr()}diff(){return vr()}startOf(){return vr()}endOf(){return vr()}}var zz={_date:Hg};function Uz(t,e,n,i){const{controller:r,data:s,_sorted:a}=t,o=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?l$:Or;if(i){if(r._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(s,e,n-d),f=c(s,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:d}=r._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(y=>!de(y[d.axis]));u.lo-=Math.max(0,f);const m=h.slice(u.hi).findIndex(y=>!de(y[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function ll(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:d,hi:h}=Uz(s[o],e,a,r);for(let f=d;f<=h;++f){const m=u[f];m.skip||i(m,c,f)}}}function Bz(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Hp(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||ll(t,n,e,function(o,l,c){!r&&!oi(o,t.chartArea,0)||o.inRange(e.x,e.y,i)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function Vz(t,e,n,i){let r=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],i),{angle:d}=I_(a,{x:e.x,y:e.y});Bo(d,c,u)&&r.push({element:a,datasetIndex:o,index:l})}return ll(t,n,e,s),r}function qz(t,e,n,i,r,s){let a=[];const o=Bz(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,r);if(i&&!f)return;const m=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(m))&&!f)return;const b=o(e,m);b<l?(a=[{element:u,datasetIndex:d,index:h}],l=b):b===l&&a.push({element:u,datasetIndex:d,index:h})}return ll(t,n,e,c),a}function Wp(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?Vz(t,e,n,r):qz(t,e,n,i,r,s)}function Rx(t,e,n,i,r){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return ll(t,n,e,(l,c,u)=>{l[a]&&l[a](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,r))}),i&&!o?[]:s}var Hz={evaluateInteractionItems:ll,modes:{index(t,e,n,i){const r=Ar(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Hp(t,r,s,i,a):Wp(t,r,s,!1,i,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=Ar(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Hp(t,r,s,i,a):Wp(t,r,s,!1,i,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,n,i){const r=Ar(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return Hp(t,r,s,i,a)},nearest(t,e,n,i){const r=Ar(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return Wp(t,r,s,n.intersect,i,a)},x(t,e,n,i){const r=Ar(e,t);return Rx(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Ar(e,t);return Rx(t,r,"y",n.intersect,i)}}};const t2=["left","top","right","bottom"];function Pa(t,e){return t.filter(n=>n.pos===e)}function Ix(t,e){return t.filter(n=>t2.indexOf(n.pos)===-1&&n.box.axis===e)}function Ea(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Wz(t){const e=[];let n,i,r,s,a,o;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:o});return e}function Kz(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!t2.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function Qz(t,e){const n=Kz(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=n[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*i:l&&e.availableWidth,o.height=r):(o.width=i,o.height=u?u*r:l&&e.availableHeight)}return n}function Xz(t){const e=Wz(t),n=Ea(e.filter(c=>c.box.fullSize),!0),i=Ea(Pa(e,"left"),!0),r=Ea(Pa(e,"right")),s=Ea(Pa(e,"top"),!0),a=Ea(Pa(e,"bottom")),o=Ix(e,"x"),l=Ix(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(a).concat(o),chartArea:Pa(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(a).concat(o)}}function Dx(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function n2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Yz(t,e,n,i){const{pos:r,box:s}=n,a=t.maxPadding;if(!le(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&n2(a,s.getPadding());const o=Math.max(0,e.outerWidth-Dx(a,t,"left","right")),l=Math.max(0,e.outerHeight-Dx(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Jz(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Zz(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return i(t?["left","right"]:["top","bottom"])}function Ba(t,e,n,i){const r=[];let s,a,o,l,c,u;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,Zz(o.horizontal,e));const{same:d,other:h}=Yz(e,n,o,i);c|=d&&r.length,u=u||h,l.fullSize||r.push(o)}return c&&Ba(r,e,n,i)||u}function Yl(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function Mx(t,e,n,i){const r=n.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=i[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,h=c.size||l.height;zo(c.start)&&(a=c.start),l.fullSize?Yl(l,r.left,a,n.outerWidth-r.right-r.left,h):Yl(l,e.left+c.placed,a,d,h),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,h=c.size||l.width;zo(c.start)&&(s=c.start),l.fullSize?Yl(l,s,r.top,h,n.outerHeight-r.bottom-r.top):Yl(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var dn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=_t(t.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(n-r.height,0),o=Xz(t.boxes),l=o.vertical,c=o.horizontal;ve(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},r);n2(h,_t(i));const f=Object.assign({maxPadding:h,w:s,h:a,x:r.left,y:r.top},r),m=Qz(l.concat(c),d);Ba(o.fullSize,f,d,m),Ba(l,f,d,m),Ba(c,f,d,m)&&Ba(l,f,d,m),Jz(f),Mx(o.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,Mx(o.rightAndBottom,f,d,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ve(o.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class i2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Gz extends i2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tc="$chartjs",eU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ox=t=>t===null||t==="";function tU(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Tc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ox(r)){const s=vx(t,"width");s!==void 0&&(t.width=s)}if(Ox(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=vx(t,"height");s!==void 0&&(t.height=s)}return t}const r2=iz?{passive:!0}:!1;function nU(t,e,n){t&&t.addEventListener(e,n,r2)}function iU(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,r2)}function rU(t,e){const n=eU[t.type]||t.type,{x:i,y:r}=Ar(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Iu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function sU(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Iu(o.addedNodes,i),a=a&&!Iu(o.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function aU(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Iu(o.removedNodes,i),a=a&&!Iu(o.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const qo=new Map;let Lx=0;function s2(){const t=window.devicePixelRatio;t!==Lx&&(Lx=t,qo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oU(t,e){qo.size||window.addEventListener("resize",s2),qo.set(t,e)}function lU(t){qo.delete(t),qo.size||window.removeEventListener("resize",s2)}function cU(t,e,n){const i=t.canvas,r=i&&qg(i);if(!r)return;const s=L_((o,l)=>{const c=r.clientWidth;n(o,l),c<r.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(r),oU(t,s),a}function Kp(t,e,n){n&&n.disconnect(),e==="resize"&&lU(t)}function uU(t,e,n){const i=t.canvas,r=L_(s=>{t.ctx!==null&&n(rU(s,t))},t);return nU(i,e,r),r}class dU extends i2{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(tU(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Tc])return!1;const i=n[Tc].initial;["height","width"].forEach(s=>{const a=i[s];de(a)?n.removeAttribute(s):n.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Tc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:sU,detach:aU,resize:cU}[n]||uU;r[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Kp,detach:Kp,resize:Kp}[n]||iU)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return nz(e,n,i,r)}isAttached(e){const n=e&&qg(e);return!!(n&&n.isConnected)}}function pU(t){return!Vg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Gz:dU}var rc;let wi=(rc=class{constructor(){D(this,"x");D(this,"y");D(this,"active",!1);D(this,"options");D(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Uo(this.x)&&Uo(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},D(rc,"defaults",{}),D(rc,"defaultRoutes"),rc);function hU(t,e){const n=t.options.ticks,i=fU(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?gU(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>r)return yU(e,c,s,a/r),c;const u=mU(s,e,r);if(a>0){let d,h;const f=a>1?Math.round((l-o)/(a-1)):null;for(Jl(e,c,u,de(f)?0:o-f,o),d=0,h=a-1;d<h;d++)Jl(e,c,u,s[d],s[d+1]);return Jl(e,c,u,l,de(f)?e.length:l+f),c}return Jl(e,c,u),c}function fU(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function mU(t,e,n){const i=vU(t),r=e.length/n;if(!i)return Math.max(r,1);const s=i$(i);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>r)return l}return Math.max(r,1)}function gU(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function yU(t,e,n,i){let r=0,s=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===s&&(e.push(t[a]),r++,s=n[r*i])}function Jl(t,e,n,i,r){const s=ie(i,0),a=Math.min(ie(r,t.length),t.length);let o=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)o++,u=Math.round(s+o*n);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(s+o*n))}function vU(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const xU=t=>t==="left"?"right":t==="right"?"left":t,jx=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Fx=(t,e)=>Math.min(e||t,t);function $x(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function bU(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-o||l>a+o)))return l}function wU(t,e){ve(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Ra(t){return t.drawTicks?t.tickLength:0}function zx(t,e){if(!t.display)return 0;const n=rt(t.font,e),i=_t(t.padding);return(Pe(t.text)?t.text.length:1)*n.lineHeight+i.height}function kU(t,e){return hr(t,{scale:e,type:"scale"})}function SU(t,e,n){return hr(t,{tick:n,index:e,type:"tick"})}function _U(t,e,n){let i=jg(t);return(n&&e!=="right"||!n&&e==="right")&&(i=xU(i)),i}function CU(t,e,n,i){const{top:r,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,m;const y=a-r,b=o-s;if(t.isHorizontal()){if(f=yt(i,s,o),le(n)){const v=Object.keys(n)[0],x=n[v];m=u[v].getPixelForValue(x)+y-e}else n==="center"?m=(c.bottom+c.top)/2+y-e:m=jx(t,n,e);h=o-s}else{if(le(n)){const v=Object.keys(n)[0],x=n[v];f=u[v].getPixelForValue(x)-b+e}else n==="center"?f=(c.left+c.right)/2-b+e:f=jx(t,n,e);m=yt(i,a,r),d=n==="left"?-Ke:Ke}return{titleX:f,titleY:m,maxWidth:h,rotation:d}}class ss extends wi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Wt(e,Number.POSITIVE_INFINITY),n=Wt(n,Number.NEGATIVE_INFINITY),i=Wt(i,Number.POSITIVE_INFINITY),r=Wt(r,Number.NEGATIVE_INFINITY),{min:Wt(e,i),max:Wt(n,r),minDefined:Ve(e),maxDefined:Ve(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),s||(i=Math.max(i,a.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Wt(n,Wt(i,n)),max:Wt(i,Wt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ce(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=M$(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?$x(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=hU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ce(this.options.afterUpdate,[this])}beforeSetDimensions(){Ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ce(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ce(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Ce(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Fx(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let a=r,o,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=kt(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/i:f/(i-1),d+6>o&&(o=f/(i-(e.offset?.5:1)),l=this.maxHeight-Ra(e.grid)-n.padding-zx(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),a=Og(Math.min(Math.asin(kt((u.highest.height+6)/o,-1,1)),Math.asin(kt(l/c,-1,1))-Math.asin(kt(h/c,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ce(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=zx(r,n.options.font);if(o?(e.width=this.maxWidth,e.height=Ra(s)+l):(e.height=this.maxHeight,e.width=Ra(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,m=kn(this.labelRotation),y=Math.cos(m),b=Math.sin(m);if(o){const v=i.mirror?0:b*d.width+y*h.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{const v=i.mirror?0:y*d.width+b*h.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(c,u,b,y)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=r*e.width,f=i*n.height):(h=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+a)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ce(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)de(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=$x(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/Fx(n,i));let c=0,u=0,d,h,f,m,y,b,v,x,w,S,C;for(d=0;d<n;d+=l){if(m=e[d].label,y=this._resolveTickFontOptions(d),r.font=b=y.string,v=s[b]=s[b]||{data:{},gc:[]},x=y.lineHeight,w=S=0,!de(m)&&!Pe(m))w=Eu(r,v.data,v.gc,w,m),S=x;else if(Pe(m))for(h=0,f=m.length;h<f;++h)C=m[h],!de(C)&&!Pe(C)&&(w=Eu(r,v.data,v.gc,w,C),S+=x);a.push(w),o.push(S),c=Math.max(w,c),u=Math.max(S,u)}wU(s,n);const _=a.indexOf(c),T=o.indexOf(u),A=E=>({width:a[E]||0,height:o[E]||0});return{first:A(0),last:A(n-1),widest:A(_),highest:A(T),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return o$(this._alignToPixels?yr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=SU(this.getContext(),e,i))}return this.$context||(this.$context=kU(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=kn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*i>o*r?o/i:l/r:l*r<o*i?l/i:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:o}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Ra(s),f=[],m=o.setContext(this.getContext()),y=m.display?m.width:0,b=y/2,v=function(Q){return yr(i,Q,y)};let x,w,S,C,_,T,A,E,N,I,j,B;if(a==="top")x=v(this.bottom),T=this.bottom-h,E=x-b,I=v(e.top)+b,B=e.bottom;else if(a==="bottom")x=v(this.top),I=e.top,B=v(e.bottom)-b,T=x+b,E=this.top+h;else if(a==="left")x=v(this.right),_=this.right-h,A=x-b,N=v(e.left)+b,j=e.right;else if(a==="right")x=v(this.left),N=e.left,j=v(e.right)-b,_=x+b,A=this.left+h;else if(n==="x"){if(a==="center")x=v((e.top+e.bottom)/2+.5);else if(le(a)){const Q=Object.keys(a)[0],Y=a[Q];x=v(this.chart.scales[Q].getPixelForValue(Y))}I=e.top,B=e.bottom,T=x+b,E=T+h}else if(n==="y"){if(a==="center")x=v((e.left+e.right)/2);else if(le(a)){const Q=Object.keys(a)[0],Y=a[Q];x=v(this.chart.scales[Q].getPixelForValue(Y))}_=x-b,A=_-h,N=e.left,j=e.right}const q=ie(r.ticks.maxTicksLimit,d),H=Math.max(1,Math.ceil(d/q));for(w=0;w<d;w+=H){const Q=this.getContext(w),Y=s.setContext(Q),P=o.setContext(Q),R=Y.lineWidth,L=Y.color,$=P.dash||[],se=P.dashOffset,Ge=Y.tickWidth,ke=Y.tickColor,Ct=Y.tickBorderDash||[],ye=Y.tickBorderDashOffset;S=bU(this,w,l),S!==void 0&&(C=yr(i,S,R),c?_=A=N=j=C:T=E=I=B=C,f.push({tx1:_,ty1:T,tx2:A,ty2:E,x1:N,y1:I,x2:j,y2:B,width:R,color:L,borderDash:$,borderDashOffset:se,tickWidth:Ge,tickColor:ke,tickBorderDash:Ct,tickBorderDashOffset:ye}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=Ra(i.grid),f=h+u,m=d?-u:f,y=-kn(this.labelRotation),b=[];let v,x,w,S,C,_,T,A,E,N,I,j,B="middle";if(r==="top")_=this.bottom-m,T=this._getXAxisLabelAlignment();else if(r==="bottom")_=this.top+m,T=this._getXAxisLabelAlignment();else if(r==="left"){const H=this._getYAxisLabelAlignment(h);T=H.textAlign,C=H.x}else if(r==="right"){const H=this._getYAxisLabelAlignment(h);T=H.textAlign,C=H.x}else if(n==="x"){if(r==="center")_=(e.top+e.bottom)/2+f;else if(le(r)){const H=Object.keys(r)[0],Q=r[H];_=this.chart.scales[H].getPixelForValue(Q)+f}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")C=(e.left+e.right)/2-f;else if(le(r)){const H=Object.keys(r)[0],Q=r[H];C=this.chart.scales[H].getPixelForValue(Q)}T=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?B="top":l==="end"&&(B="bottom"));const q=this._getLabelSizes();for(v=0,x=o.length;v<x;++v){w=o[v],S=w.label;const H=s.setContext(this.getContext(v));A=this.getPixelForTick(v)+s.labelOffset,E=this._resolveTickFontOptions(v),N=E.lineHeight,I=Pe(S)?S.length:1;const Q=I/2,Y=H.color,P=H.textStrokeColor,R=H.textStrokeWidth;let L=T;a?(C=A,T==="inner"&&(v===x-1?L=this.options.reverse?"left":"right":v===0?L=this.options.reverse?"right":"left":L="center"),r==="top"?c==="near"||y!==0?j=-I*N+N/2:c==="center"?j=-q.highest.height/2-Q*N+N:j=-q.highest.height+N/2:c==="near"||y!==0?j=N/2:c==="center"?j=q.highest.height/2-Q*N:j=q.highest.height-I*N,d&&(j*=-1),y!==0&&!H.showLabelBackdrop&&(C+=N/2*Math.sin(y))):(_=A,j=(1-I)*N/2);let $;if(H.showLabelBackdrop){const se=_t(H.backdropPadding),Ge=q.heights[v],ke=q.widths[v];let Ct=j-se.top,ye=0-se.left;switch(B){case"middle":Ct-=Ge/2;break;case"bottom":Ct-=Ge;break}switch(T){case"center":ye-=ke/2;break;case"right":ye-=ke;break;case"inner":v===x-1?ye-=ke:v>0&&(ye-=ke/2);break}$={left:ye,top:Ct,width:ke+se.width,height:Ge+se.height,color:H.backdropColor}}b.push({label:S,font:E,textOffset:j,options:{rotation:y,color:Y,strokeColor:P,strokeWidth:R,textAlign:L,textBaseline:B,translation:[C,_],backdrop:$}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-kn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,a=r.length;s<a;++s){const l=r[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=yr(e,this.left,a)-a/2,u=yr(e,this.right,o)+o/2,d=h=l):(d=yr(e,this.top,a)-a/2,h=yr(e,this.bottom,o)+o/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Td(i,r);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;Xr(i,c,0,u,l,o)}r&&Nd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=rt(i.font),a=_t(i.padding),o=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||le(n)?(l+=a.bottom,Pe(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=CU(this,l,n,o);Xr(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:h,textAlign:_U(o,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ie(e.grid&&e.grid.z,-1),r=ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ss.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[i]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return rt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Zl{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;NU(n)&&(i=this.register(n));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,AU(e,a,i),this.override&&qe.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in qe[r]&&(delete qe[r][i],this.override&&delete Qr[i])}}function AU(t,e,n){const i=$o(Object.create(null),[n?qe.get(n):{},qe.get(e),t.defaults]);qe.set(e,i),t.defaultRoutes&&TU(e,t.defaultRoutes),t.descriptors&&qe.describe(e,t.descriptors)}function TU(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");qe.route(s,r,l,o)})}function NU(t){return"id"in t&&"defaults"in t}class PU{constructor(){this.controllers=new Zl(pi,"datasets",!0),this.elements=new Zl(wi,"elements"),this.plugins=new Zl(Object,"plugins"),this.scales=new Zl(ss,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ve(r,a=>{const o=i||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,i){const r=Mg(e);Ce(i["before"+r],[],i),n[e](i),Ce(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var jn=new PU;class EU{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,i,r){r=r||{};for(const s of e){const a=s.plugin,o=a[i],l=[n,r,s.options];if(Ce(o,l,a)===!1&&r.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=ie(i.options&&i.options.plugins,{}),s=RU(i);return r===!1&&!n?[]:DU(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function RU(t){const e={},n=[],i=Object.keys(jn.plugins.items);for(let s=0;s<i.length;s++)n.push(jn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function IU(t,e){return!e&&t===!1?null:t===!0?{}:t}function DU(t,{plugins:e,localIds:n},i,r){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=IU(i[l],r);c!==null&&s.push({plugin:o,options:MU(t.config,{plugin:o,local:n[l]},c,a)})}return s}function MU(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(i,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ef(t,e){const n=qe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function OU(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function LU(t,e){return t===e?"_index_":"_value_"}function Ux(t){if(t==="x"||t==="y"||t==="r")return t}function jU(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Rf(t,...e){if(Ux(t))return t;for(const n of e){const i=n.axis||jU(n.position)||t.length>1&&Ux(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Bx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function FU(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Bx(t,"x",n[0])||Bx(t,"y",n[0])}return{}}function $U(t,e){const n=Qr[t.type]||{scales:{}},i=e.scales||{},r=Ef(t.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!le(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=Rf(a,o,FU(a,t),qe.scales[o.type]),c=LU(l,r),u=n.scales||{};s[a]=oo(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||Ef(o,e),u=(Qr[o]||{}).scales||{};Object.keys(u).forEach(d=>{const h=OU(d,l),f=a[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),oo(s[f],[{axis:h},i[f],u[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];oo(o,[qe.scales[o.type],qe.scale])}),s}function a2(t){const e=t.options||(t.options={});e.plugins=ie(e.plugins,{}),e.scales=$U(t,e)}function o2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function zU(t){return t=t||{},t.data=o2(t.data),a2(t),t}const Vx=new Map,l2=new Set;function Gl(t,e){let n=Vx.get(t);return n||(n=e(),Vx.set(t,n),l2.add(n)),n}const Ia=(t,e,n)=>{const i=nr(e,n);i!==void 0&&t.add(i)};class UU{constructor(e){this._config=zU(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=o2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),a2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Gl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Gl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Gl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Gl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),o=a.get(n);if(o)return o;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Ia(l,e,d))),u.forEach(d=>Ia(l,r,d)),u.forEach(d=>Ia(l,Qr[s]||{},d)),u.forEach(d=>Ia(l,qe,d)),u.forEach(d=>Ia(l,Tf,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),l2.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Qr[n]||{},qe.datasets[n]||{},{type:n},qe,Tf]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=qx(this._resolverCache,e,r);let l=a;if(VU(a,n)){s.$shared=!1,i=ir(i)?i():i;const c=this.createResolver(e,i,o);l=ta(a,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=qx(this._resolverCache,e,i);return le(n)?ta(s,n,void 0,r):s}}function qx(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:zg(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(r,s)),s}const BU=t=>le(t)&&Object.getOwnPropertyNames(t).some(e=>ir(t[e]));function VU(t,e){const{isScriptable:n,isIndexable:i}=z_(t);for(const r of e){const s=n(r),a=i(r),o=(a||s)&&t[r];if(s&&(ir(o)||BU(o))||a&&Pe(o))return!0}return!1}var qU="4.5.0";const HU=["top","bottom","left","right","chartArea"];function Hx(t,e){return t==="top"||t==="bottom"||HU.indexOf(t)===-1&&e==="x"}function Wx(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Kx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ce(n&&n.onComplete,[t],e)}function WU(t){const e=t.chart,n=e.options.animation;Ce(n&&n.onProgress,[t],e)}function c2(t){return Vg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Nc={},Qx=t=>{const e=c2(t);return Object.values(Nc).filter(n=>n.canvas===e).pop()};function KU(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const a=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=a)}}}function QU(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var Si;let cl=(Si=class{static register(...e){jn.add(...e),Xx()}static unregister(...e){jn.remove(...e),Xx()}constructor(e,n){const i=this.config=new UU(n),r=c2(e),s=Qx(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||pU(r)),this.platform.updateConfig(i);const o=this.platform.acquireContext(r,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Q6(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new EU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=d$(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],Nc[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Yn.listen(this,"complete",Kx),Yn.listen(this,"progress",WU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return de(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return jn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fx(this.canvas,this.ctx),this}stop(){return Yn.stop(this),this}resize(e,n){Yn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,s),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,yx(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Ce(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ve(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=Rf(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ve(s,a=>{const o=a.options,l=o.id,c=Rf(l,o),u=ie(o.type,a.dtype);(o.position===void 0||Hx(o.position,c)!==Hx(a.dposition))&&(o.position=a.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const h=jn.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(o,e)}),ve(r,(a,o)=>{a||delete i[o]}),ve(i,a=>{dn.configure(this,a,a.options),dn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Wx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let a=this.getDatasetMeta(i);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=s.indexAxis||Ef(o,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=jn.getController(o),{datasetElementType:c,dataElementType:u}=qe.datasets[o];Object.assign(l,{dataElementType:jn.getElement(u),datasetElementType:c&&jn.getElement(c)}),a.controller=new l(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ve(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||ve(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Wx("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){ve(this.scales,e=>{dn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!sx(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const a=i==="_removeElements"?-s:s;KU(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!sx(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;dn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ve(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ir(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yn.has(this)?this.attached&&!Yn.running(this)&&Yn.start(this):(this.draw(),Kx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const a=n[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=J_(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Td(n,r),e.controller.draw(),r&&Nd(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return oi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=Hz.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=hr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);zo(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Yn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),fx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},r=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};ve(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){ve(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ve(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Tu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=s(n,e),o=i?e:s(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,a=n,o=this._getActiveElements(e,r,i,a),l=e$(e),c=QU(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Ce(s.onHover,[e,o,this],this),l&&Ce(s.onClick,[e,o,this],this));const u=!Tu(o,r);return(u||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},D(Si,"defaults",qe),D(Si,"instances",Nc),D(Si,"overrides",Qr),D(Si,"registry",jn),D(Si,"version",qU),D(Si,"getChart",Qx),Si);function Xx(){return ve(cl.instances,t=>t._plugins.invalidate())}function XU(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/a,vt(i-n));if(t.beginPath(),t.arc(r,s,a-c/2,i+d/2,n-d/2),o>0){const h=Math.min(c/o,vt(i-n));t.arc(r,s,o+c/2,n-h/2,i+h/2,!0)}else{const h=Math.min(c/2,a*vt(i-n));if(u==="round")t.arc(r,s,h,n-fe/2,i+fe/2,!0);else if(u==="bevel"){const f=2*h*h,m=-f*Math.cos(n+fe/2)+r,y=-f*Math.sin(n+fe/2)+s,b=f*Math.cos(i+fe/2)+r,v=f*Math.sin(i+fe/2)+s;t.lineTo(m,y),t.lineTo(b,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function YU(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=r/o;t.beginPath(),t.arc(s,a,o,i-c,n+c),l>r?(c=r/l,t.arc(s,a,l,n+c,i-c,!0)):t.arc(s,a,r,n+Ke,i-Ke),t.closePath(),t.clip()}function JU(t){return $g(t,["outerStart","outerEnd","innerStart","innerEnd"])}function ZU(t,e,n,i){const r=JU(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,i*e/2),o=l=>{const c=(n-Math.min(s,l))*i/2;return kt(l,0,Math.min(s,c))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:kt(r.innerStart,0,a),innerEnd:kt(r.innerEnd,0,a)}}function hs(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Du(t,e,n,i,r,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0;let f=0;const m=r-l;if(i){const H=u>0?u-i:0,Q=d>0?d-i:0,Y=(H+Q)/2,P=Y!==0?m*Y/(Y+i):m;f=(m-P)/2}const y=Math.max(.001,m*d-n/fe)/d,b=(m-y)/2,v=l+b+f,x=r-b-f,{outerStart:w,outerEnd:S,innerStart:C,innerEnd:_}=ZU(e,h,d,x-v),T=d-w,A=d-S,E=v+w/T,N=x-S/A,I=h+C,j=h+_,B=v+C/I,q=x-_/j;if(t.beginPath(),s){const H=(E+N)/2;if(t.arc(a,o,d,E,H),t.arc(a,o,d,H,N),S>0){const R=hs(A,N,a,o);t.arc(R.x,R.y,S,N,x+Ke)}const Q=hs(j,x,a,o);if(t.lineTo(Q.x,Q.y),_>0){const R=hs(j,q,a,o);t.arc(R.x,R.y,_,x+Ke,q+Math.PI)}const Y=(x-_/h+(v+C/h))/2;if(t.arc(a,o,h,x-_/h,Y,!0),t.arc(a,o,h,Y,v+C/h,!0),C>0){const R=hs(I,B,a,o);t.arc(R.x,R.y,C,B+Math.PI,v-Ke)}const P=hs(T,v,a,o);if(t.lineTo(P.x,P.y),w>0){const R=hs(T,E,a,o);t.arc(R.x,R.y,w,v-Ke,E)}}else{t.moveTo(a,o);const H=Math.cos(E)*d+a,Q=Math.sin(E)*d+o;t.lineTo(H,Q);const Y=Math.cos(N)*d+a,P=Math.sin(N)*d+o;t.lineTo(Y,P)}t.closePath()}function GU(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){Du(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(o)||(l=a+(o%Re||Re))}return Du(t,e,n,i,l,r),t.fill(),l}function eB(t,e,n,i,r){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let y=e.endAngle;if(s){Du(t,e,n,i,y,r);for(let b=0;b<s;++b)t.stroke();isNaN(o)||(y=a+(o%Re||Re))}m&&YU(t,e,y),l.selfJoin&&y-a>=fe&&f===0&&u!=="miter"&&XU(t,e,y),s||(Du(t,e,n,i,y,r),t.stroke())}class Va extends wi{constructor(n){super();D(this,"circumference");D(this,"endAngle");D(this,"fullCircles");D(this,"innerRadius");D(this,"outerRadius");D(this,"pixelMargin");D(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:a,distance:o}=I_(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,m=ie(h,c-l),y=Bo(a,l,c)&&l!==c,b=m>=Re||y,v=ai(o,u+f,d+f);return b&&v}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+a)/2,h=(o+l+u+c)/2;return{x:i+Math.cos(d)*h,y:r+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,a=(i.spacing||0)/2,o=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Re?Math.floor(r/Re):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(fe,r||0)),u=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,GU(n,this,u,a,o),eB(n,this,u,a,o),n.restore()}}D(Va,"id","arc"),D(Va,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),D(Va,"defaultRoutes",{backgroundColor:"backgroundColor"}),D(Va,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function u2(t,e,n=e){t.lineCap=ie(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ie(n.borderDash,e.borderDash)),t.lineDashOffset=ie(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ie(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ie(n.borderWidth,e.borderWidth),t.strokeStyle=ie(n.borderColor,e.borderColor)}function tB(t,e,n){t.lineTo(n.x,n.y)}function nB(t){return t.stepped?C$:t.tension||t.cubicInterpolationMode==="monotone"?A$:tB}function d2(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:a,end:o}=e,l=Math.max(r,a),c=Math.min(s,o),u=r<a&&s<a||r>o&&s>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function iB(t,e,n,i){const{points:r,options:s}=e,{count:a,start:o,loop:l,ilen:c}=d2(r,n,i),u=nB(s);let{move:d=!0,reverse:h}=i||{},f,m,y;for(f=0;f<=c;++f)m=r[(o+(h?c-f:f))%a],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,y,m,h,s.stepped),y=m);return l&&(m=r[(o+(h?c:0))%a],u(t,y,m,h,s.stepped)),!!l}function rB(t,e,n,i){const r=e.points,{count:s,start:a,ilen:o}=d2(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,h,f,m,y,b,v;const x=S=>(a+(c?o-S:S))%s,w=()=>{y!==b&&(t.lineTo(u,b),t.lineTo(u,y),t.lineTo(u,v))};for(l&&(f=r[x(0)],t.moveTo(f.x,f.y)),h=0;h<=o;++h){if(f=r[x(h)],f.skip)continue;const S=f.x,C=f.y,_=S|0;_===m?(C<y?y=C:C>b&&(b=C),u=(d*u+S)/++d):(w(),t.lineTo(S,C),m=_,d=0,y=b=C),v=C}w()}function If(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?rB:iB}function sB(t){return t.stepped?rz:t.tension||t.cubicInterpolationMode==="monotone"?sz:Tr}function aB(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),u2(t,e.options),t.stroke(r)}function oB(t,e,n,i){const{segments:r,options:s}=e,a=If(e);for(const o of r)u2(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const lB=typeof Path2D=="function";function cB(t,e,n,i){lB&&!e.options.segment?aB(t,e,n,i):oB(t,e,n,i)}class li extends wi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Y$(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dz(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,a=Y_(this,{property:n,start:r,end:r});if(!a.length)return;const o=[],l=sB(i);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:h}=a[c],f=s[d],m=s[h];if(f===m){o.push(f);continue}const y=Math.abs((r-f[n])/(m[n]-f[n])),b=l(f,m,y,i.stepped);b[n]=e[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,n,i){return If(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=If(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const o of r)a&=s(e,this,o,{start:n,end:n+i-1});return!!a}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),cB(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}D(li,"id","line"),D(li,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),D(li,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),D(li,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Yx(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class po extends wi{constructor(n){super();D(this,"parsed");D(this,"skip");D(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(i-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return Yx(this,n,"x",i)}inYRange(n,i){return Yx(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!oi(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Nf(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}D(po,"id","point"),D(po,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),D(po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function p2(t,e){const{x:n,y:i,base:r,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=a/2,o=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=s/2,o=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:o,top:c,right:l,bottom:u}}function Fi(t,e,n,i){return t?0:kt(e,n,i)}function uB(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=$_(i);return{t:Fi(r.top,s.top,0,n),r:Fi(r.right,s.right,0,e),b:Fi(r.bottom,s.bottom,0,n),l:Fi(r.left,s.left,0,e)}}function dB(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=zr(r),a=Math.min(e,n),o=t.borderSkipped,l=i||le(r);return{topLeft:Fi(!l||o.top||o.left,s.topLeft,0,a),topRight:Fi(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Fi(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Fi(!l||o.bottom||o.right,s.bottomRight,0,a)}}function pB(t){const e=p2(t),n=e.right-e.left,i=e.bottom-e.top,r=uB(t,n/2,i/2),s=dB(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Qp(t,e,n,i){const r=e===null,s=n===null,o=t&&!(r&&s)&&p2(t,i);return o&&(r||ai(e,o.left,o.right))&&(s||ai(n,o.top,o.bottom))}function hB(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function fB(t,e){t.rect(e.x,e.y,e.w,e.h)}function Xp(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+a,radius:t.radius}}class Pc extends wi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=pB(this),o=hB(a.radius)?Vo:fB;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,Xp(a,n,s)),e.clip(),o(e,Xp(s,-n,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),o(e,Xp(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Qp(this,e,n,i)}inXRange(e,n){return Qp(this,e,null,n)}inYRange(e,n){return Qp(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}D(Pc,"id","bar"),D(Pc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),D(Pc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function mB(t,e,n){const i=t.segments,r=t.points,s=e.points,a=[];for(const o of i){let{start:l,end:c}=o;c=Ed(l,c,r);const u=Df(n,r[l],r[c],o.loop);if(!e.segments){a.push({source:o,target:u,start:r[l],end:r[c]});continue}const d=Y_(e,u);for(const h of d){const f=Df(n,s[h.start],s[h.end],h.loop),m=X_(o,r,f);for(const y of m)a.push({source:y,target:h,start:{[n]:Jx(u,f,"start",Math.max)},end:{[n]:Jx(u,f,"end",Math.min)}})}}return a}function Df(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=vt(r),s=vt(s)),{property:t,start:r,end:s}}function gB(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=Ed(a,o,r);const l=r[a],c=r[o];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function Ed(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Jx(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function h2(t,e){let n=[],i=!1;return Pe(t)?(i=!0,n=t):n=gB(t,e),n.length?new li({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Zx(t){return t&&t.fill!==!1}function yB(t,e,n){let r=t[e].fill;const s=[e];let a;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Ve(r))return r;if(a=t[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function vB(t,e,n){const i=kB(t);if(le(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ve(r)&&Math.floor(r)===r?xB(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function xB(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function bB(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:le(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function wB(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:le(t)?i=t.value:i=e.getBaseValue(),i}function kB(t){const e=t.options,n=e.fill;let i=ie(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function SB(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,a=i.points,o=_B(e,n);o.push(h2({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)CB(r,a[u],o)}return new li({points:r,options:{}})}function _B(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function CB(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:a,last:o,point:l}=AB(s,e,"x");if(!(!l||a&&o)){if(a)i.unshift(l);else if(t.push(l),!o)break}}t.push(...i)}function AB(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=a[u.start][n],h=a[u.end][n];if(ai(r,d,h)){o=r===d,l=r===h;break}}return{first:o,last:l,point:i}}class f2{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:a}=this;return n=n||{start:0,end:Re},e.arc(r,s,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function TB(t){const{chart:e,fill:n,line:i}=t;if(Ve(n))return NB(e,n);if(n==="stack")return SB(t);if(n==="shape")return!0;const r=PB(t);return r instanceof f2?r:h2(r,i)}function NB(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function PB(t){return(t.scale||{}).getPointPositionForValue?RB(t):EB(t)}function EB(t){const{scale:e={},fill:n}=t,i=bB(n,e);if(Ve(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function RB(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=wB(n,e,s),o=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new f2({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<r;++l)o.push(e.getPointPositionForValue(l,a));return o}function Yp(t,e,n){const i=TB(e),{chart:r,index:s,line:a,scale:o,axis:l}=e,c=a.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:f=d}=u||{},m=r.getDatasetMeta(s),y=J_(r,m);i&&a.points.length&&(Td(t,n),IB(t,{line:a,target:i,above:h,below:f,area:n,scale:o,axis:l,clip:y}),Nd(t))}function IB(t,e){const{line:n,target:i,above:r,below:s,area:a,scale:o,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=s;s!==r&&(c==="x"?(Gx(t,i,a.top),Jp(t,{line:n,target:i,color:r,scale:o,property:c,clip:l}),t.restore(),t.save(),Gx(t,i,a.bottom)):c==="y"&&(eb(t,i,a.left),Jp(t,{line:n,target:i,color:s,scale:o,property:c,clip:l}),t.restore(),t.save(),eb(t,i,a.right),u=r)),Jp(t,{line:n,target:i,color:u,scale:o,property:c,clip:l}),t.restore()}function Gx(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const o of i){const{start:l,end:c}=o,u=r[l],d=r[Ed(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function eb(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const o of i){const{start:l,end:c}=o,u=r[l],d=r[Ed(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(n,d.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Jp(t,e){const{line:n,target:i,property:r,color:s,scale:a,clip:o}=e,l=mB(n,i,r);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:f=s}={}}=c,m=i!==!0;t.save(),t.fillStyle=f,DB(t,a,o,m&&Df(r,d,h)),t.beginPath();const y=!!n.pathSegment(t,c);let b;if(m){y?t.closePath():tb(t,i,h,r);const v=!!i.pathSegment(t,u,{move:y,reverse:!0});b=y&&v,b||tb(t,i,d,r)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function DB(t,e,n,i){const r=e.chart.chartArea,{property:s,start:a,end:o}=i||{};if(s==="x"||s==="y"){let l,c,u,d;s==="x"?(l=a,c=r.top,u=o,d=r.bottom):(l=r.left,c=a,u=r.right,d=o),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),d=Math.min(d,n.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function tb(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var MB={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,a,o,l;for(a=0;a<i;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof li&&(l={visible:t.isDatasetVisible(a),index:a,fill:vB(o,a,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,r.push(l);for(a=0;a<i;++a)l=r[a],!(!l||l.fill===!1)&&(l.fill=yB(r,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=r.length-1;a>=0;--a){const o=r[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),i&&o.fill&&Yp(t.ctx,o,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;Zx(s)&&Yp(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Zx(i)||n.drawTime!=="beforeDatasetDraw"||Yp(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const nb=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},OB=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ib extends wi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ce(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=rt(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=nb(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,r,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+o;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((m,y)=>{const b=i+n/2+s.measureText(m.text).width;(y===0||c[c.length-1]+b+2*o>a)&&(d+=u,c[c.length-(y>0?0:1)]=0,f+=u,h++),l[y]={left:0,top:f,row:h,width:b,height:r},c[c.length-1]+=b+o}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,h=0,f=0,m=0,y=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:x,itemHeight:w}=LB(i,n,s,b,r);v>0&&f+w+2*o>u&&(d+=h+o,c.push({width:h,height:f}),m+=h+o,y++,h=f=0),l[v]={left:m,top:f,col:y,width:x,height:w},h=Math.max(h,x),f+=w+o}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Vs(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=yt(i,this.left+r,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=yt(i,this.left+r,this.right-this.lineWidths[o])),c.top+=this.top+e+r,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+r}else{let o=0,l=yt(i,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=yt(i,this.top+e+r,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+r,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Td(e,this),this._draw(),Nd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,o=qe.color,l=Vs(e.rtl,this.left,this.width),c=rt(a.font),{padding:u}=a,d=c.size,h=d/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:m,boxHeight:y,itemHeight:b}=nb(a,d),v=function(_,T,A){if(isNaN(m)||m<=0||isNaN(y)||y<0)return;r.save();const E=ie(A.lineWidth,1);if(r.fillStyle=ie(A.fillStyle,o),r.lineCap=ie(A.lineCap,"butt"),r.lineDashOffset=ie(A.lineDashOffset,0),r.lineJoin=ie(A.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=ie(A.strokeStyle,o),r.setLineDash(ie(A.lineDash,[])),a.usePointStyle){const N={radius:y*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:E},I=l.xPlus(_,m/2),j=T+h;F_(r,N,I,j,a.pointStyleWidth&&m)}else{const N=T+Math.max((d-y)/2,0),I=l.leftForLtr(_,m),j=zr(A.borderRadius);r.beginPath(),Object.values(j).some(B=>B!==0)?Vo(r,{x:I,y:N,w:m,h:y,radius:j}):r.rect(I,N,m,y),r.fill(),E!==0&&r.stroke()}r.restore()},x=function(_,T,A){Xr(r,A.text,_,T+b/2,c,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?f={x:yt(s,this.left+u,this.right-i[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:yt(s,this.top+S+u,this.bottom-n[0].height),line:0},W_(this.ctx,e.textDirection);const C=b+u;this.legendItems.forEach((_,T)=>{r.strokeStyle=_.fontColor,r.fillStyle=_.fontColor;const A=r.measureText(_.text).width,E=l.textAlign(_.textAlign||(_.textAlign=a.textAlign)),N=m+h+A;let I=f.x,j=f.y;l.setWidth(this.width),w?T>0&&I+N+u>this.right&&(j=f.y+=C,f.line++,I=f.x=yt(s,this.left+u,this.right-i[f.line])):T>0&&j+C>this.bottom&&(I=f.x=I+n[f.line].width+u,f.line++,j=f.y=yt(s,this.top+S+u,this.bottom-n[f.line].height));const B=l.x(I);if(v(B,j,_),I=p$(E,I+m+h,w?I+N:this.right,e.rtl),x(l.x(I),j,_),w)f.x+=N+u;else if(typeof _.text!="string"){const q=c.lineHeight;f.y+=m2(_,q)+u}else f.y+=C}),K_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=rt(n.font),r=_t(n.padding);if(!n.display)return;const s=Vs(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=i.size/2,c=r.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=yt(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);u=c+yt(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=yt(o,d,d+h);a.textAlign=s.textAlign(jg(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Xr(a,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=rt(e.font),i=_t(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(ai(e,this.left,this.right)&&ai(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ai(e,r.left,r.left+r.width)&&ai(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!$B(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=OB(r,i);r&&!s&&Ce(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Ce(n.onHover,[e,i,this],this)}else i&&Ce(n.onClick,[e,i,this],this)}}function LB(t,e,n,i,r){const s=jB(i,t,e,n),a=FB(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function jB(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+i.measureText(r).width}function FB(t,e,n){let i=t;return typeof e.text!="string"&&(i=m2(e,n)),i}function m2(t,e){const n=t.text?t.text.length:0;return e*n}function $B(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var g2={id:"legend",_element:ib,start(t,e,n){const i=t.legend=new ib({ctx:t.ctx,options:n,chart:t});dn.configure(t,i,n),dn.addBox(t,i)},stop(t){dn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;dn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=_t(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class y2 extends wi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Pe(i.text)?i.text.length:1;this._padding=_t(i.padding);const s=r*rt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=yt(o,i,s),d=n+e,c=s-i):(a.position==="left"?(u=i+e,d=yt(o,r,n),l=fe*-.5):(u=s-e,d=yt(o,n,r),l=fe*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=rt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);Xr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:jg(n.align),textBaseline:"middle",translation:[a,o]})}}function zB(t,e){const n=new y2({ctx:t.ctx,options:e,chart:t});dn.configure(t,n,e),dn.addBox(t,n),t.titleBlock=n}var v2={id:"title",_element:y2,start(t,e,n){zB(t,n)},stop(t){const e=t.titleBlock;dn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;dn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qa={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Af(e,c);u<r&&(r=u,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function On(t,e){return e&&(Pe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Jn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function UB(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:a,value:o}=s.getLabelAndValue(r);return{chart:t,label:a,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:o,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function rb(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=rt(e.bodyFont),c=rt(e.titleFont),u=rt(e.footerFont),d=s.length,h=r.length,f=i.length,m=_t(e.padding);let y=m.height,b=0,v=i.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const S=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;y+=f*S+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}h&&(y+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let x=0;const w=function(S){b=Math.max(b,n.measureText(S).width+x)};return n.save(),n.font=c.string,ve(t.title,w),n.font=l.string,ve(t.beforeBody.concat(t.afterBody),w),x=e.displayColors?a+2+e.boxPadding:0,ve(i,S=>{ve(S.before,w),ve(S.lines,w),ve(S.after,w)}),x=0,n.font=u.string,ve(t.footer,w),n.restore(),b+=m.width,{width:b,height:y}}function BB(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function VB(t,e,n,i){const{x:r,width:s}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&r+s+a>e.width||t==="right"&&r-s-a<0)return!0}function qB(t,e,n,i){const{x:r,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return i==="center"?c=r<=(o+l)/2?"left":"right":r<=s/2?c="left":r>=a-s/2&&(c="right"),VB(c,t,e,n)&&(c="center"),c}function sb(t,e,n){const i=n.yAlign||e.yAlign||BB(t,n);return{xAlign:n.xAlign||e.xAlign||qB(t,e,n,i),yAlign:i}}function HB(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function WB(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function ab(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=zr(a);let m=HB(e,o);const y=WB(e,l,c);return l==="center"?o==="left"?m+=c:o==="right"&&(m-=c):o==="left"?m-=Math.max(u,h)+r:o==="right"&&(m+=Math.max(d,f)+r),{x:kt(m,0,i.width-e.width),y:kt(y,0,i.height-e.height)}}function ec(t,e,n){const i=_t(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function ob(t){return On([],Jn(t))}function KB(t,e,n){return hr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function lb(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const x2={beforeTitle:Xn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Xn,beforeBody:Xn,beforeLabel:Xn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return de(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Xn,afterBody:Xn,beforeFooter:Xn,footer:Xn,afterFooter:Xn};function It(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?x2[e].call(n,i):r}class Mf extends wi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new Z_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=KB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=It(i,"beforeTitle",this,e),s=It(i,"title",this,e),a=It(i,"afterTitle",this,e);let o=[];return o=On(o,Jn(r)),o=On(o,Jn(s)),o=On(o,Jn(a)),o}getBeforeBody(e,n){return ob(It(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return ve(e,s=>{const a={before:[],lines:[],after:[]},o=lb(i,s);On(a.before,Jn(It(o,"beforeLabel",this,s))),On(a.lines,It(o,"label",this,s)),On(a.after,Jn(It(o,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,n){return ob(It(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=It(i,"beforeFooter",this,e),s=It(i,"footer",this,e),a=It(i,"afterFooter",this,e);let o=[];return o=On(o,Jn(r)),o=On(o,Jn(s)),o=On(o,Jn(a)),o}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(UB(this.chart,n[l]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,i))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,i))),ve(o,u=>{const d=lb(e.callbacks,u);r.push(It(d,"labelColor",this,u)),s.push(It(d,"labelPointStyle",this,u)),a.push(It(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const o=qa[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=rb(this,i),c=Object.assign({},o,l),u=sb(this.chart,i,c),d=ab(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=zr(o),{x:h,y:f}=e,{width:m,height:y}=n;let b,v,x,w,S,C;return s==="center"?(S=f+y/2,r==="left"?(b=h,v=b-a,w=S+a,C=S-a):(b=h+m,v=b+a,w=S-a,C=S+a),x=b):(r==="left"?v=h+Math.max(l,u)+a:r==="right"?v=h+m-Math.max(c,d)-a:v=this.caretX,s==="top"?(w=f,S=w-a,b=v-a,x=v+a):(w=f+y,S=w+a,b=v+a,x=v-a),C=w),{x1:b,x2:v,x3:x,y1:w,y2:S,y3:C}}drawTitle(e,n,i){const r=this.title,s=r.length;let a,o,l;if(s){const c=Vs(i.rtl,this.x,this.width);for(e.x=ec(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",a=rt(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,n,i,r,s){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=rt(s.bodyFont),d=ec(this,"left",s),h=r.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+f;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=r.leftForLtr(h,c)+c/2,v=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Nf(e,y,b,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Nf(e,y,b,v)}else{e.lineWidth=le(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=r.leftForLtr(h,c),b=r.leftForLtr(r.xPlus(h,1),c-2),v=zr(a.borderRadius);Object.values(v).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Vo(e,{x:y,y:m,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Vo(e,{x:b,y:m+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,m,c,l),e.strokeRect(y,m,c,l),e.fillStyle=a.backgroundColor,e.fillRect(b,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=rt(i.bodyFont);let h=d.lineHeight,f=0;const m=Vs(i.rtl,this.x,this.width),y=function(A){n.fillText(A,m.x(e.x+f),e.y+h/2),e.y+=h+s},b=m.textAlign(a);let v,x,w,S,C,_,T;for(n.textAlign=a,n.textBaseline="middle",n.font=d.string,e.x=ec(this,b,i),n.fillStyle=i.bodyColor,ve(this.beforeBody,y),f=o&&b!=="right"?a==="center"?c/2+u:c+2+u:0,S=0,_=r.length;S<_;++S){for(v=r[S],x=this.labelTextColors[S],n.fillStyle=x,ve(v.before,y),w=v.lines,o&&w.length&&(this._drawColorBox(n,e,S,m,i),h=Math.max(d.lineHeight,l)),C=0,T=w.length;C<T;++C)y(w[C]),h=d.lineHeight;ve(v.after,y)}f=0,h=d.lineHeight,ve(this.afterBody,y),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let a,o;if(s){const l=Vs(i.rtl,this.x,this.width);for(e.x=ec(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",a=rt(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=zr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+d,l),a==="top"&&this.drawCaret(e,n,i,r),n.lineTo(o+c-h,l),n.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(o+c,l+u-m),n.quadraticCurveTo(o+c,l+u,o+c-m,l+u),a==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(o+f,l+u),n.quadraticCurveTo(o,l+u,o,l+u-f),a==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=qa[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=rb(this,e),l=Object.assign({},a,this._size),c=sb(n,e,l),u=ab(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=_t(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),W_(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),K_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!Tu(i,r),a=this._positionChanged(r,n);(s||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,i),o=this._positionChanged(a,e),l=n||!Tu(a,s)||o;return l&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,a=qa[s.position].call(this,e,n);return a!==!1&&(i!==a.x||r!==a.y)}}D(Mf,"positioners",qa);var b2={id:"tooltip",_element:Mf,positioners:qa,afterInit(t,e,n){n&&(t.tooltip=new Mf({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:x2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QB=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function XB(t,e,n,i){const r=t.indexOf(e);if(r===-1)return QB(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const YB=(t,e)=>t===null?null:kt(Math.round(t),0,e);function cb(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Mu extends ss{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(de(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:XB(i,e,ie(n,e),this._addedLabels),YB(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return cb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}D(Mu,"id","category"),D(Mu,"defaults",{ticks:{callback:cb}});function JB(t,e){const n=[],{bounds:r,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,m=u-1,{min:y,max:b}=e,v=!de(a),x=!de(o),w=!de(c),S=(b-y)/(d+1);let C=ox((b-y)/m/f)*f,_,T,A,E;if(C<1e-14&&!v&&!x)return[{value:y},{value:b}];E=Math.ceil(b/C)-Math.floor(y/C),E>m&&(C=ox(E*C/m/f)*f),de(l)||(_=Math.pow(10,l),C=Math.ceil(C*_)/_),r==="ticks"?(T=Math.floor(y/C)*C,A=Math.ceil(b/C)*C):(T=y,A=b),v&&x&&s&&s$((o-a)/s,C/1e3)?(E=Math.round(Math.min((o-a)/C,u)),C=(o-a)/E,T=a,A=o):w?(T=v?a:T,A=x?o:A,E=c-1,C=(A-T)/E):(E=(A-T)/C,lo(E,Math.round(E),C/1e3)?E=Math.round(E):E=Math.ceil(E));const N=Math.max(lx(C),lx(T));_=Math.pow(10,de(l)?N:l),T=Math.round(T*_)/_,A=Math.round(A*_)/_;let I=0;for(v&&(h&&T!==a?(n.push({value:a}),T<a&&I++,lo(Math.round((T+I*C)*_)/_,a,ub(a,S,t))&&I++):T<a&&I++);I<E;++I){const j=Math.round((T+I*C)*_)/_;if(x&&j>o)break;n.push({value:j})}return x&&h&&A!==o?n.length&&lo(n[n.length-1].value,o,ub(o,S,t))?n[n.length-1].value=o:n.push({value:o}):(!x||A===o)&&n.push({value:A}),n}function ub(t,e,{horizontal:n,minRotation:i}){const r=kn(i),s=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class Ou extends ss{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=l=>r=n?r:l,o=l=>s=i?s:l;if(e){const l=qn(r),c=qn(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=JB(r,s);return e.bounds==="ticks"&&R_(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return ol(e,this.chart.options.locale,this.options.ticks.format)}}class Lu extends Ou{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ve(e)?e:0,this.max=Ve(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=kn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}D(Lu,"id","linear"),D(Lu,"defaults",{ticks:{callback:Ad.formatters.numeric}});const Ho=t=>Math.floor(ji(t)),xr=(t,e)=>Math.pow(10,Ho(t)+e);function db(t){return t/Math.pow(10,Ho(t))===1}function pb(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function ZB(t,e){const n=e-t;let i=Ho(n);for(;pb(t,e,i)>10;)i++;for(;pb(t,e,i)<10;)i--;return Math.min(i,Ho(t))}function GB(t,{min:e,max:n}){e=Wt(t.min,e);const i=[],r=Ho(e);let s=ZB(e,n),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*a)/a,u=Math.floor((e-l)/o/10)*o*10;let d=Math.floor((c-u)/Math.pow(10,s)),h=Wt(t.min,Math.round((l+u+d*Math.pow(10,s))*a)/a);for(;h<n;)i.push({value:h,major:db(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),h=Math.round((l+u+d*Math.pow(10,s))*a)/a;const f=Wt(t.max,h);return i.push({value:f,major:db(f),significand:d}),i}class hb extends ss{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Ou.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ve(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ve(e)?Math.max(0,e):null,this.max=Ve(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ve(this._userMin)&&(this.min=e===xr(this.min,0)?xr(this.min,-1):xr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=o=>i=e?i:o,a=o=>r=n?r:o;i===r&&(i<=0?(s(1),a(10)):(s(xr(i,-1)),a(xr(r,1)))),i<=0&&s(xr(r,-1)),r<=0&&a(xr(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=GB(n,this);return e.bounds==="ticks"&&R_(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":ol(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ji(e),this._valueRange=ji(this.max)-ji(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ji(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}D(hb,"id","logarithmic"),D(hb,"defaults",{ticks:{callback:Ad.formatters.logarithmic,major:{enabled:!0}}});function Of(t){const e=t.ticks;if(e.display&&t.display){const n=_t(e.backdropPadding);return ie(e.font&&e.font.size,qe.font.size)+n.height}return 0}function eV(t,e,n){return n=Pe(n)?n:[n],{w:_$(t,e.string,n),h:n.length*e.lineHeight}}function fb(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function tV(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?fe/s:0;for(let l=0;l<s;l++){const c=a.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],o),d=rt(c.font),h=eV(t.ctx,d,t._pointLabels[l]);i[l]=h;const f=vt(t.getIndexAngle(l)+o),m=Math.round(Og(f)),y=fb(m,u.x,h.w,0,180),b=fb(m,u.y,h.h,90,270);nV(n,e,f,y,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=sV(t,i,r)}function nV(t,e,n,i,r){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;i.start<e.l?(o=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-o)):i.end>e.r&&(o=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),r.start<e.t?(l=(e.t-r.start)/a,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function iV(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:a,size:o}=n,l=t.getPointPosition(e,i+r+a,s),c=Math.round(Og(vt(l.angle+Ke))),u=lV(l.y,o.h,c),d=aV(c),h=oV(l.x,o.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+o.w,bottom:u+o.h}}function rV(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(oi({x:n,y:i},e)||oi({x:n,y:s},e)||oi({x:r,y:i},e)||oi({x:r,y:s},e))}function sV(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:Of(s)/2,additionalAngle:a?fe/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const d=iV(t,u,l);i.push(d),o==="auto"&&(d.visible=rV(d,c),d.visible&&(c=d))}return i}function aV(t){return t===0||t===180?"center":t<180?"left":"right"}function oV(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function lV(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function cV(t,e,n){const{left:i,top:r,right:s,bottom:a}=n,{backdropColor:o}=e;if(!de(o)){const l=zr(e.borderRadius),c=_t(e.backdropPadding);t.fillStyle=o;const u=i-c.left,d=r-c.top,h=s-i+c.width,f=a-r+c.height;Object.values(l).some(m=>m!==0)?(t.beginPath(),Vo(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function uV(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const a=i.setContext(t.getPointLabelContext(r));cV(n,a,s);const o=rt(a.font),{x:l,y:c,textAlign:u}=s;Xr(n,t._pointLabels[r],l,c+o.lineHeight/2,o,{color:a.color,textAlign:u,textBaseline:"middle"})}}function w2(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Re);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=t.getPointPosition(a,e),r.lineTo(s.x,s.y)}}function dV(t,e,n,i,r){const s=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!i||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),w2(t,n,a,i),s.closePath(),s.stroke(),s.restore())}function pV(t,e,n){return hr(t,{label:n,index:e,type:"pointLabel"})}class Ha extends Ou{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=_t(Of(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ve(e)&&!isNaN(e)?e:0,this.max=Ve(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Of(this.options))}generateTickLabels(e){Ou.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=Ce(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?tV(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=Re/(this._pointLabels.length||1),i=this.options.startAngle||0;return vt(e*n+kn(i))}getDistanceFromCenterForValue(e){if(de(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(de(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return pV(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Ke+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),w2(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,a=this._pointLabels.length;let o,l,c;if(n.pointLabels.display&&uV(this,a),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=r.setContext(h),m=s.setContext(h);dV(this,f,l,a,m)}}),i.display){for(e.save(),o=a-1;o>=0;o--){const u=i.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=rt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,a=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const d=_t(c.backdropPadding);e.fillRect(-a/2-d.left,-s-u.size/2-d.top,a+d.width,u.size+d.height)}Xr(e,o.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}D(Ha,"id","radialLinear"),D(Ha,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ad.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),D(Ha,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),D(Ha,"descriptors",{angleLines:{_fallback:"grid"}});const Rd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Lt=Object.keys(Rd);function mb(t,e){return t-e}function gb(t,e){if(de(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Ve(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(Uo(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,r)),+a)}function yb(t,e,n,i){const r=Lt.length;for(let s=Lt.indexOf(t);s<r-1;++s){const a=Rd[Lt[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=i)return Lt[s]}return Lt[r-1]}function hV(t,e,n,i,r){for(let s=Lt.length-1;s>=Lt.indexOf(n);s--){const a=Lt[s];if(Rd[a].common&&t._adapter.diff(r,i,a)>=e-1)return a}return Lt[n?Lt.indexOf(n):0]}function fV(t){for(let e=Lt.indexOf(t)+1,n=Lt.length;e<n;++e)if(Rd[Lt[e]].common)return Lt[e]}function vb(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=Lg(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function mV(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+r.add(o,1,i))l=n[o],l>=0&&(e[l].major=!0);return e}function xb(t,e,n){const i=[],r={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],r[o]=a,i.push({value:o,major:!1});return s===0||!n?i:mV(t,i,r,n)}class ju extends ss{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new zz._date(e.adapters.date);r.init(n),oo(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:gb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Ve(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Ve(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,o=c$(r,s,a);return this._unit=n.unit||(i.autoSkip?yb(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):hV(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:fV(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),xb(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=kt(n,0,a),i=kt(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||yb(s.minUnit,n,i,this._getLabelCapacity(n)),o=ie(r.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=Uo(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(i,n,a)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+a);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<i;h=+e.add(h,o,a),f++)vb(u,h,m);return(h===i||r.bounds==="ticks"||f===1)&&vb(u,h,m),Object.keys(u).sort(mb).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,a=n||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,r){const s=this.options,a=s.ticks.callback;if(a)return Ce(a,[e,n,i],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],h=i[n],f=c&&d&&h&&h.major;return this._adapter.format(e,r||(f?d:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=kn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:i*s+o*a,h:i*a+o*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,xb(this,[e],this._majorUnit),r),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(gb(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return M_(e.sort(mb))}}D(ju,"id","time"),D(ju,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function tc(t,e,n){let i=0,r=t.length-1,s,a,o,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Or(t,"pos",e)),{pos:s,time:o}=t[i],{pos:a,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Or(t,"time",e)),{time:s,pos:o}=t[i],{time:a,pos:l}=t[r]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class bb extends ju{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=tc(n,this.min),this._tableRange=tc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,o=r.length;a<o;++a)u=r[a+1],l=r[a-1],c=r[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(tc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return tc(this._table,i*this._tableRange+this._minPos,!0)}}D(bb,"id","timeseries"),D(bb,"defaults",ju.defaults);const k2="label";function wb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function gV(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function S2(t,e){t.labels=e}function _2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k2;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(a=>a[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function yV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k2;const n={labels:[],datasets:[]};return S2(n,t.labels),_2(n,t.datasets,e),n}function vV(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=k.useRef(null),m=k.useRef(null),y=()=>{f.current&&(m.current=new cl(f.current,{type:a,data:yV(o,s),options:l&&{...l},plugins:c}),wb(e,m.current))},b=()=>{wb(e,null),m.current&&(m.current.destroy(),m.current=null)};return k.useEffect(()=>{!r&&m.current&&l&&gV(m.current,l)},[r,l]),k.useEffect(()=>{!r&&m.current&&S2(m.current.config.data,o.labels)},[r,o.labels]),k.useEffect(()=>{!r&&m.current&&o.datasets&&_2(m.current.config.data,o.datasets,s)},[r,o.datasets]),k.useEffect(()=>{m.current&&(r?(b(),setTimeout(y)):m.current.update(d))},[r,l,o.labels,o.datasets,d]),k.useEffect(()=>{m.current&&(b(),setTimeout(y))},[a]),k.useEffect(()=>(y(),()=>b()),[]),rr.createElement("canvas",{ref:f,role:"img",height:n,width:i,...h},u)}const xV=k.forwardRef(vV);function pa(t,e){return cl.register(e),k.forwardRef((n,i)=>rr.createElement(xV,{...n,ref:i,type:t}))}const C2=pa("line",_c),bV=pa("bar",Sc),wV=pa("radar",Ac),kV=pa("doughnut",Ds),SV=pa("polarArea",Cc),_V=pa("pie",Pf);cl.register(Mu,Lu,po,li,Pc,v2,b2,g2,Va,Ha,MB);const Lf=({type:t,data:e,options:n={},height:i=300,className:r=""})=>{const s=k.useRef(null),a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{font:{family:"Vazirmatn, sans-serif",size:12},usePointStyle:!0,padding:20}},tooltip:{titleFont:{family:"Vazirmatn, sans-serif",size:14},bodyFont:{family:"Vazirmatn, sans-serif",size:12},backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,padding:12}},scales:t==="line"||t==="bar"?{x:{ticks:{font:{family:"Vazirmatn, sans-serif",size:11}},grid:{color:"rgba(0, 0, 0, 0.05)"}},y:{ticks:{font:{family:"Vazirmatn, sans-serif",size:11}},grid:{color:"rgba(0, 0, 0, 0.05)"}}}:void 0,animation:{duration:1e3,easing:"easeOutQuart"}},o={...a,...n,plugins:{...a.plugins,...n.plugins}},c={line:C2,bar:bV,doughnut:kV,pie:_V,radar:wV,polarArea:SV}[t];return c?!e||!e.datasets||e.datasets.length===0?p("div",{className:"flex items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:g("div",{className:"text-center",children:[p("div",{className:"w-16 h-16 mx-auto mb-4 opacity-50",children:p("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:p("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})})}),p("p",{children:"داده‌ای برای نمایش وجود ندارد"})]})}):p("div",{className:`relative ${r}`,style:{height:i},children:p(c,{ref:s,data:e,options:o})}):p("div",{className:"flex items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:g("p",{children:["نوع نمودار پشتیبانی نمی‌شود: ",t]})})},pn=({size:t="md",className:e=""})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return p(V.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:`${n[t]} ${e}`,children:p("div",{className:"w-full h-full border-2 border-blue-200 dark:border-gray-600 border-t-blue-600 dark:border-t-blue-400 rounded-full"})})},A2=({error:t,onRetry:e,className:n=""})=>p("div",{className:`p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg ${n}`,children:g("div",{className:"flex items-start gap-3",children:[p(YM,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),g("div",{className:"flex-1",children:[p("h3",{className:"font-medium text-red-800 dark:text-red-200",children:"خطا رخ داده است"}),p("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:t?.message||t||"خطای نامشخص"}),e&&g("button",{onClick:e,className:"mt-3 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors flex items-center gap-2",children:[p(Lo,{className:"w-4 h-4"}),"تلاش مجدد"]})]})]})}),CV=()=>{const t=Gr(),[e,n]=k.useState(5e3),[i,r]=k.useState(null),[s,a]=k.useState(!1),[o,l]=k.useState(new Date);k.useEffect(()=>{const A=_e.subscribe(E=>{r(E),l(new Date)});return r(_e.getMetrics()),A},[]);const{data:c,isLoading:u}=bt({queryKey:["documentStats"],queryFn:()=>Yi.getDocumentStats(),refetchInterval:e}),{data:d,isLoading:h}=bt({queryKey:["scrapingStats"],queryFn:()=>ni.getScrapingStats(),refetchInterval:e}),{data:f,isLoading:m}=bt({queryKey:["aiStats"],queryFn:()=>$r.getAnalysisStats(),refetchInterval:e}),{data:y,isLoading:b}=bt({queryKey:["networkStatus"],queryFn:()=>ni.getNetworkStatus(),refetchInterval:e*2}),{data:v,isLoading:x}=bt({queryKey:["recentDocuments"],queryFn:()=>Yi.getRecentDocuments(5),refetchInterval:e}),w=k.useCallback(async()=>{a(!0);try{await t.invalidateQueries(),l(new Date)}finally{setTimeout(()=>a(!1),1e3)}},[t]),S=k.useCallback(async()=>{try{await ni.startScraping({maxDocuments:3}),await t.invalidateQueries(["documentStats","scrapingStats"])}catch(A){console.error("Quick scrape failed:",A)}},[t]),C=k.useCallback(async()=>{try{const A=Yi.getRecentDocuments(2);A.length>0&&(await $r.analyzeDocument(A[0]),await t.invalidateQueries(["aiStats"]))}catch(A){console.error("Quick analysis failed:",A)}},[t]),_=i?_e.getPerformanceSummary():null,T=u||h||m||b;return g("div",{className:"space-y-6",children:[g(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[g("div",{children:[g("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[p(wc,{className:"w-8 h-8 text-blue-600"}),"داشبورد سیستم آرشیو حقوقی"]}),g("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:["نظارت بر عملکرد سیستم و آمار کلی • آخرین بروزرسانی: ",o.toLocaleTimeString("fa-IR")]})]}),g("div",{className:"flex items-center gap-3",children:[g(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[p(Kr,{className:"w-4 h-4"}),"استخراج سریع"]}),g(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[p(Mr,{className:"w-4 h-4"}),"تحلیل سریع"]}),g(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[p(Lo,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"بروزرسانی"]})]})]}),_&&g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"سلامت کلی سیستم"}),g("p",{className:"text-3xl font-bold text-green-600 mt-2",children:[_.overall.health,"%"]})]}),p("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full",children:p(kf,{className:"w-8 h-8 text-green-600"})})]}),p("div",{className:"mt-4 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p(V.div,{initial:{width:0},animate:{width:`${_.overall.health}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-green-500 to-green-600"})})]}),g("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"عملکرد سیستم"}),g("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:[_.overall.performance,"%"]})]}),p("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:p(Is,{className:"w-8 h-8 text-blue-600"})})]}),p("div",{className:"mt-4 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p(V.div,{initial:{width:0},animate:{width:`${_.overall.performance}%`},transition:{duration:1,ease:"easeOut",delay:.2},className:"h-full bg-gradient-to-r from-blue-500 to-blue-600"})})]}),g("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"قابلیت اطمینان"}),g("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:[_.overall.reliability,"%"]})]}),p("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:p(Us,{className:"w-8 h-8 text-purple-600"})})]}),p("div",{className:"mt-4 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p(V.div,{initial:{width:0},animate:{width:`${_.overall.reliability}%`},transition:{duration:1,ease:"easeOut",delay:.4},className:"h-full bg-gradient-to-r from-purple-500 to-purple-600"})})]})]}),g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p(Ul,{title:"اسناد استخراج شده",value:c?.total||0,change:i?.scraping?.totalDocuments||0,changeType:"increase",icon:Bs,color:"blue",loading:u}),p(Ul,{title:"نرخ موفقیت",value:`${i?.scraping?.successRate||0}%`,change:_?.scraping?.averageSuccessRate||0,changeType:"increase",icon:Is,color:"green",loading:h}),p(Ul,{title:"تحلیل‌های انجام شده",value:i?.ai?.documentsAnalyzed||0,change:f?.cacheSize||0,changeType:"increase",icon:Mr,color:"purple",loading:m}),p(Ul,{title:"پروکسی‌های فعال",value:i?.scraping?.activeProxies||0,change:y?.proxies?.active||0,changeType:"neutral",icon:bd,color:"orange",loading:b})]}),g("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[p(wc,{className:"w-5 h-5 text-blue-600"}),"توزیع دسته‌بندی اسناد"]}),c?.categories&&Object.keys(c.categories).length>0?p(Lf,{type:"doughnut",data:{labels:Object.keys(c.categories),datasets:[{data:Object.values(c.categories),backgroundColor:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{font:{family:"Vazirmatn"},usePointStyle:!0}}}}}):g("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[p(wc,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p("p",{children:"آمار دسته‌بندی در دسترس نیست"})]})]}),g(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[p(Is,{className:"w-5 h-5 text-green-600"}),"عملکرد سیستم"]}),_?p(Lf,{type:"radar",data:{labels:["استخراج","تحلیل هوش مصنوعی","پایگاه داده","شبکه","پردازش"],datasets:[{label:"عملکرد فعلی",data:[_.scraping.averageSuccessRate,_.ai.analysisAccuracy,Math.max(100-_.database.querySpeed,0),y?.connectivity==="online"?95:50,_.overall.performance],backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgb(59, 130, 246)",borderWidth:2,pointBackgroundColor:"rgb(59, 130, 246)"}]},options:{responsive:!0,scales:{r:{min:0,max:100,ticks:{font:{family:"Vazirmatn"}}}},plugins:{legend:{labels:{font:{family:"Vazirmatn"}}}}}}):g("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[p(Is,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p("p",{children:"آمار عملکرد در حال محاسبه..."})]})]})]}),g("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[p(Bs,{className:"w-5 h-5 text-blue-600"}),"آخرین اسناد استخراج شده"]}),x?p("div",{className:"flex items-center justify-center h-32",children:p(pn,{size:"lg"})}):v&&v.length>0?p("div",{className:"space-y-3",children:v.map((A,E)=>p(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:p("div",{className:"flex items-start justify-between",children:g("div",{className:"flex-1",children:[p("h4",{className:"font-semibold text-gray-900 dark:text-white line-clamp-1",children:A.title}),g("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:[A.content.substring(0,150),"..."]}),g("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[g("span",{className:"flex items-center gap-1",children:[p(ku,{className:"w-3 h-3"}),A.date]}),p("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded",children:A.category}),g("span",{className:"flex items-center gap-1",children:[p(Su,{className:"w-3 h-3"}),A.wordCount||0," کلمه"]})]})]})})},A.id))}):g("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[p(Bs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p("p",{children:"هنوز سندی استخراج نشده است"}),p("button",{onClick:S,className:"mt-3 text-blue-600 hover:text-blue-700 font-medium",children:"شروع استخراج اسناد"})]})]}),g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[p(Mr,{className:"w-5 h-5 text-green-600"}),"وضعیت سرویس‌ها"]}),g("div",{className:"space-y-4",children:[g("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[g("div",{className:"flex items-center gap-3",children:[p("div",{className:`w-3 h-3 rounded-full ${d?.isActive?"bg-green-500":"bg-gray-400"}`}),p("span",{className:"font-medium text-gray-900 dark:text-white",children:"سرویس استخراج"})]}),p("span",{className:`text-sm ${d?.isActive?"text-green-600":"text-gray-500"}`,children:d?.isActive?"فعال":"غیرفعال"})]}),g("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[g("div",{className:"flex items-center gap-3",children:[p("div",{className:`w-3 h-3 rounded-full ${f?.hasApiKey?"bg-green-500":"bg-yellow-500"}`}),p("span",{className:"font-medium text-gray-900 dark:text-white",children:"سرویس هوش مصنوعی"})]}),p("span",{className:`text-sm ${f?.hasApiKey?"text-green-600":"text-yellow-600"}`,children:f?.hasApiKey?"متصل":"حالت نمایشی"})]}),g("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[g("div",{className:"flex items-center gap-3",children:[p("div",{className:"w-3 h-3 rounded-full bg-green-500"}),p("span",{className:"font-medium text-gray-900 dark:text-white",children:"پایگاه داده"})]}),p("span",{className:"text-sm text-green-600",children:"آماده"})]}),g("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[g("div",{className:"flex items-center gap-3",children:[p("div",{className:`w-3 h-3 rounded-full ${y?.connectivity==="online"?"bg-green-500":"bg-red-500"}`}),p("span",{className:"font-medium text-gray-900 dark:text-white",children:"اتصال شبکه"})]}),p("span",{className:`text-sm ${y?.connectivity==="online"?"text-green-600":"text-red-600"}`,children:y?.connectivity==="online"?"متصل":"قطع"})]})]}),p("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:g("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-2",children:[g("div",{className:"flex justify-between",children:[p("span",{children:"زمان آپ‌تایم:"}),p("span",{className:"font-medium",children:i?.system?.uptime?Math.round(i.system.uptime/(60*1e3))+" دقیقه":"نامعلوم"})]}),g("div",{className:"flex justify-between",children:[p("span",{children:"استفاده حافظه:"}),g("span",{className:"font-medium",children:[i?.system?.memoryUsage||0,"%"]})]}),g("div",{className:"flex justify-between",children:[p("span",{children:"تأخیر شبکه:"}),g("span",{className:"font-medium",children:[i?.system?.networkLatency||0,"ms"]})]})]})})]})]}),_&&g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[p(Mr,{className:"w-5 h-5 text-blue-600"}),"جزئیات عملکرد سیستم"]}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g("div",{className:"space-y-3",children:[p("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"استخراج اسناد"}),g("div",{className:"space-y-2 text-sm",children:[g("div",{className:"flex justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"اسناد در ساعت:"}),p("span",{className:"font-medium",children:_.scraping.documentsPerHour})]}),g("div",{className:"flex justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"کارایی پروکسی:"}),g("span",{className:"font-medium",children:[_.scraping.proxyEfficiency,"%"]})]}),g("div",{className:"flex justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"نرخ موفقیت:"}),g("span",{className:"font-medium text-green-600",children:[_.scraping.averageSuccessRate,"%"]})]})]})]}),g("div",{className:"space-y-3",children:[p("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"هوش مصنوعی"}),g("div",{className:"space-y-2 text-sm",children:[g("div",{className:"flex justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"دقت تحلیل:"}),g("span",{className:"font-medium",children:[Math.round(_.ai.analysisAccuracy),"%"]})]}),g("div",{className:"flex justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"سرعت پردازش:"}),g("span",{className:"font-medium",children:[_.ai.processingSpeed," doc/s"]})]}),g("div",{className:"flex justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"عملکرد مدل:"}),g("span",{className:"font-medium text-purple-600",children:[Math.round(_.ai.modelPerformance),"%"]})]})]})]}),g("div",{className:"space-y-3",children:[p("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"پایگاه داده"}),g("div",{className:"space-y-2 text-sm",children:[g("div",{className:"flex justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"سرعت کوئری:"}),g("span",{className:"font-medium",children:[_.database.querySpeed,"ms"]})]}),g("div",{className:"flex justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"کارایی ذخیره‌سازی:"}),p("span",{className:"font-medium",children:_.database.storageEfficiency})]}),g("div",{className:"flex justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"سلامت ایندکس:"}),g("span",{className:"font-medium text-blue-600",children:[_.database.indexHealth,"%"]})]})]})]})]})]}),p(vg,{children:T&&p(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center",children:p("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-2xl",children:g("div",{className:"flex items-center gap-3",children:[p(wf,{className:"w-6 h-6 animate-spin text-blue-600"}),p("span",{className:"text-gray-900 dark:text-white font-medium",children:"در حال بروزرسانی داده‌ها..."})]})})})})]})},T2=k.createContext(),ul=()=>{const t=k.useContext(T2);if(!t)throw new Error("useConfig must be used within a ConfigProvider");return t},fs={apiBaseUrl:`${window.location.origin}/api`,websocketUrl:`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,proxyEnabled:!0,batchSize:5,maxRetries:3,autoRefresh:!0,refreshInterval:3e4,timeout:3e4,theme:"light",language:"fa",notifications:{position:"top-left",duration:4e3,maxNotifications:5},pagination:{defaultPageSize:20,pageSizeOptions:[10,20,50,100]},cache:{enabled:!0,duration:5*60*1e3}},AV=({children:t})=>{const[e,n]=k.useState(()=>{const y=localStorage.getItem("appConfig");if(y)try{const b=JSON.parse(y);return{...fs,...b}}catch(b){return console.error("Failed to parse saved config:",b),fs}return fs}),[i,r]=k.useState(navigator.onLine),[s,a]=k.useState("unknown");k.useEffect(()=>{localStorage.setItem("appConfig",JSON.stringify(e))},[e]),k.useEffect(()=>{const y=()=>r(!0),b=()=>r(!1);return window.addEventListener("online",y),window.addEventListener("offline",b),()=>{window.removeEventListener("online",y),window.removeEventListener("offline",b)}},[]);const m={config:e,updateConfig:y=>{n(b=>({...b,...y}))},resetConfig:()=>{n(fs),localStorage.removeItem("appConfig")},exportConfig:()=>{const y={...e,exportedAt:new Date().toISOString(),version:"1.0.0"},b=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),v=URL.createObjectURL(b),x=document.createElement("a");x.href=v,x.download=`legal-archive-config-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v)},importConfig:y=>new Promise((b,v)=>{const x=new FileReader;x.onload=w=>{try{const S=JSON.parse(w.target.result);if(typeof S!="object"||S===null)throw new Error("Invalid config format");const C={...fs,...S};delete C.exportedAt,delete C.version,n(C),b(C)}catch(S){v(new Error("Failed to parse config file: "+S.message))}},x.onerror=()=>{v(new Error("Failed to read config file"))},x.readAsText(y)}),testConnection:async()=>{try{const y=await fetch(`${e.apiBaseUrl}/status`,{method:"GET",timeout:e.timeout});return y.ok?(a("connected"),{success:!0,status:y.status}):(a("error"),{success:!1,status:y.status,error:y.statusText})}catch(y){return a("error"),{success:!1,error:y.message}}},getApiUrl:y=>{const b=e.apiBaseUrl.replace(/\/$/,""),v=y.startsWith("/")?y:`/${y}`;return`${b}${v}`},getWebSocketUrl:()=>e.websocketUrl,isOnline:i,backendStatus:s,setBackendStatus:a,DEFAULT_CONFIG:fs};return p(T2.Provider,{value:m,children:t})},N2=k.createContext(),P2=()=>{const t=k.useContext(N2);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t},TV=({children:t})=>{const{config:e}=ul(),n=k.useCallback((y,b="info",v={})=>{const w={...{duration:e.notifications.duration,position:e.notifications.position,style:{direction:"rtl",fontFamily:"Vazirmatn, sans-serif",fontSize:"14px",...v.style}},...v};switch(b){case"success":return In.success(y,{...w,iconTheme:{primary:"#10b981",secondary:"#ffffff"}});case"error":return In.error(y,{...w,iconTheme:{primary:"#ef4444",secondary:"#ffffff"}});case"warning":return In(y,{...w,icon:"⚠️",style:{...w.style,background:"#fbbf24",color:"#ffffff"}});case"info":return In(y,{...w,icon:"ℹ️",style:{...w.style,background:"#3b82f6",color:"#ffffff"}});case"loading":return In.loading(y,w);default:return In(y,w)}},[e.notifications]),i=k.useCallback((y,b)=>n(y,"success",b),[n]),r=k.useCallback((y,b)=>n(y,"error",b),[n]),s=k.useCallback((y,b)=>n(y,"warning",b),[n]),a=k.useCallback((y,b)=>n(y,"info",b),[n]),o=k.useCallback((y,b)=>n(y,"loading",b),[n]),l=k.useCallback(y=>{In.dismiss(y)},[]),c=k.useCallback(()=>{In.dismiss()},[]),u=k.useCallback((y,b,v={})=>In.promise(y,{loading:b.loading||"در حال پردازش...",success:b.success||"عملیات با موفقیت انجام شد",error:b.error||"خطایی رخ داده است"},{style:{direction:"rtl",fontFamily:"Vazirmatn, sans-serif"},...v}),[]),d=k.useCallback((y,b={})=>In.custom(y,{duration:e.notifications.duration,position:e.notifications.position,...b}),[e.notifications]),h=k.useCallback((y,b)=>{let v=b||"خطایی در ارتباط با سرور رخ داده است";if(y?.response?.status)switch(y.response.status){case 400:v="درخواست نامعتبر - لطفاً اطلاعات ورودی را بررسی کنید";break;case 401:v="عدم احراز هویت - لطفاً مجدداً وارد شوید";break;case 403:v="عدم دسترسی - شما مجاز به انجام این عملیات نیستید";break;case 404:v="آدرس یافت نشد - لطفاً از صحت آدرس اطمینان حاصل کنید";break;case 409:v="عملیات دیگری در حال انجام است - لطفاً منتظر بمانید";break;case 429:v="تعداد درخواست‌ها زیاد است - لطفاً کمی صبر کنید";break;case 500:v="خطای داخلی سرور - لطفاً بعداً تلاش کنید";break;case 502:v="سرور در دسترس نیست";break;case 503:v="سرویس موقتاً در دسترس نیست";break;default:v=`خطای ${y.response.status}: ${y.response.statusText||"نامشخص"}`}else y?.message&&(y.message.includes("fetch")?v="عدم اتصال به سرور - لطفاً اتصال اینترنت خود را بررسی کنید":y.message.includes("timeout")?v="زمان انتظار تمام شد - لطفاً مجدداً تلاش کنید":v=y.message);return r(v)},[r]),f=k.useCallback(y=>{switch(y){case"connected":return i("اتصال به سرور برقرار شد");case"disconnected":return s("اتصال به سرور قطع شد");case"reconnecting":return a("در حال تلاش برای اتصال مجدد...");case"error":return r("خطا در اتصال به سرور");default:return a(`وضعیت اتصال: ${y}`)}},[i,s,a,r]),m={showNotification:n,showSuccess:i,showError:r,showWarning:s,showInfo:a,showLoading:o,showPromise:u,showCustom:d,showApiError:h,showConnectionStatus:f,dismissNotification:l,dismissAll:c};return p(N2.Provider,{value:m,children:t})},NV=({tabs:t,activeTab:e,onTabChange:n})=>p("div",{className:"border-b border-gray-200 dark:border-gray-700",children:p("nav",{className:"-mb-px flex space-x-8 space-x-reverse overflow-x-auto",children:t.map(i=>g("button",{onClick:()=>n(i.id),className:`
              group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
              ${e===i.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"}
            `,children:[p("span",{className:"text-lg ml-2",children:i.icon}),p("span",{children:i.title}),i.description&&g("span",{className:"hidden lg:block text-xs text-gray-400 dark:text-gray-500 mr-2",children:["• ",i.description]})]},i.id))})}),PV=({onProcess:t,isProcessing:e=!1})=>{const{config:n}=ul(),[i,r]=k.useState(""),[s,a]=k.useState(n.proxyEnabled),[o,l]=k.useState(n.maxRetries),c=h=>{if(h.preventDefault(),!i.trim())return;const f=i.trim();!f.startsWith("http://")&&!f.startsWith("https://")||(t([f],{useProxy:s,maxRetries:o}),r(""))},d=i&&!(h=>{try{return new URL(h),!0}catch{return!1}})(i)?"آدرس وارد شده معتبر نیست":"";return g("div",{className:"card p-6",children:[g("div",{className:"mb-6",children:[p("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"پردازش تک سند"}),p("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"آدرس سند حقوقی مورد نظر را وارد کنید تا پردازش و تحلیل شود."})]}),g("form",{onSubmit:c,className:"space-y-6",children:[g("div",{children:[g("label",{htmlFor:"url",className:"label",children:["آدرس سند (URL) ",p("span",{className:"text-red-500",children:"*"})]}),g("div",{className:"relative",children:[p("input",{id:"url",type:"url",value:i,onChange:h=>r(h.target.value),placeholder:"https://example.com/legal-document",className:`input pr-10 ${d?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,disabled:e,required:!0}),p("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:p("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})})]}),d&&p("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:d})]}),g("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-4",children:[p("h3",{className:"font-medium text-gray-900 dark:text-white",children:"تنظیمات پردازش"}),g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"استفاده از پروکسی"}),p("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"برای دسترسی بهتر و سرعت بالاتر"})]}),g("label",{className:"relative inline-flex items-center cursor-pointer",children:[p("input",{type:"checkbox",checked:s,onChange:h=>a(h.target.checked),className:"sr-only peer",disabled:e}),p("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),g("div",{children:[p("label",{className:"label",children:"تعداد تلاش مجدد"}),g("select",{value:o,onChange:h=>l(parseInt(h.target.value)),className:"input",disabled:e,children:[p("option",{value:1,children:"۱ بار"}),p("option",{value:2,children:"۲ بار"}),p("option",{value:3,children:"۳ بار"}),p("option",{value:5,children:"۵ بار"})]}),p("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تعداد دفعات تلاش مجدد در صورت خطا"})]})]}),g("div",{className:"flex items-center justify-between",children:[p("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"پردازش ممکن است چند دقیقه طول بکشد"}),p("button",{type:"submit",disabled:e||!i.trim()||d,className:"btn btn-primary px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 space-x-reverse",children:e?g(Hn,{children:[g("svg",{className:"animate-spin -mr-1 ml-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p("span",{children:"در حال پردازش..."})]}):g(Hn,{children:[p("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),p("span",{children:"شروع پردازش"})]})})]})]}),g("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[p("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"آدرس‌های نمونه"}),p("div",{className:"flex flex-wrap gap-2",children:["https://dastour.ir/brows/?lid=15","https://rc.majlis.ir/fa/law","https://www.dastour.ir/brows/?lid=1"].map((h,f)=>g("button",{onClick:()=>r(h),disabled:e,className:"text-xs px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["نمونه ",f+1]},f))})]})]})},EV=({onProcess:t,isProcessing:e=!1})=>{const{config:n}=ul(),[i,r]=k.useState(""),[s,a]=k.useState(n.proxyEnabled),[o,l]=k.useState(n.batchSize),[c,u]=k.useState(n.maxRetries),h=(w=>w.split(`
`).map(S=>S.trim()).filter(S=>S&&(S.startsWith("http://")||S.startsWith("https://"))))(i),f=h.length,m=i.split(`
`).filter(w=>{const S=w.trim();return S&&!S.startsWith("http://")&&!S.startsWith("https://")}),y=w=>{w.preventDefault(),f!==0&&t(h,{useProxy:s,batchSize:o,maxRetries:c})},b=async()=>{try{const w=await navigator.clipboard.readText();r(S=>S?`${S}
${w}`:w)}catch(w){console.error("Failed to paste from clipboard:",w)}},v=()=>{r("")},x=Math.ceil(f/o)*30;return g("div",{className:"card p-6",children:[g("div",{className:"mb-6",children:[p("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"پردازش دسته‌ای اسناد"}),p("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"آدرس‌های متعدد را به صورت همزمان پردازش کنید. هر آدرس در یک خط جداگانه قرار دهید."})]}),g("form",{onSubmit:y,className:"space-y-6",children:[g("div",{children:[g("div",{className:"flex items-center justify-between mb-2",children:[g("label",{htmlFor:"urls",className:"label",children:["لیست آدرس‌ها (هر خط یک آدرس) ",p("span",{className:"text-red-500",children:"*"})]}),g("div",{className:"flex items-center space-x-2 space-x-reverse",children:[p("button",{type:"button",onClick:b,className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:e,children:"📋 چسباندن"}),p("button",{type:"button",onClick:v,className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:e,children:"🗑️ پاک کردن"})]})]}),p("textarea",{id:"urls",value:i,onChange:w=>r(w.target.value),placeholder:`https://example.com/document1
https://example.com/document2
https://example.com/document3`,rows:10,className:"input resize-none font-mono text-sm",disabled:e,required:!0}),g("div",{className:"mt-2 flex items-center justify-between text-sm",children:[g("div",{className:"flex items-center space-x-4 space-x-reverse",children:[g("span",{className:"text-green-600 dark:text-green-400",children:["✅ معتبر: ",f]}),m.length>0&&g("span",{className:"text-red-600 dark:text-red-400",children:["❌ نامعتبر: ",m.length]})]}),g("div",{className:"text-gray-500 dark:text-gray-400",children:["خطوط: ",i.split(`
`).filter(w=>w.trim()).length]})]}),m.length>0&&g("div",{className:"mt-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[p("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium mb-1",children:"خطوط نامعتبر:"}),p("div",{className:"text-xs text-red-700 dark:text-red-300 max-h-20 overflow-y-auto",children:m.map((w,S)=>p("div",{className:"font-mono",children:w},S))})]})]}),g("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-4",children:[p("h3",{className:"font-medium text-gray-900 dark:text-white",children:"تنظیمات پردازش دسته‌ای"}),g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"استفاده از پروکسی"}),p("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"برای دسترسی بهتر و جلوگیری از محدودیت"})]}),g("label",{className:"relative inline-flex items-center cursor-pointer",children:[p("input",{type:"checkbox",checked:s,onChange:w=>a(w.target.checked),className:"sr-only peer",disabled:e}),p("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[p("label",{className:"label",children:"اندازه دسته"}),g("select",{value:o,onChange:w=>l(parseInt(w.target.value)),className:"input",disabled:e,children:[p("option",{value:1,children:"۱ (کند)"}),p("option",{value:3,children:"۳ (متوسط)"}),p("option",{value:5,children:"۵ (سریع)"}),p("option",{value:10,children:"۱۰ (خیلی سریع)"})]}),p("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تعداد اسناد پردازش همزمان"})]}),g("div",{children:[p("label",{className:"label",children:"تعداد تلاش مجدد"}),g("select",{value:c,onChange:w=>u(parseInt(w.target.value)),className:"input",disabled:e,children:[p("option",{value:1,children:"۱ بار"}),p("option",{value:2,children:"۲ بار"}),p("option",{value:3,children:"۳ بار"}),p("option",{value:5,children:"۵ بار"})]}),p("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تلاش مجدد در صورت خطا"})]})]}),f>0&&p("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:g("div",{className:"flex items-center space-x-2 space-x-reverse",children:[p("span",{className:"text-blue-600 dark:text-blue-400",children:"⏱️"}),g("div",{className:"text-sm",children:[g("p",{className:"font-medium text-blue-800 dark:text-blue-200",children:["برآورد زمان پردازش: ",Math.floor(x/60)," دقیقه و ",x%60," ثانیه"]}),g("p",{className:"text-blue-700 dark:text-blue-300",children:["تعداد دسته‌ها: ",Math.ceil(f/o)," • اندازه هر دسته: ",o]})]})]})})]}),g("div",{className:"flex items-center justify-between",children:[p("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:f>0?`آماده پردازش ${f} سند`:"حداقل یک آدرس معتبر وارد کنید"}),p("button",{type:"submit",disabled:e||f===0,className:"btn btn-primary px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 space-x-reverse",children:e?g(Hn,{children:[g("svg",{className:"animate-spin -mr-1 ml-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p("span",{children:"در حال پردازش..."})]}):g(Hn,{children:[p("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),p("span",{children:"شروع پردازش دسته‌ای"})]})})]})]}),g("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[p("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"قالب‌های نمونه"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("button",{onClick:()=>r(`https://dastour.ir/brows/?lid=15
https://rc.majlis.ir/fa/law
https://www.dastour.ir/brows/?lid=1
https://dastour.ir/brows/?lid=20`),disabled:e,className:"text-xs p-3 bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors text-right disabled:opacity-50 disabled:cursor-not-allowed",children:[p("div",{className:"font-medium mb-1",children:"نمونه قوانین اساسی"}),p("div",{className:"text-gray-500 dark:text-gray-400",children:"۴ آدرس نمونه"})]}),g("button",{onClick:()=>r(`https://rc.majlis.ir/fa/law/show/94262
https://rc.majlis.ir/fa/law/show/94263
https://rc.majlis.ir/fa/law/show/94264`),disabled:e,className:"text-xs p-3 bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors text-right disabled:opacity-50 disabled:cursor-not-allowed",children:[p("div",{className:"font-medium mb-1",children:"نمونه قوانین مجلس"}),p("div",{className:"text-gray-500 dark:text-gray-400",children:"۳ آدرس نمونه"})]})]})]})]})};var E2={exports:{}},RV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IV=RV,DV=IV;function R2(){}function I2(){}I2.resetWarningCache=R2;var MV=function(){function t(i,r,s,a,o,l){if(l!==DV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I2,resetWarningCache:R2};return n.PropTypes=n,n};E2.exports=MV();var OV=E2.exports;const Se=Yb(OV);function as(t,e,n,i){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):r(u.value).then(o,l)}c((i=i.apply(t,e||[])).next())})}const LV=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function ia(t,e,n){const i=jV(t),{webkitRelativePath:r}=t,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${t.name}`;return typeof i.path!="string"&&kb(i,"path",s),n!==void 0&&Object.defineProperty(i,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),kb(i,"relativePath",s),i}function jV(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const i=e.split(".").pop().toLowerCase(),r=LV.get(i);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}function kb(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const FV=[".DS_Store","Thumbs.db"];function $V(t){return as(this,void 0,void 0,function*(){return Fu(t)&&zV(t.dataTransfer)?qV(t.dataTransfer,t.type):UV(t)?BV(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?VV(t):[]})}function zV(t){return Fu(t)}function UV(t){return Fu(t)&&Fu(t.target)}function Fu(t){return typeof t=="object"&&t!==null}function BV(t){return jf(t.target.files).map(e=>ia(e))}function VV(t){return as(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>ia(n))})}function qV(t,e){return as(this,void 0,void 0,function*(){if(t.items){const n=jf(t.items).filter(r=>r.kind==="file");if(e!=="drop")return n;const i=yield Promise.all(n.map(HV));return Sb(D2(i))}return Sb(jf(t.files).map(n=>ia(n)))})}function Sb(t){return t.filter(e=>FV.indexOf(e.name)===-1)}function jf(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];e.push(i)}return e}function HV(t){if(typeof t.webkitGetAsEntry!="function")return _b(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?M2(e):_b(t,e)}function D2(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?D2(n):[n]],[])}function _b(t,e){return as(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const a=yield s.getFile();return a.handle=s,ia(a)}}const i=t.getAsFile();if(!i)throw new Error(`${t} is not a File`);return ia(i,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function WV(t){return as(this,void 0,void 0,function*(){return t.isDirectory?M2(t):KV(t)})}function M2(t){const e=t.createReader();return new Promise((n,i)=>{const r=[];function s(){e.readEntries(a=>as(this,void 0,void 0,function*(){if(a.length){const o=Promise.all(a.map(WV));r.push(o),s()}else try{const o=yield Promise.all(r);n(o)}catch(o){i(o)}}),a=>{i(a)})}s()})}function KV(t){return as(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(i=>{const r=ia(i,t.fullPath);e(r)},i=>{n(i)})})})}var Zp=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var i=t.name||"",r=(t.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return n.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?i.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):r===o})}return!0};function Cb(t){return YV(t)||XV(t)||L2(t)||QV()}function QV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YV(t){if(Array.isArray(t))return Ff(t)}function Ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(n),!0).forEach(function(i){O2(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function O2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wo(t,e){return GV(t)||ZV(t,e)||L2(t,e)||JV()}function JV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2(t,e){if(t){if(typeof t=="string")return Ff(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ff(t,e)}}function Ff(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ZV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,a,o;try{for(n=n.call(t);!(r=(a=n.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,o=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw o}}return i}}function GV(t){if(Array.isArray(t))return t}var e8=typeof Zp=="function"?Zp:Zp.default,t8="file-invalid-type",n8="file-too-large",i8="file-too-small",r8="too-many-files",s8=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:t8,message:"File type must be ".concat(i)}},Nb=function(e){return{code:n8,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Pb=function(e){return{code:i8,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},a8={code:r8,message:"Too many files"};function j2(t,e){var n=t.type==="application/x-moz-file"||e8(t,e);return[n,n?null:s8(e)]}function F2(t,e,n){if(Nr(t.size))if(Nr(e)&&Nr(n)){if(t.size>n)return[!1,Nb(n)];if(t.size<e)return[!1,Pb(e)]}else{if(Nr(e)&&t.size<e)return[!1,Pb(e)];if(Nr(n)&&t.size>n)return[!1,Nb(n)]}return[!0,null]}function Nr(t){return t!=null}function o8(t){var e=t.files,n=t.accept,i=t.minSize,r=t.maxSize,s=t.multiple,a=t.maxFiles,o=t.validator;return!s&&e.length>1||s&&a>=1&&e.length>a?!1:e.every(function(l){var c=j2(l,n),u=Wo(c,1),d=u[0],h=F2(l,i,r),f=Wo(h,1),m=f[0],y=o?o(l):null;return d&&m&&!y})}function $u(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function nc(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Eb(t){t.preventDefault()}function l8(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function c8(t){return t.indexOf("Edge/")!==-1}function u8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return l8(t)||c8(t)}function Dn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return e.some(function(o){return!$u(i)&&o&&o.apply(void 0,[i].concat(s)),$u(i)})}}function d8(){return"showOpenFilePicker"in window}function p8(t){if(Nr(t)){var e=Object.entries(t).filter(function(n){var i=Wo(n,2),r=i[0],s=i[1],a=!0;return $2(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(s)||!s.every(z2))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,i){var r=Wo(i,2),s=r[0],a=r[1];return Tb(Tb({},n),{},O2({},s,a))},{});return[{description:"Files",accept:e}]}return t}function h8(t){if(Nr(t))return Object.entries(t).reduce(function(e,n){var i=Wo(n,2),r=i[0],s=i[1];return[].concat(Cb(e),[r],Cb(s))},[]).filter(function(e){return $2(e)||z2(e)}).join(",")}function f8(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function m8(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function $2(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function z2(t){return/^.*\.[\w]+$/.test(t)}var g8=["children"],y8=["open"],v8=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],x8=["refKey","onChange","onClick"];function b8(t){return S8(t)||k8(t)||U2(t)||w8()}function w8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S8(t){if(Array.isArray(t))return $f(t)}function Gp(t,e){return A8(t)||C8(t,e)||U2(t,e)||_8()}function _8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U2(t,e){if(t){if(typeof t=="string")return $f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $f(t,e)}}function $f(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function C8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,a,o;try{for(n=n.call(t);!(r=(a=n.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,o=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw o}}return i}}function A8(t){if(Array.isArray(t))return t}function Rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rb(Object(n),!0).forEach(function(i){zf(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function zf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zu(t,e){if(t==null)return{};var n=T8(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function T8(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Wg=k.forwardRef(function(t,e){var n=t.children,i=zu(t,g8),r=V2(i),s=r.open,a=zu(r,y8);return k.useImperativeHandle(e,function(){return{open:s}},[s]),rr.createElement(k.Fragment,null,n(De(De({},a),{},{open:s})))});Wg.displayName="Dropzone";var B2={disabled:!1,getFilesFromEvent:$V,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Wg.defaultProps=B2;Wg.propTypes={children:Se.func,accept:Se.objectOf(Se.arrayOf(Se.string)),multiple:Se.bool,preventDropOnDocument:Se.bool,noClick:Se.bool,noKeyboard:Se.bool,noDrag:Se.bool,noDragEventsBubbling:Se.bool,minSize:Se.number,maxSize:Se.number,maxFiles:Se.number,disabled:Se.bool,getFilesFromEvent:Se.func,onFileDialogCancel:Se.func,onFileDialogOpen:Se.func,useFsAccessApi:Se.bool,autoFocus:Se.bool,onDragEnter:Se.func,onDragLeave:Se.func,onDragOver:Se.func,onDrop:Se.func,onDropAccepted:Se.func,onDropRejected:Se.func,onError:Se.func,validator:Se.func};var Uf={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function V2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=De(De({},B2),t),n=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,a=e.minSize,o=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,h=e.onDrop,f=e.onDropAccepted,m=e.onDropRejected,y=e.onFileDialogCancel,b=e.onFileDialogOpen,v=e.useFsAccessApi,x=e.autoFocus,w=e.preventDropOnDocument,S=e.noClick,C=e.noKeyboard,_=e.noDrag,T=e.noDragEventsBubbling,A=e.onError,E=e.validator,N=k.useMemo(function(){return h8(n)},[n]),I=k.useMemo(function(){return p8(n)},[n]),j=k.useMemo(function(){return typeof b=="function"?b:Ib},[b]),B=k.useMemo(function(){return typeof y=="function"?y:Ib},[y]),q=k.useRef(null),H=k.useRef(null),Q=k.useReducer(N8,Uf),Y=Gp(Q,2),P=Y[0],R=Y[1],L=P.isFocused,$=P.isFileDialogActive,se=k.useRef(typeof window<"u"&&window.isSecureContext&&v&&d8()),Ge=function(){!se.current&&$&&setTimeout(function(){if(H.current){var Z=H.current.files;Z.length||(R({type:"closeDialog"}),B())}},300)};k.useEffect(function(){return window.addEventListener("focus",Ge,!1),function(){window.removeEventListener("focus",Ge,!1)}},[H,$,B,se]);var ke=k.useRef([]),Ct=function(Z){q.current&&q.current.contains(Z.target)||(Z.preventDefault(),ke.current=[])};k.useEffect(function(){return w&&(document.addEventListener("dragover",Eb,!1),document.addEventListener("drop",Ct,!1)),function(){w&&(document.removeEventListener("dragover",Eb),document.removeEventListener("drop",Ct))}},[q,w]),k.useEffect(function(){return!i&&x&&q.current&&q.current.focus(),function(){}},[q,x,i]);var ye=k.useCallback(function(z){A?A(z):console.error(z)},[A]),En=k.useCallback(function(z){z.preventDefault(),z.persist(),gl(z),ke.current=[].concat(b8(ke.current),[z.target]),nc(z)&&Promise.resolve(r(z)).then(function(Z){if(!($u(z)&&!T)){var Qe=Z.length,st=Qe>0&&o8({files:Z,accept:N,minSize:a,maxSize:s,multiple:o,maxFiles:l,validator:E}),Ht=Qe>0&&!st;R({isDragAccept:st,isDragReject:Ht,isDragActive:!0,type:"setDraggedFiles"}),c&&c(z)}}).catch(function(Z){return ye(Z)})},[r,c,ye,T,N,a,s,o,l,E]),fl=k.useCallback(function(z){z.preventDefault(),z.persist(),gl(z);var Z=nc(z);if(Z&&z.dataTransfer)try{z.dataTransfer.dropEffect="copy"}catch{}return Z&&d&&d(z),!1},[d,T]),os=k.useCallback(function(z){z.preventDefault(),z.persist(),gl(z);var Z=ke.current.filter(function(st){return q.current&&q.current.contains(st)}),Qe=Z.indexOf(z.target);Qe!==-1&&Z.splice(Qe,1),ke.current=Z,!(Z.length>0)&&(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),nc(z)&&u&&u(z))},[q,u,T]),Kn=k.useCallback(function(z,Z){var Qe=[],st=[];z.forEach(function(Ht){var ma=j2(Ht,N),cs=Gp(ma,2),zd=cs[0],Ud=cs[1],Bd=F2(Ht,a,s),yl=Gp(Bd,2),Vd=yl[0],qd=yl[1],Hd=E?E(Ht):null;if(zd&&Vd&&!Hd)Qe.push(Ht);else{var Wd=[Ud,qd];Hd&&(Wd=Wd.concat(Hd)),st.push({file:Ht,errors:Wd.filter(function(vC){return vC})})}}),(!o&&Qe.length>1||o&&l>=1&&Qe.length>l)&&(Qe.forEach(function(Ht){st.push({file:Ht,errors:[a8]})}),Qe.splice(0)),R({acceptedFiles:Qe,fileRejections:st,isDragReject:st.length>0,type:"setFiles"}),h&&h(Qe,st,Z),st.length>0&&m&&m(st,Z),Qe.length>0&&f&&f(Qe,Z)},[R,o,N,a,s,l,h,f,m,E]),nn=k.useCallback(function(z){z.preventDefault(),z.persist(),gl(z),ke.current=[],nc(z)&&Promise.resolve(r(z)).then(function(Z){$u(z)&&!T||Kn(Z,z)}).catch(function(Z){return ye(Z)}),R({type:"reset"})},[r,Kn,ye,T]),fr=k.useCallback(function(){if(se.current){R({type:"openDialog"}),j();var z={multiple:o,types:I};window.showOpenFilePicker(z).then(function(Z){return r(Z)}).then(function(Z){Kn(Z,null),R({type:"closeDialog"})}).catch(function(Z){f8(Z)?(B(Z),R({type:"closeDialog"})):m8(Z)?(se.current=!1,H.current?(H.current.value=null,H.current.click()):ye(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ye(Z)});return}H.current&&(R({type:"openDialog"}),j(),H.current.value=null,H.current.click())},[R,j,B,v,Kn,ye,I,o]),Gg=k.useCallback(function(z){!q.current||!q.current.isEqualNode(z.target)||(z.key===" "||z.key==="Enter"||z.keyCode===32||z.keyCode===13)&&(z.preventDefault(),fr())},[q,fr]),ey=k.useCallback(function(){R({type:"focus"})},[]),ty=k.useCallback(function(){R({type:"blur"})},[]),ny=k.useCallback(function(){S||(u8()?setTimeout(fr,0):fr())},[S,fr]),ls=function(Z){return i?null:Z},$d=function(Z){return C?null:ls(Z)},ml=function(Z){return _?null:ls(Z)},gl=function(Z){T&&Z.stopPropagation()},mC=k.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=z.refKey,Qe=Z===void 0?"ref":Z,st=z.role,Ht=z.onKeyDown,ma=z.onFocus,cs=z.onBlur,zd=z.onClick,Ud=z.onDragEnter,Bd=z.onDragOver,yl=z.onDragLeave,Vd=z.onDrop,qd=zu(z,v8);return De(De(zf({onKeyDown:$d(Dn(Ht,Gg)),onFocus:$d(Dn(ma,ey)),onBlur:$d(Dn(cs,ty)),onClick:ls(Dn(zd,ny)),onDragEnter:ml(Dn(Ud,En)),onDragOver:ml(Dn(Bd,fl)),onDragLeave:ml(Dn(yl,os)),onDrop:ml(Dn(Vd,nn)),role:typeof st=="string"&&st!==""?st:"presentation"},Qe,q),!i&&!C?{tabIndex:0}:{}),qd)}},[q,Gg,ey,ty,ny,En,fl,os,nn,C,_,i]),gC=k.useCallback(function(z){z.stopPropagation()},[]),yC=k.useMemo(function(){return function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=z.refKey,Qe=Z===void 0?"ref":Z,st=z.onChange,Ht=z.onClick,ma=zu(z,x8),cs=zf({accept:N,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ls(Dn(st,nn)),onClick:ls(Dn(Ht,gC)),tabIndex:-1},Qe,H);return De(De({},cs),ma)}},[H,n,o,nn,i]);return De(De({},P),{},{isFocused:L&&!i,getRootProps:mC,getInputProps:yC,rootRef:q,inputRef:H,open:ls(fr)})}function N8(t,e){switch(e.type){case"focus":return De(De({},t),{},{isFocused:!0});case"blur":return De(De({},t),{},{isFocused:!1});case"openDialog":return De(De({},Uf),{},{isFileDialogActive:!0});case"closeDialog":return De(De({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return De(De({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return De(De({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return De({},Uf);default:return t}}function Ib(){}const P8=({onUpload:t,isUploading:e=!1,acceptedTypes:n=".pdf,.doc,.docx,.txt"})=>{const[i,r]=k.useState(0),s=k.useCallback(u=>{u.length>0&&t&&t(u)},[t]),{getRootProps:a,getInputProps:o,isDragActive:l,isDragReject:c}=V2({onDrop:s,accept:{"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"]},maxFiles:10,maxSize:50*1024*1024});return g("div",{className:"space-y-4",children:[g("div",{...a(),className:`
          relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all
          ${l&&!c?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":c?"border-red-400 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}
          ${e?"pointer-events-none opacity-50":""}
        `,children:[p("input",{...o()}),e?g("div",{className:"space-y-4",children:[p("div",{className:"text-4xl",children:"⏳"}),g("div",{children:[p("div",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"در حال آپلود..."}),p("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:p("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),g("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[i,"%"]})]})]}):g("div",{className:"space-y-4",children:[p("div",{className:"text-6xl",children:l?"📥":"📄"}),g("div",{children:[p("div",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:l?"فایل‌ها را اینجا رها کنید":"فایل‌هایتان را اینجا بکشید یا کلیک کنید"}),p("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"فرمت‌های پشتیبانی شده: PDF, DOC, DOCX, TXT (حداکثر ۵۰ مگابایت)"})]})]}),c&&p("div",{className:"absolute inset-0 bg-red-50 dark:bg-red-900/20 border-2 border-red-400 border-dashed rounded-lg flex items-center justify-center",children:g("div",{className:"text-center",children:[p("div",{className:"text-4xl mb-2",children:"❌"}),p("div",{className:"text-red-600 dark:text-red-400 font-medium",children:"فرمت فایل پشتیبانی نمی‌شود"})]})})]}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"حداکثر ۱۰ فایل در هر بار آپلود • حداکثر حجم هر فایل: ۵۰ مگابایت"})]})},E8=({history:t=[]})=>{const[e,n]=k.useState("all"),i=o=>{switch(o){case"completed":return"✅";case"processing":return"⏳";case"failed":return"❌";case"queued":return"⏱️";default:return"📄"}},r=o=>{switch(o){case"completed":return"تکمیل شده";case"processing":return"در حال پردازش";case"failed":return"ناموفق";case"queued":return"در صف";default:return"نامشخص"}},s=o=>{switch(o){case"completed":return"text-green-600 dark:text-green-400";case"processing":return"text-blue-600 dark:text-blue-400";case"failed":return"text-red-600 dark:text-red-400";case"queued":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-600 dark:text-gray-400"}},a=t.filter(o=>e==="all"?!0:o.status===e);return t.length,g("div",{className:"space-y-6",children:[g("div",{className:"flex justify-between items-center",children:[p("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📋 تاریخچه پردازش"}),g("select",{value:e,onChange:o=>n(o.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[p("option",{value:"all",children:"همه"}),p("option",{value:"completed",children:"تکمیل شده"}),p("option",{value:"processing",children:"در حال پردازش"}),p("option",{value:"failed",children:"ناموفق"}),p("option",{value:"queued",children:"در صف"})]})]}),p("div",{className:"space-y-4",children:a.length===0?g("div",{className:"text-center py-8",children:[p("div",{className:"text-gray-400 text-4xl mb-4",children:"📭"}),p("p",{className:"text-gray-500 dark:text-gray-400",children:"هیچ سابقه پردازشی یافت نشد"})]}):a.map(o=>g("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-6",children:[g("div",{className:"flex items-start justify-between mb-4",children:[g("div",{className:"flex items-center gap-3",children:[p("span",{className:"text-2xl",children:i(o.status)}),g("div",{children:[p("h3",{className:"font-medium text-gray-900 dark:text-white",children:o.filename}),p("span",{className:`text-sm ${s(o.status)}`,children:r(o.status)})]})]}),p("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.startTime})]}),g("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[g("div",{children:[p("span",{className:"text-gray-500 dark:text-gray-400",children:"حجم فایل:"}),p("div",{className:"font-medium text-gray-900 dark:text-white",children:o.fileSize})]}),o.pages&&g("div",{children:[p("span",{className:"text-gray-500 dark:text-gray-400",children:"تعداد صفحات:"}),p("div",{className:"font-medium text-gray-900 dark:text-white",children:o.pages})]}),g("div",{children:[p("span",{className:"text-gray-500 dark:text-gray-400",children:"زمان پردازش:"}),p("div",{className:"font-medium text-gray-900 dark:text-white",children:o.processingTime})]}),o.extractedText&&g("div",{children:[p("span",{className:"text-gray-500 dark:text-gray-400",children:"متن استخراج شده:"}),g("div",{className:"font-medium text-gray-900 dark:text-white",children:[o.extractedText," کلمه"]})]})]}),o.error&&p("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:g("div",{className:"text-red-700 dark:text-red-300 text-sm",children:[p("strong",{children:"خطا:"})," ",o.error]})}),o.status==="processing"&&g("div",{className:"mt-4",children:[p("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:p("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"در حال پردازش..."})]})]},o.id))})]})},R8=({progress:t,onCancel:e})=>{const{current:n,total:i,processed:r,failed:s,currentUrl:a,startTime:o}=t,l=i>0?Math.round(n/i*100):0,c=r+s,u=c>0?Math.round(r/c*100):0,d=()=>{if(!o)return"0:00";const f=Math.floor((new Date-o)/1e3),m=Math.floor(f/60),y=f%60;return`${m}:${y.toString().padStart(2,"0")}`},h=()=>{if(!o||n===0)return"نامشخص";const m=(new Date-o)/1e3/n,y=i-n,b=Math.round(y*m);if(b<60)return`${b} ثانیه`;const v=Math.floor(b/60),x=b%60;return`${v} دقیقه و ${x} ثانیه`};return g("div",{className:"card p-6 border-l-4 border-blue-500",children:[g("div",{className:"flex items-center justify-between mb-4",children:[g("div",{className:"flex items-center space-x-3 space-x-reverse",children:[p("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:p("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),g("div",{children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"پردازش در حال انجام"}),g("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["دسته ",n," از ",i," • ",l,"% تکمیل شده"]})]})]}),e&&p("button",{onClick:e,className:"px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg transition-colors text-sm font-medium",children:"لغو پردازش"})]}),g("div",{className:"mb-4",children:[g("div",{className:"flex items-center justify-between mb-2",children:[p("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پیشرفت کلی"}),g("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[l,"%"]})]}),p("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:p("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${l}%`}})})]}),g("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[g("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[p("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:r}),p("div",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"موفق"})]}),g("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[p("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:s}),p("div",{className:"text-xs text-red-700 dark:text-red-300 font-medium",children:"ناموفق"})]}),g("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[g("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[u,"%"]}),p("div",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"نرخ موفقیت"})]}),g("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[p("div",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:d()}),p("div",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:"زمان سپری شده"})]})]}),a&&g("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4",children:[g("div",{className:"flex items-center space-x-2 space-x-reverse mb-2",children:[p("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"در حال پردازش:"}),p("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),p("div",{className:"font-mono text-sm text-gray-600 dark:text-gray-400 break-all",children:a})]}),g("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[g("span",{children:["زمان تخمینی باقی‌مانده: ",h()]}),g("span",{children:["آخرین بروزرسانی: ",new Date().toLocaleTimeString("fa-IR")]})]})]})},I8=({results:t=[]})=>{const[e,n]=k.useState(null),[i,r]=k.useState("list"),s=t.length===0?[{id:1,filename:"قرارداد_نمونه.pdf",extractedText:"این یک نمونه متن استخراج شده از سند حقوقی است که شامل اطلاعات مهم قراردادی می‌باشد...",entities:[{type:"person",value:"احمد محمدی",confidence:.95},{type:"organization",value:"شرکت فناوری پارس",confidence:.92},{type:"date",value:"1402/10/15",confidence:.98},{type:"amount",value:"۵۰۰,۰۰۰ تومان",confidence:.89}],categories:["قرارداد","مدنی","تجاری"],confidence:.94,processingTime:"2.3 ثانیه",wordCount:1250,sentiment:"neutral"},{id:2,filename:"رای_دادگاه.pdf",extractedText:"رای شماره ۱۲۳۴ دادگاه عمومی تهران در خصوص پرونده کلاسه ۹۸۰۱۲۳...",entities:[{type:"court",value:"دادگاه عمومی تهران",confidence:.96},{type:"case_number",value:"۹۸۰۱۲۳",confidence:.99},{type:"judge",value:"قاضی رضایی",confidence:.91}],categories:["رای دادگاه","کیفری","حکم"],confidence:.97,processingTime:"3.1 ثانیه",wordCount:2150,sentiment:"formal"}]:t,a=u=>{switch(u){case"positive":return"😊";case"negative":return"😟";case"neutral":return"😐";case"formal":return"📋";default:return"❓"}},o=u=>{switch(u){case"positive":return"مثبت";case"negative":return"منفی";case"neutral":return"خنثی";case"formal":return"رسمی";default:return"نامشخص"}},l=u=>{switch(u){case"person":return"👤";case"organization":return"🏢";case"date":return"📅";case"amount":return"💰";case"court":return"⚖️";case"case_number":return"📋";case"judge":return"👨‍⚖️";default:return"🏷️"}},c=u=>{switch(u){case"person":return"شخص";case"organization":return"سازمان";case"date":return"تاریخ";case"amount":return"مبلغ";case"court":return"دادگاه";case"case_number":return"شماره پرونده";case"judge":return"قاضی";default:return u}};return g("div",{className:"space-y-6",children:[g("div",{className:"flex justify-between items-center",children:[p("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📊 نتایج تحلیل"}),g("div",{className:"flex gap-2",children:[p("button",{onClick:()=>r("list"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="list"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"📋 لیست"}),p("button",{onClick:()=>r("grid"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="grid"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"⊞ شبکه‌ای"})]})]}),s.length===0?g("div",{className:"text-center py-8",children:[p("div",{className:"text-gray-400 text-4xl mb-4",children:"📊"}),p("p",{className:"text-gray-500 dark:text-gray-400",children:"هنوز نتیجه‌ای برای نمایش وجود ندارد"})]}):p("div",{className:i==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-6",children:s.map(u=>g("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n(u),children:[g("div",{className:"flex justify-between items-start mb-4",children:[g("div",{children:[g("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:["📄 ",u.filename]}),g("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[g("span",{children:["⏱️ ",u.processingTime]}),g("span",{children:["📝 ",u.wordCount," کلمه"]}),g("span",{children:["🎯 ",Math.round(u.confidence*100),"%"]})]})]}),g("div",{className:"flex items-center gap-2",children:[p("span",{className:"text-lg",children:a(u.sentiment)}),p("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:o(u.sentiment)})]})]}),p("div",{className:"mb-4",children:p("div",{className:"flex flex-wrap gap-2",children:u.categories.map((d,h)=>p("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:d},h))})}),g("div",{className:"mb-4",children:[p("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"متن استخراج شده:"}),p("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3",children:u.extractedText})]}),g("div",{children:[p("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"موجودیت‌های شناسایی شده:"}),g("div",{className:"flex flex-wrap gap-2",children:[u.entities.slice(0,4).map((d,h)=>g("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:[p("span",{children:l(d.type)}),p("span",{className:"font-medium",children:d.value}),g("span",{className:"text-gray-500 dark:text-gray-400",children:["(",Math.round(d.confidence*100),"%)"]})]},h)),u.entities.length>4&&g("span",{className:"text-xs text-gray-500 dark:text-gray-400 px-2 py-1",children:["+",u.entities.length-4," بیشتر"]})]})]})]},u.id))}),e&&p("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:g("div",{className:"p-6",children:[g("div",{className:"flex justify-between items-start mb-6",children:[g("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["📄 ",e.filename]}),p("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:"✕"})]}),g("div",{className:"space-y-6",children:[g("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[g("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[Math.round(e.confidence*100),"%"]}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"دقت"})]}),g("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[p("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.wordCount}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"کلمه"})]}),g("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[p("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.entities.length}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"موجودیت"})]}),g("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[p("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.processingTime}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"زمان پردازش"})]})]}),g("div",{children:[p("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"متن کامل:"}),p("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm text-gray-700 dark:text-gray-300 max-h-60 overflow-y-auto",children:e.extractedText})]}),g("div",{children:[p("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"تمام موجودیت‌های شناسایی شده:"}),p("div",{className:"space-y-2",children:e.entities.map((u,d)=>g("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[g("div",{className:"flex items-center gap-3",children:[p("span",{className:"text-lg",children:l(u.type)}),g("div",{children:[p("div",{className:"font-medium text-gray-900 dark:text-white",children:u.value}),p("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:c(u.type)})]})]}),g("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[Math.round(u.confidence*100),"% اطمینان"]})]},d))})]})]})]})})})]})};function q2(t,e){return function(){return t.apply(e,arguments)}}const{toString:D8}=Object.prototype,{getPrototypeOf:Kg}=Object,{iterator:Id,toStringTag:H2}=Symbol,Dd=(t=>e=>{const n=D8.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pn=t=>(t=t.toLowerCase(),e=>Dd(e)===t),Md=t=>e=>typeof e===t,{isArray:ha}=Array,Ko=Md("undefined");function dl(t){return t!==null&&!Ko(t)&&t.constructor!==null&&!Ko(t.constructor)&&Ut(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const W2=Pn("ArrayBuffer");function M8(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&W2(t.buffer),e}const O8=Md("string"),Ut=Md("function"),K2=Md("number"),pl=t=>t!==null&&typeof t=="object",L8=t=>t===!0||t===!1,Ec=t=>{if(Dd(t)!=="object")return!1;const e=Kg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(H2 in t)&&!(Id in t)},j8=t=>{if(!pl(t)||dl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},F8=Pn("Date"),$8=Pn("File"),z8=Pn("Blob"),U8=Pn("FileList"),B8=t=>pl(t)&&Ut(t.pipe),V8=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ut(t.append)&&((e=Dd(t))==="formdata"||e==="object"&&Ut(t.toString)&&t.toString()==="[object FormData]"))},q8=Pn("URLSearchParams"),[H8,W8,K8,Q8]=["ReadableStream","Request","Response","Headers"].map(Pn),X8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),ha(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(dl(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(i=0;i<a;i++)o=s[i],e.call(null,t[o],o,t)}}function Q2(t,e){if(dl(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Lr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),X2=t=>!Ko(t)&&t!==Lr;function Bf(){const{caseless:t}=X2(this)&&this||{},e={},n=(i,r)=>{const s=t&&Q2(e,r)||r;Ec(e[s])&&Ec(i)?e[s]=Bf(e[s],i):Ec(i)?e[s]=Bf({},i):ha(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&hl(arguments[i],n);return e}const Y8=(t,e,n,{allOwnKeys:i}={})=>(hl(e,(r,s)=>{n&&Ut(r)?t[s]=q2(r,n):t[s]=r},{allOwnKeys:i}),t),J8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Z8=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},G8=(t,e,n,i)=>{let r,s,a;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)a=r[s],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&Kg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},eq=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},tq=t=>{if(!t)return null;if(ha(t))return t;let e=t.length;if(!K2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},nq=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Kg(Uint8Array)),iq=(t,e)=>{const i=(t&&t[Id]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},rq=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},sq=Pn("HTMLFormElement"),aq=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Db=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),oq=Pn("RegExp"),Y2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};hl(n,(r,s)=>{let a;(a=e(r,s,t))!==!1&&(i[s]=a||r)}),Object.defineProperties(t,i)},lq=t=>{Y2(t,(e,n)=>{if(Ut(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Ut(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},cq=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return ha(t)?i(t):i(String(t).split(e)),n},uq=()=>{},dq=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function pq(t){return!!(t&&Ut(t.append)&&t[H2]==="FormData"&&t[Id])}const hq=t=>{const e=new Array(10),n=(i,r)=>{if(pl(i)){if(e.indexOf(i)>=0)return;if(dl(i))return i;if(!("toJSON"in i)){e[r]=i;const s=ha(i)?[]:{};return hl(i,(a,o)=>{const l=n(a,r+1);!Ko(l)&&(s[o]=l)}),e[r]=void 0,s}}return i};return n(t,0)},fq=Pn("AsyncFunction"),mq=t=>t&&(pl(t)||Ut(t))&&Ut(t.then)&&Ut(t.catch),J2=((t,e)=>t?setImmediate:e?((n,i)=>(Lr.addEventListener("message",({source:r,data:s})=>{r===Lr&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Lr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ut(Lr.postMessage)),gq=typeof queueMicrotask<"u"?queueMicrotask.bind(Lr):typeof process<"u"&&process.nextTick||J2,yq=t=>t!=null&&Ut(t[Id]),M={isArray:ha,isArrayBuffer:W2,isBuffer:dl,isFormData:V8,isArrayBufferView:M8,isString:O8,isNumber:K2,isBoolean:L8,isObject:pl,isPlainObject:Ec,isEmptyObject:j8,isReadableStream:H8,isRequest:W8,isResponse:K8,isHeaders:Q8,isUndefined:Ko,isDate:F8,isFile:$8,isBlob:z8,isRegExp:oq,isFunction:Ut,isStream:B8,isURLSearchParams:q8,isTypedArray:nq,isFileList:U8,forEach:hl,merge:Bf,extend:Y8,trim:X8,stripBOM:J8,inherits:Z8,toFlatObject:G8,kindOf:Dd,kindOfTest:Pn,endsWith:eq,toArray:tq,forEachEntry:iq,matchAll:rq,isHTMLForm:sq,hasOwnProperty:Db,hasOwnProp:Db,reduceDescriptors:Y2,freezeMethods:lq,toObjectSet:cq,toCamelCase:aq,noop:uq,toFiniteNumber:dq,findKey:Q2,global:Lr,isContextDefined:X2,isSpecCompliantForm:pq,toJSONObject:hq,isAsyncFn:fq,isThenable:mq,setImmediate:J2,asap:gq,isIterable:yq};function ne(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}M.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const Z2=ne.prototype,G2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{G2[t]={value:t}});Object.defineProperties(ne,G2);Object.defineProperty(Z2,"isAxiosError",{value:!0});ne.from=(t,e,n,i,r,s)=>{const a=Object.create(Z2);return M.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ne.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const vq=null;function Vf(t){return M.isPlainObject(t)||M.isArray(t)}function eC(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function Mb(t,e,n){return t?t.concat(e).map(function(r,s){return r=eC(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function xq(t){return M.isArray(t)&&!t.some(Vf)}const bq=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Od(t,e,n){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!M.isUndefined(b[y])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(r))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new ne("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,y,b){let v=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(y,"{}"))y=i?y:y.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&xq(m)||(M.isFileList(m)||M.endsWith(y,"[]"))&&(v=M.toArray(m)))return y=eC(y),v.forEach(function(w,S){!(M.isUndefined(w)||w===null)&&e.append(a===!0?Mb([y],S,s):a===null?y:y+"[]",c(w))}),!1}return Vf(m)?!0:(e.append(Mb(b,y,s),c(m)),!1)}const d=[],h=Object.assign(bq,{defaultVisitor:u,convertValue:c,isVisitable:Vf});function f(m,y){if(!M.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(m),M.forEach(m,function(v,x){(!(M.isUndefined(v)||v===null)&&r.call(e,v,M.isString(x)?x.trim():x,y,h))===!0&&f(v,y?y.concat(x):[x])}),d.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return f(t),e}function Ob(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Qg(t,e){this._pairs=[],t&&Od(t,this,e)}const tC=Qg.prototype;tC.append=function(e,n){this._pairs.push([e,n])};tC.toString=function(e){const n=e?function(i){return e.call(this,i,Ob)}:Ob;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function wq(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nC(t,e,n){if(!e)return t;const i=n&&n.encode||wq;M.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=M.isURLSearchParams(e)?e.toString():new Qg(e,n).toString(i),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class kq{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Lb=kq,iC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sq=typeof URLSearchParams<"u"?URLSearchParams:Qg,_q=typeof FormData<"u"?FormData:null,Cq=typeof Blob<"u"?Blob:null,Aq={isBrowser:!0,classes:{URLSearchParams:Sq,FormData:_q,Blob:Cq},protocols:["http","https","file","blob","url","data"]},Xg=typeof window<"u"&&typeof document<"u",qf=typeof navigator=="object"&&navigator||void 0,Tq=Xg&&(!qf||["ReactNative","NativeScript","NS"].indexOf(qf.product)<0),Nq=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Pq=Xg&&window.location.href||"http://localhost",Eq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xg,hasStandardBrowserEnv:Tq,hasStandardBrowserWebWorkerEnv:Nq,navigator:qf,origin:Pq},Symbol.toStringTag,{value:"Module"})),wt={...Eq,...Aq};function Rq(t,e){return Od(t,new wt.classes.URLSearchParams,{visitor:function(n,i,r,s){return wt.isNode&&M.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Iq(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Dq(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function rC(t){function e(n,i,r,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&M.isArray(r)?r.length:a,l?(M.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!o):((!r[a]||!M.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],s)&&M.isArray(r[a])&&(r[a]=Dq(r[a])),!o)}if(M.isFormData(t)&&M.isFunction(t.entries)){const n={};return M.forEachEntry(t,(i,r)=>{e(Iq(i),r,n,0)}),n}return null}function Mq(t,e,n){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Yg={transitional:iC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return r?JSON.stringify(rC(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Rq(e,this.formSerializer).toString();if((o=M.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Od(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),Mq(e)):e}],transformResponse:[function(e){const n=this.transitional||Yg.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?ne.from(o,ne.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Yg.headers[t]={}});const Jg=Yg,Oq=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lq=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&Oq[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},jb=Symbol("internals");function Da(t){return t&&String(t).trim().toLowerCase()}function Rc(t){return t===!1||t==null?t:M.isArray(t)?t.map(Rc):String(t)}function jq(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const Fq=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function eh(t,e,n,i,r){if(M.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!M.isString(e)){if(M.isString(i))return e.indexOf(i)!==-1;if(M.isRegExp(i))return i.test(e)}}function $q(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function zq(t,e){const n=M.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,a){return this[i].call(this,e,r,s,a)},configurable:!0})})}class Ld{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(o,l,c){const u=Da(l);if(!u)throw new Error("header name must be a non-empty string");const d=M.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=Rc(o))}const a=(o,l)=>M.forEach(o,(c,u)=>s(c,u,l));if(M.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(M.isString(e)&&(e=e.trim())&&!Fq(e))a(Lq(e),n);else if(M.isObject(e)&&M.isIterable(e)){let o={},l,c;for(const u of e){if(!M.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?M.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(o,n)}else e!=null&&s(n,e,i);return this}get(e,n){if(e=Da(e),e){const i=M.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return jq(r);if(M.isFunction(n))return n.call(this,r,i);if(M.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Da(e),e){const i=M.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||eh(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(a){if(a=Da(a),a){const o=M.findKey(i,a);o&&(!n||eh(i,i[o],o,n))&&(delete i[o],r=!0)}}return M.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||eh(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return M.forEach(this,(r,s)=>{const a=M.findKey(i,s);if(a){n[a]=Rc(r),delete n[s];return}const o=e?$q(s):String(s).trim();o!==s&&delete n[s],n[o]=Rc(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return M.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&M.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[jb]=this[jb]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=Da(a);i[o]||(zq(r,a),i[o]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}}Ld.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Ld.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});M.freezeMethods(Ld);const An=Ld;function th(t,e){const n=this||Jg,i=e||n,r=An.from(i.headers);let s=i.data;return M.forEach(t,function(o){s=o.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function sC(t){return!!(t&&t.__CANCEL__)}function fa(t,e,n){ne.call(this,t??"canceled",ne.ERR_CANCELED,e,n),this.name="CanceledError"}M.inherits(fa,ne,{__CANCEL__:!0});function aC(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Uq(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Bq(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];a||(a=c),n[r]=l,i[r]=c;let d=s,h=0;for(;d!==r;)h+=n[d++],d=d%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-a<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function Vq(t,e){let n=0,i=1e3/e,r,s;const a=(c,u=Date.now())=>{n=u,r=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=i?a(c,u):(r=c,s||(s=setTimeout(()=>{s=null,a(r)},i-d)))},()=>r&&a(r)]}const Uu=(t,e,n=3)=>{let i=0;const r=Bq(50,250);return Vq(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-i,c=r(l),u=a<=o;i=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},n)},Fb=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},$b=t=>(...e)=>M.asap(()=>t(...e)),qq=wt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,wt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,Hq=wt.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const a=[t+"="+encodeURIComponent(e)];M.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),M.isString(i)&&a.push("path="+i),M.isString(r)&&a.push("domain="+r),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Wq(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Kq(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function oC(t,e,n){let i=!Wq(e);return t&&(i||n==!1)?Kq(t,e):e}const zb=t=>t instanceof An?{...t}:t;function Yr(t,e){e=e||{};const n={};function i(c,u,d,h){return M.isPlainObject(c)&&M.isPlainObject(u)?M.merge.call({caseless:h},c,u):M.isPlainObject(u)?M.merge({},u):M.isArray(u)?u.slice():u}function r(c,u,d,h){if(M.isUndefined(u)){if(!M.isUndefined(c))return i(void 0,c,d,h)}else return i(c,u,d,h)}function s(c,u){if(!M.isUndefined(u))return i(void 0,u)}function a(c,u){if(M.isUndefined(u)){if(!M.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function o(c,u,d){if(d in e)return i(c,u);if(d in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,d)=>r(zb(c),zb(u),d,!0)};return M.forEach(Object.keys({...t,...e}),function(u){const d=l[u]||r,h=d(t[u],e[u],u);M.isUndefined(h)&&d!==o||(n[u]=h)}),n}const lC=t=>{const e=Yr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=An.from(a),e.url=nC(oC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(M.isFormData(n)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(wt.hasStandardBrowserEnv&&(i&&M.isFunction(i)&&(i=i(e)),i||i!==!1&&qq(e.url))){const c=r&&s&&Hq.read(s);c&&a.set(r,c)}return e},Qq=typeof XMLHttpRequest<"u",Xq=Qq&&function(t){return new Promise(function(n,i){const r=lC(t);let s=r.data;const a=An.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=r,u,d,h,f,m;function y(){f&&f(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function v(){if(!b)return;const w=An.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:t,request:b};aC(function(T){n(T),y()},function(T){i(T),y()},C),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(i(new ne("Request aborted",ne.ECONNABORTED,t,b)),b=null)},b.onerror=function(){i(new ne("Network Error",ne.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let S=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const C=r.transitional||iC;r.timeoutErrorMessage&&(S=r.timeoutErrorMessage),i(new ne(S,C.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&M.forEach(a.toJSON(),function(S,C){b.setRequestHeader(C,S)}),M.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),o&&o!=="json"&&(b.responseType=r.responseType),c&&([h,m]=Uu(c,!0),b.addEventListener("progress",h)),l&&b.upload&&([d,f]=Uu(l),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",f)),(r.cancelToken||r.signal)&&(u=w=>{b&&(i(!w||w.type?new fa(null,t,b):w),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const x=Uq(r.url);if(x&&wt.protocols.indexOf(x)===-1){i(new ne("Unsupported protocol "+x+":",ne.ERR_BAD_REQUEST,t));return}b.send(s||null)})},Yq=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,o();const u=c instanceof Error?c:this.reason;i.abort(u instanceof ne?u:new fa(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,s(new ne(`timeout ${e} of ms exceeded`,ne.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>M.asap(o),l}},Jq=Yq,Zq=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},Gq=async function*(t,e){for await(const n of eH(t))yield*Zq(n,e)},eH=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},Ub=(t,e,n,i)=>{const r=Gq(t,e);let s=0,a,o=l=>{a||(a=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){o(),l.close();return}let d=u.byteLength;if(n){let h=s+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),r.return()}},{highWaterMark:2})},jd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cC=jd&&typeof ReadableStream=="function",tH=jd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),uC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},nH=cC&&uC(()=>{let t=!1;const e=new Request(wt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Bb=64*1024,Hf=cC&&uC(()=>M.isReadableStream(new Response("").body)),Bu={stream:Hf&&(t=>t.body)};jd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bu[e]&&(Bu[e]=M.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new ne(`Response type '${e}' is not supported`,ne.ERR_NOT_SUPPORT,i)})})})(new Response);const iH=async t=>{if(t==null)return 0;if(M.isBlob(t))return t.size;if(M.isSpecCompliantForm(t))return(await new Request(wt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(M.isArrayBufferView(t)||M.isArrayBuffer(t))return t.byteLength;if(M.isURLSearchParams(t)&&(t=t+""),M.isString(t))return(await tH(t)).byteLength},rH=async(t,e)=>{const n=M.toFiniteNumber(t.getContentLength());return n??iH(e)},sH=jd&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=lC(t);c=c?(c+"").toLowerCase():"text";let f=Jq([r,s&&s.toAbortSignal()],a),m;const y=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let b;try{if(l&&nH&&n!=="get"&&n!=="head"&&(b=await rH(u,i))!==0){let C=new Request(e,{method:"POST",body:i,duplex:"half"}),_;if(M.isFormData(i)&&(_=C.headers.get("content-type"))&&u.setContentType(_),C.body){const[T,A]=Fb(b,Uu($b(l)));i=Ub(C.body,Bb,T,A)}}M.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;m=new Request(e,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:v?d:void 0});let x=await fetch(m,h);const w=Hf&&(c==="stream"||c==="response");if(Hf&&(o||w&&y)){const C={};["status","statusText","headers"].forEach(E=>{C[E]=x[E]});const _=M.toFiniteNumber(x.headers.get("content-length")),[T,A]=o&&Fb(_,Uu($b(o),!0))||[];x=new Response(Ub(x.body,Bb,T,()=>{A&&A(),y&&y()}),C)}c=c||"text";let S=await Bu[M.findKey(Bu,c)||"text"](x,t);return!w&&y&&y(),await new Promise((C,_)=>{aC(C,_,{data:S,headers:An.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:m})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,t,m),{cause:v.cause||v}):ne.from(v,v&&v.code,t,m)}}),Wf={http:vq,xhr:Xq,fetch:sH};M.forEach(Wf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Vb=t=>`- ${t}`,aH=t=>M.isFunction(t)||t===null||t===!1,dC={getAdapter:t=>{t=M.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let a;if(i=n,!aH(n)&&(i=Wf[(a=String(n)).toLowerCase()],i===void 0))throw new ne(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+s]=i}if(!i){const s=Object.entries(r).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Vb).join(`
`):" "+Vb(s[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Wf};function nh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fa(null,t)}function qb(t){return nh(t),t.headers=An.from(t.headers),t.data=th.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dC.getAdapter(t.adapter||Jg.adapter)(t).then(function(i){return nh(t),i.data=th.call(t,t.transformResponse,i),i.headers=An.from(i.headers),i},function(i){return sC(i)||(nh(t),i&&i.response&&(i.response.data=th.call(t,t.transformResponse,i.response),i.response.headers=An.from(i.response.headers))),Promise.reject(i)})}const pC="1.11.0",Fd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fd[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Hb={};Fd.transitional=function(e,n,i){function r(s,a){return"[Axios v"+pC+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(e===!1)throw new ne(r(a," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!Hb[a]&&(Hb[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};Fd.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function oH(t,e,n){if(typeof t!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new ne("option "+s+" must be "+l,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+s,ne.ERR_BAD_OPTION)}}const Ic={assertOptions:oH,validators:Fd},Mn=Ic.validators;class Vu{constructor(e){this.defaults=e||{},this.interceptors={request:new Lb,response:new Lb}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Yr(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&Ic.assertOptions(i,{silentJSONParsing:Mn.transitional(Mn.boolean),forcedJSONParsing:Mn.transitional(Mn.boolean),clarifyTimeoutError:Mn.transitional(Mn.boolean)},!1),r!=null&&(M.isFunction(r)?n.paramsSerializer={serialize:r}:Ic.assertOptions(r,{encode:Mn.function,serialize:Mn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ic.assertOptions(n,{baseUrl:Mn.spelling("baseURL"),withXsrfToken:Mn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&M.merge(s.common,s[n.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=An.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,h;if(!l){const m=[qb.bind(this),void 0];for(m.unshift(...o),m.push(...c),h=m.length,u=Promise.resolve(n);d<h;)u=u.then(m[d++],m[d++]);return u}h=o.length;let f=n;for(d=0;d<h;){const m=o[d++],y=o[d++];try{f=m(f)}catch(b){y.call(this,b);break}}try{u=qb.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Yr(this.defaults,e);const n=oC(e.baseURL,e.url,e.allowAbsoluteUrls);return nC(n,e.params,e.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(e){Vu.prototype[e]=function(n,i){return this.request(Yr(i||{},{method:e,url:n,data:(i||{}).data}))}});M.forEach(["post","put","patch"],function(e){function n(i){return function(s,a,o){return this.request(Yr(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Vu.prototype[e]=n(),Vu.prototype[e+"Form"]=n(!0)});const Dc=Vu;class Zg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},e(function(s,a,o){i.reason||(i.reason=new fa(s,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Zg(function(r){e=r}),cancel:e}}}const lH=Zg;function cH(t){return function(n){return t.apply(null,n)}}function uH(t){return M.isObject(t)&&t.isAxiosError===!0}const Kf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kf).forEach(([t,e])=>{Kf[e]=t});const dH=Kf;function hC(t){const e=new Dc(t),n=q2(Dc.prototype.request,e);return M.extend(n,Dc.prototype,e,{allOwnKeys:!0}),M.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return hC(Yr(t,r))},n}const Ze=hC(Jg);Ze.Axios=Dc;Ze.CanceledError=fa;Ze.CancelToken=lH;Ze.isCancel=sC;Ze.VERSION=pC;Ze.toFormData=Od;Ze.AxiosError=ne;Ze.Cancel=Ze.CanceledError;Ze.all=function(e){return Promise.all(e)};Ze.spread=cH;Ze.isAxiosError=uH;Ze.mergeConfig=Yr;Ze.AxiosHeaders=An;Ze.formToJSON=t=>rC(M.isHTMLForm(t)?new FormData(t):t);Ze.getAdapter=dC.getAdapter;Ze.HttpStatusCode=dH;Ze.default=Ze;const pH=Ze;class hH{constructor(){this.baseURL="https://your-backend-domain.com",this.axiosInstance=pH.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.cache=new Map,this.cacheTimeout=5*60*1e3}async analyzeContent(e){if(!e||!Array.isArray(e)||e.length===0)throw new Error("لطفاً آرایه‌ای از متن‌ها ارسال کنید");const n=this.createCacheKey(e);if(this.cache.has(n)){const i=this.cache.get(n);if(Date.now()-i.timestamp<this.cacheTimeout)return console.log("📋 استفاده از نتایج کش شده"),i.data}try{console.log(`🔍 تحلیل ${e.length} متن با هوش مصنوعی`);const i=await this.axiosInstance.post("/analyze",{texts:e});if(i.data.success)return this.cache.set(n,{data:i.data,timestamp:Date.now()}),i.data;throw new Error(i.data.error||"خطا در تحلیل")}catch(i){if(console.error("خطا در تحلیل هوش مصنوعی:",i),i.code==="ECONNREFUSED"||i.code==="ERR_NETWORK")return console.warn("🔄 استفاده از تحلیل محلی به دلیل عدم دسترسی به سرور"),this.fallbackAnalysis(e);throw new Error(i.response?.data?.error||i.message||"خطا در اتصال به سرور تحلیل")}}async getStats(){try{const e=await this.axiosInstance.get("/stats");return e.data.success?e.data.stats:null}catch(e){return console.error("خطا در دریافت آمار:",e),null}}async checkHealth(){try{return(await this.axiosInstance.get("/health")).data.status==="healthy"}catch{return!1}}fallbackAnalysis(e){console.log("📊 اجرای تحلیل محلی...");const i=e.map((r,s)=>{const a=this.detectCategoryLocally(r),o=this.calculateLocalConfidence(r,a);return{text:r.substring(0,150)+(r.length>150?"...":""),fullText:r,category:a.type,score:o/100,confidence:o,legalType:a.type,legalScore:a.score,entities:this.extractEntitiesLocally(r),textLength:r.length,language:this.detectLanguage(r),analyzedAt:new Date().toISOString(),isLocal:!0}}).sort((r,s)=>s.confidence-r.confidence);return{success:!0,total:i.length,ranked:i,isLocal:!0,timestamp:new Date().toISOString(),stats:{totalRequests:e.length,successfulRequests:e.length,successRate:100,averageConfidence:Math.round(i.reduce((r,s)=>r+s.confidence,0)/i.length)}}}detectCategoryLocally(e){const n={قرارداد:{regex:/قرارداد|طرفین|خریدار|فروشنده|اجاره/gi,score:0},رای_دادگاه:{regex:/رای|حکم|دادگاه|قاضی|خواهان|خوانده/gi,score:0},قانون:{regex:/قانون|ماده|تبصره|فصل|باب/gi,score:0},دادخواست:{regex:/دادخواست|خواهان|علیه|خوانده/gi,score:0},شکایت:{regex:/شکایت|متهم|شاکی|جرم/gi,score:0},مصوبه:{regex:/مصوبه|تصویب|شورا|کمیسیون/gi,score:0},اخبار:{regex:/خبر|گزارش|اعلام|اطلاع/gi,score:0}};let i={type:"عمومی",score:0};return Object.entries(n).forEach(([r,s])=>{const o=(e.match(s.regex)||[]).length*10;o>i.score&&(i={type:r,score:Math.min(o,100)})}),i}calculateLocalConfidence(e,n){let i=50;return e.length>100&&(i+=10),e.length>500&&(i+=10),i+=Math.min(n.score/5,20),i+=Math.random()*10-5,Math.max(30,Math.min(95,Math.round(i)))}extractEntitiesLocally(e){return{persons:[...e.match(/(?:آقای|خانم|دکتر)\s+([آ-ی\s]{2,30})/gi)||[]].slice(0,3),dates:[...e.match(/\d{4}\/\d{1,2}\/\d{1,2}|[۰-۹]{4}\/[۰-۹]{1,2}\/[۰-۹]{1,2}/g)||[]].slice(0,3),amounts:[...e.match(/([\d,۰-۹]+)\s*(تومان|ریال)/gi)||[]].slice(0,2)}}detectLanguage(e){const n=(e.match(/[\u0600-\u06FF]/g)||[]).length,i=e.replace(/\s/g,"").length,r=n/i;return r>.7?"fa":r>.3?"mixed":"en"}createCacheKey(e){return btoa(JSON.stringify(e.map(n=>n.substring(0,100)))).substring(0,50)}clearCache(){this.cache.clear()}getCacheSize(){return this.cache.size}}const Wb=new hH,fH=({texts:t=[],title:e="🧠 رتبه‌بندی هوش مصنوعی",showDetails:n=!0,autoAnalyze:i=!1,className:r=""})=>{const[s,a]=k.useState([]),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,h]=k.useState(null),[f,m]=k.useState(null),[y,b]=k.useState("unknown");k.useEffect(()=>{v(),i&&t.length>0&&x()},[t,i]);const v=async()=>{const _=await Wb.checkHealth();b(_?"healthy":"offline")},x=async()=>{if(t.length===0){h("هیچ متنی برای تحلیل وجود ندارد");return}l(!0),h(null);try{const _=await Wb.analyzeContent(t);a(_.ranked||[]),m(_.stats),_.isLocal&&h("⚠️ سرور هوش مصنوعی در دسترس نیست. از تحلیل محلی استفاده شد.")}catch(_){h(_.message),a([])}finally{l(!1)}},w=_=>_>=80?"text-green-600 dark:text-green-400":_>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",S=_=>_>=80?"bg-green-100 dark:bg-green-900/20":_>=60?"bg-yellow-100 dark:bg-yellow-900/20":"bg-red-100 dark:bg-red-900/20",C=_=>({قرارداد:"📄",رای_دادگاه:"⚖️",قانون:"📜",دادخواست:"📝",شکایت:"🚨",مصوبه:"✅",اخبار:"📰"})[_]||"📋";return t.length===0?p("div",{className:`bg-gray-50 dark:bg-gray-800 rounded-lg p-6 ${r}`,children:g("div",{className:"text-center",children:[p(Xt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),p("p",{className:"text-gray-600 dark:text-gray-300",children:"هیچ متنی برای تحلیل هوش مصنوعی وجود ندارد"})]})}):g("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${r}`,children:[p("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:g("div",{className:"flex items-center justify-between",children:[g("div",{className:"flex items-center gap-3",children:[p("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:p(Xt,{className:"w-4 h-4 text-white"})}),g("div",{children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e}),g("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[g("span",{children:[t.length," متن"]}),p("span",{children:"•"}),g("div",{className:`flex items-center gap-1 ${y==="healthy"?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:[p("div",{className:`w-2 h-2 rounded-full ${y==="healthy"?"bg-green-500":"bg-orange-500"}`}),y==="healthy"?"آنلاین":"آفلاین"]})]})]})]}),g("div",{className:"flex items-center gap-2",children:[!i&&p("button",{onClick:x,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?g(Hn,{children:[p(Lo,{className:"w-4 h-4 animate-spin"}),"تحلیل..."]}):g(Hn,{children:[p(Kr,{className:"w-4 h-4"}),"تحلیل"]})}),s.length>0&&p("button",{onClick:()=>u(!c),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:c?p(nO,{className:"w-4 h-4"}):p(GM,{className:"w-4 h-4"})})]})]})}),d&&p("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800",children:p("p",{className:"text-red-700 dark:text-red-300 text-sm",children:d})}),o&&p("div",{className:"p-6",children:p("div",{className:"flex items-center justify-center",children:g("div",{className:"text-center",children:[p(Lo,{className:"w-8 h-8 text-purple-600 animate-spin mx-auto mb-3"}),p("p",{className:"text-gray-600 dark:text-gray-300",children:"در حال تحلیل با هوش مصنوعی..."}),p("div",{className:"mt-3 w-64 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:p("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})})}),!o&&s.length>0&&g("div",{className:"p-4",children:[f&&g("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[g("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[g("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[f.averageConfidence,"%"]}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"میانگین اطمینان"})]}),g("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[g("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[f.successRate,"%"]}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نرخ موفقیت"})]}),g("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[p("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:s.length}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"تحلیل شده"})]})]}),p("div",{className:"space-y-3",children:s.slice(0,c?s.length:3).map((_,T)=>g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.1},className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[p("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:T+1}),p("div",{className:"text-2xl",children:C(_.category)}),g("div",{className:"flex-1 min-w-0",children:[g("div",{className:"flex items-center gap-2 mb-1",children:[p("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(_.confidence)} ${w(_.confidence)}`,children:_.category}),g("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[p(u_,{className:"w-3 h-3"}),_.confidence,"%"]}),_.isLocal&&p("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 text-xs rounded",children:"محلی"})]}),p("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:_.text}),n&&c&&g("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-600",children:[g("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[g("span",{children:["طول: ",_.textLength," کاراکتر"]}),g("span",{children:["زبان: ",_.language]}),_.legalScore>0&&g("span",{children:["امتیاز حقوقی: ",_.legalScore]})]}),_.entities&&Object.values(_.entities).some(A=>A.length>0)&&p("div",{className:"mt-2",children:p("div",{className:"flex flex-wrap gap-1",children:Object.entries(_.entities).map(([A,E])=>E.slice(0,2).map((N,I)=>p("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs rounded",children:N},`${A}-${I}`)))})})]})]}),p("div",{className:"flex-shrink-0 w-16",children:p("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:p("div",{className:`h-2 rounded-full transition-all duration-500 ${_.confidence>=80?"bg-green-500":_.confidence>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${_.confidence}%`}})})})]},T))}),s.length>3&&p("div",{className:"mt-4 text-center",children:p("button",{onClick:()=>u(!c),className:"text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 text-sm font-medium transition-colors",children:c?"نمایش کمتر":`نمایش ${s.length-3} مورد دیگر`})})]}),!o&&s.length===0&&!d&&t.length>0&&g("div",{className:"p-6 text-center",children:[p(Xt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),p("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"برای مشاهده رتبه‌بندی هوش مصنوعی، دکمه تحلیل را کلیک کنید"})]})]})},Kb=()=>{const[t,e]=x1(),{getApiUrl:n,getWebSocketUrl:i}=ul(),{showNotification:r,showApiError:s}=P2(),a=Gr(),[o,l]=k.useState(t.get("tab")||"manual"),[c]=k.useState(["قرارداد خرید و فروش ملک واقع در تهران بین آقای احمد محمدی به عنوان خریدار و خانم زهرا احمدی به عنوان فروشنده منعقد می‌گردد.","دادگاه عمومی تهران در جلسه مورخ 1402/09/15 با حضور قاضی دکتر رضایی و بررسی پرونده کلاسه 9801234 رای زیر را صادر نمود.","بخشنامه شماره 1234 وزارت دادگستری در خصوص نحوه رسیدگی به پرونده‌های مدنی به تمامی دادگاه‌های کشور ابلاغ می‌گردد."]),[u,d]=k.useState(!1),[h,f]=k.useState({current:0,total:0,processed:0,failed:0,currentUrl:"",startTime:null}),m=k.useRef(null),[y,b]=k.useState(!1);k.useEffect(()=>{e({tab:o},{replace:!0})},[o,e]),k.useEffect(()=>{const I=()=>{try{const j=new WebSocket(i());j.onopen=()=>{console.log("WebSocket connected"),b(!0),r("اتصال بلادرنگ برقرار شد","success")},j.onmessage=B=>{try{const q=JSON.parse(B.data);v(q)}catch(q){console.error("Error parsing WebSocket message:",q)}},j.onclose=()=>{console.log("WebSocket disconnected"),b(!1),setTimeout(()=>{(!m.current||m.current.readyState===WebSocket.CLOSED)&&I()},5e3)},j.onerror=B=>{console.error("WebSocket error:",B),b(!1)},m.current=j}catch(j){console.error("Failed to connect WebSocket:",j),b(!1)}};return I(),()=>{m.current&&m.current.close()}},[i,r]);const v=I=>{switch(I.type){case"progress":f(j=>({...j,current:I.batch||j.current,total:I.total_batches||j.total}));break;case"success":f(j=>({...j,processed:j.processed+1,currentUrl:I.url||""})),a.invalidateQueries(["processedDocuments"]);break;case"error":f(j=>({...j,failed:j.failed+1})),r(`خطا در پردازش: ${I.url}`,"error");break;case"completed":d(!1),f(j=>({...j,currentUrl:""})),r(`پردازش تکمیل شد. موفق: ${I.total_processed}, ناموفق: ${I.total_failed}`,"success"),a.invalidateQueries(["processedDocuments"]);break;case"info":r(I.message,"info");break;default:console.log("Unknown WebSocket message type:",I.type)}};bt({queryKey:["processingStatus"],queryFn:async()=>{const I=await fetch(n("/process"));if(!I.ok)throw new Error(`HTTP ${I.status}: ${I.statusText}`);return I.json()},refetchInterval:5e3,onSuccess:I=>{d(I.processing||!1),I.processing&&f(j=>({...j,current:I.current_batch||0,total:I.total_batches||0,processed:I.processed_count||0,failed:I.failed_count||0,currentUrl:I.current_url||""}))}});const{data:x,isLoading:w,error:S}=bt({queryKey:["processedDocuments"],queryFn:async()=>{const I=await fetch(n("/processed-documents"));if(!I.ok)throw new Error(`HTTP ${I.status}: ${I.statusText}`);return I.json()},refetchInterval:3e4}),C=Ts({mutationFn:async({urls:I,useProxy:j,batchSize:B,maxRetries:q})=>{const H=await fetch(n("/process-urls"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:I,use_proxy:j,batch_size:B,max_retries:q})});if(!H.ok)throw new Error(`HTTP ${H.status}: ${H.statusText}`);return H.json()},onSuccess:I=>{d(!0),f({current:0,total:Math.ceil(I.total_urls/(I.batch_size||5)),processed:0,failed:0,currentUrl:"",startTime:new Date}),r(`پردازش ${I.total_urls} سند آغاز شد`,"success")},onError:I=>{s(I,"خطا در شروع پردازش")}}),_=Ts({mutationFn:async I=>{const j=new FormData;j.append("file",I);const B=await fetch(n("/upload-urls"),{method:"POST",body:j});if(!B.ok)throw new Error(`HTTP ${B.status}: ${B.statusText}`);return B.json()},onSuccess:I=>{r(`${I.count} آدرس از فایل استخراج شد`,"success")},onError:I=>{s(I,"خطا در آپلود فایل")}}),T=(I,j={})=>{C.mutate({urls:I,useProxy:j.useProxy!==!1,batchSize:j.batchSize||5,maxRetries:j.maxRetries||3})},A=I=>{_.mutate(I)};return g("div",{className:"space-y-6",children:[g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"پردازش اسناد حقوقی"}),p("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"پردازش، تحلیل و دسته‌بندی اسناد حقوقی"})]}),g("div",{className:"flex items-center space-x-3 space-x-reverse",children:[g("div",{className:"flex items-center space-x-2 space-x-reverse",children:[p("div",{className:`w-2 h-2 rounded-full ${y?"bg-green-500":"bg-red-500"}`}),p("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:y?"متصل":"قطع شده"})]}),u&&g("div",{className:"flex items-center space-x-2 space-x-reverse",children:[p(pn,{size:"sm"}),p("span",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"در حال پردازش..."})]})]})]}),u&&p(R8,{progress:h,onCancel:()=>{r("قابلیت لغو در نسخه بعدی اضافه خواهد شد","info")}}),p(NV,{tabs:[{id:"manual",title:"پردازش دستی",icon:"✏️",description:"پردازش تک‌به‌تک اسناد"},{id:"batch",title:"پردازش دسته‌ای",icon:"📁",description:"پردازش چندین سند همزمان"},{id:"upload",title:"آپلود فایل",icon:"📤",description:"آپلود فایل حاوی آدرس‌ها"},{id:"history",title:"تاریخچه پردازش",icon:"📊",description:"مشاهده سوابق پردازش"}],activeTab:o,onTabChange:l}),p("div",{className:"min-h-96",children:(()=>{switch(o){case"manual":return p(PV,{onProcess:T,isProcessing:C.isLoading});case"batch":return p(EV,{onProcess:T,isProcessing:C.isLoading});case"upload":return p(P8,{onUpload:A,onProcess:T,isUploading:_.isLoading,isProcessing:C.isLoading,uploadResult:_.data});case"history":return p(E8,{documents:x?.documents||[],loading:w,error:S});default:return null}})()}),x?.documents&&x.documents.length>0&&g("div",{className:"mt-8 space-y-6",children:[p(fH,{texts:c,title:"🧠 رتبه‌بندی اسناد پردازش شده",showDetails:!0,autoAnalyze:!1}),p(I8,{documents:x.documents,total:x.total,loading:w})]}),S&&p(A2,{title:"خطا در دریافت نتایج پردازش",message:S.message,onRetry:()=>a.invalidateQueries(["processedDocuments"])})]})},mH=({tabs:t,activeTab:e,onTabChange:n})=>p("div",{className:"border-b border-gray-200 dark:border-gray-700",children:p("nav",{className:"-mb-px flex space-x-8 space-x-reverse overflow-x-auto",children:t.map(i=>g("button",{onClick:()=>n(i.id),className:`
              group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
              ${e===i.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"}
            `,children:[p("span",{className:"text-lg ml-2",children:i.icon}),p("span",{children:i.title}),i.description&&g("span",{className:"hidden lg:block text-xs text-gray-400 dark:text-gray-500 mr-2",children:["• ",i.description]})]},i.id))})}),gH=({proxies:t=[],loading:e=!1,selectedProxies:n=[],onSelectionChange:i,onTest:r,onRemove:s,onRefresh:a})=>{const o=d=>{i(d?t.map(h=>h.id):[])},l=(d,h)=>{i(h?[...n,d]:n.filter(f=>f!==d))},c=d=>{switch(d){case"active":return"🟢";case"inactive":return"🔴";case"testing":return"🟡";default:return"⚪"}},u=d=>d<100?"text-green-600 dark:text-green-400":d<300?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return e?p("div",{className:"card p-8 text-center",children:p(pn,{size:"lg",text:"در حال بارگذاری لیست پروکسی‌ها..."})}):t.length===0?g("div",{className:"card p-8 text-center",children:[p("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:p("span",{className:"text-2xl",children:"🌐"})}),p("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هیچ پروکسی یافت نشد"}),p("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"لیست پروکسی‌ها خالی است. پروکسی جدید اضافه کنید یا لیست را بروزرسانی کنید."}),p("button",{onClick:a,className:"btn btn-primary",children:"بروزرسانی لیست"})]}):g("div",{className:"space-y-4",children:[g("div",{className:"flex items-center justify-between",children:[p("div",{className:"flex items-center space-x-4 space-x-reverse",children:g("label",{className:"flex items-center",children:[p("input",{type:"checkbox",checked:n.length===t.length&&t.length>0,onChange:d=>o(d.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),g("span",{className:"mr-2 text-sm text-gray-700 dark:text-gray-300",children:["انتخاب همه (",t.length,")"]})]})}),p("div",{className:"flex items-center space-x-2 space-x-reverse",children:p("button",{onClick:a,className:"btn btn-secondary btn-sm",children:"🔄 بروزرسانی"})})]}),p("div",{className:"card overflow-hidden",children:p("div",{className:"overflow-x-auto",children:g("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[p("thead",{className:"bg-gray-50 dark:bg-gray-800",children:g("tr",{children:[p("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"انتخاب"}),p("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"وضعیت"}),p("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"آدرس"}),p("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"کشور"}),p("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"تأخیر"}),p("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"آخرین تست"}),p("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"عملیات"})]})}),p("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:t.map(d=>g("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[p("td",{className:"px-6 py-4 whitespace-nowrap",children:p("input",{type:"checkbox",checked:n.includes(d.id),onChange:h=>l(d.id,h.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),p("td",{className:"px-6 py-4 whitespace-nowrap",children:g("div",{className:"flex items-center",children:[p("span",{className:"text-lg ml-2",children:c(d.status)}),p("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d.status==="active"?"فعال":d.status==="inactive"?"غیرفعال":d.status==="testing"?"در حال تست":"نامشخص"})]})}),g("td",{className:"px-6 py-4 whitespace-nowrap",children:[g("div",{className:"text-sm font-mono text-gray-900 dark:text-white",children:[d.host,":",d.port]}),d.type&&p("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.type.toUpperCase()})]}),p("td",{className:"px-6 py-4 whitespace-nowrap",children:p("div",{className:"flex items-center",children:d.country&&g(Hn,{children:[p("span",{className:"text-lg ml-1",children:d.country_flag||"🌐"}),p("span",{className:"text-sm text-gray-900 dark:text-white",children:d.country})]})})}),p("td",{className:"px-6 py-4 whitespace-nowrap",children:d.latency?g("span",{className:`text-sm font-medium ${u(d.latency)}`,children:[d.latency,"ms"]}):p("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"-"})}),p("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:d.last_tested?new Date(d.last_tested).toLocaleString("fa-IR"):"هرگز"}),p("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:g("div",{className:"flex items-center space-x-2 space-x-reverse",children:[p("button",{onClick:()=>r([d.id]),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"تست پروکسی",children:"🔍"}),p("button",{onClick:()=>s([d.id]),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"حذف پروکسی",children:"🗑️"})]})})]},d.id))})]})})}),g("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[g("span",{children:[t.length," پروکسی • ",t.filter(d=>d.status==="active").length," فعال"]}),n.length>0&&g("span",{children:[n.length," مورد انتخاب شده"]})]})]})},yH=({proxies:t=[],loading:e=!1,onTest:n,testLoading:i=!1})=>{const r=t.filter(u=>u.status==="active"),s=t.filter(u=>u.status==="inactive"),a=t.filter(u=>!u.last_tested),o=()=>{const u=t.map(d=>d.id);n(u)},l=()=>{const u=r.map(d=>d.id);n(u)},c=()=>{const u=s.map(d=>d.id);n(u)};return e?p("div",{className:"card p-8 text-center",children:p(pn,{size:"lg",text:"در حال بارگذاری اطلاعات پروکسی‌ها..."})}):g("div",{className:"space-y-6",children:[g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[g("div",{className:"card p-4 text-center",children:[p("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length}),p("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"کل پروکسی‌ها"})]}),g("div",{className:"card p-4 text-center",children:[p("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:r.length}),p("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"فعال"})]}),g("div",{className:"card p-4 text-center",children:[p("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:s.length}),p("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"غیرفعال"})]}),g("div",{className:"card p-4 text-center",children:[p("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:a.length}),p("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"تست نشده"})]})]}),g("div",{className:"card p-6",children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تست سلامت پروکسی‌ها"}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g("button",{onClick:o,disabled:i||t.length===0,className:"btn btn-primary flex items-center justify-center space-x-2 space-x-reverse",children:[i?p(pn,{size:"sm"}):p("span",{children:"🔍"}),g("span",{children:["تست همه (",t.length,")"]})]}),g("button",{onClick:l,disabled:i||r.length===0,className:"btn btn-success flex items-center justify-center space-x-2 space-x-reverse",children:[i?p(pn,{size:"sm"}):p("span",{children:"✅"}),g("span",{children:["تست فعال‌ها (",r.length,")"]})]}),g("button",{onClick:c,disabled:i||s.length===0,className:"btn btn-warning flex items-center justify-center space-x-2 space-x-reverse",children:[i?p(pn,{size:"sm"}):p("span",{children:"🔄"}),g("span",{children:["تست غیرفعال‌ها (",s.length,")"]})]})]})]}),t.length>0&&g("div",{className:"card p-6",children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"جزئیات سلامت"}),g("div",{className:"space-y-4",children:[g("div",{children:[p("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"توزیع تأخیر"}),g("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[g("div",{className:"bg-green-100 dark:bg-green-900/20 p-2 rounded text-center",children:[p("div",{className:"font-semibold text-green-800 dark:text-green-200",children:t.filter(u=>u.latency&&u.latency<100).length}),p("div",{className:"text-green-600 dark:text-green-400",children:"< 100ms"})]}),g("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 p-2 rounded text-center",children:[p("div",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:t.filter(u=>u.latency&&u.latency>=100&&u.latency<300).length}),p("div",{className:"text-yellow-600 dark:text-yellow-400",children:"100-300ms"})]}),g("div",{className:"bg-red-100 dark:bg-red-900/20 p-2 rounded text-center",children:[p("div",{className:"font-semibold text-red-800 dark:text-red-200",children:t.filter(u=>u.latency&&u.latency>=300).length}),p("div",{className:"text-red-600 dark:text-red-400",children:"> 300ms"})]})]})]}),t.some(u=>u.country)&&g("div",{children:[p("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"توزیع کشورها"}),p("div",{className:"flex flex-wrap gap-2",children:Object.entries(t.reduce((u,d)=>(d.country&&(u[d.country]=(u[d.country]||0)+1),u),{})).map(([u,d])=>g("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200",children:[u," (",d,")"]},u))})]}),g("div",{children:[p("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"آخرین تست‌ها"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[g("div",{children:[p("span",{className:"text-gray-500 dark:text-gray-400",children:"امروز:"}),p("span",{className:"font-medium mr-2",children:t.filter(u=>{if(!u.last_tested)return!1;const d=new Date(u.last_tested),h=new Date;return d.toDateString()===h.toDateString()}).length})]}),g("div",{children:[p("span",{className:"text-gray-500 dark:text-gray-400",children:"این هفته:"}),p("span",{className:"font-medium mr-2",children:t.filter(u=>{if(!u.last_tested)return!1;const d=new Date(u.last_tested),h=new Date;return h.setDate(h.getDate()-7),d>h}).length})]})]})]})]})]}),t.length===0&&g("div",{className:"card p-8 text-center",children:[p("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:p("span",{className:"text-2xl",children:"🏥"})}),p("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هیچ پروکسی برای تست وجود ندارد"}),p("p",{className:"text-gray-500 dark:text-gray-400",children:"ابتدا پروکسی‌هایی اضافه کنید تا بتوانید سلامت آنها را بررسی کنید."})]})]})},vH=({onAdd:t,loading:e=!1})=>{const[n,i]=k.useState({host:"",port:"",type:"http",username:"",password:"",country:"",description:""}),[r,s]=k.useState({}),a=()=>{const u={};return n.host.trim()||(u.host="آدرس هاست الزامی است"),n.port.trim()?(!/^\d+$/.test(n.port)||parseInt(n.port)<1||parseInt(n.port)>65535)&&(u.port="پورت باید عددی بین ۱ تا ۶۵۵۳۵ باشد"):u.port="پورت الزامی است",s(u),Object.keys(u).length===0},o=u=>{if(u.preventDefault(),!a())return;const d={...n,port:parseInt(n.port)};t(d),i({host:"",port:"",type:"http",username:"",password:"",country:"",description:""}),s({})},l=(u,d)=>{i(h=>({...h,[u]:d})),r[u]&&s(h=>({...h,[u]:""}))},c=[{value:"http",label:"HTTP"},{value:"https",label:"HTTPS"},{value:"socks4",label:"SOCKS4"},{value:"socks5",label:"SOCKS5"}];return g("div",{className:"space-y-6",children:[g("div",{className:"card p-6",children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"افزودن پروکسی جدید"}),g("form",{onSubmit:o,className:"space-y-4",children:[g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[g("label",{className:"label",children:["آدرس هاست ",p("span",{className:"text-red-500",children:"*"})]}),p("input",{type:"text",value:n.host,onChange:u=>l("host",u.target.value),placeholder:"192.168.1.1 یا proxy.example.com",className:`input ${r.host?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,disabled:e}),r.host&&p("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:r.host})]}),g("div",{children:[g("label",{className:"label",children:["پورت ",p("span",{className:"text-red-500",children:"*"})]}),p("input",{type:"text",value:n.port,onChange:u=>l("port",u.target.value),placeholder:"8080",className:`input ${r.port?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,disabled:e}),r.port&&p("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:r.port})]})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[p("label",{className:"label",children:"نوع پروکسی"}),p("select",{value:n.type,onChange:u=>l("type",u.target.value),className:"input",disabled:e,children:c.map(u=>p("option",{value:u.value,children:u.label},u.value))})]}),g("div",{children:[p("label",{className:"label",children:"کشور"}),p("input",{type:"text",value:n.country,onChange:u=>l("country",u.target.value),placeholder:"ایران، آمریکا، ...",className:"input",disabled:e})]})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[p("label",{className:"label",children:"نام کاربری (اختیاری)"}),p("input",{type:"text",value:n.username,onChange:u=>l("username",u.target.value),placeholder:"username",className:"input",disabled:e})]}),g("div",{children:[p("label",{className:"label",children:"رمز عبور (اختیاری)"}),p("input",{type:"password",value:n.password,onChange:u=>l("password",u.target.value),placeholder:"password",className:"input",disabled:e})]})]}),g("div",{children:[p("label",{className:"label",children:"توضیحات (اختیاری)"}),p("textarea",{value:n.description,onChange:u=>l("description",u.target.value),placeholder:"توضیحات کوتاه درباره این پروکسی...",rows:3,className:"input resize-none",disabled:e})]}),g("div",{className:"flex items-center justify-between pt-4",children:[p("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"پروکسی جدید به صورت خودکار تست خواهد شد"}),p("button",{type:"submit",disabled:e,className:"btn btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 space-x-reverse",children:e?g(Hn,{children:[g("svg",{className:"animate-spin -mr-1 ml-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p("span",{children:"در حال افزودن..."})]}):g(Hn,{children:[p("span",{children:"➕"}),p("span",{children:"افزودن پروکسی"})]})})]})]})]}),g("div",{className:"card p-6",children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"درون‌ریزی دسته‌ای"}),g("div",{className:"space-y-4",children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پروکسی‌های متعدد را با فرمت زیر وارد کنید (هر خط یک پروکسی):"}),p("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:g("code",{className:"text-sm font-mono text-gray-700 dark:text-gray-300",children:["host:port",p("br",{}),"host:port:username:password",p("br",{}),"type://host:port",p("br",{}),"type://username:password@host:port"]})}),p("textarea",{placeholder:`192.168.1.1:8080
http://user:pass@proxy.example.com:3128
socks5://127.0.0.1:1080`,rows:6,className:"input font-mono text-sm resize-none",disabled:e}),g("div",{className:"flex items-center justify-between",children:[p("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"پروکسی‌های وارد شده به صورت خودکار تجزیه و تست خواهند شد"}),p("button",{disabled:e,className:"btn btn-secondary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"درون‌ریزی دسته‌ای"})]})]})]}),g("div",{className:"card p-6",children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"درون‌ریزی از URL"}),g("div",{className:"space-y-4",children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پروکسی‌ها را از یک فایل آنلاین یا API دریافت کنید:"}),g("div",{className:"flex space-x-2 space-x-reverse",children:[p("input",{type:"url",placeholder:"https://example.com/proxies.txt",className:"input flex-1",disabled:e}),p("button",{disabled:e,className:"btn btn-secondary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:"دریافت از URL"})]}),p("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"فرمت‌های پشتیبانی شده: TXT، JSON، CSV"})]})]})]})};cl.register(Mu,Lu,po,li,v2,b2,g2);const xH=({stats:t=null,realTimeMode:e=!0})=>{const[n,i]=k.useState({requests:[],responses:[],errors:[],timestamps:[]}),[r,s]=k.useState({totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0,totalBandwidth:0,activeConnections:0,requestsPerSecond:0,errorRate:0});k.useEffect(()=>{if(e){const c=setInterval(()=>{const d=new Date().toLocaleTimeString("fa-IR");i(h=>({requests:[...h.requests.slice(-19),Math.floor(Math.random()*100)+20],responses:[...h.responses.slice(-19),Math.floor(Math.random()*90)+15],errors:[...h.errors.slice(-19),Math.floor(Math.random()*10)],timestamps:[...h.timestamps.slice(-19),d]})),s({totalRequests:Math.floor(Math.random()*1e4)+5e3,successfulRequests:Math.floor(Math.random()*8e3)+4e3,failedRequests:Math.floor(Math.random()*500)+50,averageResponseTime:Math.floor(Math.random()*1e3)+200,totalBandwidth:(Math.random()*100+50).toFixed(2),activeConnections:Math.floor(Math.random()*50)+10,requestsPerSecond:Math.floor(Math.random()*20)+5,errorRate:(Math.random()*5+1).toFixed(2)})},2e3);return()=>clearInterval(c)}},[e]);const a={responsive:!0,plugins:{legend:{position:"top",labels:{font:{family:"Vazirmatn, sans-serif"}}},title:{display:!0,text:"آمار شبکه در زمان واقعی",font:{family:"Vazirmatn, sans-serif",size:16}}},scales:{x:{ticks:{font:{family:"Vazirmatn, sans-serif"}}},y:{beginAtZero:!0,ticks:{font:{family:"Vazirmatn, sans-serif"}}}},animation:{duration:1e3}},o={labels:n.timestamps,datasets:[{label:"درخواست‌ها",data:n.requests,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4},{label:"پاسخ‌ها",data:n.responses,borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4},{label:"خطاها",data:n.errors,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},l=(c,u)=>c<=u.good?"text-green-600 dark:text-green-400":c<=u.warning?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return g("div",{className:"space-y-6",children:[g("div",{className:"flex items-center justify-between",children:[p("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📊 آمار شبکه"}),g("div",{className:"flex items-center gap-2",children:[p("div",{className:`w-2 h-2 rounded-full ${e?"bg-green-500 animate-pulse":"bg-gray-400"}`}),p("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:e?"زنده":"غیرفعال"})]})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل درخواست‌ها"}),p("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.totalRequests.toLocaleString("fa-IR")})]}),p("div",{className:"text-3xl",children:"📊"})]})}),p("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"میانگین زمان پاسخ"}),g("p",{className:`text-2xl font-bold ${l(r.averageResponseTime,{good:500,warning:1e3})}`,children:[r.averageResponseTime," ms"]})]}),p("div",{className:"text-3xl",children:"⏱️"})]})}),p("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"نرخ خطا"}),g("p",{className:`text-2xl font-bold ${l(parseFloat(r.errorRate),{good:2,warning:5})}`,children:[r.errorRate,"%"]})]}),p("div",{className:"text-3xl",children:"❌"})]})}),p("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"اتصالات فعال"}),p("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.activeConnections})]}),p("div",{className:"text-3xl",children:"🔗"})]})})]}),g("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[p("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"📈 معیارهای عملکرد"}),g("div",{className:"space-y-4",children:[g("div",{className:"flex justify-between items-center",children:[p("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"درخواست در ثانیه"}),p("span",{className:"font-medium text-gray-900 dark:text-white",children:r.requestsPerSecond})]}),g("div",{className:"flex justify-between items-center",children:[p("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"درخواست‌های موفق"}),p("span",{className:"font-medium text-green-600 dark:text-green-400",children:r.successfulRequests.toLocaleString("fa-IR")})]}),g("div",{className:"flex justify-between items-center",children:[p("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"درخواست‌های ناموفق"}),p("span",{className:"font-medium text-red-600 dark:text-red-400",children:r.failedRequests.toLocaleString("fa-IR")})]}),g("div",{className:"flex justify-between items-center",children:[p("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل پهنای باند"}),g("span",{className:"font-medium text-gray-900 dark:text-white",children:[r.totalBandwidth," MB/s"]})]})]})]}),g("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[p("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"✅ نرخ موفقیت"}),g("div",{className:"space-y-4",children:[g("div",{children:[g("div",{className:"flex justify-between items-center mb-2",children:[p("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"موفقیت‌آمیز"}),g("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(r.successfulRequests/r.totalRequests*100).toFixed(1),"%"]})]}),p("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:p("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${r.successfulRequests/r.totalRequests*100}%`}})})]}),g("div",{children:[g("div",{className:"flex justify-between items-center mb-2",children:[p("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"ناموفق"}),g("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(r.failedRequests/r.totalRequests*100).toFixed(1),"%"]})]}),p("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:p("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${r.failedRequests/r.totalRequests*100}%`}})})]})]})]})]}),p("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:p("div",{className:"h-80",children:p(C2,{data:o,options:a})})}),g("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[p("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"🔗 وضعیت اتصالات"}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[p("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Math.floor(r.activeConnections*.8)}),p("div",{className:"text-sm text-green-700 dark:text-green-300",children:"اتصالات سالم"})]}),g("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[p("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:Math.floor(r.activeConnections*.15)}),p("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"اتصالات کند"})]}),g("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[p("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:Math.floor(r.activeConnections*.05)}),p("div",{className:"text-sm text-red-700 dark:text-red-300",children:"اتصالات قطع شده"})]})]})]})]})},bH=()=>{const[t,e]=x1(),{getApiUrl:n}=ul(),{showNotification:i,showApiError:r}=P2(),s=Gr(),[a,o]=k.useState(t.get("tab")||"list"),[l,c]=k.useState([]);k.useEffect(()=>{e({tab:a},{replace:!0})},[a,e]);const{data:u,isLoading:d,error:h}=bt({queryKey:["proxyList"],queryFn:async()=>{const E=await fetch(n("/network/proxies"));if(!E.ok)throw new Error(`HTTP ${E.status}: ${E.statusText}`);return E.json()},refetchInterval:3e4}),{data:f,isLoading:m}=bt({queryKey:["networkStats"],queryFn:async()=>{const E=await fetch(n("/network"));if(!E.ok)throw new Error(`HTTP ${E.status}: ${E.statusText}`);return E.json()},refetchInterval:15e3}),y=Ts({mutationFn:async E=>{const N=await fetch(n("/network/test"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proxy_ids:E})});if(!N.ok)throw new Error(`HTTP ${N.status}: ${N.statusText}`);return N.json()},onSuccess:E=>{i(`تست ${E.tested_count} پروکسی تکمیل شد`,"success"),s.invalidateQueries(["proxyList"]),s.invalidateQueries(["networkStats"])},onError:E=>{r(E,"خطا در تست پروکسی‌ها")}}),b=Ts({mutationFn:async E=>{const N=await fetch(n("/network/proxies"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!N.ok)throw new Error(`HTTP ${N.status}: ${N.statusText}`);return N.json()},onSuccess:E=>{i("پروکسی جدید با موفقیت اضافه شد","success"),s.invalidateQueries(["proxyList"]),s.invalidateQueries(["networkStats"])},onError:E=>{r(E,"خطا در افزودن پروکسی")}}),v=Ts({mutationFn:async E=>{const N=await fetch(n("/network/proxies"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({proxy_ids:E})});if(!N.ok)throw new Error(`HTTP ${N.status}: ${N.statusText}`);return N.json()},onSuccess:E=>{i(`${E.removed_count} پروکسی حذف شد`,"success"),s.invalidateQueries(["proxyList"]),s.invalidateQueries(["networkStats"]),c([])},onError:E=>{r(E,"خطا در حذف پروکسی‌ها")}}),x=Ts({mutationFn:async()=>{const E=await fetch(n("/network/update"),{method:"POST"});if(!E.ok)throw new Error(`HTTP ${E.status}: ${E.statusText}`);return E.json()},onSuccess:E=>{i("لیست پروکسی‌ها بروزرسانی شد","success"),s.invalidateQueries(["proxyList"]),s.invalidateQueries(["networkStats"])},onError:E=>{r(E,"خطا در بروزرسانی لیست پروکسی‌ها")}}),w=E=>{y.mutate(E)},S=E=>{b.mutate(E)},C=E=>{v.mutate(E)},_=()=>{x.mutate()},T=[{id:"list",title:"لیست پروکسی‌ها",icon:"📋",description:"مشاهده و مدیریت پروکسی‌ها"},{id:"health",title:"تست سلامت",icon:"🏥",description:"بررسی وضعیت پروکسی‌ها"},{id:"add",title:"افزودن پروکسی",icon:"➕",description:"اضافه کردن پروکسی جدید"},{id:"stats",title:"آمار شبکه",icon:"📈",description:"آمار و گزارش‌های شبکه"}],A=()=>{switch(a){case"list":return p(gH,{proxies:u?.proxies||[],loading:d,selectedProxies:l,onSelectionChange:c,onTest:w,onRemove:C,onRefresh:()=>s.invalidateQueries(["proxyList"])});case"health":return p(yH,{proxies:u?.proxies||[],loading:d,onTest:w,testLoading:y.isLoading});case"add":return p(vH,{onAdd:S,loading:b.isLoading});case"stats":return p(xH,{stats:f,loading:m,onRefresh:()=>s.invalidateQueries(["networkStats"])});default:return null}};return g("div",{className:"space-y-6",children:[g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"مدیریت پروکسی و شبکه"}),p("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"مدیریت پروکسی‌ها، تست سلامت و نظارت بر شبکه"})]}),g("div",{className:"flex items-center space-x-3 space-x-reverse",children:[f&&g("div",{className:"flex items-center space-x-2 space-x-reverse px-3 py-1.5 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[p("div",{className:`w-2 h-2 rounded-full ${f.active_proxies>0?"bg-green-500":"bg-red-500"}`}),g("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[f.active_proxies," از ",f.total_proxies," فعال"]})]}),g("button",{onClick:_,disabled:x.isLoading,className:"btn btn-secondary flex items-center space-x-2 space-x-reverse",children:[x.isLoading?p(pn,{size:"sm"}):p("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),p("span",{children:"بروزرسانی لیست"})]})]})]}),f&&g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p("div",{className:"card p-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"کل پروکسی‌ها"}),p("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.total_proxies||0})]}),p("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:p("span",{className:"text-xl",children:"🌐"})})]})}),p("div",{className:"card p-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"فعال"}),p("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f.active_proxies||0})]}),p("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:p("span",{className:"text-xl",children:"✅"})})]})}),p("div",{className:"card p-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"میانگین تأخیر"}),p("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:f.avg_latency?`${f.avg_latency}ms`:"N/A"})]}),p("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:p("span",{className:"text-xl",children:"⚡"})})]})}),p("div",{className:"card p-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"نرخ موفقیت"}),p("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:f.success_rate?`${f.success_rate}%`:"N/A"})]}),p("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center",children:p("span",{className:"text-xl",children:"📊"})})]})})]}),p(mH,{tabs:T,activeTab:a,onTabChange:o}),p("div",{className:"min-h-96",children:A()}),h&&p(A2,{title:"خطا در دریافت لیست پروکسی‌ها",message:h.message,onRetry:()=>s.invalidateQueries(["proxyList"])}),l.length>0&&p("div",{className:"fixed bottom-6 left-6 right-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-40",children:g("div",{className:"flex items-center justify-between",children:[g("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.length," پروکسی انتخاب شده"]}),g("div",{className:"flex items-center space-x-3 space-x-reverse",children:[p("button",{onClick:()=>w(l),disabled:y.isLoading,className:"btn btn-primary btn-sm",children:"تست انتخاب شده‌ها"}),p("button",{onClick:()=>C(l),disabled:v.isLoading,className:"btn btn-danger btn-sm",children:"حذف انتخاب شده‌ها"}),p("button",{onClick:()=>c([]),className:"btn btn-secondary btn-sm",children:"لغو انتخاب"})]})]})})]})},Qb=()=>{const[t,e]=k.useState(""),[n,i]=k.useState(null),[r,s]=k.useState(!1),{data:a,isLoading:o}=bt({queryKey:["databaseStats"],queryFn:()=>Yi.getDocumentStats(),refetchInterval:1e4}),l=k.useCallback(async()=>{if(t.trim()){s(!0);try{const c=Yi.fullTextSearch(t);i(c)}catch(c){console.error("Search failed:",c),i({results:[],totalFound:0,error:c.message})}finally{s(!1)}}},[t]);return g("div",{className:"space-y-6",children:[p(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:g("div",{children:[g("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[p(Su,{className:"w-8 h-8 text-blue-600"}),"جستجو در پایگاه اسناد"]}),g("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:["جستجوی پیشرفته در ",a?.total||0," سند حقوقی"]})]})}),p(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:g("div",{className:"flex gap-3",children:[g("div",{className:"flex-1 relative",children:[p("input",{type:"text",value:t,onChange:c=>e(c.target.value),onKeyPress:c=>c.key==="Enter"&&l(),placeholder:"جستجو در اسناد حقوقی...",className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-lg",dir:"rtl"}),p(so,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),g("button",{onClick:l,disabled:r||!t.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:[p(so,{className:"w-5 h-5"}),"جستجو"]})]})}),g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:["نتایج جستجو",n&&g("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(",n.totalFound," نتیجه)"]})]}),r?p("div",{className:"flex items-center justify-center h-32",children:p(pn,{size:"lg"})}):n?n.results.length>0?p("div",{className:"space-y-3",children:n.results.map(c=>g("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[p("h4",{className:"font-semibold text-gray-900 dark:text-white",children:c.document.title}),g("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[c.document.content.substring(0,200),"..."]}),g("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-500 dark:text-gray-400",children:[g("span",{className:"flex items-center gap-1",children:[p(mO,{className:"w-3 h-3"}),c.document.category]}),g("span",{className:"flex items-center gap-1",children:[p(Cu,{className:"w-3 h-3"}),c.document.source]}),g("span",{className:"flex items-center gap-1",children:[p(ku,{className:"w-3 h-3"}),c.document.date]})]})]},c.document.id))}):g("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[p(so,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p("p",{children:"نتیجه‌ای یافت نشد"})]}):g("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[p(Su,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p("p",{children:"برای شروع، کلمه کلیدی وارد کنید"})]})]})]})},wH=()=>{const t=Gr(),[e,n]=k.useState(!1),[i,r]=k.useState(null),[s,a]=k.useState([]),[o,l]=k.useState({maxDocuments:10,concurrent:3,delay:2e3,timeout:3e4}),[c,u]=k.useState([]),[d,h]=k.useState({status:"all",site:"all",timeRange:"24h"}),{data:f,isLoading:m}=bt({queryKey:["scrapingStats"],queryFn:()=>ni.getScrapingStats(),refetchInterval:2e3}),{data:y,isLoading:b}=bt({queryKey:["networkStatus"],queryFn:()=>ni.getNetworkStatus(),refetchInterval:1e4}),{data:v,isLoading:x}=bt({queryKey:["recentScrapingResults"],queryFn:()=>Yi.getRecentDocuments(20).filter(I=>I.scrapedAt),refetchInterval:5e3});k.useEffect(()=>{a([{id:"majlis",name:"مجلس شورای اسلامی",url:"majlis.ir",enabled:!0},{id:"judiciary",name:"قوه قضائیه",url:"judiciary.ir",enabled:!0},{id:"dotic",name:"مرکز اسناد ایران",url:"dotic.ir",enabled:!0}])},[]);const w=k.useCallback(async()=>{if(!e){n(!0),r({current:0,total:o.maxDocuments,status:"starting"});try{if(s.filter(j=>j.enabled).length===0)throw new Error("هیچ سایتی انتخاب نشده است");_("شروع فرآیند استخراج اسناد","info");const I=await ni.startScraping({maxDocuments:o.maxDocuments,concurrent:o.concurrent,delay:o.delay,onProgress:j=>{r(j),_(`در حال پردازش: ${j.current}/${j.total}`,"info")}});r({current:I.successCount,total:I.totalAttempts,status:"completed"}),_(`استخراج کامل شد: ${I.successCount} سند موفق از ${I.totalAttempts} تلاش`,"success"),await t.invalidateQueries()}catch(N){console.error("Scraping failed:",N),_(`خطا در استخراج: ${N.message}`,"error"),r(I=>I?{...I,status:"error"}:null)}finally{setTimeout(()=>{n(!1),r(null)},2e3)}}},[e,o,s,t]),S=k.useCallback(()=>{ni.stopScraping(),n(!1),r(null),_("فرآیند استخراج متوقف شد","warning")},[]),C=k.useCallback(async()=>{_("شروع تست پروکسی‌ها","info");try{const N=await ni.testAllProxies();_(`تست پروکسی‌ها: ${N.working}/${N.total} فعال`,N.working>0?"success":"error"),await t.invalidateQueries(["networkStatus"])}catch(N){_(`خطا در تست پروکسی‌ها: ${N.message}`,"error")}},[t]),_=(N,I="info")=>{const j={id:Date.now(),message:N,type:I,timestamp:new Date().toISOString()};u(B=>[j,...B.slice(0,99)])},T=c.filter(N=>{if(d.status!=="all"&&N.type!==d.status)return!1;if(d.timeRange!=="all"){const I=new Date(N.timestamp),j=new Date,B=d.timeRange==="1h"?1:d.timeRange==="24h"?24:168,q=new Date(j.getTime()-B*60*60*1e3);if(I<q)return!1}return!0}),E=(()=>{if(!v||v.length===0)return null;const N=[],I=new Date;for(let j=23;j>=0;j--){const B=new Date(I.getTime()-j*60*60*1e3),q=B.getHours(),H=v.filter(Q=>{const Y=new Date(Q.scrapedAt);return Y.getHours()===q&&Y.toDateString()===B.toDateString()}).length;N.push({hour:q,count:H,label:`${q}:00`})}return{labels:N.map(j=>j.label),datasets:[{label:"اسناد استخراج شده",data:N.map(j=>j.count),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4}]}})();return g("div",{className:"space-y-6",children:[g(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[g("div",{children:[g("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[p(Cu,{className:"w-8 h-8 text-blue-600"}),"داشبورد استخراج اسناد"]}),p("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"مدیریت و نظارت بر فرآیند استخراج اسناد حقوقی از منابع دولتی"})]}),g("div",{className:"flex items-center gap-3",children:[g(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2",children:[p(bd,{className:"w-4 h-4"}),"تست پروکسی‌ها"]}),e?g(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[p(hO,{className:"w-4 h-4"}),"توقف استخراج"]}):g(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[p(dO,{className:"w-4 h-4"}),"شروع استخراج"]})]})]}),p(vg,{children:i&&g(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-6",children:[g("div",{className:"flex items-center justify-between mb-4",children:[p("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"پیشرفت استخراج"}),g("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[p(ku,{className:"w-4 h-4"}),g("span",{className:"text-sm",children:[i.current," از ",i.total]})]})]}),g("div",{className:"space-y-3",children:[g("div",{className:"flex justify-between text-sm text-blue-800 dark:text-blue-200",children:[p("span",{children:"پیشرفت کلی"}),g("span",{children:[Math.round(i.current/i.total*100),"%"]})]}),p("div",{className:"h-3 bg-blue-200 dark:bg-blue-800 rounded-full overflow-hidden",children:p(V.div,{initial:{width:0},animate:{width:`${i.current/i.total*100}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-blue-500 to-blue-600"})}),g("div",{className:"flex items-center justify-between text-sm text-blue-700 dark:text-blue-300",children:[g("span",{children:["وضعیت: ",i.status==="starting"?"در حال شروع":i.status==="completed"?"تکمیل شده":"در حال پردازش"]}),e&&g("div",{className:"flex items-center gap-1",children:[p("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),p("span",{children:"فعال"})]})]})]})]})}),g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[p(jo,{className:"w-5 h-5 text-blue-600"}),"تنظیمات استخراج"]}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g("div",{className:"space-y-4",children:[g("div",{children:[p("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"حداکثر تعداد اسناد"}),p("input",{type:"number",min:"1",max:"100",value:o.maxDocuments,onChange:N=>l(I=>({...I,maxDocuments:parseInt(N.target.value)})),disabled:e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white disabled:opacity-50"})]}),g("div",{children:[p("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"درخواست‌های همزمان"}),p("input",{type:"number",min:"1",max:"10",value:o.concurrent,onChange:N=>l(I=>({...I,concurrent:parseInt(N.target.value)})),disabled:e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white disabled:opacity-50"})]})]}),g("div",{className:"space-y-4",children:[g("div",{children:[p("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تأخیر بین درخواست‌ها (ms)"}),p("input",{type:"number",min:"1000",max:"10000",step:"500",value:o.delay,onChange:N=>l(I=>({...I,delay:parseInt(N.target.value)})),disabled:e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white disabled:opacity-50"})]}),g("div",{children:[p("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"زمان انتظار (ms)"}),p("input",{type:"number",min:"10000",max:"60000",step:"5000",value:o.timeout,onChange:N=>l(I=>({...I,timeout:parseInt(N.target.value)})),disabled:e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white disabled:opacity-50"})]})]})]}),g("div",{className:"mt-6",children:[p("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"سایت‌های هدف"}),p("div",{className:"space-y-2",children:s.map(N=>g("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[g("div",{className:"flex items-center gap-3",children:[p("input",{type:"checkbox",checked:N.enabled,onChange:I=>{a(j=>j.map(B=>B.id===N.id?{...B,enabled:I.target.checked}:B))},disabled:e,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-600 dark:border-gray-500"}),g("div",{children:[p("p",{className:"font-medium text-gray-900 dark:text-white",children:N.name}),p("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:N.url})]})]}),p("div",{className:`w-3 h-3 rounded-full ${N.enabled?"bg-green-500":"bg-gray-400"}`})]},N.id))})]})]}),g("div",{className:"space-y-4",children:[g("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"آمار فوری"}),g("div",{className:"space-y-4",children:[g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"اسناد استخراج شده:"}),p("span",{className:"font-bold text-blue-600",children:f?.successCount||0})]}),g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"نرخ موفقیت:"}),g("span",{className:"font-bold text-green-600",children:[f?.successRate||0,"%"]})]}),g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"پروکسی‌های فعال:"}),p("span",{className:"font-bold text-orange-600",children:f?.activeProxies||0})]}),g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"صف انتظار:"}),p("span",{className:"font-bold text-purple-600",children:f?.queueSize||0})]})]})]}),g("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[p("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"وضعیت شبکه"}),g("div",{className:"space-y-3",children:[g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"وضعیت اتصال:"}),g("div",{className:"flex items-center gap-2",children:[p("div",{className:`w-3 h-3 rounded-full ${y?.connectivity==="online"?"bg-green-500":"bg-red-500"}`}),p("span",{className:`font-medium ${y?.connectivity==="online"?"text-green-600":"text-red-600"}`,children:y?.connectivity==="online"?"آنلاین":"آفلاین"})]})]}),g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"DNS فعال:"}),g("span",{className:"font-medium",children:[y?.dnsServers?.working||0,"/",y?.dnsServers?.total||0]})]}),g("div",{className:"flex items-center justify-between",children:[p("span",{className:"text-gray-600 dark:text-gray-400",children:"پروکسی‌ها:"}),p("span",{className:`font-medium ${y?.proxies?.status==="active"?"text-green-600":"text-gray-600"}`,children:y?.proxies?.status==="active"?"فعال":"غیرفعال"})]})]})]})]})]}),E&&g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[p(Is,{className:"w-5 h-5 text-blue-600"}),"عملکرد استخراج در 24 ساعت گذشته"]}),p(Lf,{type:"line",data:E,height:300,options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})]}),g("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[p(Us,{className:"w-5 h-5 text-green-600"}),"آخرین نتایج استخراج"]}),x?p("div",{className:"flex items-center justify-center h-32",children:p(pn,{size:"lg"})}):v&&v.length>0?p("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:v.slice(0,10).map((N,I)=>p(V.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:I*.05},className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:g("div",{className:"flex items-start justify-between",children:[g("div",{className:"flex-1",children:[p("h4",{className:"font-medium text-gray-900 dark:text-white text-sm line-clamp-1",children:N.title}),g("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["منبع: ",N.source," • ",N.wordCount," کلمه"]}),g("div",{className:"flex items-center gap-2 mt-2",children:[p("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs",children:N.category}),p("span",{className:"text-xs text-gray-500",children:new Date(N.scrapedAt).toLocaleTimeString("fa-IR")})]})]}),p(Us,{className:"w-4 h-4 text-green-500 mt-1"})]})},N.id))}):g("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[p(Cu,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p("p",{children:"هنوز نتیجه‌ای ثبت نشده است"})]})]}),g(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("div",{className:"flex items-center justify-between mb-4",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[p(_u,{className:"w-5 h-5 text-blue-600"}),"گزارش فعالیت"]}),g("select",{value:d.status,onChange:N=>h(I=>({...I,status:N.target.value})),className:"text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 dark:bg-gray-700 dark:text-white",children:[p("option",{value:"all",children:"همه"}),p("option",{value:"info",children:"اطلاعات"}),p("option",{value:"success",children:"موفق"}),p("option",{value:"warning",children:"هشدار"}),p("option",{value:"error",children:"خطا"})]})]}),p("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:T.length>0?T.map((N,I)=>p(V.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:I*.02},className:`p-3 rounded-lg text-sm ${N.type==="success"?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300":N.type==="error"?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300":N.type==="warning"?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-300":"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300"}`,children:g("div",{className:"flex items-start gap-2",children:[g("div",{className:"mt-0.5",children:[N.type==="success"&&p(Us,{className:"w-4 h-4"}),N.type==="error"&&p(d_,{className:"w-4 h-4"}),N.type==="warning"&&p(JM,{className:"w-4 h-4"}),N.type==="info"&&p(ku,{className:"w-4 h-4"})]}),g("div",{className:"flex-1",children:[p("p",{children:N.message}),p("p",{className:"text-xs opacity-75 mt-1",children:new Date(N.timestamp).toLocaleTimeString("fa-IR")})]})]})},N.id)):g("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[p(_u,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),p("p",{className:"text-sm",children:"هیچ گزارشی یافت نشد"})]})})]})]})]})},kH=()=>{const t=Gr(),[e,n]=k.useState(!1),[i,r]=k.useState([]),[s,a]=k.useState([]),{data:o,isLoading:l}=bt({queryKey:["aiStats"],queryFn:()=>$r.getAnalysisStats(),refetchInterval:5e3}),{data:c,isLoading:u}=bt({queryKey:["availableDocuments"],queryFn:()=>Yi.getRecentDocuments(50).filter(y=>y.content&&y.content.length>100),refetchInterval:1e4}),{data:d,isLoading:h}=bt({queryKey:["recentAnalyses"],queryFn:()=>$r.exportAnalysisResults().results.slice(0,20),refetchInterval:5e3}),f=k.useCallback(async()=>{if(!(e||i.length===0)){n(!0);try{const m=c.filter(b=>i.includes(b.id)),y=await $r.batchAnalyze(m);a(y.results),await t.invalidateQueries(["recentAnalyses","aiStats"])}catch(m){console.error("AI analysis failed:",m)}finally{n(!1)}}},[e,i,c,t]);return g("div",{className:"space-y-6",children:[g(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[g("div",{children:[g("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[p(Xt,{className:"w-8 h-8 text-purple-600"}),"داشبورد تحلیل هوش مصنوعی"]}),p("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"تحلیل خودکار اسناد حقوقی با استفاده از مدل‌های زبانی فارسی"})]}),p("div",{className:"flex items-center gap-3",children:i.length>0&&!e&&g(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[p(Kr,{className:"w-4 h-4"}),"تحلیل ",i.length," سند"]})})]}),g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"تحلیل‌های انجام شده"}),p("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:d?.length||0})]}),p("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:p(Xt,{className:"w-6 h-6 text-purple-600"})})]})}),p("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"میانگین اطمینان"}),p("p",{className:"text-2xl font-bold text-green-600 mt-2",children:d?.length>0?Math.round(d.reduce((m,y)=>m+(y.overallConfidence||0),0)/d.length*100)+"%":"0%"})]}),p("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full",children:p(u_,{className:"w-6 h-6 text-green-600"})})]})}),p("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"کش تحلیل"}),p("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:o?.cacheSize||0})]}),p("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:p(sO,{className:"w-6 h-6 text-blue-600"})})]})}),p("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[p("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"API متصل"}),p("p",{className:"text-2xl font-bold text-orange-600 mt-2",children:o?.hasApiKey?"بله":"خیر"})]}),p("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-full",children:p(Us,{className:`w-6 h-6 ${o?.hasApiKey?"text-green-600":"text-orange-600"}`})})]})})]}),g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[p(Bs,{className:"w-5 h-5 text-blue-600"}),"انتخاب اسناد برای تحلیل"]}),u?p("div",{className:"flex items-center justify-center h-32",children:p(pn,{size:"lg"})}):c&&c.length>0?p("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.slice(0,12).map(m=>g("div",{className:`p-4 rounded-lg border cursor-pointer transition-all ${i.includes(m.id)?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600"}`,onClick:()=>{r(y=>y.includes(m.id)?y.filter(b=>b!==m.id):[...y,m.id])},children:[p("h4",{className:"font-medium text-gray-900 dark:text-white text-sm line-clamp-2",children:m.title}),g("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[p("span",{children:m.category}),p("span",{children:"•"}),g("span",{children:[m.wordCount," کلمه"]})]})]},m.id))}):g("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[p(Bs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p("p",{children:"هیچ سندی برای تحلیل موجود نیست"})]})]}),g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[g("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[p(_u,{className:"w-5 h-5 text-blue-600"}),"نتایج تحلیل اخیر"]}),h?p("div",{className:"flex items-center justify-center h-32",children:p(pn,{size:"lg"})}):d&&d.length>0?p("div",{className:"space-y-3",children:d.slice(0,10).map((m,y)=>g("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[p("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:m.title}),g("div",{className:"mt-2 flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[g("span",{children:["اطمینان: ",Math.round((m.overallConfidence||0)*100),"%"]}),g("span",{children:["زمان: ",m.processingTime,"ms"]}),m.results?.classification&&g("span",{children:["دسته: ",m.results.classification.primaryCategory?.category]})]})]},m.documentId))}):g("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[p(Xt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p("p",{children:"هیچ نتیجه تحلیلی موجود نیست"})]})]})]})},SH=()=>{const[t,e]=k.useState("api"),[n,i]=k.useState({api:{huggingfaceKey:"",openaiKey:"",claudeKey:""},scraping:{maxConcurrent:3,delay:2e3,timeout:3e4,retryAttempts:3,userAgent:"Mozilla/5.0 (compatible; LegalArchiveBot/1.0)",respectRobots:!0},ai:{model:"HooshvareLab/bert-fa-base-uncased",confidence:.7,batchSize:10,enableCache:!0,language:"fa"},database:{autoBackup:!0,backupInterval:24,maxRecords:1e5,enableIndexing:!0,compressionLevel:6},ui:{theme:"system",language:"fa",refreshInterval:5e3,enableAnimations:!0,showDebugInfo:!1}}),[r,s]=k.useState({}),[a,o]=k.useState({}),[l,c]=k.useState({}),[u,d]=k.useState(!1);k.useEffect(()=>{h()},[]);const h=()=>{try{const x=localStorage.getItem("legalArchive_settings");if(x){const w=JSON.parse(x);i(S=>({...S,...w}))}}catch(x){console.error("Failed to load settings:",x)}},f=async()=>{try{localStorage.setItem("legalArchive_settings",JSON.stringify(n)),await m(),d(!1);const x=new CustomEvent("notification",{detail:{type:"success",message:"تنظیمات با موفقیت ذخیره شد"}});window.dispatchEvent(x)}catch(x){console.error("Failed to save settings:",x);const w=new CustomEvent("notification",{detail:{type:"error",message:"خطا در ذخیره تنظیمات"}});window.dispatchEvent(w)}},m=async()=>{n.api.huggingfaceKey&&$r.setApiKey(n.api.huggingfaceKey),console.log("✅ Settings applied to services")},y=(x,w,S)=>{i(C=>({...C,[x]:{...C[x],[w]:S}})),d(!0)},b=async x=>{o(w=>({...w,[x]:!0}));try{let w;switch(x){case"huggingface":if(!n.api.huggingfaceKey)throw new Error("کلید API وارد نشده است");w=await $r.testConnection();break;case"scraping":w=await ni.testAllProxies();break;case"database":w={success:!0,message:"اتصال موفق"};break;default:throw new Error("سرویس نامعلوم")}s(S=>({...S,[x]:{success:w.success!==!1,message:w.message||"اتصال موفق",timestamp:new Date().toISOString()}}))}catch(w){s(S=>({...S,[x]:{success:!1,message:w.message,timestamp:new Date().toISOString()}}))}finally{o(w=>({...w,[x]:!1}))}},v=[{id:"api",name:"API و اتصالات",icon:rO},{id:"scraping",name:"تنظیمات استخراج",icon:bd},{id:"ai",name:"هوش مصنوعی",icon:Xt},{id:"database",name:"پایگاه داده",icon:Su},{id:"ui",name:"رابط کاربری",icon:jo}];return g("div",{className:"space-y-6",children:[g(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[g("div",{children:[g("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[p(jo,{className:"w-8 h-8 text-blue-600"}),"تنظیمات سیستم"]}),p("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"پیکربندی و مدیریت تنظیمات سیستم آرشیو حقوقی"})]}),p("div",{className:"flex items-center gap-3",children:u&&g(V.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},onClick:f,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[p(pO,{className:"w-4 h-4"}),"ذخیره تغییرات"]})})]}),g("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[p("div",{className:"border-b border-gray-200 dark:border-gray-700",children:p("nav",{className:"flex space-x-8 px-6",children:v.map(x=>{const w=x.icon;return p("button",{onClick:()=>e(x.id),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${t===x.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:g("div",{className:"flex items-center gap-2",children:[p(w,{className:"w-4 h-4"}),x.name]})},x.id)})})}),g("div",{className:"p-6",children:[t==="api"&&g(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[p("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"کلیدهای API"}),g("div",{className:"space-y-3",children:[p("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"کلید API هاگینگ فیس"}),g("div",{className:"flex gap-3",children:[g("div",{className:"flex-1 relative",children:[p("input",{type:l.huggingface?"text":"password",value:n.api.huggingfaceKey,onChange:x=>y("api","huggingfaceKey",x.target.value),placeholder:"hf_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}),p("button",{type:"button",onClick:()=>c(x=>({...x,huggingface:!x.huggingface})),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.huggingface?p(iO,{className:"w-4 h-4"}):p(_u,{className:"w-4 h-4"})})]}),g("button",{onClick:()=>b("huggingface"),disabled:a.huggingface||!n.api.huggingfaceKey,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[a.huggingface?p(V.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:p(zl,{className:"w-4 h-4"})}):p(zl,{className:"w-4 h-4"}),"تست"]})]}),r.huggingface&&g(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-lg flex items-center gap-2 ${r.huggingface.success?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300"}`,children:[r.huggingface.success?p(ZM,{className:"w-4 h-4"}):p(vO,{className:"w-4 h-4"}),p("span",{className:"text-sm",children:r.huggingface.message})]})]})]}),t==="scraping"&&g(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[p("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"تنظیمات استخراج"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g("div",{className:"space-y-3",children:[p("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"حداکثر درخواست همزمان"}),p("input",{type:"number",min:"1",max:"10",value:n.scraping.maxConcurrent,onChange:x=>y("scraping","maxConcurrent",parseInt(x.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),g("div",{className:"space-y-3",children:[p("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"تأخیر بین درخواست‌ها (میلی‌ثانیه)"}),p("input",{type:"number",min:"1000",max:"10000",step:"500",value:n.scraping.delay,onChange:x=>y("scraping","delay",parseInt(x.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),g("button",{onClick:()=>b("scraping"),disabled:a.scraping,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[a.scraping?p(V.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:p(zl,{className:"w-4 h-4"})}):p(zl,{className:"w-4 h-4"}),"تست پروکسی‌ها"]})]})]})]})]})};class _H extends rr.Component{constructor(n){super(n);D(this,"handleReload",()=>{window.location.reload()});D(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,i){console.error("Error caught by boundary:",n,i),this.setState({error:n,errorInfo:i})}render(){return this.state.hasError?p("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:p("div",{className:"max-w-md w-full",children:g("div",{className:"card p-8 text-center",children:[p("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:p("span",{className:"text-4xl",children:"💥"})}),p("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"خطای غیرمنتظره"}),p("p",{className:"text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:"متأسفانه خطایی در برنامه رخ داده است. لطفاً صفحه را بازنشانی کنید یا با پشتیبانی تماس بگیرید."}),!1,g("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[p("button",{onClick:this.handleReload,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"🔄 بازنشانی صفحه"}),p("button",{onClick:this.handleReset,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"🔄 تلاش مجدد"})]}),g("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[p("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"اگر مشکل ادامه دارد، لطفاً با پشتیبانی تماس بگیرید."}),g("div",{className:"mt-4 text-xs text-gray-400 dark:text-gray-500 space-y-1",children:[p("div",{children:"نسخه: ۲.۰.۰"}),g("div",{children:["زمان خطا: ",new Date().toLocaleString("fa-IR")]}),g("div",{children:["مرورگر: ",navigator.userAgent.split(" ")[0]]})]})]})]})})}):this.props.children}}class CH{constructor(){this.apiKey={}.HUGGINGFACE_API_TOKEN||"your_huggingface_token_here",this.baseUrl="https://api-inference.huggingface.co/models",this.model="HooshvareLab/bert-fa-base-uncased-clf-persiannews",this.fallbackModel="microsoft/DialoGPT-medium",this.stats={totalRequests:0,successfulRequests:0,failedRequests:0,startTime:Date.now(),categoryCounts:{}}}async query(e,n=this.model){const i=await fetch(`${this.baseUrl}/${n}`,{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}preprocessPersianText(e){return!e||typeof e!="string"?"":e.trim().replace(/\s+/g," ").replace(/[‌]/g," ").substring(0,512)}enhanceWithLegalContext(e,n){const i={قرارداد:/قرارداد|طرفین|خریدار|فروشنده|اجاره/gi,رای_دادگاه:/رای|حکم|دادگاه|قاضی|خواهان|خوانده/gi,قانون:/قانون|ماده|تبصره|فصل|باب/gi,دادخواست:/دادخواست|خواهان|علیه|خوانده/gi,شکایت:/شکایت|متهم|شاکی|جرم/gi,مصوبه:/مصوبه|تصویب|شورا|کمیسیون/gi};let r=0,s="عمومی";Object.entries(i).forEach(([o,l])=>{const c=e.match(l)||[];c.length>r&&(r=c.length,s=o)});const a={persons:[...e.match(/(?:آقای|خانم|دکتر)\s+([آ-ی\s]{2,30})/gi)||[]].slice(0,3),dates:[...e.match(/\d{4}\/\d{1,2}\/\d{1,2}|[۰-۹]{4}\/[۰-۹]{1,2}\/[۰-۹]{1,2}/g)||[]].slice(0,3),amounts:[...e.match(/([\d,۰-۹]+)\s*(تومان|ریال)/gi)||[]].slice(0,2)};return{...n,legalType:s,legalScore:Math.min(r*10,100),entities:a,textLength:e.length,language:this.detectLanguage(e)}}detectLanguage(e){const n=(e.match(/[\u0600-\u06FF]/g)||[]).length,i=e.replace(/\s/g,"").length,r=n/i;return r>.7?"fa":r>.3?"mixed":"en"}async analyzeTexts(e){try{if(!e||!Array.isArray(e)||e.length===0)throw new Error("لطفاً آرایه‌ای از متن‌ها ارسال کنید");this.stats.totalRequests++,console.log(`🔍 تحلیل ${e.length} متن با مدل ${this.model}`);const n=e.map(o=>this.preprocessPersianText(o)).filter(o=>o.length>0);if(n.length===0)throw new Error("هیچ متن معتبری برای تحلیل یافت نشد");const s=(await this.query({inputs:n})).map((o,l)=>{const c=e[l],u=Array.isArray(o)?o[0]:o,d=this.enhanceWithLegalContext(c,u),h=d.label||"نامشخص";return this.stats.categoryCounts[h]=(this.stats.categoryCounts[h]||0)+1,{text:c.substring(0,150)+(c.length>150?"...":""),fullText:c,category:h,score:d.score||.5,confidence:Math.round((d.score||.5)*100),legalType:d.legalType,legalScore:d.legalScore,entities:d.entities,textLength:d.textLength,language:d.language,analyzedAt:new Date().toISOString(),allScores:Array.isArray(o)?o:[o]}}).sort((o,l)=>l.score-o.score),a=s.reduce((o,l)=>o+l.score,0);return this.stats.averageConfidence=a/s.length,this.stats.successfulRequests++,{success:!0,total:s.length,ranked:s,stats:this.getStats(),model:this.model,timestamp:new Date().toISOString()}}catch(n){console.error("تحلیل ناموفق:",n),this.stats.failedRequests++;let i="خطا در تحلیل متن";throw n.message.includes("Rate limit")?i="محدودیت نرخ درخواست. لطفاً کمی صبر کنید":n.message.includes("Model")&&(i="خطا در بارگذاری مدل. لطفاً دوباره تلاش کنید"),new Error(i)}}async generateText(e,n=100){try{return{success:!0,generated_text:(await this.query({inputs:e,parameters:{max_length:n,temperature:.7,do_sample:!0}},"microsoft/DialoGPT-medium"))[0]?.generated_text||"متن تولید نشد",timestamp:new Date().toISOString()}}catch(i){throw console.error("تولید متن ناموفق:",i),new Error("خطا در تولید متن")}}async summarizeText(e,n=150){try{return{success:!0,summary_text:(await this.query({inputs:e,parameters:{max_length:n,min_length:50,do_sample:!1}},"facebook/bart-large-cnn"))[0]?.summary_text||"خلاصه تولید نشد",timestamp:new Date().toISOString()}}catch(i){throw console.error("خلاصه‌سازی ناموفق:",i),new Error("خطا در خلاصه‌سازی متن")}}getStats(){const e=Date.now()-this.stats.startTime;return{totalRequests:this.stats.totalRequests,successfulRequests:this.stats.successfulRequests,failedRequests:this.stats.failedRequests,successRate:this.stats.totalRequests>0?Math.round(this.stats.successfulRequests/this.stats.totalRequests*100):0,averageConfidence:Math.round((this.stats.averageConfidence||0)*100),runtime:Math.round(e/1e3)+"s",requestsPerMinute:Math.round(this.stats.totalRequests/(e/6e4)||0),categoryCounts:this.stats.categoryCounts}}getHealth(){return{status:"healthy",timestamp:new Date().toISOString(),uptime:Math.round((Date.now()-this.stats.startTime)/1e3),model:this.model,stats:this.getStats()}}}const ic=new CH,AH=()=>{const[t,e]=k.useState([]),[n,i]=k.useState(!1),[r,s]=k.useState(""),a=[{name:"تست تحلیل متن ساده",text:"این یک متن نمونه برای تست سیستم تحلیل هوش مصنوعی است.",expectedType:"text-classification"},{name:"تست سند حقوقی - قرارداد",text:"قرارداد خرید و فروش ملک واقع در تهران بین آقای احمد محمدی به عنوان خریدار و خانم زهرا احمدی به عنوان فروشنده منعقد می‌گردد.",expectedType:"قرارداد"},{name:"تست سند حقوقی - رای دادگاه",text:"دادگاه عمومی تهران در جلسه مورخ 1402/09/15 با حضور قاضی دکتر رضایی رای زیر را صادر نمود.",expectedType:"رای_دادگاه"},{name:"تست چندین متن همزمان",texts:["قانون اساسی جمهوری اسلامی ایران در ماده یک تصریح می‌کند","شکایت آقای کریمی از شرکت تجاری به دلیل نقض قرارداد","مصوبه شورای شهر در خصوص تغییر کاربری"],expectedType:"batch-analysis"}],o=async()=>{i(!0),e([]);for(const c of a){s(c.name);try{let u;const d=Date.now();c.texts?u=await ic.analyzeTexts(c.texts):u=await ic.analyzeTexts([c.text]);const f=Date.now()-d;e(m=>[...m,{name:c.name,status:"success",result:u,duration:f,details:`✅ تحلیل موفق - ${u.total} متن تحلیل شد`,data:u.ranked||[]}])}catch(u){e(d=>[...d,{name:c.name,status:"error",error:u.message,details:`❌ خطا: ${u.message}`,data:[]}])}await new Promise(u=>setTimeout(u,1e3))}i(!1),s("")},l=async()=>{try{const c=ic.getHealth(),u=ic.getStats();e(d=>[...d,{name:"وضعیت سلامت سیستم",status:"info",details:`✅ سیستم سالم - ${u.successRate}% موفقیت`,data:{health:c,stats:u}}])}catch(c){e(u=>[...u,{name:"وضعیت سلامت سیستم",status:"error",details:`❌ خطا در دریافت وضعیت: ${c.message}`,data:{}}])}};return p("div",{className:"max-w-6xl mx-auto p-6",children:g(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[g("div",{className:"flex items-center justify-between mb-6",children:[g("div",{className:"flex items-center space-x-3 space-x-reverse",children:[p(Xt,{className:"w-8 h-8 text-blue-600"}),g("div",{children:[p("h1",{className:"text-2xl font-bold text-gray-900",children:"تست سیستم هوش مصنوعی"}),p("p",{className:"text-gray-600",children:"آزمایش عملکرد واقعی سیستم تحلیل اسناد حقوقی"})]})]}),g("div",{className:"flex space-x-3 space-x-reverse",children:[g("button",{onClick:l,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2 space-x-reverse",children:[p(Kr,{className:"w-4 h-4"}),p("span",{children:"وضعیت سیستم"})]}),g("button",{onClick:o,disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2 space-x-reverse",children:[n?p(wf,{className:"w-4 h-4 animate-spin"}):p(Xt,{className:"w-4 h-4"}),p("span",{children:n?"در حال تست...":"شروع تست"})]})]})]}),n&&r&&p(V.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:g("div",{className:"flex items-center space-x-3 space-x-reverse",children:[p(wf,{className:"w-5 h-5 text-blue-600 animate-spin"}),g("span",{className:"text-blue-800 font-medium",children:["در حال اجرای: ",r]})]})}),p("div",{className:"space-y-4",children:t.map((c,u)=>p(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:`p-4 rounded-lg border ${c.status==="success"?"bg-green-50 border-green-200":c.status==="error"?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:p("div",{className:"flex items-start justify-between",children:g("div",{className:"flex items-start space-x-3 space-x-reverse",children:[c.status==="success"&&p(Us,{className:"w-5 h-5 text-green-600 mt-1"}),c.status==="error"&&p(d_,{className:"w-5 h-5 text-red-600 mt-1"}),c.status==="info"&&p(Xt,{className:"w-5 h-5 text-blue-600 mt-1"}),g("div",{className:"flex-1",children:[p("h3",{className:"font-semibold text-gray-900 mb-1",children:c.name}),p("p",{className:`text-sm ${c.status==="success"?"text-green-700":c.status==="error"?"text-red-700":"text-blue-700"}`,children:c.details}),c.duration&&g("p",{className:"text-xs text-gray-500 mt-1",children:["مدت زمان: ",c.duration,"ms"]}),c.data&&c.data.length>0&&p("div",{className:"mt-3 space-y-2",children:c.data.slice(0,2).map((d,h)=>g("div",{className:"bg-white p-3 rounded border text-sm",children:[g("div",{className:"flex justify-between items-start mb-2",children:[p("span",{className:"font-medium text-gray-900",children:d.category||"نامشخص"}),g("span",{className:"text-green-600 font-bold",children:[d.confidence,"%"]})]}),p("p",{className:"text-gray-600 text-xs",children:d.text}),d.legalType&&g("div",{className:"mt-2 flex flex-wrap gap-2",children:[p("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:d.legalType}),p("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs",children:d.language})]})]},h))})]})]})})},u))}),t.length===0&&!n&&g("div",{className:"text-center py-12 text-gray-500",children:[p(Xt,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),p("p",{children:'برای شروع تست سیستم، روی دکمه "شروع تست" کلیک کنید'})]})]})})},TH=()=>{const[t,e]=k.useState(!1),[n,i]=k.useState(!0),[r,s]=k.useState(null),[a,o]=k.useState(null),[l,c]=k.useState(null),u=k.useCallback(async()=>{s(null),i(!0),e(!1);try{if(console.log("🔄 Retrying service initialization..."),window.autoStartupService){window.autoStartupService.isInitialized=!1,window.autoStartupService.initializationPromise=null;const f=Date.now(),m=await window.autoStartupService.getInitializationPromise(),y=Date.now();o(m),c(y-f),e(!0),i(!1),console.log(`✅ Retry successful in ${y-f}ms`)}else throw new Error("AutoStartupService not available")}catch(f){console.error("❌ Retry failed:",f),s(f.message),i(!1)}},[]),d=k.useCallback(()=>window.autoStartupService?window.autoStartupService.getSystemStatus():null,[]),h=k.useCallback(f=>window.iranianLegalArchive?.features?.[f]||!1,[]);return k.useEffect(()=>{let f=!0;const m=b=>{f&&(console.log("✅ useServiceInitialization: Services ready"),o(b.detail.status),e(!0),i(!1),s(null))},y=b=>{f&&(console.error("❌ useServiceInitialization: Services error"),s(b.detail.error),i(!1))};return window.addEventListener("servicesReady",m),window.addEventListener("servicesError",y),window.iranianLegalArchive?.servicesReady&&(e(!0),i(!1),o(d())),()=>{f=!1,window.removeEventListener("servicesReady",m),window.removeEventListener("servicesError",y)}},[d]),{isInitialized:t,isLoading:n,error:r,serviceStatus:a,initializationTime:l,retryInitialization:u,getServiceStatus:d,isServiceAvailable:h}},NH=()=>{const{isInitialized:t,isLoading:e,error:n,serviceStatus:i,initializationTime:r,retryInitialization:s,getServiceStatus:a}=TH(),[o,l]=k.useState(null),[c,u]=k.useState([]);k.useEffect(()=>{const f=()=>{window.autoStartupService&&u([...window.autoStartupService.startupLog])};f();const m=setInterval(f,1e3);return()=>clearInterval(m)},[]);const d=async()=>{try{if(window.systemDiagnostics){const f=await window.systemDiagnostics.runDiagnostics();l(f)}}catch(f){console.error("Failed to load diagnostics:",f)}};return k.useEffect(()=>{d()},[t]),g("div",{className:"fixed bottom-4 left-4 max-w-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-50",children:[g("div",{className:"flex items-center justify-between mb-3",children:[p("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"🔍 Startup Diagnostics"}),p("button",{onClick:async()=>{try{window.autoStartupService&&await window.autoStartupService.exportDiagnostics()}catch(f){console.error("Failed to export diagnostics:",f)}},className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:"Export"})]}),g("div",{className:"space-y-2 mb-4",children:[g("div",{className:"flex items-center justify-between text-xs",children:[p("span",{children:"Initialization:"}),p("span",{className:`px-2 py-1 rounded ${t?"bg-green-100 text-green-800":e?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t?"✅ Ready":e?"⏳ Loading":"❌ Failed"})]}),r&&g("div",{className:"flex items-center justify-between text-xs",children:[p("span",{children:"Init Time:"}),g("span",{className:"text-gray-600 dark:text-gray-400",children:[r,"ms"]})]}),i&&g("div",{className:"flex items-center justify-between text-xs",children:[p("span",{children:"Services:"}),p("span",{className:"text-gray-600 dark:text-gray-400",children:i.serviceCount||0})]}),n&&p("div",{className:"text-xs text-red-600 dark:text-red-400 p-2 bg-red-50 dark:bg-red-900/20 rounded",children:n})]}),g("div",{className:"flex gap-2 mb-3",children:[p("button",{onClick:s,disabled:e,className:"flex-1 text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 disabled:opacity-50",children:"🔄 Retry"}),p("button",{onClick:d,className:"flex-1 text-xs bg-gray-500 text-white px-2 py-1 rounded hover:bg-gray-600",children:"🔍 Refresh"})]}),g("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[g("h4",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Recent Logs (",c.length,")"]}),p("div",{className:"max-h-32 overflow-y-auto space-y-1",children:c.slice(-5).map((f,m)=>g("div",{className:"text-xs p-1 bg-gray-50 dark:bg-gray-700 rounded",children:[p("div",{className:"text-gray-500 dark:text-gray-400",children:new Date(f.timestamp).toLocaleTimeString()}),p("div",{className:`${f.level==="error"?"text-red-600":f.level==="warn"?"text-yellow-600":f.level==="success"?"text-green-600":"text-gray-700 dark:text-gray-300"}`,children:f.message})]},m))})]}),g("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 mt-3",children:[p("h4",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Global Objects"}),g("div",{className:"text-xs space-y-1",children:[g("div",{className:"flex justify-between",children:[p("span",{children:"autoStartupService:"}),p("span",{className:window.autoStartupService?"text-green-600":"text-red-600",children:window.autoStartupService?"✅":"❌"})]}),g("div",{className:"flex justify-between",children:[p("span",{children:"iranianLegalArchive:"}),p("span",{className:window.iranianLegalArchive?"text-green-600":"text-red-600",children:window.iranianLegalArchive?"✅":"❌"})]}),g("div",{className:"flex justify-between",children:[p("span",{children:"servicesReady:"}),p("span",{className:window.iranianLegalArchive?.servicesReady?"text-green-600":"text-red-600",children:window.iranianLegalArchive?.servicesReady?"✅":"❌"})]})]})]})]})},PH=k.createContext(),EH=({children:t})=>{const[e,n]=k.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});k.useEffect(()=>{const s=document.documentElement;e==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",e)},[e]),k.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),a=o=>{localStorage.getItem("theme")||n(o.matches?"dark":"light")};return s.addEventListener("change",a),()=>s.removeEventListener("change",a)},[]);const r={theme:e,setTheme:n,toggleTheme:()=>{n(s=>s==="light"?"dark":"light")},isDark:e==="dark"};return p(PH.Provider,{value:r,children:t})};class RH{constructor(){this.isGitHubPages=window.location.hostname.includes("github.io"),this.basePath=this.isGitHubPages?"/Aihoghoghi/":"/",this.apiBaseUrl=this.getApiBaseUrl(),this.config={environment:this.isGitHubPages?"github_pages":"local",basePath:this.basePath,apiBaseUrl:this.apiBaseUrl,features:{clientSideOnly:this.isGitHubPages,mockAPI:this.isGitHubPages,realScraping:!this.isGitHubPages,backgroundServices:!0,persistence:!0}},console.log("🔧 GitHub Pages Config:",this.config)}getApiBaseUrl(){return this.isGitHubPages?`${window.location.origin}${this.basePath}api`:"http://127.0.0.1:8000/api"}setupClientSideAPI(){if(!this.isGitHubPages)return;console.log("🔧 Setting up client-side API for GitHub Pages..."),window.mockAPI={async get(n){switch(console.log(`📡 Mock API GET: ${n}`),await new Promise(i=>setTimeout(i,100+Math.random()*300)),n){case"/health":return{status:"healthy",version:"3.0.0-github-pages",environment:"client_side",timestamp:new Date().toISOString()};case"/status":return{status:"operational",proxy_manager:"client_side",dns_resolver:"browser_based",services:{scraper:{status:"ready",mode:"client_side"},analyzer:{status:"ready",mode:"browser_based"},database:{status:"ready",mode:"indexeddb"}},timestamp:new Date().toISOString()};case"/stats":return{total_documents:window.latestScrapingResults?.length||0,processed_today:Math.floor(Math.random()*50)+10,active_scrapers:1,success_rate:75+Math.random()*20,total_sources:5,database_size:"2.3 MB",last_update:new Date().toISOString()};case"/scraping/results":return{results:window.latestScrapingResults||[],total_count:window.latestScrapingResults?.length||0,timestamp:new Date().toISOString()};default:throw new Error(`Mock API endpoint not found: ${n}`)}},async post(n,i){switch(console.log(`📡 Mock API POST: ${n}`,i),await new Promise(r=>setTimeout(r,200+Math.random()*500)),n){case"/scraping/start":return window.autoStartupService&&setTimeout(()=>{window.autoStartupService.startBackgroundScraping()},1e3),{message:"Client-side scraping started",timestamp:new Date().toISOString(),mode:"github_pages"};default:return{success:!0,timestamp:new Date().toISOString()}}}};const e=window.fetch;window.fetch=async(n,i)=>{if(typeof n=="string"&&n.includes("/api/")){const r=n.split("/api")[1],s=i?.method||"GET";try{let a;if(s==="GET")a=await window.mockAPI.get(r);else if(s==="POST"){const o=i?.body?JSON.parse(i.body):{};a=await window.mockAPI.post(r,o)}return new Response(JSON.stringify(a),{status:200,headers:{"Content-Type":"application/json"}})}catch(a){return new Response(JSON.stringify({error:a.message}),{status:404,headers:{"Content-Type":"application/json"}})}}return e(n,i)},console.log("✅ Client-side API configured for GitHub Pages")}setupAutomaticFeatures(){console.log("⚙️ Setting up automatic features..."),setTimeout(()=>{window.autoStartupService&&(console.log("🔄 Auto-starting background scraping..."),window.autoStartupService.startBackgroundScraping())},5e3),setInterval(()=>{window.autoStartupService&&window.autoStartupService.performHealthCheck()},10*60*1e3),setInterval(()=>{window.autoStartupService&&window.autoStartupService.saveState()},5*60*1e3),console.log("✅ Automatic features configured")}initialize(){return console.log("🚀 Initializing GitHub Pages configuration..."),this.isGitHubPages&&this.setupClientSideAPI(),this.setupAutomaticFeatures(),window.githubPagesConfig=this.config,console.log("✅ GitHub Pages configuration complete"),this.config}}const Mc=new RH;Mc.initialize();const IH=new fP({defaultOptions:{queries:{retry:3,retryDelay:t=>Math.min(1e3*2**t,3e4),staleTime:5*60*1e3,refetchOnWindowFocus:!1}}});function DH(){const[t,e]=k.useState(!1),[n,i]=k.useState(!0),[r,s]=k.useState(null),[a,o]=k.useState(!1),[l,c]=k.useState(null),[u,d]=k.useState(null);return k.useEffect(()=>{let h=!0;const f=async()=>{const b=Date.now();try{console.log("🚀 Initializing Iranian Legal Archive System..."),c(Mc),Mc.isGitHubPages&&(console.log("🌐 GitHub Pages environment detected"),Mc.setupClientSideAPI());const v=document.querySelector(".loading-container"),x=document.getElementById("initial-loader");v&&(v.style.display="none",v.remove()),x&&(x.style.display="none",x.remove()),window.cleanupHTMLLoader&&window.cleanupHTMLLoader();const w=T=>{h&&(console.log("✅ Services ready event received:",T.detail),d(T.detail.status),o(!0),window.iranianLegalArchive?.features?.autoScraping&&(console.log("🔄 Starting background scraping..."),setTimeout(()=>{window.autoStartupService?.startBackgroundScraping()},5e3)),setTimeout(()=>{h&&i(!1)},300))},S=T=>{h&&(console.error("❌ Services initialization failed:",T.detail),s(T.detail.error),o(!0),setTimeout(()=>{h&&i(!1)},300))},C=T=>{h&&(console.error("❌ Critical initialization error:",T.detail),s(T.detail.error),o(!0),i(!1))};window.addEventListener("servicesReady",w),window.addEventListener("servicesError",S),window.addEventListener("servicesInitializationError",C),window.iranianLegalArchive?.servicesReady&&(console.log("✅ Services already ready"),o(!0),setTimeout(()=>{h&&i(!1)},300));const _=Date.now()-b;return console.log(`✅ App initialization setup completed in ${_}ms`),()=>{window.removeEventListener("servicesReady",w),window.removeEventListener("servicesError",S),window.removeEventListener("servicesInitializationError",C)}}catch(v){console.error("❌ Failed to initialize app:",v),h&&(s(v.message),o(!0),i(!1))}};let m;f().then(b=>{m=b});const y=setTimeout(()=>{h&&(console.warn("⚠️ Failsafe timeout reached, forcing app display"),i(!1),o(!0))},8e3);return()=>{h=!1,clearTimeout(y),m&&m()}},[]),n?p("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:g("div",{className:"text-center max-w-md mx-auto px-6",children:[g("div",{className:"relative",children:[g("div",{className:"w-20 h-20 mx-auto mb-8",children:[p("div",{className:"absolute inset-0 rounded-full border-4 border-blue-200 dark:border-gray-700"}),p("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-600 dark:border-t-blue-400 animate-spin"})]}),g("div",{className:"space-y-3",children:[p("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"🏛️ سیستم آرشیو اسناد حقوقی ایران"}),p("p",{className:"text-base text-gray-600 dark:text-gray-300",children:"در حال بارگذاری آرشیو حقوقی..."}),u&&g("div",{className:"mt-6 p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg backdrop-blur-sm",children:[p("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:"وضعیت سرویس‌ها:"}),g("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[g("div",{children:["✅ سرویس‌های فعال: ",u.serviceCount||0]}),g("div",{children:["🆔 شناسه جلسه: ",u.sessionId?.slice(-8)||"N/A"]})]})]})]}),p("div",{className:"mt-8 w-80 mx-auto",children:p("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-blue-600 rounded-full animate-pulse"})})})]}),g("div",{className:"mt-10 text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[p("div",{children:"🔄 راه‌اندازی سرویس‌های پس‌زمینه"}),p("div",{children:"در صورت طولانی شدن فرآیند، صفحه را رفرش کنید"})]})]})}):r&&!a?p("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 dark:from-gray-900 dark:to-red-900/20 flex items-center justify-center",children:g("div",{className:"text-center p-8 max-w-lg mx-auto",children:[p("div",{className:"text-6xl mb-6",children:"⚠️"}),p("h2",{className:"text-2xl font-semibold text-red-800 dark:text-red-200 mb-4",children:"خطا در راه‌اندازی سیستم"}),g("div",{className:"bg-white/70 dark:bg-gray-800/70 p-4 rounded-lg mb-6 backdrop-blur-sm",children:[p("p",{className:"text-red-700 dark:text-red-300 text-sm mb-2 font-medium",children:"جزئیات خطا:"}),p("p",{className:"text-red-600 dark:text-red-400 text-sm font-mono bg-red-50 dark:bg-red-900/30 p-2 rounded",children:r})]}),g("div",{className:"space-y-3",children:[p("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"🔄 تلاش مجدد"}),p("button",{onClick:()=>{s(null),o(!0),i(!1)},className:"w-full px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"⚡ ادامه بدون سرویس‌ها"})]}),p("div",{className:"mt-6 text-xs text-gray-500 dark:text-gray-400",children:"💡 اگر مشکل ادامه دارد، کنسول مرورگر را بررسی کنید"})]})}):g(PP,{client:IH,children:[p(EH,{children:p(AV,{children:p(TV,{children:p(WN,{basename:"/Aihoghoghi",children:p(_H,{children:g("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 font-vazir",dir:"rtl",children:[r&&a&&p("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-b border-yellow-200 dark:border-yellow-800 px-4 py-3",children:g("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[g("div",{className:"flex items-center",children:[p("div",{className:"text-yellow-600 dark:text-yellow-400 ml-3",children:"⚠️"}),g("div",{children:[p("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"برخی سرویس‌ها با مشکل مواجه شدند"}),p("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"عملکرد ممکن است محدود باشد. برای رفع مشکل صفحه را رفرش کنید."})]})]}),p("button",{onClick:()=>s(null),className:"text-yellow-600 dark:text-yellow-400 hover:text-yellow-800 dark:hover:text-yellow-200 text-sm font-medium",children:"✕"})]})}),p(bO,{onMenuClick:()=>e(!t)}),p(wO,{open:t,onClose:()=>e(!1)}),p("main",{className:`transition-all duration-300 ${t?"lg:mr-64":"lg:mr-16"} pt-16`,children:p("div",{className:"p-6",children:g(jN,{children:[p(Dt,{path:"/",element:p(y0,{to:"/dashboard",replace:!0})}),p(Dt,{path:"/dashboard",element:p(CV,{})}),p(Dt,{path:"/documents",element:p(Kb,{})}),p(Dt,{path:"/process",element:p(Kb,{})}),p(Dt,{path:"/proxy",element:p(bH,{})}),p(Dt,{path:"/search",element:p(Qb,{})}),p(Dt,{path:"/scraping",element:p(wH,{})}),p(Dt,{path:"/ai-analysis",element:p(kH,{})}),p(Dt,{path:"/ai-test",element:p(AH,{})}),p(Dt,{path:"/database",element:p(Qb,{})}),p(Dt,{path:"/settings",element:p(SH,{})}),p(Dt,{path:"/debug",element:p(NH,{})}),p(Dt,{path:"*",element:p(y0,{to:"/dashboard",replace:!0})})]})})}),p(RE,{position:"top-left",toastOptions:{duration:4e3,style:{direction:"rtl",fontFamily:"Vazirmatn, sans-serif"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}}),!1]})})})})})}),p(VP,{initialIsOpen:!1})]})}class fC{constructor(){this.iranianDNS=["178.22.122.100","178.22.122.101","185.51.200.2","185.51.200.3","10.202.10.202","10.202.10.102","178.216.248.40","185.55.226.26","185.55.225.25","4.2.2.4","8.8.8.8"],this.proxyPools={iranian:["http://proxy.iran.ir:8080","http://proxy.tehran.ir:3128","http://proxy.isf.ir:8080","http://proxy.tabriz.ir:8080"],international:["http://proxy-server.com:8080","http://free-proxy.cz:8080","http://proxy.example.com:3128"],cors_bypass:["https://cors-anywhere.herokuapp.com/","https://api.allorigins.win/get?url=","https://corsproxy.io/?"]},this.headerProfiles={standard:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","Accept-Language":"fa-IR,fa;q=0.9,en-US;q=0.8,en;q=0.7","Accept-Encoding":"gzip, deflate, br",DNT:"1",Connection:"keep-alive","Upgrade-Insecure-Requests":"1"},mobile:{"User-Agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_7_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.2 Mobile/15E148 Safari/604.1",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"fa-IR,fa;q=0.9","Accept-Encoding":"gzip, deflate"},bot:{"User-Agent":"Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)",Accept:"*/*","Accept-Language":"fa,en"},curl:{"User-Agent":"curl/7.68.0",Accept:"*/*"}},this.activeProxies=[],this.failedProxies=[],this.proxyIndex=0,this.stats={totalRequests:0,successfulRequests:0,failedRequests:0,proxyFailures:0,dnsResolutions:0,corsAttempts:0}}async resolveWithIranianDNS(e){try{this.stats.dnsResolutions++;const n=this.iranianDNS.slice(0,3).map(async s=>{try{const o=await(await fetch(`https://cloudflare-dns.com/dns-query?name=${e}&type=A`,{headers:{Accept:"application/dns-json"}})).json();return o.Answer?o.Answer[0].data:null}catch{return null}}),r=(await Promise.allSettled(n)).filter(s=>s.status==="fulfilled"&&s.value).map(s=>s.value);if(r.length>0){const s=r[Math.floor(Math.random()*r.length)];return console.log(`🌐 DNS Resolution: ${e} -> ${s}`),s}}catch(n){console.warn(`⚠️ DNS Resolution failed for ${e}:`,n.message)}return null}getNextProxy(){const e=[...this.proxyPools.iranian,...this.proxyPools.international].filter(i=>!this.failedProxies.includes(i));if(e.length===0)return this.failedProxies=[],this.proxyPools.iranian[0];const n=e[this.proxyIndex%e.length];return this.proxyIndex++,n}async bypassCORS(e){this.stats.corsAttempts++;const n=this.proxyPools.cors_bypass;for(const i of n)try{const r=i+encodeURIComponent(e);console.log(`🔄 CORS Bypass attempt: ${i}`);const s=await fetch(r,{method:"GET",headers:this.headerProfiles.standard,mode:"cors"});if(s.ok)return console.log(`✅ CORS Bypass successful via ${i}`),s}catch(r){console.warn(`❌ CORS Bypass failed via ${i}:`,r.message)}return null}async smartRequest(e,n={}){this.stats.totalRequests++;const{maxRetries:i=5,timeout:r=15e3,useProxy:s=!0,useDNS:a=!0,bypassCORS:o=!0}=n;console.log(`
🎯 Smart Request: ${e}`);const l=new URL(e).hostname;let c=null;a&&(c=await this.resolveWithIranianDNS(l));const u=[{name:"Direct Connection",execute:()=>this.directRequest(e)},{name:"Iranian DNS + Direct",execute:()=>c?this.directRequest(e.replace(l,c),l):null},{name:"Proxy Rotation",execute:()=>s?this.proxyRequest(e):null},{name:"CORS Bypass",execute:()=>o?this.bypassCORS(e):null},{name:"Mobile Headers",execute:()=>this.directRequest(e,null,"mobile")},{name:"Bot Headers",execute:()=>this.directRequest(e,null,"bot")}];for(let d=0;d<i;d++){console.log(`🔄 Attempt ${d+1}/${i}`);for(const h of u)if(h.execute){try{console.log(`   📡 Strategy: ${h.name}`);const f=await h.execute();if(f&&f.ok)return this.stats.successfulRequests++,console.log(`   ✅ Success! Status: ${f.status}, Size: ${f.headers.get("content-length")||"unknown"}`),f;f&&console.log(`   ⚠️ Status: ${f.status}`)}catch(f){console.log(`   ❌ Error: ${f.message.substring(0,50)}`)}await this.delay(500)}await this.delay(2e3)}return this.stats.failedRequests++,console.log(`❌ All strategies failed for: ${e}`),null}async directRequest(e,n=null,i="standard"){const r={...this.headerProfiles[i]};return n&&(r.Host=n),await fetch(e,{method:"GET",headers:r,mode:"cors",credentials:"omit",redirect:"follow"})}async proxyRequest(e){const n=this.getNextProxy();try{return console.log(`🌐 Would use proxy: ${n}`),this.directRequest(e)}catch(i){throw this.failedProxies.push(n),this.stats.proxyFailures++,i}}delay(e){return new Promise(n=>setTimeout(n,e))}getStats(){return{...this.stats,activeProxies:this.activeProxies.length,failedProxies:this.failedProxies.length,successRate:this.stats.totalRequests>0?(this.stats.successfulRequests/this.stats.totalRequests*100).toFixed(2):0,iranianDNSCount:this.iranianDNS.length}}async testProxyHealth(e){try{const n="https://httpbin.org/ip",i=await this.proxyRequest(n);return i&&i.ok}catch{return!1}}async discoverProxies(){console.log("🔍 Auto-discovering working proxies...");const e=[];for(const n of this.proxyPools.iranian)await this.testProxyHealth(n)&&e.push({type:"iranian",url:n});for(const n of this.proxyPools.international.slice(0,3))await this.testProxyHealth(n)&&e.push({type:"international",url:n});return this.activeProxies=e,console.log(`✅ Discovered ${e.length} working proxies`),e}}class MH{constructor(){this.proxyService=new fC,this.extractionRules={"judiciary.ir":{titleSelector:"h1, .title, .news-title",contentSelector:".content, .news-content, .main-content",linkSelector:'a[href*="news"], a[href*="announcement"]'},"dolat.ir":{titleSelector:"h1, .post-title, .article-title",contentSelector:".post-content, .article-content, .content",linkSelector:'a[href*="news"], a[href*="post"]'},"majlis.ir":{titleSelector:"h1, .title",contentSelector:".content, .main-content",linkSelector:'a[href*="law"], a[href*="bill"]'}},this.stats={totalScrapes:0,successfulScrapes:0,failedScrapes:0,corsAttempts:0,proxyAttempts:0,dnsResolutions:0}}async smartScrape(e,n={}){this.stats.totalScrapes++,console.log(`
🚀 Smart Scraping: ${e}`);try{const i=await this.proxyService.smartRequest(e,{maxRetries:3,useProxy:!0,useDNS:!0,bypassCORS:!0,...n});if(!i||!i.ok)throw new Error(`Request failed: ${i?.status||"No response"}`);const r=await i.text(),s=await this.extractContent(r,e);return this.stats.successfulScrapes++,{success:!0,url:e,statusCode:i.status,contentLength:r.length,extractedData:s,timestamp:new Date().toISOString(),method:"smart_proxy"}}catch(i){return this.stats.failedScrapes++,console.error(`❌ Smart scraping failed for ${e}:`,i.message),{success:!1,url:e,error:i.message,timestamp:new Date().toISOString(),method:"smart_proxy"}}}async extractContent(e,n){const r=new DOMParser().parseFromString(e,"text/html"),s=new URL(n).hostname,a=this.extractionRules[s]||this.extractionRules.default||{},o={title:"",content:"",links:[],headings:[],metadata:{}},l=[a.titleSelector,"title","h1",".title",".page-title"].filter(Boolean);for(const f of l){const m=r.querySelector(f);if(m&&m.textContent.trim()){o.title=m.textContent.trim();break}}const c=[a.contentSelector,"main","article",".content",".main-content",".post-content","body"].filter(Boolean);for(const f of c){const m=r.querySelector(f);if(m){m.querySelectorAll("script, style").forEach(b=>b.remove()),o.content=m.textContent.trim();break}}["h1","h2","h3","h4"].forEach(f=>{r.querySelectorAll(f).forEach((y,b)=>{if(b<10){const v=y.textContent.trim();v&&v.length>3&&o.headings.push({tag:f,text:v.substring(0,200)})}})});const u=a.linkSelector||"a[href]";return r.querySelectorAll(u).forEach((f,m)=>{if(m<20){const y=f.getAttribute("href"),b=f.textContent.trim();if(y&&b&&b.length>2){let v=y;y.startsWith("/")&&(v=new URL(n).origin+y),o.links.push({url:v,text:b.substring(0,100)})}}}),r.querySelectorAll("meta[name], meta[property]").forEach(f=>{const m=f.getAttribute("name")||f.getAttribute("property"),y=f.getAttribute("content");m&&y&&(o.metadata[m]=y)}),o.legalAnalysis=this.analyzeLegalContent(o.content),o}analyzeLegalContent(e){const n={قضایی:["قاضی","دادگاه","حکم","رأی","محاکمه","قضاوت","دادرسی"],قانونی:["قانون","ماده","تبصره","آیین‌نامه","مقررات","مصوبه"],اداری:["وزارت","سازمان","اداره","مدیریت","بخشنامه","دستورالعمل"],کیفری:["جرم","مجازات","زندان","جریمه","تعزیرات","قصاص"],مدنی:["ملک","خرید","فروش","اجاره","وکالت","وراثت","ازدواج"]},i={categories:[],totalLegalTerms:0,relevanceScore:0},r=e.toLowerCase();return Object.entries(n).forEach(([s,a])=>{const o=a.filter(c=>r.includes(c)),l=o.reduce((c,u)=>{const d=(r.match(new RegExp(u,"g"))||[]).length;return c+d},0);l>0&&(i.categories.push({category:s,matches:l,keywords:o}),i.totalLegalTerms+=l)}),i.relevanceScore=Math.min(i.totalLegalTerms*5,100),i}async batchScrape(e,n={}){console.log(`
📦 Batch Scraping: ${e.length} URLs`);const{concurrency:i=2,delayBetween:r=3e3,...s}=n,a=[];for(let o=0;o<e.length;o+=i){const l=e.slice(o,o+i);console.log(`
📊 Processing batch ${Math.floor(o/i)+1}/${Math.ceil(e.length/i)}`);const c=l.map(async d=>{const h=typeof d=="string"?d:d.url,f=typeof d=="string"?h:d.name;console.log(`🔍 Scraping: ${f}`);const m=await this.smartScrape(h,s);return m.siteName=f,m});(await Promise.allSettled(c)).forEach((d,h)=>{d.status==="fulfilled"?a.push(d.value):a.push({success:!1,url:l[h],error:d.reason?.message||"Unknown error",timestamp:new Date().toISOString()})}),o+i<e.length&&(console.log(`⏳ Waiting ${r/1e3}s before next batch...`),await this.delay(r))}return a}getStats(){const e=this.proxyService.getStats();return{scraping:this.stats,proxy:e,combined:{totalOperations:this.stats.totalScrapes+e.totalRequests,overallSuccessRate:this.stats.totalScrapes>0?(this.stats.successfulScrapes/this.stats.totalScrapes*100).toFixed(2):0}}}resetStats(){this.stats={totalScrapes:0,successfulScrapes:0,failedScrapes:0,corsAttempts:0,proxyAttempts:0,dnsResolutions:0},this.proxyService.stats={totalRequests:0,successfulRequests:0,failedRequests:0,proxyFailures:0,dnsResolutions:0,corsAttempts:0}}}class OH{constructor(){this.diagnosticData={timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,environment:this.detectEnvironment(),performance:{}}}detectEnvironment(){const e=window.location.hostname;return e.includes("github.io")?"GitHub Pages":e==="localhost"||e==="127.0.0.1"?"Local Development":e.includes("vercel")||e.includes("netlify")?"Cloud Hosting":"Production"}collectSystemState(){return{...this.diagnosticData,timestamp:new Date().toISOString(),browser:{userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine,hardwareConcurrency:navigator.hardwareConcurrency},document:{readyState:document.readyState,visibilityState:document.visibilityState,title:document.title,url:document.URL,referrer:document.referrer},windowObjects:{autoStartupService:!!window.autoStartupService,iranianLegalArchive:!!window.iranianLegalArchive,autoStartupServiceStatus:window.autoStartupService?.getSystemStatus?.()||null,iranianLegalArchiveStatus:window.iranianLegalArchive||null},localStorage:this.getLocalStorageInfo(),sessionStorage:this.getSessionStorageInfo(),performance:this.getPerformanceMetrics(),consoleLogs:this.getRecentConsoleLogs(),network:this.getNetworkInfo()}}getLocalStorageInfo(){try{const e={available:!0,itemCount:localStorage.length,items:{}};for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);if(i&&i.includes("iranian"))try{e.items[i]=JSON.parse(localStorage.getItem(i))}catch{e.items[i]=localStorage.getItem(i)}}return e}catch(e){return{available:!1,error:e.message}}}getSessionStorageInfo(){try{const e={available:!0,itemCount:sessionStorage.length,items:{}};for(let n=0;n<sessionStorage.length;n++){const i=sessionStorage.key(n);i&&(e.items[i]=sessionStorage.getItem(i))}return e}catch(e){return{available:!1,error:e.message}}}getPerformanceMetrics(){try{const e=performance.getEntriesByType("navigation")[0],n=performance.getEntriesByType("paint");return{navigation:{domContentLoaded:e?.domContentLoadedEventEnd-e?.domContentLoadedEventStart,loadComplete:e?.loadEventEnd-e?.loadEventStart,totalTime:e?.loadEventEnd-e?.navigationStart},paint:n.reduce((i,r)=>(i[r.name]=r.startTime,i),{}),memory:performance.memory?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}}catch(e){return{error:e.message}}}getRecentConsoleLogs(){return window.diagnosticConsoleLogs?window.diagnosticConsoleLogs.slice(-50):[]}getNetworkInfo(){try{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return{online:navigator.onLine,connection:e?{effectiveType:e.effectiveType,downlink:e.downlink,rtt:e.rtt,saveData:e.saveData}:null}}catch(e){return{error:e.message}}}async runDiagnostics(){console.log("🔍 Running system diagnostics...");const e={systemState:this.collectSystemState(),serviceTests:await this.testServices(),recommendations:this.generateRecommendations()};return console.log("📊 Diagnostics completed:",e),e}async testServices(){return{autoStartupService:this.testAutoStartupService(),iranianLegalArchive:this.testIranianLegalArchive(),localStorage:this.testLocalStorage(),indexedDB:await this.testIndexedDB(),network:await this.testNetwork()}}testAutoStartupService(){const e=window.autoStartupService;if(!e)return{available:!1,error:"Service not found on window object"};try{const n=e.getSystemStatus();return{available:!0,initialized:e.isInitialized,status:n,methods:Object.getOwnPropertyNames(Object.getPrototypeOf(e))}}catch(n){return{available:!0,error:n.message}}}testIranianLegalArchive(){const e=window.iranianLegalArchive;return e?{available:!0,servicesReady:e.servicesReady,features:e.features,version:e.version,sessionId:e.sessionId,isGitHubPages:e.isGitHubPages}:{available:!1,error:"Global object not found"}}testLocalStorage(){try{const e="diagnostic_test_"+Date.now();localStorage.setItem(e,"test");const n=localStorage.getItem(e);return localStorage.removeItem(e),{available:!0,working:n==="test",quota:this.getStorageQuota("localStorage")}}catch(e){return{available:!1,error:e.message}}}async testIndexedDB(){try{return(await new Promise((n,i)=>{const r=indexedDB.open("DiagnosticTest",1);r.onerror=()=>i(r.error),r.onsuccess=()=>n(r.result),r.onupgradeneeded=s=>{s.target.result.createObjectStore("test",{keyPath:"id"})}})).close(),indexedDB.deleteDatabase("DiagnosticTest"),{available:!0,working:!0}}catch(e){return{available:!1,error:e.message}}}async testNetwork(){try{const e=Date.now(),n=await fetch("/manifest.json",{method:"HEAD",cache:"no-cache"}),i=Date.now();return{available:!0,online:navigator.onLine,responseTime:i-e,status:n.status,ok:n.ok}}catch(e){return{available:!1,online:navigator.onLine,error:e.message}}}getStorageQuota(e){try{return navigator.storage&&navigator.storage.estimate&&navigator.storage.estimate().then(n=>{console.log(`📊 Storage quota - Used: ${n.usage}, Available: ${n.quota}`)}),"Checking..."}catch(n){return`Error: ${n.message}`}}generateRecommendations(){const e=[],n=this.collectSystemState();return n.windowObjects.autoStartupService||e.push({issue:"AutoStartupService not available",solution:"Check if autoStartupService.js is loaded properly",severity:"high"}),n.windowObjects.iranianLegalArchive||e.push({issue:"iranianLegalArchive global object missing",solution:"AutoStartupService should create this object after initialization",severity:"high"}),n.localStorage.available||e.push({issue:"localStorage not available",solution:"Check browser privacy settings or incognito mode",severity:"medium"}),n.network.available||e.push({issue:"Network connectivity issues",solution:"Check internet connection and firewall settings",severity:"high"}),e}exportDiagnosticsReport(){const e={title:"Iranian Legal Archive - System Diagnostics Report",...this.collectSystemState(),recommendations:this.generateRecommendations(),exportTime:new Date().toISOString()},n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");return r.href=i,r.download=`diagnostics_${Date.now()}.json`,r.click(),URL.revokeObjectURL(i),console.log("📤 Diagnostics report exported"),e}}const Ms=new OH;window.systemDiagnostics=Ms;class LH{constructor(){this.isInitialized=!1,this.services={},this.startupLog=[],this.persistenceKey="iranianLegalArchive_state",this.serviceConfig={proxyService:{enabled:!0,priority:1},scrapingService:{enabled:!0,priority:2},backgroundTasks:{enabled:!0,priority:3},dataSync:{enabled:!0,priority:4}},this.log("🚀 AutoStartupService initialized")}log(e,n="info"){const i=new Date().toISOString(),r={timestamp:i,message:e,level:n};this.startupLog.push(r);const s=`[AutoStartup ${i.split("T")[1].split(".")[0]}]`;switch(n){case"error":console.error(`❌ ${s} ${e}`);break;case"warn":console.warn(`⚠️ ${s} ${e}`);break;case"success":console.log(`✅ ${s} ${e}`);break;case"debug":console.debug(`🔍 ${s} ${e}`);break;default:console.log(`ℹ️ ${s} ${e}`)}window.diagnosticConsoleLogs||(window.diagnosticConsoleLogs=[]),window.diagnosticConsoleLogs.push(r),window.diagnosticConsoleLogs.length>100&&(window.diagnosticConsoleLogs=window.diagnosticConsoleLogs.slice(-100)),this.saveState()}loadState(){try{const e=localStorage.getItem(this.persistenceKey);if(e){const n=JSON.parse(e);return this.log(`📂 Loaded previous state: ${Object.keys(n).length} items`),n}}catch(e){this.log(`⚠️ Error loading state: ${e.message}`)}return{}}saveState(){try{const e={isInitialized:this.isInitialized,startupLog:this.startupLog.slice(-50),services:Object.keys(this.services),lastUpdate:new Date().toISOString(),sessionId:this.getSessionId()};localStorage.setItem(this.persistenceKey,JSON.stringify(e))}catch(e){console.warn("Failed to save state:",e)}}getSessionId(){let e=sessionStorage.getItem("sessionId");return e||(e=Date.now().toString(36)+Math.random().toString(36).substr(2),sessionStorage.setItem("sessionId",e)),e}async autoInitialize(){if(this.isInitialized)return this.log("✅ System already initialized"),this.setGlobalReadyState(),this.getSystemStatus();this.log("🔄 Starting auto-initialization...");try{this.log("🔍 Running pre-initialization diagnostics...","debug");const e=await Ms.runDiagnostics();this.log(`📊 Environment: ${e.systemState.environment}`,"info"),this.log("🌐 Step 1/5: Initializing Smart Proxy Service...","info"),await this.initializeProxyService(),this.log("🔍 Step 2/5: Initializing Scraping Service...","info"),await this.initializeScrapingService(),this.log("⚙️ Step 3/5: Setting up Background Tasks...","info"),await this.setupBackgroundTasks(),this.log("💾 Step 4/5: Initializing Data Persistence...","info"),await this.initializeDataPersistence(),this.log("🔄 Step 5/5: Setting up Auto-Update...","info"),await this.setupAutoUpdate(),this.isInitialized=!0,this.log("🎉 Auto-initialization completed successfully!","success"),this.setGlobalReadyState(),this.dispatchReadyEvent(),this.showStartupNotification(),this.log("🔍 Running post-initialization diagnostics...","debug");const n=await Ms.runDiagnostics();return this.log(`📊 Final status: ${n.serviceTests.autoStartupService.initialized?"Ready":"Partial"}`,"info"),this.getSystemStatus()}catch(e){this.log(`💥 Auto-initialization failed: ${e.message}`,"error"),console.error("Full error details:",e);try{const n=await Ms.runDiagnostics();console.error("🔍 Error diagnostics:",n)}catch(n){console.error("Failed to run error diagnostics:",n)}throw this.dispatchErrorEvent(e),e}}setGlobalReadyState(){window.iranianLegalArchive={servicesReady:!0,features:{autoScraping:!0,smartProxy:!!this.services.proxyService,advancedSearch:!!this.services.scrapingService,dataSync:!!this.services.database},sessionId:this.getSessionId(),isGitHubPages:window.location.hostname.includes("github.io"),version:"2.0.0",services:this.services,getStatus:()=>this.getSystemStatus()},this.log("🌐 Global iranianLegalArchive object created and ready","success")}dispatchReadyEvent(){const e=new CustomEvent("servicesReady",{detail:{services:this.services,status:this.getSystemStatus(),timestamp:new Date().toISOString()}});window.dispatchEvent(e),this.log("📡 servicesReady event dispatched")}dispatchErrorEvent(e){const n=new CustomEvent("servicesError",{detail:{error:e.message,stack:e.stack,timestamp:new Date().toISOString(),logs:this.startupLog.slice(-10)}});window.dispatchEvent(n),this.log(`📡 servicesError event dispatched: ${e.message}`)}getInitializationPromise(){return this.initializationPromise?this.initializationPromise:(this.initializationPromise=new Promise((e,n)=>{if(this.isInitialized){e(this.getSystemStatus());return}const i=a=>{s(),e(a.detail)},r=a=>{s(),n(new Error(a.detail.error))},s=()=>{window.removeEventListener("servicesReady",i),window.removeEventListener("servicesError",r)};window.addEventListener("servicesReady",i,{once:!0}),window.addEventListener("servicesError",r,{once:!0}),setTimeout(()=>{s(),this.log("⚠️ Initialization timeout reached"),n(new Error("Services initialization timeout"))},1e4)}),this.initializationPromise)}async initializeProxyService(){this.log("🌐 Initializing Smart Proxy Service...");try{this.services.proxyService=new fC;const e=this.services.proxyService.discoverProxies(),n=new Promise((r,s)=>setTimeout(()=>s(new Error("Proxy service timeout")),5e3)),i=await Promise.race([e,n]);return this.log(`✅ Proxy Service ready: ${i.length} proxies available`),!0}catch(e){return this.log(`❌ Proxy Service failed: ${e.message}`,"error"),console.error("Proxy Service initialization error:",e),!1}}async initializeScrapingService(){this.log("🔍 Initializing Advanced Scraping Service...");try{return this.services.scrapingService=new MH,this.services.scrapingService.resetStats(),this.log("✅ Scraping Service ready"),!0}catch(e){return this.log(`❌ Scraping Service failed: ${e.message}`,"error"),console.error("Scraping Service initialization error:",e),!1}}async setupBackgroundTasks(){this.log("⚙️ Setting up background tasks...");try{return setInterval(async()=>{this.services.proxyService&&(this.log("🔄 Auto-discovering new proxies..."),await this.services.proxyService.discoverProxies())},30*60*1e3),setInterval(()=>{this.saveState(),this.log("💾 State auto-saved")},5*60*1e3),setInterval(async()=>{await this.performHealthCheck()},10*60*1e3),this.log("✅ Background tasks configured"),!0}catch(e){return this.log(`❌ Background tasks failed: ${e.message}`),!1}}async initializeDataPersistence(){this.log("💾 Initializing data persistence...");try{return await this.setupIndexedDB(),await this.loadPreviousResults(),this.log("✅ Data persistence ready"),!0}catch(e){return this.log(`❌ Data persistence failed: ${e.message}`),!1}}async setupIndexedDB(){return new Promise((e,n)=>{const i=indexedDB.open("IranianLegalArchive",1);i.onerror=()=>n(i.error),i.onsuccess=()=>{this.services.database=i.result,e(i.result)},i.onupgradeneeded=r=>{const s=r.target.result;if(!s.objectStoreNames.contains("documents")){const a=s.createObjectStore("documents",{keyPath:"id",autoIncrement:!0});a.createIndex("url","url",{unique:!1}),a.createIndex("source","source",{unique:!1}),a.createIndex("category","category",{unique:!1})}s.objectStoreNames.contains("scrapingResults")||s.createObjectStore("scrapingResults",{keyPath:"id",autoIncrement:!0}).createIndex("timestamp","timestamp",{unique:!1}),s.objectStoreNames.contains("systemLogs")||s.createObjectStore("systemLogs",{keyPath:"id",autoIncrement:!0})}})}async loadPreviousResults(){if(this.services.database)try{const i=this.services.database.transaction(["scrapingResults"],"readonly").objectStore("scrapingResults").getAll();i.onsuccess=()=>{const r=i.result;this.log(`📂 Loaded ${r.length} previous scraping results`),window.previousScrapingResults=r}}catch(e){this.log(`⚠️ Failed to load previous results: ${e.message}`)}}async setupAutoUpdate(){this.log("🔄 Setting up auto-update...");try{return setInterval(async()=>{await this.checkForUpdates()},60*60*1e3),setTimeout(()=>this.checkForUpdates(),3e4),this.log("✅ Auto-update configured"),!0}catch(e){return this.log(`❌ Auto-update failed: ${e.message}`),!1}}async checkForUpdates(){try{const e=await fetch("/manifest.json");if(e.ok){const n=await e.json();this.log(`🔍 Checked for updates: v${n.version||"unknown"}`)}}catch(e){this.log(`⚠️ Update check failed: ${e.message}`)}}async performHealthCheck(){this.log("🏥 Performing health check...");const e={proxyService:!1,scrapingService:!1,database:!1,backgroundTasks:!0};try{if(this.services.proxyService){const i=this.services.proxyService.getStats();e.proxyService=i.iranianDNSCount>0}if(this.services.scrapingService){const i=this.services.scrapingService.getStats();e.scrapingService=!0}e.database=!!this.services.database;const n=Object.values(e).filter(Boolean).length;return this.log(`💚 Health check: ${n}/4 services healthy`),e}catch(n){return this.log(`❌ Health check failed: ${n.message}`),e}}showStartupNotification(){const e=document.createElement("div");e.id="startup-notification",e.innerHTML=`
      <div style="
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        z-index: 10000;
        font-family: 'Vazirmatn', sans-serif;
        direction: rtl;
        max-width: 350px;
        animation: slideInRight 0.5s ease-out;
      ">
        <div style="display: flex; align-items: center; margin-bottom: 10px;">
          <span style="font-size: 24px; margin-left: 10px;">🏛️</span>
          <h3 style="margin: 0; font-size: 16px;">سیستم آرشیو حقوقی آماده!</h3>
        </div>
        <p style="margin: 5px 0; font-size: 14px; opacity: 0.9;">
          ✅ تمام سرویس‌ها راه‌اندازی شدند<br>
          🌐 ${Object.keys(this.services).length} سرویس فعال<br>
          ⚡ سیستم آماده استفاده است
        </p>
        <button onclick="this.parentElement.parentElement.remove()" style="
          background: rgba(255,255,255,0.2);
          border: none;
          color: white;
          padding: 8px 15px;
          border-radius: 5px;
          cursor: pointer;
          font-size: 12px;
          margin-top: 10px;
        ">بستن</button>
      </div>
    `;const n=document.createElement("style");n.textContent=`
      @keyframes slideInRight {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
    `,document.head.appendChild(n),document.body.appendChild(e),setTimeout(()=>{const i=document.getElementById("startup-notification");i&&(i.style.animation="slideInRight 0.5s ease-out reverse",setTimeout(()=>i.remove(),500))},1e4)}getSystemStatus(){const e={initialized:this.isInitialized,services:Object.keys(this.services),serviceCount:Object.keys(this.services).length,startupTime:this.startupLog.length>0?this.startupLog[0].timestamp:null,lastActivity:this.startupLog.length>0?this.startupLog[this.startupLog.length-1].timestamp:null,sessionId:this.getSessionId(),logs:this.startupLog.slice(-10)};return this.services.proxyService&&(e.proxyStats=this.services.proxyService.getStats()),this.services.scrapingService&&(e.scrapingStats=this.services.scrapingService.getStats()),e}async startBackgroundScraping(){if(!this.services.scrapingService){this.log("❌ Cannot start background scraping: service not available");return}this.log("🔄 Starting background scraping...");const e=[{name:"ایران کد",url:"https://irancode.ir"},{name:"مرکز پژوهش‌های مجلس",url:"https://rc.majlis.ir"},{name:"خبرگزاری فارس",url:"https://www.farsnews.ir"}];try{const n=await this.services.scrapingService.batchScrape(e,{concurrency:1,delayBetween:5e3});return this.log(`✅ Background scraping completed: ${n.length} results`),await this.storeScrapingResults(n),window.latestScrapingResults=n,n}catch(n){return this.log(`❌ Background scraping failed: ${n.message}`),[]}}async storeScrapingResults(e){if(this.services.database)try{const i=this.services.database.transaction(["scrapingResults"],"readwrite").objectStore("scrapingResults");for(const r of e){const s={...r,timestamp:new Date().toISOString(),sessionId:this.getSessionId()};i.add(s)}this.log(`💾 Stored ${e.length} scraping results`)}catch(n){this.log(`❌ Failed to store results: ${n.message}`)}}async setupDataSync(){this.log("🔄 Setting up data synchronization..."),setInterval(async()=>{await this.syncWithBackend()},15*60*1e3),setTimeout(()=>this.syncWithBackend(),6e4)}async syncWithBackend(){try{this.log("🔄 Syncing with backend...");const e=await fetch("/api/health");if(e.ok){const n=await e.json();return this.log(`✅ Backend sync successful: ${n.version}`),!0}else return this.log("⚠️ Backend not available, using client-side mode"),!1}catch(e){return this.log(`⚠️ Backend sync failed: ${e.message}`),!1}}getNavigationGuidance(){const e=this.loadState();if(!!e.lastUpdate){const i={isReturningUser:!0,lastVisit:e.lastUpdate,availableFeatures:[{name:"داشبورد اصلی",path:"/dashboard",description:"نمای کلی سیستم"},{name:"اسکرپینگ هوشمند",path:"/scraping",description:"استخراج با پروکسی پیشرفته"},{name:"جستجوی پیشرفته",path:"/search",description:"جستجو در داده‌های استخراج شده"},{name:"تحلیل هوشمند",path:"/ai-analysis",description:"تحلیل AI متون حقوقی"},{name:"مدیریت پروکسی",path:"/proxy",description:"تنظیمات پروکسی هوشمند"},{name:"تنظیمات سیستم",path:"/settings",description:"پیکربندی کامل سیستم"}],recommendations:this.getRecommendations(e)};return this.log(`👋 Welcome back! Last visit: ${e.lastUpdate}`),i}return{isReturningUser:!1,welcomeMessage:"به سیستم آرشیو اسناد حقوقی ایران خوش آمدید",quickStart:["از داشبورد شروع کنید","تنظیمات پروکسی را بررسی کنید","اسکرپینگ هوشمند را امتحان کنید"]}}getRecommendations(e){const n=[];return e.services&&e.services.includes("scrapingService")&&n.push({title:"ادامه اسکرپینگ",description:"اسکرپینگ قبلی شما ذخیره شده است",action:"به صفحه اسکرپینگ بروید",path:"/scraping"}),n.push({title:"بررسی نتایج جدید",description:"نتایج اسکرپینگ خودکار آماده است",action:"مشاهده داشبورد",path:"/dashboard"}),n}exportSystemState(){const e={...this.getSystemStatus(),fullLogs:this.startupLog,localStorage:this.loadState(),timestamp:new Date().toISOString()},n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=`system_state_${Date.now()}.json`,r.click(),URL.revokeObjectURL(i),this.log("📤 System state exported")}resetSystem(){localStorage.removeItem(this.persistenceKey),sessionStorage.clear(),this.services.database&&(this.services.database.close(),indexedDB.deleteDatabase("IranianLegalArchive")),this.log("🔄 System reset completed"),window.location.reload()}async exportDiagnostics(){try{this.log("📊 Exporting comprehensive diagnostics...","debug");const e={autoStartupService:{status:this.getSystemStatus(),logs:this.startupLog,services:this.services,isInitialized:this.isInitialized},systemDiagnostics:await Ms.runDiagnostics(),exportTime:new Date().toISOString()},n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");return r.href=i,r.download=`startup_diagnostics_${Date.now()}.json`,r.click(),URL.revokeObjectURL(i),this.log("📤 Diagnostics exported successfully","success"),e}catch(e){throw this.log(`❌ Failed to export diagnostics: ${e.message}`,"error"),e}}}const ti=new LH,Xb=async()=>{try{console.log("🚀 Starting Iranian Legal Archive initialization..."),await ti.autoInitialize(),console.log("✅ All services initialized successfully")}catch(t){console.error("❌ Critical initialization failure:",t),ti.setGlobalReadyState()}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Xb):Xb();window.autoStartupService=ti;window.debugStartup={exportDiagnostics:()=>ti.exportDiagnostics(),getSystemStatus:()=>ti.getSystemStatus(),getInitializationPromise:()=>ti.getInitializationPromise(),resetSystem:()=>ti.resetSystem(),runDiagnostics:()=>Ms.runDiagnostics(),logs:()=>ti.startupLog,services:()=>ti.services};console.log("🛠️ Debug helpers available: window.debugStartup");console.log("   - exportDiagnostics(): Export full diagnostic report");console.log("   - getSystemStatus(): Get current system status");console.log("   - resetSystem(): Reset and reload system");console.log("   - runDiagnostics(): Run system diagnostics");console.log("   - logs(): View startup logs");console.log("   - services(): View loaded services");console.log("🚀 Iranian Legal Archive - Enhanced Startup");console.log("📍 Environment:",window.location.hostname.includes("github.io")?"GitHub Pages":"Local Development");const jH=rh.createRoot(document.getElementById("root")),ih=()=>{try{jH.render(p(rr.StrictMode,{children:p(DH,{})})),console.log("✅ React app rendered successfully"),window.autoStartupService&&window.autoStartupService.log("✅ React application loaded and rendered")}catch(t){console.error("❌ Failed to render React app:",t),document.getElementById("root").innerHTML=`
      <div style="
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-family: 'Vazirmatn', sans-serif;
        direction: rtl;
        text-align: center;
        padding: 2rem;
      ">
        <div>
          <div style="font-size: 4rem; margin-bottom: 1rem;">⚖️</div>
          <h1 style="font-size: 1.5rem; margin-bottom: 1rem;">سیستم آرشیو اسناد حقوقی ایران</h1>
          <p style="margin-bottom: 2rem; opacity: 0.9;">خطا در بارگذاری اپلیکیشن</p>
          <button onclick="window.location.reload()" style="
            padding: 1rem 2rem;
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-weight: 500;
            font-size: 1rem;
          ">🔄 رفرش صفحه</button>
        </div>
      </div>
    `}},FH=async()=>{try{console.log("⏳ Waiting for services to initialize...");let t=0;for(;!window.autoStartupService&&t<50;)await new Promise(i=>setTimeout(i,100)),t++;if(!window.autoStartupService){console.warn("⚠️ AutoStartupService not available, rendering app anyway"),ih();return}const e=Date.now();await window.autoStartupService.getInitializationPromise();const n=Date.now()-e;console.log(`✅ Services initialized successfully in ${n}ms`),ih()}catch(t){console.error("❌ Service initialization failed:",t),ih(),window.dispatchEvent(new CustomEvent("servicesInitializationError",{detail:{error:t.message,timestamp:new Date().toISOString()}}))}};FH();
//# sourceMappingURL=index-b5ca4a88.js.map
