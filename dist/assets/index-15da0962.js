var Dc=Object.defineProperty,Lc=Object.defineProperties;var Oc=Object.getOwnPropertyDescriptors;var ha=Object.getOwnPropertySymbols;var ss=Object.prototype.hasOwnProperty,is=Object.prototype.propertyIsEnumerable;var Vt=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},ga=Math.pow,wr=(e,t,a)=>t in e?Dc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,S=(e,t)=>{for(var a in t||(t={}))ss.call(t,a)&&wr(e,a,t[a]);if(ha)for(var a of ha(t))is.call(t,a)&&wr(e,a,t[a]);return e},E=(e,t)=>Lc(e,Oc(t));var ie=(e,t)=>{var a={};for(var r in e)ss.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&ha)for(var r of ha(e))t.indexOf(r)<0&&is.call(e,r)&&(a[r]=e[r]);return a};var Mc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kr=(e,t,a)=>(wr(e,typeof t!="symbol"?t+"":t,a),a);var F=(e,t,a)=>new Promise((r,s)=>{var o=p=>{try{c(a.next(p))}catch(u){s(u)}},i=p=>{try{c(a.throw(p))}catch(u){s(u)}},c=p=>p.done?r(p.value):Promise.resolve(p.value).then(o,i);c((a=a.apply(e,t)).next())}),rt=function(e,t){this[0]=e,this[1]=t},Nr=(e,t,a)=>{var r=(i,c,p,u)=>{try{var d=a[i](c),m=(c=d.value)instanceof rt,h=d.done;Promise.resolve(m?c[0]:c).then(g=>m?r(i==="return"?i:"next",c[1]?{done:g.done,value:g.value}:g,p,u):p({value:g,done:h})).catch(g=>r("throw",g,p,u))}catch(g){u(g)}},s=i=>o[i]=c=>new Promise((p,u)=>r(i,c,p,u)),o={};return a=a.apply(e,t),o[Symbol.asyncIterator]=()=>o,s("next"),s("throw"),s("return"),o},Sr=e=>{var t=e[Vt("asyncIterator")],a=!1,r,s={};return t==null?(t=e[Vt("iterator")](),r=o=>s[o]=i=>t[o](i)):(t=t.call(e),r=o=>s[o]=i=>{if(a){if(a=!1,o==="throw")throw i;return i}return a=!0,{done:!1,value:new rt(new Promise(c=>{var p=t[o](i);if(!(p instanceof Object))throw TypeError("Object expected");c(p)}),1)}}),s[Vt("iterator")]=()=>s,r("next"),"throw"in t?r("throw"):s.throw=o=>{throw o},"return"in t&&r("return"),s},os=(e,t,a)=>(t=e[Vt("asyncIterator")])?t.call(e):(e=e[Vt("iterator")](),t={},a=(r,s)=>(s=e[r])&&(t[r]=o=>new Promise((i,c,p)=>(o=s.call(e,o),p=o.done,Promise.resolve(o.value).then(u=>i({value:u,done:p}),c)))),a("next"),a("return"),t);import{r as x,b as Fc,a as ta,g as Ic}from"./vendor-e048df97.js";import{u as Vc,a as Wi,L as ls,b as kn,B as zc,R as Bc,c as ve,N as cs}from"./router-8da05b39.js";import{C as Ki,a as Gi,L as Ji,P as Xi,b as Yi,B as _c,p as Qi,c as Zi,d as eo,A as $c,e as to,D as Uc,f as qc}from"./charts-995ccff2.js";import{u as Nn,a as We,b as kt,Q as Hc,c as Wc}from"./query-031079b4.js";var zx=Mc(B=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();var ao={exports:{}},Ka={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=x,Gc=Symbol.for("react.element"),Jc=Symbol.for("react.fragment"),Xc=Object.prototype.hasOwnProperty,Yc=Kc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qc={key:!0,ref:!0,__self:!0,__source:!0};function ro(e,t,a){var r,s={},o=null,i=null;a!==void 0&&(o=""+a),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Xc.call(t,r)&&!Qc.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Gc,type:e,key:o,ref:i,props:s,_owner:Yc.current}}Ka.Fragment=Jc;Ka.jsx=ro;Ka.jsxs=ro;ao.exports=Ka;var Sn=ao.exports;const Y=Sn.Fragment,n=Sn.jsx,l=Sn.jsxs;var Hr={},ds=Fc;Hr.createRoot=ds.createRoot,Hr.hydrateRoot=ds.hydrateRoot;const Zc=function(){return null};let ed={data:""},td=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ed,ad=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rd=/\/\*[^]*?\*\/|  +/g,us=/\n+/g,He=(e,t)=>{let a="",r="",s="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?a=o+" "+i+";":r+=o[1]=="f"?He(i,o):o+"{"+He(i,o[1]=="k"?"":t)+"}":typeof i=="object"?r+=He(i,t?t.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,c):c?c+" "+p:p)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=He.p?He.p(o,i):o+":"+i+";")}return a+(t&&s?t+"{"+s+"}":s)+r},Oe={},no=e=>{if(typeof e=="object"){let t="";for(let a in e)t+=a+no(e[a]);return t}return e},nd=(e,t,a,r,s)=>{let o=no(e),i=Oe[o]||(Oe[o]=(p=>{let u=0,d=11;for(;u<p.length;)d=101*d+p.charCodeAt(u++)>>>0;return"go"+d})(o));if(!Oe[i]){let p=o!==e?e:(u=>{let d,m,h=[{}];for(;d=ad.exec(u.replace(rd,""));)d[4]?h.shift():d[3]?(m=d[3].replace(us," ").trim(),h.unshift(h[0][m]=h[0][m]||{})):h[0][d[1]]=d[2].replace(us," ").trim();return h[0]})(e);Oe[i]=He(s?{["@keyframes "+i]:p}:p,a?"":"."+i)}let c=a&&Oe.g?Oe.g:null;return a&&(Oe.g=Oe[i]),((p,u,d,m)=>{m?u.data=u.data.replace(m,p):u.data.indexOf(p)===-1&&(u.data=d?p+u.data:u.data+p)})(Oe[i],t,r,c),i},sd=(e,t,a)=>e.reduce((r,s,o)=>{let i=t[o];if(i&&i.call){let c=i(a),p=c&&c.props&&c.props.className||/^go/.test(c)&&c;i=p?"."+p:c&&typeof c=="object"?c.props?"":He(c,""):c===!1?"":c}return r+s+(i==null?"":i)},"");function Ga(e){let t=this||{},a=e.call?e(t.p):e;return nd(a.unshift?a.raw?sd(a,[].slice.call(arguments,1),t.p):a.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):a,td(t.target),t.g,t.o,t.k)}let so,Wr,Kr;Ga.bind({g:1});let ze=Ga.bind({k:1});function id(e,t,a,r){He.p=t,so=e,Wr=a,Kr=r}function Ze(e,t){let a=this||{};return function(){let r=arguments;function s(o,i){let c=Object.assign({},o),p=c.className||s.className;a.p=Object.assign({theme:Wr&&Wr()},c),a.o=/ *go\d+/.test(p),c.className=Ga.apply(a,r)+(p?" "+p:""),t&&(c.ref=i);let u=e;return e[0]&&(u=c.as||e,delete c.as),Kr&&u[0]&&Kr(c),so(u,c)}return t?t(s):s}}var od=e=>typeof e=="function",Ea=(e,t)=>od(e)?e(t):e,ld=(()=>{let e=0;return()=>(++e).toString()})(),io=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),cd=20,Cn="default",oo=(e,t)=>{let{toastLimit:a}=e.settings;switch(t.type){case 0:return E(S({},e),{toasts:[t.toast,...e.toasts].slice(0,a)});case 1:return E(S({},e),{toasts:e.toasts.map(i=>i.id===t.toast.id?S(S({},i),t.toast):i)});case 2:let{toast:r}=t;return oo(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return E(S({},e),{toasts:e.toasts.map(i=>i.id===s||s===void 0?E(S({},i),{dismissed:!0,visible:!1}):i)});case 4:return t.toastId===void 0?E(S({},e),{toasts:[]}):E(S({},e),{toasts:e.toasts.filter(i=>i.id!==t.toastId)});case 5:return E(S({},e),{pausedAt:t.time});case 6:let o=t.time-(e.pausedAt||0);return E(S({},e),{pausedAt:void 0,toasts:e.toasts.map(i=>E(S({},i),{pauseDuration:i.pauseDuration+o}))})}},ka=[],lo={toasts:[],pausedAt:void 0,settings:{toastLimit:cd}},Ee={},co=(e,t=Cn)=>{Ee[t]=oo(Ee[t]||lo,e),ka.forEach(([a,r])=>{a===t&&r(Ee[t])})},uo=e=>Object.keys(Ee).forEach(t=>co(e,t)),dd=e=>Object.keys(Ee).find(t=>Ee[t].toasts.some(a=>a.id===e)),Ja=(e=Cn)=>t=>{co(t,e)},ud={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pd=(e={},t=Cn)=>{let[a,r]=x.useState(Ee[t]||lo),s=x.useRef(Ee[t]);x.useEffect(()=>(s.current!==Ee[t]&&r(Ee[t]),ka.push([t,r]),()=>{let i=ka.findIndex(([c])=>c===t);i>-1&&ka.splice(i,1)}),[t]);let o=a.toasts.map(i=>{var c,p,u;return E(S(S(S({},e),e[i.type]),i),{removeDelay:i.removeDelay||((c=e[i.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((p=e[i.type])==null?void 0:p.duration)||(e==null?void 0:e.duration)||ud[i.type],style:S(S(S({},e.style),(u=e[i.type])==null?void 0:u.style),i.style)})});return E(S({},a),{toasts:o})},md=(e,t="blank",a)=>E(S({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},a),{id:(a==null?void 0:a.id)||ld()}),aa=e=>(t,a)=>{let r=md(t,e,a);return Ja(r.toasterId||dd(r.id))({type:2,toast:r}),r.id},ne=(e,t)=>aa("blank")(e,t);ne.error=aa("error");ne.success=aa("success");ne.loading=aa("loading");ne.custom=aa("custom");ne.dismiss=(e,t)=>{let a={type:3,toastId:e};t?Ja(t)(a):uo(a)};ne.dismissAll=e=>ne.dismiss(void 0,e);ne.remove=(e,t)=>{let a={type:4,toastId:e};t?Ja(t)(a):uo(a)};ne.removeAll=e=>ne.remove(void 0,e);ne.promise=(e,t,a)=>{let r=ne.loading(t.loading,S(S({},a),a==null?void 0:a.loading));return typeof e=="function"&&(e=e()),e.then(s=>{let o=t.success?Ea(t.success,s):void 0;return o?ne.success(o,S(S({id:r},a),a==null?void 0:a.success)):ne.dismiss(r),s}).catch(s=>{let o=t.error?Ea(t.error,s):void 0;o?ne.error(o,S(S({id:r},a),a==null?void 0:a.error)):ne.dismiss(r)}),e};var hd=1e3,gd=(e,t="default")=>{let{toasts:a,pausedAt:r}=pd(e,t),s=x.useRef(new Map).current,o=x.useCallback((m,h=hd)=>{if(s.has(m))return;let g=setTimeout(()=>{s.delete(m),i({type:4,toastId:m})},h);s.set(m,g)},[]);x.useEffect(()=>{if(r)return;let m=Date.now(),h=a.map(g=>{if(g.duration===1/0)return;let y=(g.duration||0)+g.pauseDuration-(m-g.createdAt);if(y<0){g.visible&&ne.dismiss(g.id);return}return setTimeout(()=>ne.dismiss(g.id,t),y)});return()=>{h.forEach(g=>g&&clearTimeout(g))}},[a,r,t]);let i=x.useCallback(Ja(t),[t]),c=x.useCallback(()=>{i({type:5,time:Date.now()})},[i]),p=x.useCallback((m,h)=>{i({type:1,toast:{id:m,height:h}})},[i]),u=x.useCallback(()=>{r&&i({type:6,time:Date.now()})},[r,i]),d=x.useCallback((m,h)=>{let{reverseOrder:g=!1,gutter:y=8,defaultPosition:f}=h||{},v=a.filter(k=>(k.position||f)===(m.position||f)&&k.height),w=v.findIndex(k=>k.id===m.id),b=v.filter((k,N)=>N<w&&k.visible).length;return v.filter(k=>k.visible).slice(...g?[b+1]:[0,b]).reduce((k,N)=>k+(N.height||0)+y,0)},[a]);return x.useEffect(()=>{a.forEach(m=>{if(m.dismissed)o(m.id,m.removeDelay);else{let h=s.get(m.id);h&&(clearTimeout(h),s.delete(m.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:p,startPause:c,endPause:u,calculateOffset:d}}},fd=ze`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xd=ze`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yd=ze`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bd=Ze("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fd} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xd} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yd} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vd=ze`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wd=Ze("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${vd} 1s linear infinite;
`,kd=ze`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Nd=ze`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Sd=Ze("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kd} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Nd} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Cd=Ze("div")`
  position: absolute;
`,Td=Ze("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ad=ze`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pd=Ze("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ad} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Rd=({toast:e})=>{let{icon:t,type:a,iconTheme:r}=e;return t!==void 0?typeof t=="string"?x.createElement(Pd,null,t):t:a==="blank"?null:x.createElement(Td,null,x.createElement(wd,S({},r)),a!=="loading"&&x.createElement(Cd,null,a==="error"?x.createElement(bd,S({},r)):x.createElement(Sd,S({},r))))},Ed=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jd=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Dd="0%{opacity:0;} 100%{opacity:1;}",Ld="0%{opacity:1;} 100%{opacity:0;}",Od=Ze("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Md=Ze("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Fd=(e,t)=>{let a=e.includes("top")?1:-1,[r,s]=io()?[Dd,Ld]:[Ed(a),jd(a)];return{animation:t?`${ze(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ze(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Id=x.memo(({toast:e,position:t,style:a,children:r})=>{let s=e.height?Fd(e.position||t||"top-center",e.visible):{opacity:0},o=x.createElement(Rd,{toast:e}),i=x.createElement(Md,S({},e.ariaProps),Ea(e.message,e));return x.createElement(Od,{className:e.className,style:S(S(S({},s),a),e.style)},typeof r=="function"?r({icon:o,message:i}):x.createElement(x.Fragment,null,o,i))});id(x.createElement);var Vd=({id:e,className:t,style:a,onHeightUpdate:r,children:s})=>{let o=x.useCallback(i=>{if(i){let c=()=>{let p=i.getBoundingClientRect().height;r(e,p)};c(),new MutationObserver(c).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return x.createElement("div",{ref:o,className:t,style:a},s)},zd=(e,t)=>{let a=e.includes("top"),r=a?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return S(S({left:0,right:0,display:"flex",position:"absolute",transition:io()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`},r),s)},Bd=Ga`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fa=16,_d=({reverseOrder:e,position:t="top-center",toastOptions:a,gutter:r,children:s,toasterId:o,containerStyle:i,containerClassName:c})=>{let{toasts:p,handlers:u}=gd(a,o);return x.createElement("div",{"data-rht-toaster":o||"",style:S({position:"fixed",zIndex:9999,top:fa,left:fa,right:fa,bottom:fa,pointerEvents:"none"},i),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},p.map(d=>{let m=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),g=zd(m,h);return x.createElement(Vd,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?Bd:"",style:g},d.type==="custom"?Ea(d.message,d):s?s(d):x.createElement(Id,{toast:d,position:m}))}))},Te=ne;const po=x.createContext(),Tn=()=>{const e=x.useContext(po);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},$d=({children:e})=>{const[t,a]=x.useState(()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});x.useEffect(()=>{const o=document.documentElement;t==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),x.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),i=c=>{localStorage.getItem("theme")||a(c.matches?"dark":"light")};return o.addEventListener("change",i),()=>o.removeEventListener("change",i)},[]);const s={theme:t,setTheme:a,toggleTheme:()=>{a(o=>o==="light"?"dark":"light")},isDark:t==="dark"};return n(po.Provider,{value:s,children:e})},mo=x.createContext(),et=()=>{const e=x.useContext(mo);if(!e)throw new Error("useConfig must be used within a ConfigProvider");return e},wt={apiBaseUrl:`${window.location.origin}/api`,websocketUrl:`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,proxyEnabled:!0,batchSize:5,maxRetries:3,autoRefresh:!0,refreshInterval:3e4,timeout:3e4,theme:"light",language:"fa",notifications:{position:"top-left",duration:4e3,maxNotifications:5},pagination:{defaultPageSize:20,pageSizeOptions:[10,20,50,100]},cache:{enabled:!0,duration:5*60*1e3}},Ud=({children:e})=>{const[t,a]=x.useState(()=>{const f=localStorage.getItem("appConfig");if(f)try{const v=JSON.parse(f);return S(S({},wt),v)}catch(v){return console.error("Failed to parse saved config:",v),wt}return wt}),[r,s]=x.useState(navigator.onLine),[o,i]=x.useState("unknown");x.useEffect(()=>{localStorage.setItem("appConfig",JSON.stringify(t))},[t]),x.useEffect(()=>{const f=()=>s(!0),v=()=>s(!1);return window.addEventListener("online",f),window.addEventListener("offline",v),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",v)}},[]);const y={config:t,updateConfig:f=>{a(v=>S(S({},v),f))},resetConfig:()=>{a(wt),localStorage.removeItem("appConfig")},exportConfig:()=>{const f=E(S({},t),{exportedAt:new Date().toISOString(),version:"1.0.0"}),v=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),w=URL.createObjectURL(v),b=document.createElement("a");b.href=w,b.download=`legal-archive-config-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(w)},importConfig:f=>new Promise((v,w)=>{const b=new FileReader;b.onload=k=>{try{const N=JSON.parse(k.target.result);if(typeof N!="object"||N===null)throw new Error("Invalid config format");const A=S(S({},wt),N);delete A.exportedAt,delete A.version,a(A),v(A)}catch(N){w(new Error("Failed to parse config file: "+N.message))}},b.onerror=()=>{w(new Error("Failed to read config file"))},b.readAsText(f)}),testConnection:()=>F(B,null,function*(){try{const f=yield fetch(`${t.apiBaseUrl}/status`,{method:"GET",timeout:t.timeout});return f.ok?(i("connected"),{success:!0,status:f.status}):(i("error"),{success:!1,status:f.status,error:f.statusText})}catch(f){return i("error"),{success:!1,error:f.message}}}),getApiUrl:f=>{const v=t.apiBaseUrl.replace(/\/$/,""),w=f.startsWith("/")?f:`/${f}`;return`${v}${w}`},getWebSocketUrl:()=>t.websocketUrl,isOnline:r,backendStatus:o,setBackendStatus:i,DEFAULT_CONFIG:wt};return n(mo.Provider,{value:y,children:e})},ho=x.createContext(),ra=()=>{const e=x.useContext(ho);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},qd=({children:e})=>{const{config:t}=et(),a=x.useCallback((f,v="info",w={})=>{const b={duration:t.notifications.duration,position:t.notifications.position,style:S({direction:"rtl",fontFamily:"Vazirmatn, sans-serif",fontSize:"14px"},w.style)},k=S(S({},b),w);switch(v){case"success":return Te.success(f,E(S({},k),{iconTheme:{primary:"#10b981",secondary:"#ffffff"}}));case"error":return Te.error(f,E(S({},k),{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}));case"warning":return Te(f,E(S({},k),{icon:"⚠️",style:E(S({},k.style),{background:"#fbbf24",color:"#ffffff"})}));case"info":return Te(f,E(S({},k),{icon:"ℹ️",style:E(S({},k.style),{background:"#3b82f6",color:"#ffffff"})}));case"loading":return Te.loading(f,k);default:return Te(f,k)}},[t.notifications]),r=x.useCallback((f,v)=>a(f,"success",v),[a]),s=x.useCallback((f,v)=>a(f,"error",v),[a]),o=x.useCallback((f,v)=>a(f,"warning",v),[a]),i=x.useCallback((f,v)=>a(f,"info",v),[a]),c=x.useCallback((f,v)=>a(f,"loading",v),[a]),p=x.useCallback(f=>{Te.dismiss(f)},[]),u=x.useCallback(()=>{Te.dismiss()},[]),d=x.useCallback((f,v,w={})=>Te.promise(f,{loading:v.loading||"در حال پردازش...",success:v.success||"عملیات با موفقیت انجام شد",error:v.error||"خطایی رخ داده است"},S({style:{direction:"rtl",fontFamily:"Vazirmatn, sans-serif"}},w)),[]),m=x.useCallback((f,v={})=>Te.custom(f,S({duration:t.notifications.duration,position:t.notifications.position},v)),[t.notifications]),h=x.useCallback((f,v)=>{var b;let w=v||"خطایی در ارتباط با سرور رخ داده است";if((b=f==null?void 0:f.response)!=null&&b.status)switch(f.response.status){case 400:w="درخواست نامعتبر - لطفاً اطلاعات ورودی را بررسی کنید";break;case 401:w="عدم احراز هویت - لطفاً مجدداً وارد شوید";break;case 403:w="عدم دسترسی - شما مجاز به انجام این عملیات نیستید";break;case 404:w="آدرس یافت نشد - لطفاً از صحت آدرس اطمینان حاصل کنید";break;case 409:w="عملیات دیگری در حال انجام است - لطفاً منتظر بمانید";break;case 429:w="تعداد درخواست‌ها زیاد است - لطفاً کمی صبر کنید";break;case 500:w="خطای داخلی سرور - لطفاً بعداً تلاش کنید";break;case 502:w="سرور در دسترس نیست";break;case 503:w="سرویس موقتاً در دسترس نیست";break;default:w=`خطای ${f.response.status}: ${f.response.statusText||"نامشخص"}`}else f!=null&&f.message&&(f.message.includes("fetch")?w="عدم اتصال به سرور - لطفاً اتصال اینترنت خود را بررسی کنید":f.message.includes("timeout")?w="زمان انتظار تمام شد - لطفاً مجدداً تلاش کنید":w=f.message);return s(w)},[s]),g=x.useCallback(f=>{switch(f){case"connected":return r("اتصال به سرور برقرار شد");case"disconnected":return o("اتصال به سرور قطع شد");case"reconnecting":return i("در حال تلاش برای اتصال مجدد...");case"error":return s("خطا در اتصال به سرور");default:return i(`وضعیت اتصال: ${f}`)}},[r,o,i,s]),y={showNotification:a,showSuccess:r,showError:s,showWarning:o,showInfo:i,showLoading:c,showPromise:d,showCustom:m,showApiError:h,showConnectionStatus:g,dismissNotification:p,dismissAll:u};return n(ho.Provider,{value:y,children:e})},Hd=({onMenuClick:e})=>{const t=Vc(),a=Wi(),{theme:r,toggleTheme:s,isDark:o}=Tn(),{config:i,backendStatus:c,testConnection:p}=et(),{showConnectionStatus:u}=ra(),[d,m]=x.useState(new Date),[h,g]=x.useState(!1);x.useEffect(()=>{const b=setInterval(()=>{m(new Date)},1e3);return()=>clearInterval(b)},[]),x.useEffect(()=>{(()=>F(B,null,function*(){g(!0);try{yield p()}catch(k){console.error("Connection test failed:",k)}finally{g(!1)}}))()},[p]);const y=()=>F(B,null,function*(){g(!0);try{(yield p()).success?u("connected"):u("error")}catch(b){u("error")}finally{g(!1)}}),f=()=>({"/dashboard":"داشبورد اصلی","/process":"پردازش اسناد","/proxy":"مدیریت پروکسی","/search":"جستجو در پایگاه داده","/settings":"تنظیمات"})[a.pathname]||"سیستم آرشیو حقوقی",v=()=>{if(h)return n("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"});switch(c){case"connected":return n("div",{className:"w-3 h-3 bg-green-500 rounded-full"});case"error":return n("div",{className:"w-3 h-3 bg-red-500 rounded-full"});default:return n("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})}},w=()=>{if(h)return"در حال بررسی...";switch(c){case"connected":return"متصل";case"error":return"قطع شده";default:return"نامشخص"}};return n("header",{className:"bg-white dark:bg-gray-800 shadow-lg border-b border-gray-200 dark:border-gray-700 fixed top-0 left-0 right-0 z-50 h-16",children:n("div",{className:"h-full px-4 sm:px-6 lg:px-8",children:l("div",{className:"flex items-center justify-between h-full",children:[l("div",{className:"flex items-center space-x-4 space-x-reverse",children:[n("button",{onClick:e,className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:hidden","aria-label":"Toggle menu",children:n("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:n("span",{className:"text-white text-lg font-bold",children:"⚖️"})}),l("div",{children:[n("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:f()}),n("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"سیستم آرشیو اسناد حقوقی ایران"})]})]})]}),l("div",{className:"flex items-center space-x-4 space-x-reverse",children:[n("div",{className:"flex items-center space-x-2 space-x-reverse",children:l("button",{onClick:y,className:"flex items-center space-x-2 space-x-reverse px-3 py-1.5 rounded-md text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h,children:[v(),n("span",{className:"text-gray-700 dark:text-gray-300",children:w()})]})}),l("div",{className:"hidden sm:flex flex-col items-end text-sm",children:[n("span",{className:"font-medium text-gray-900 dark:text-white",children:d.toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),n("span",{className:"text-gray-500 dark:text-gray-400",children:d.toLocaleDateString("fa-IR",{weekday:"short",day:"numeric",month:"short"})})]}),n("button",{onClick:s,className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors","aria-label":o?"Switch to light mode":"Switch to dark mode",children:o?n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):n("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),n("button",{onClick:()=>t("/settings"),className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors","aria-label":"Settings",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})})})},go=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xa=x.createContext({}),Ya=x.createContext(null),Qa=typeof document!="undefined",An=Qa?x.useLayoutEffect:x.useEffect,fo=x.createContext({strict:!1}),Pn=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Wd="framerAppearId",xo="data-"+Pn(Wd);function Kd(e,t,a,r){const{visualElement:s}=x.useContext(Xa),o=x.useContext(fo),i=x.useContext(Ya),c=x.useContext(go).reducedMotion,p=x.useRef();r=r||o.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:s,props:a,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:c}));const u=p.current;x.useInsertionEffect(()=>{u&&u.update(a,i)});const d=x.useRef(!!(a[xo]&&!window.HandoffComplete));return An(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Nt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Gd(e,t,a){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):Nt(a)&&(a.current=r))},[t])}function Gt(e){return typeof e=="string"||Array.isArray(e)}function Za(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Rn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],En=["initial",...Rn];function er(e){return Za(e.animate)||En.some(t=>Gt(e[t]))}function yo(e){return!!(er(e)||e.variants)}function Jd(e,t){if(er(e)){const{initial:a,animate:r}=e;return{initial:a===!1||Gt(a)?a:void 0,animate:Gt(r)?r:void 0}}return e.inherit!==!1?t:{}}function Xd(e){const{initial:t,animate:a}=Jd(e,x.useContext(Xa));return x.useMemo(()=>({initial:t,animate:a}),[ps(t),ps(a)])}function ps(e){return Array.isArray(e)?e.join(" "):e}const ms={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jt={};for(const e in ms)Jt[e]={isEnabled:t=>ms[e].some(a=>!!t[a])};function Yd(e){for(const t in e)Jt[t]=S(S({},Jt[t]),e[t])}const jn=x.createContext({}),bo=x.createContext({}),Qd=Symbol.for("motionComponentSymbol");function Zd({preloadedFeatures:e,createVisualElement:t,useRender:a,useVisualState:r,Component:s}){e&&Yd(e);function o(c,p){let u;const d=E(S(S({},x.useContext(go)),c),{layoutId:eu(c)}),{isStatic:m}=d,h=Xd(c),g=r(c,m);if(!m&&Qa){h.visualElement=Kd(s,g,d,t);const y=x.useContext(bo),f=x.useContext(fo).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,f,e,y))}return x.createElement(Xa.Provider,{value:h},u&&h.visualElement?x.createElement(u,S({visualElement:h.visualElement},d)):null,a(s,c,Gd(g,h.visualElement,p),g,m,h.visualElement))}const i=x.forwardRef(o);return i[Qd]=s,i}function eu({layoutId:e}){const t=x.useContext(jn).id;return t&&e!==void 0?t+"-"+e:e}function tu(e){function t(r,s={}){return Zd(e(r,s))}if(typeof Proxy=="undefined")return t;const a=new Map;return new Proxy(t,{get:(r,s)=>(a.has(s)||a.set(s,t(s)),a.get(s))})}const au=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dn(e){return typeof e!="string"||e.includes("-")?!1:!!(au.indexOf(e)>-1||/[A-Z]/.test(e))}const ja={};function ru(e){Object.assign(ja,e)}const na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gt=new Set(na);function vo(e,{layout:t,layoutId:a}){return gt.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!ja[e]||e==="opacity")}const pe=e=>!!(e&&e.getVelocity),nu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},su=na.length;function iu(e,{enableHardwareAcceleration:t=!0,allowTransformNone:a=!0},r,s){let o="";for(let i=0;i<su;i++){const c=na[i];if(e[c]!==void 0){const p=nu[c]||c;o+=`${p}(${e[c]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):a&&r&&(o="none"),o}const wo=e=>t=>typeof t=="string"&&t.startsWith(e),ko=wo("--"),Gr=wo("var(--"),ou=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,lu=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ye=(e,t,a)=>Math.min(Math.max(a,e),t),ft={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ut=E(S({},ft),{transform:e=>Ye(0,1,e)}),xa=E(S({},ft),{default:1}),qt=e=>Math.round(e*1e5)/1e5,tr=/(-)?([\d]*\.?[\d])+/g,No=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cu=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function sa(e){return typeof e=="string"}const ia=e=>({test:t=>sa(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ue=ia("deg"),Le=ia("%"),I=ia("px"),du=ia("vh"),uu=ia("vw"),hs=E(S({},Le),{parse:e=>Le.parse(e)/100,transform:e=>Le.transform(e*100)}),gs=E(S({},ft),{transform:Math.round}),So={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,size:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,rotate:Ue,rotateX:Ue,rotateY:Ue,rotateZ:Ue,scale:xa,scaleX:xa,scaleY:xa,scaleZ:xa,skew:Ue,skewX:Ue,skewY:Ue,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:Ut,originX:hs,originY:hs,originZ:I,zIndex:gs,fillOpacity:Ut,strokeOpacity:Ut,numOctaves:gs};function Ln(e,t,a,r){const{style:s,vars:o,transform:i,transformOrigin:c}=e;let p=!1,u=!1,d=!0;for(const m in t){const h=t[m];if(ko(m)){o[m]=h;continue}const g=So[m],y=lu(h,g);if(gt.has(m)){if(p=!0,i[m]=y,!d)continue;h!==(g.default||0)&&(d=!1)}else m.startsWith("origin")?(u=!0,c[m]=y):s[m]=y}if(t.transform||(p||r?s.transform=iu(e.transform,a,d,r):s.transform&&(s.transform="none")),u){const{originX:m="50%",originY:h="50%",originZ:g=0}=c;s.transformOrigin=`${m} ${h} ${g}`}}const On=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Co(e,t,a){for(const r in t)!pe(t[r])&&!vo(r,a)&&(e[r]=t[r])}function pu({transformTemplate:e},t,a){return x.useMemo(()=>{const r=On();return Ln(r,t,{enableHardwareAcceleration:!a},e),Object.assign({},r.vars,r.style)},[t])}function mu(e,t,a){const r=e.style||{},s={};return Co(s,r,e),Object.assign(s,pu(e,t,a)),e.transformValues?e.transformValues(s):s}function hu(e,t,a){const r={},s=mu(e,t,a);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const gu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Da(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gu.has(e)}let To=e=>!Da(e);function fu(e){e&&(To=t=>t.startsWith("on")?!Da(t):e(t))}try{fu(require("@emotion/is-prop-valid").default)}catch(e){}function xu(e,t,a){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(To(s)||a===!0&&Da(s)||!t&&!Da(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function fs(e,t,a){return typeof e=="string"?e:I.transform(t+a*e)}function yu(e,t,a){const r=fs(t,e.x,e.width),s=fs(a,e.y,e.height);return`${r} ${s}`}const bu={offset:"stroke-dashoffset",array:"stroke-dasharray"},vu={offset:"strokeDashoffset",array:"strokeDasharray"};function wu(e,t,a=1,r=0,s=!0){e.pathLength=1;const o=s?bu:vu;e[o.offset]=I.transform(-r);const i=I.transform(t),c=I.transform(a);e[o.array]=`${i} ${c}`}function Mn(e,g,d,m,h){var y=g,{attrX:t,attrY:a,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:c=1,pathOffset:p=0}=y,u=ie(y,["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"]);if(Ln(e,u,d,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:v,dimensions:w}=e;f.transform&&(w&&(v.transform=f.transform),delete f.transform),w&&(s!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=yu(w,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(f.x=t),a!==void 0&&(f.y=a),r!==void 0&&(f.scale=r),i!==void 0&&wu(f,i,c,p,!1)}const Ao=()=>E(S({},On()),{attrs:{}}),Fn=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ku(e,t,a,r){const s=x.useMemo(()=>{const o=Ao();return Mn(o,t,{enableHardwareAcceleration:!1},Fn(r),e.transformTemplate),E(S({},o.attrs),{style:S({},o.style)})},[t]);if(e.style){const o={};Co(o,e.style,e),s.style=S(S({},o),s.style)}return s}function Nu(e=!1){return(a,r,s,{latestValues:o},i)=>{const p=(Dn(a)?ku:hu)(r,o,i,a),u=xu(r,typeof a=="string",e),d=E(S(S({},u),p),{ref:s}),{children:m}=r,h=x.useMemo(()=>pe(m)?m.get():m,[m]);return x.createElement(a,E(S({},d),{children:h}))}}function Po(e,{style:t,vars:a},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in a)e.style.setProperty(o,a[o])}const Ro=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Eo(e,t,a,r){Po(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Ro.has(s)?s:Pn(s),t.attrs[s])}function In(e,t){const{style:a}=e,r={};for(const s in a)(pe(a[s])||t.style&&pe(t.style[s])||vo(s,e))&&(r[s]=a[s]);return r}function jo(e,t){const a=In(e,t);for(const r in e)if(pe(e[r])||pe(t[r])){const s=na.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[s]=e[r]}return a}function Vn(e,t,a,r={},s={}){return typeof t=="function"&&(t=t(a!==void 0?a:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(a!==void 0?a:e.custom,r,s)),t}function Do(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const La=e=>Array.isArray(e),Su=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Cu=e=>La(e)?e[e.length-1]||0:e;function Na(e){const t=pe(e)?e.get():e;return Su(t)?t.toValue():t}function Tu({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:a},r,s,o){const i={latestValues:Au(r,s,o,e),renderState:t()};return a&&(i.mount=c=>a(r,c,i)),i}const Lo=e=>(t,a)=>{const r=x.useContext(Xa),s=x.useContext(Ya),o=()=>Tu(e,t,r,s);return a?o():Do(o)};function Au(e,t,a,r){const s={},o=r(e,{});for(const h in o)s[h]=Na(o[h]);let{initial:i,animate:c}=e;const p=er(e),u=yo(e);t&&u&&!p&&e.inherit!==!1&&(i===void 0&&(i=t.initial),c===void 0&&(c=t.animate));let d=a?a.initial===!1:!1;d=d||i===!1;const m=d?c:i;return m&&typeof m!="boolean"&&!Za(m)&&(Array.isArray(m)?m:[m]).forEach(g=>{const y=Vn(e,g);if(!y)return;const b=y,{transitionEnd:f,transition:v}=b,w=ie(b,["transitionEnd","transition"]);for(const k in w){let N=w[k];if(Array.isArray(N)){const A=d?N.length-1:0;N=N[A]}N!==null&&(s[k]=N)}for(const k in f)s[k]=f[k]}),s}const Z=e=>e;class xs{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const a=this.order.indexOf(t);a!==-1&&(this.order.splice(a,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Pu(e){let t=new xs,a=new xs,r=0,s=!1,o=!1;const i=new WeakSet,c={schedule:(p,u=!1,d=!1)=>{const m=d&&s,h=m?t:a;return u&&i.add(p),h.add(p)&&m&&s&&(r=t.order.length),p},cancel:p=>{a.remove(p),i.delete(p)},process:p=>{if(s){o=!0;return}if(s=!0,[t,a]=[a,t],a.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(p),i.has(d)&&(c.schedule(d),e())}s=!1,o&&(o=!1,c.process(p))}};return c}const ya=["prepare","read","update","preRender","render","postRender"],Ru=40;function Eu(e,t){let a=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=ya.reduce((m,h)=>(m[h]=Pu(()=>a=!0),m),{}),i=m=>o[m].process(s),c=()=>{const m=performance.now();a=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,Ru),1),s.timestamp=m,s.isProcessing=!0,ya.forEach(i),s.isProcessing=!1,a&&t&&(r=!1,e(c))},p=()=>{a=!0,r=!0,s.isProcessing||e(c)};return{schedule:ya.reduce((m,h)=>{const g=o[h];return m[h]=(y,f=!1,v=!1)=>(a||p(),g.schedule(y,f,v)),m},{}),cancel:m=>ya.forEach(h=>o[h].cancel(m)),state:s,steps:o}}const{schedule:W,cancel:Be,state:oe,steps:Cr}=Eu(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Z,!0),ju={useVisualState:Lo({scrapeMotionValuesFromProps:jo,createRenderState:Ao,onMount:(e,t,{renderState:a,latestValues:r})=>{W.read(()=>{try{a.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(s){a.dimensions={x:0,y:0,width:0,height:0}}}),W.render(()=>{Mn(a,r,{enableHardwareAcceleration:!1},Fn(t.tagName),e.transformTemplate),Eo(t,a)})}})},Du={useVisualState:Lo({scrapeMotionValuesFromProps:In,createRenderState:On})};function Lu(e,{forwardMotionProps:t=!1},a,r){const s=Dn(e)?ju:Du;return E(S({},s),{preloadedFeatures:a,useRender:Nu(t),createVisualElement:r,Component:e})}function Fe(e,t,a,r={passive:!0}){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a)}const Oo=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ar(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Ou=e=>t=>Oo(t)&&e(t,ar(t));function Ie(e,t,a,r){return Fe(e,t,Ou(a),r)}const Mu=(e,t)=>a=>t(e(a)),Ke=(...e)=>e.reduce(Mu);function Mo(e){let t=null;return()=>{const a=()=>{t=null};return t===null?(t=e,a):!1}}const ys=Mo("dragHorizontal"),bs=Mo("dragVertical");function Fo(e){let t=!1;if(e==="y")t=bs();else if(e==="x")t=ys();else{const a=ys(),r=bs();a&&r?t=()=>{a(),r()}:(a&&a(),r&&r())}return t}function Io(){const e=Fo(!0);return e?(e(),!1):!0}class tt{constructor(t){this.isMounted=!1,this.node=t}update(){}}function vs(e,t){const a="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||Io())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[r]&&W.update(()=>c[r](o,i))};return Ie(e.current,a,s,{passive:!e.getProps()[r]})}class Fu extends tt{mount(){this.unmount=Ke(vs(this.node,!0),vs(this.node,!1))}unmount(){}}class Iu extends tt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(a){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ke(Fe(this.node.current,"focus",()=>this.onFocus()),Fe(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Vo=(e,t)=>t?e===t?!0:Vo(e,t.parentElement):!1;function Tr(e,t){if(!t)return;const a=new PointerEvent("pointer"+e);t(a,ar(a))}class Vu extends tt{constructor(){super(...arguments),this.removeStartListeners=Z,this.removeEndListeners=Z,this.removeAccessibleListeners=Z,this.startPointerPress=(t,a)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Ie(window,"pointerup",(c,p)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:m}=this.node.getProps();W.update(()=>{!m&&!Vo(this.node.current,c.target)?d&&d(c,p):u&&u(c,p)})},{passive:!(r.onTap||r.onPointerUp)}),i=Ie(window,"pointercancel",(c,p)=>this.cancelPress(c,p),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ke(o,i),this.startPress(t,a)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=c=>{c.key!=="Enter"||!this.checkPressEnd()||Tr("up",(p,u)=>{const{onTap:d}=this.node.getProps();d&&W.update(()=>d(p,u))})};this.removeEndListeners(),this.removeEndListeners=Fe(this.node.current,"keyup",i),Tr("down",(c,p)=>{this.startPress(c,p)})},a=Fe(this.node.current,"keydown",t),r=()=>{this.isPressing&&Tr("cancel",(o,i)=>this.cancelPress(o,i))},s=Fe(this.node.current,"blur",r);this.removeAccessibleListeners=Ke(a,s)}}startPress(t,a){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&W.update(()=>r(t,a))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Io()}cancelPress(t,a){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&W.update(()=>r(t,a))}mount(){const t=this.node.getProps(),a=Ie(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Fe(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ke(a,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Jr=new WeakMap,Ar=new WeakMap,zu=e=>{const t=Jr.get(e.target);t&&t(e)},Bu=e=>{e.forEach(zu)};function _u(a){var r=a,{root:e}=r,t=ie(r,["root"]);const s=e||document;Ar.has(s)||Ar.set(s,{});const o=Ar.get(s),i=JSON.stringify(t);return o[i]||(o[i]=new IntersectionObserver(Bu,S({root:e},t))),o[i]}function $u(e,t,a){const r=_u(t);return Jr.set(e,a),r.observe(e),()=>{Jr.delete(e),r.unobserve(e)}}const Uu={some:0,all:1};class qu extends tt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:s="some",once:o}=t,i={root:a?a.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Uu[s]},c=p=>{const{isIntersecting:u}=p;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),h=u?d:m;h&&h(p)};return $u(this.node.current,i,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(Hu(t,a))&&this.startObserver()}unmount(){}}function Hu({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const Wu={inView:{Feature:qu},tap:{Feature:Vu},focus:{Feature:Iu},hover:{Feature:Fu}};function zo(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let r=0;r<a;r++)if(t[r]!==e[r])return!1;return!0}function Ku(e){const t={};return e.values.forEach((a,r)=>t[r]=a.get()),t}function Gu(e){const t={};return e.values.forEach((a,r)=>t[r]=a.getVelocity()),t}function rr(e,t,a){const r=e.getProps();return Vn(r,t,a!==void 0?a:r.custom,Ku(e),Gu(e))}let Ju=Z,zn=Z;const Ge=e=>e*1e3,Ve=e=>e/1e3,Xu={current:!1},Bo=e=>Array.isArray(e)&&typeof e[0]=="number";function _o(e){return!!(!e||typeof e=="string"&&$o[e]||Bo(e)||Array.isArray(e)&&e.every(_o))}const $t=([e,t,a,r])=>`cubic-bezier(${e}, ${t}, ${a}, ${r})`,$o={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$t([0,.65,.55,1]),circOut:$t([.55,0,1,.45]),backIn:$t([.31,.01,.66,-.59]),backOut:$t([.33,1.53,.69,.99])};function Uo(e){if(e)return Bo(e)?$t(e):Array.isArray(e)?e.map(Uo):$o[e]}function Yu(e,t,a,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:c,times:p}={}){const u={[t]:a};p&&(u.offset=p);const d=Uo(c);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function Qu(e,{repeat:t,repeatType:a="loop"}){const r=t&&a!=="loop"&&t%2===1?0:e.length-1;return e[r]}const qo=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,Zu=1e-7,ep=12;function tp(e,t,a,r,s){let o,i,c=0;do i=t+(a-t)/2,o=qo(i,r,s)-e,o>0?a=i:t=i;while(Math.abs(o)>Zu&&++c<ep);return i}function oa(e,t,a,r){if(e===t&&a===r)return Z;const s=o=>tp(o,0,1,e,a);return o=>o===0||o===1?o:qo(s(o),t,r)}const ap=oa(.42,0,1,1),rp=oa(0,0,.58,1),Ho=oa(.42,0,.58,1),np=e=>Array.isArray(e)&&typeof e[0]!="number",Wo=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ko=e=>t=>1-e(1-t),Bn=e=>1-Math.sin(Math.acos(e)),Go=Ko(Bn),sp=Wo(Bn),Jo=oa(.33,1.53,.69,.99),_n=Ko(Jo),ip=Wo(_n),op=e=>(e*=2)<1?.5*_n(e):.5*(2-Math.pow(2,-10*(e-1))),lp={linear:Z,easeIn:ap,easeInOut:Ho,easeOut:rp,circIn:Bn,circInOut:sp,circOut:Go,backIn:_n,backInOut:ip,backOut:Jo,anticipate:op},ws=e=>{if(Array.isArray(e)){zn(e.length===4);const[t,a,r,s]=e;return oa(t,a,r,s)}else if(typeof e=="string")return lp[e];return e},$n=(e,t)=>a=>!!(sa(a)&&cu.test(a)&&a.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(a,t)),Xo=(e,t,a)=>r=>{if(!sa(r))return r;const[s,o,i,c]=r.match(tr);return{[e]:parseFloat(s),[t]:parseFloat(o),[a]:parseFloat(i),alpha:c!==void 0?parseFloat(c):1}},cp=e=>Ye(0,255,e),Pr=E(S({},ft),{transform:e=>Math.round(cp(e))}),ct={test:$n("rgb","red"),parse:Xo("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:r=1})=>"rgba("+Pr.transform(e)+", "+Pr.transform(t)+", "+Pr.transform(a)+", "+qt(Ut.transform(r))+")"};function dp(e){let t="",a="",r="",s="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,a+=a,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Xr={test:$n("#"),parse:dp,transform:ct.transform},St={test:$n("hsl","hue"),parse:Xo("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(e)+", "+Le.transform(qt(t))+", "+Le.transform(qt(a))+", "+qt(Ut.transform(r))+")"},ce={test:e=>ct.test(e)||Xr.test(e)||St.test(e),parse:e=>ct.test(e)?ct.parse(e):St.test(e)?St.parse(e):Xr.parse(e),transform:e=>sa(e)?e:e.hasOwnProperty("red")?ct.transform(e):St.transform(e)},X=(e,t,a)=>-a*e+a*t+e;function Rr(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function up({hue:e,saturation:t,lightness:a,alpha:r}){e/=360,t/=100,a/=100;let s=0,o=0,i=0;if(!t)s=o=i=a;else{const c=a<.5?a*(1+t):a+t-a*t,p=2*a-c;s=Rr(p,c,e+1/3),o=Rr(p,c,e),i=Rr(p,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Er=(e,t,a)=>{const r=e*e;return Math.sqrt(Math.max(0,a*(t*t-r)+r))},pp=[Xr,ct,St],mp=e=>pp.find(t=>t.test(e));function ks(e){const t=mp(e);let a=t.parse(e);return t===St&&(a=up(a)),a}const Yo=(e,t)=>{const a=ks(e),r=ks(t),s=S({},a);return o=>(s.red=Er(a.red,r.red,o),s.green=Er(a.green,r.green,o),s.blue=Er(a.blue,r.blue,o),s.alpha=X(a.alpha,r.alpha,o),ct.transform(s))};function hp(e){var t,a;return isNaN(e)&&sa(e)&&(((t=e.match(tr))===null||t===void 0?void 0:t.length)||0)+(((a=e.match(No))===null||a===void 0?void 0:a.length)||0)>0}const Qo={regex:ou,countKey:"Vars",token:"${v}",parse:Z},Zo={regex:No,countKey:"Colors",token:"${c}",parse:ce.parse},el={regex:tr,countKey:"Numbers",token:"${n}",parse:ft.parse};function jr(e,{regex:t,countKey:a,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+a]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function Oa(e){const t=e.toString(),a={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return a.value.includes("var(--")&&jr(a,Qo),jr(a,Zo),jr(a,el),a}function tl(e){return Oa(e).values}function al(e){const{values:t,numColors:a,numVars:r,tokenised:s}=Oa(e),o=t.length;return i=>{let c=s;for(let p=0;p<o;p++)p<r?c=c.replace(Qo.token,i[p]):p<r+a?c=c.replace(Zo.token,ce.transform(i[p])):c=c.replace(el.token,qt(i[p]));return c}}const gp=e=>typeof e=="number"?0:e;function fp(e){const t=tl(e);return al(e)(t.map(gp))}const Qe={test:hp,parse:tl,createTransformer:al,getAnimatableNone:fp},rl=(e,t)=>a=>`${a>0?t:e}`;function nl(e,t){return typeof e=="number"?a=>X(e,t,a):ce.test(e)?Yo(e,t):e.startsWith("var(")?rl(e,t):il(e,t)}const sl=(e,t)=>{const a=[...e],r=a.length,s=e.map((o,i)=>nl(o,t[i]));return o=>{for(let i=0;i<r;i++)a[i]=s[i](o);return a}},xp=(e,t)=>{const a=S(S({},e),t),r={};for(const s in a)e[s]!==void 0&&t[s]!==void 0&&(r[s]=nl(e[s],t[s]));return s=>{for(const o in r)a[o]=r[o](s);return a}},il=(e,t)=>{const a=Qe.createTransformer(t),r=Oa(e),s=Oa(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ke(sl(r.values,s.values),a):rl(e,t)},Xt=(e,t,a)=>{const r=t-e;return r===0?1:(a-e)/r},Ns=(e,t)=>a=>X(e,t,a);function yp(e){return typeof e=="number"?Ns:typeof e=="string"?ce.test(e)?Yo:il:Array.isArray(e)?sl:typeof e=="object"?xp:Ns}function bp(e,t,a){const r=[],s=a||yp(e[0]),o=e.length-1;for(let i=0;i<o;i++){let c=s(e[i],e[i+1]);if(t){const p=Array.isArray(t)?t[i]||Z:t;c=Ke(p,c)}r.push(c)}return r}function ol(e,t,{clamp:a=!0,ease:r,mixer:s}={}){const o=e.length;if(zn(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=bp(t,r,s),c=i.length,p=u=>{let d=0;if(c>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const m=Xt(e[d],e[d+1],u);return i[d](m)};return a?u=>p(Ye(e[0],e[o-1],u)):p}function vp(e,t){const a=e[e.length-1];for(let r=1;r<=t;r++){const s=Xt(0,t,r);e.push(X(a,1,s))}}function wp(e){const t=[0];return vp(t,e.length-1),t}function kp(e,t){return e.map(a=>a*t)}function Np(e,t){return e.map(()=>t||Ho).splice(0,e.length-1)}function Ma({duration:e=300,keyframes:t,times:a,ease:r="easeInOut"}){const s=np(r)?r.map(ws):ws(r),o={done:!1,value:t[0]},i=kp(a&&a.length===t.length?a:wp(t),e),c=ol(i,t,{ease:Array.isArray(s)?s:Np(t,s)});return{calculatedDuration:e,next:p=>(o.value=c(p),o.done=p>=e,o)}}function ll(e,t){return t?e*(1e3/t):0}const Sp=5;function cl(e,t,a){const r=Math.max(t-Sp,0);return ll(a-e(r),t-r)}const Dr=.001,Cp=.01,Ss=10,Tp=.05,Ap=1;function Pp({duration:e=800,bounce:t=.25,velocity:a=0,mass:r=1}){let s,o;Ju(e<=Ge(Ss));let i=1-t;i=Ye(Tp,Ap,i),e=Ye(Cp,Ss,Ve(e)),i<1?(s=u=>{const d=u*i,m=d*e,h=d-a,g=Yr(u,i),y=Math.exp(-m);return Dr-h/g*y},o=u=>{const m=u*i*e,h=m*a+a,g=Math.pow(i,2)*Math.pow(u,2)*e,y=Math.exp(-m),f=Yr(Math.pow(u,2),i);return(-s(u)+Dr>0?-1:1)*((h-g)*y)/f}):(s=u=>{const d=Math.exp(-u*e),m=(u-a)*e+1;return-Dr+d*m},o=u=>{const d=Math.exp(-u*e),m=(a-u)*(e*e);return d*m});const c=5/e,p=Ep(s,o,c);if(e=Ge(e),isNaN(p))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(p,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const Rp=12;function Ep(e,t,a){let r=a;for(let s=1;s<Rp;s++)r=r-e(r)/t(r);return r}function Yr(e,t){return e*Math.sqrt(1-t*t)}const jp=["duration","bounce"],Dp=["stiffness","damping","mass"];function Cs(e,t){return t.some(a=>e[a]!==void 0)}function Lp(e){let t=S({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Cs(e,Dp)&&Cs(e,jp)){const a=Pp(e);t=E(S(S({},t),a),{mass:1}),t.isResolvedFromDuration=!0}return t}function dl(s){var o=s,{keyframes:e,restDelta:t,restSpeed:a}=o,r=ie(o,["keyframes","restDelta","restSpeed"]);const i=e[0],c=e[e.length-1],p={done:!1,value:i},{stiffness:u,damping:d,mass:m,duration:h,velocity:g,isResolvedFromDuration:y}=Lp(E(S({},r),{velocity:-Ve(r.velocity||0)})),f=g||0,v=d/(2*Math.sqrt(u*m)),w=c-i,b=Ve(Math.sqrt(u/m)),k=Math.abs(w)<5;a||(a=k?.01:2),t||(t=k?.005:.5);let N;if(v<1){const A=Yr(b,v);N=R=>{const L=Math.exp(-v*b*R);return c-L*((f+v*b*w)/A*Math.sin(A*R)+w*Math.cos(A*R))}}else if(v===1)N=A=>c-Math.exp(-b*A)*(w+(f+b*w)*A);else{const A=b*Math.sqrt(v*v-1);N=R=>{const L=Math.exp(-v*b*R),O=Math.min(A*R,300);return c-L*((f+v*b*w)*Math.sinh(O)+A*w*Math.cosh(O))/A}}return{calculatedDuration:y&&h||null,next:A=>{const R=N(A);if(y)p.done=A>=h;else{let L=f;A!==0&&(v<1?L=cl(N,A,R):L=0);const O=Math.abs(L)<=a,C=Math.abs(c-R)<=t;p.done=O&&C}return p.value=p.done?c:R,p}}}function Ts({keyframes:e,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:c,max:p,restDelta:u=.5,restSpeed:d}){const m=e[0],h={done:!1,value:m},g=O=>c!==void 0&&O<c||p!==void 0&&O>p,y=O=>c===void 0?p:p===void 0||Math.abs(c-O)<Math.abs(p-O)?c:p;let f=a*t;const v=m+f,w=i===void 0?v:i(v);w!==v&&(f=w-m);const b=O=>-f*Math.exp(-O/r),k=O=>w+b(O),N=O=>{const C=b(O),j=k(O);h.done=Math.abs(C)<=u,h.value=h.done?w:j};let A,R;const L=O=>{g(h.value)&&(A=O,R=dl({keyframes:[h.value,y(h.value)],velocity:cl(k,O,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return L(0),{calculatedDuration:null,next:O=>{let C=!1;return!R&&A===void 0&&(C=!0,N(O),L(O)),A!==void 0&&O>A?R.next(O-A):(!C&&N(O),h)}}}const Op=e=>{const t=({timestamp:a})=>e(a);return{start:()=>W.update(t,!0),stop:()=>Be(t),now:()=>oe.isProcessing?oe.timestamp:performance.now()}},As=2e4;function Ps(e){let t=0;const a=50;let r=e.next(t);for(;!r.done&&t<As;)t+=a,r=e.next(t);return t>=As?1/0:t}const Mp={decay:Ts,inertia:Ts,tween:Ma,keyframes:Ma,spring:dl};function Fa(g){var y=g,{autoplay:e=!0,delay:t=0,driver:a=Op,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:c="loop",onPlay:p,onStop:u,onComplete:d,onUpdate:m}=y,h=ie(y,["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"]);let f=1,v=!1,w,b;const k=()=>{b=new Promise(H=>{w=H})};k();let N;const A=Mp[s]||Ma;let R;A!==Ma&&typeof r[0]!="number"&&(R=ol([0,100],r,{clamp:!1}),r=[0,100]);const L=A(E(S({},h),{keyframes:r}));let O;c==="mirror"&&(O=A(E(S({},h),{keyframes:[...r].reverse(),velocity:-(h.velocity||0)})));let C="idle",j=null,P=null,M=null;L.calculatedDuration===null&&o&&(L.calculatedDuration=Ps(L));const{calculatedDuration:G}=L;let U=1/0,Q=1/0;G!==null&&(U=G+i,Q=U*(o+1)-i);let $=0;const ge=H=>{if(P===null)return;f>0&&(P=Math.min(P,H)),f<0&&(P=Math.min(H-Q/f,P)),j!==null?$=j:$=Math.round(H-P)*f;const fe=$-t*(f>=0?1:-1),Ot=f>=0?fe<0:fe>Q;$=Math.max(fe,0),C==="finished"&&j===null&&($=Q);let Se=$,Mt=L;if(o){const $e=Math.min($,Q)/U;let be=Math.floor($e),Ce=$e%1;!Ce&&$e>=1&&(Ce=1),Ce===1&&be--,be=Math.min(be,o+1),!!(be%2)&&(c==="reverse"?(Ce=1-Ce,i&&(Ce-=i/U)):c==="mirror"&&(Mt=O)),Se=Ye(0,1,Ce)*U}const _e=Ot?{done:!1,value:r[0]}:Mt.next(Se);R&&(_e.value=R(_e.value));let{done:Ft}=_e;!Ot&&G!==null&&(Ft=f>=0?$>=Q:$<=0);const yt=j===null&&(C==="finished"||C==="running"&&Ft);return m&&m(_e.value),yt&&ur(),_e},Ne=()=>{N&&N.stop(),N=void 0},ee=()=>{C="idle",Ne(),w(),k(),P=M=null},ur=()=>{C="finished",d&&d(),Ne(),w()},Lt=()=>{if(v)return;N||(N=a(ge));const H=N.now();p&&p(),j!==null?P=H-j:(!P||C==="finished")&&(P=H),C==="finished"&&k(),M=P,j=null,C="running",N.start()};e&&Lt();const at={then(H,fe){return b.then(H,fe)},get time(){return Ve($)},set time(H){H=Ge(H),$=H,j!==null||!N||f===0?j=H:P=N.now()-H/f},get duration(){const H=L.calculatedDuration===null?Ps(L):L.calculatedDuration;return Ve(H)},get speed(){return f},set speed(H){H===f||!N||(f=H,at.time=Ve($))},get state(){return C},play:Lt,pause:()=>{C="paused",j=$},stop:()=>{v=!0,C!=="idle"&&(C="idle",u&&u(),ee())},cancel:()=>{M!==null&&ge(M),ee()},complete:()=>{C="finished"},sample:H=>(P=0,ge(H))};return at}function Fp(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ip=Fp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vp=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ba=10,zp=2e4,Bp=(e,t)=>t.type==="spring"||e==="backgroundColor"||!_o(t.ease);function _p(e,t,o){var i=o,{onUpdate:a,onComplete:r}=i,s=ie(i,["onUpdate","onComplete"]);if(!(Ip()&&Vp.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let p=!1,u,d,m=!1;const h=()=>{d=new Promise(A=>{u=A})};h();let{keyframes:g,duration:y=300,ease:f,times:v}=s;if(Bp(t,s)){const A=Fa(E(S({},s),{repeat:0,delay:0}));let R={done:!1,value:g[0]};const L=[];let O=0;for(;!R.done&&O<zp;)R=A.sample(O),L.push(R.value),O+=ba;v=void 0,g=L,y=O-ba,f="linear"}const w=Yu(e.owner.current,t,g,E(S({},s),{duration:y,ease:f,times:v})),b=()=>{m=!1,w.cancel()},k=()=>{m=!0,W.update(b),u(),h()};return w.onfinish=()=>{m||(e.set(Qu(g,s)),r&&r(),k())},{then(A,R){return d.then(A,R)},attachTimeline(A){return w.timeline=A,w.onfinish=null,Z},get time(){return Ve(w.currentTime||0)},set time(A){w.currentTime=Ge(A)},get speed(){return w.playbackRate},set speed(A){w.playbackRate=A},get duration(){return Ve(y)},play:()=>{p||(w.play(),Be(b))},pause:()=>w.pause(),stop:()=>{if(p=!0,w.playState==="idle")return;const{currentTime:A}=w;if(A){const R=Fa(E(S({},s),{autoplay:!1}));e.setWithVelocity(R.sample(A-ba).value,R.sample(A).value,ba)}k()},complete:()=>{m||w.finish()},cancel:k}}function $p({keyframes:e,delay:t,onUpdate:a,onComplete:r}){const s=()=>(a&&a(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Z,pause:Z,stop:Z,then:o=>(o(),Promise.resolve()),cancel:Z,complete:Z});return t?Fa({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const Up={type:"spring",stiffness:500,damping:25,restSpeed:10},qp=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Hp={type:"keyframes",duration:.8},Wp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kp=(e,{keyframes:t})=>t.length>2?Hp:gt.has(e)?e.startsWith("scale")?qp(t[1]):Up:Wp,Qr=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qe.test(t)||t==="0")&&!t.startsWith("url(")),Gp=new Set(["brightness","contrast","saturate","opacity"]);function Jp(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=a.match(tr)||[];if(!r)return e;const s=a.replace(r,"");let o=Gp.has(t)?1:0;return r!==a&&(o*=100),t+"("+o+s+")"}const Xp=/([a-z-]*)\(.*?\)/g,Zr=E(S({},Qe),{getAnimatableNone:e=>{const t=e.match(Xp);return t?t.map(Jp).join(" "):e}}),Yp=E(S({},So),{color:ce,backgroundColor:ce,outlineColor:ce,fill:ce,stroke:ce,borderColor:ce,borderTopColor:ce,borderRightColor:ce,borderBottomColor:ce,borderLeftColor:ce,filter:Zr,WebkitFilter:Zr}),Un=e=>Yp[e];function ul(e,t){let a=Un(e);return a!==Zr&&(a=Qe),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const pl=e=>/^0[^.\s]+$/.test(e);function Qp(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||pl(e)}function Zp(e,t,a,r){const s=Qr(t,a);let o;Array.isArray(a)?o=[...a]:o=[null,a];const i=r.from!==void 0?r.from:e.get();let c;const p=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),Qp(o[u])&&p.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(c=o[u]);if(s&&p.length&&c)for(let u=0;u<p.length;u++){const d=p[u];o[d]=ul(t,c)}return o}function em(m){var h=m,{when:e,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:c,from:p,elapsed:u}=h,d=ie(h,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(d).length}function qn(e,t){return e[t]||e.default||e}const tm={skipAnimations:!1},Hn=(e,t,a,r={})=>s=>{const o=qn(r,e)||{},i=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ge(i);const p=Zp(t,e,a,o),u=p[0],d=p[p.length-1],m=Qr(e,u),h=Qr(e,d);let g=E(S({keyframes:p,velocity:t.getVelocity(),ease:"easeOut"},o),{delay:-c,onUpdate:y=>{t.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}});if(em(o)||(g=S(S({},g),Kp(e,g))),g.duration&&(g.duration=Ge(g.duration)),g.repeatDelay&&(g.repeatDelay=Ge(g.repeatDelay)),!m||!h||Xu.current||o.type===!1||tm.skipAnimations)return $p(g);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=_p(t,e,g);if(y)return y}return Fa(g)};function Ia(e){return!!(pe(e)&&e.add)}const ml=e=>/^\-?\d*\.?\d+$/.test(e);function Wn(e,t){e.indexOf(t)===-1&&e.push(t)}function Kn(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}class Gn{constructor(){this.subscriptions=[]}add(t){return Wn(this.subscriptions,t),()=>Kn(this.subscriptions,t)}notify(t,a,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,a,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const am=e=>!isNaN(parseFloat(e));class rm{constructor(t,a={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=oe;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,W.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>W.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=am(this.current),this.owner=a.owner}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new Gn);const r=this.events[t].add(a);return t==="change"?()=>{r(),W.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t,a=!0){!a||!this.passiveEffect?this.updateAndNotify(t,a):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,a,r){this.set(a),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ll(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function At(e,t){return new rm(e,t)}const hl=e=>t=>t.test(e),nm={test:e=>e==="auto",parse:e=>e},gl=[ft,I,Le,Ue,uu,du,nm],zt=e=>gl.find(hl(e)),sm=[...gl,ce,Qe],im=e=>sm.find(hl(e));function om(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,At(a))}function lm(e,t){const a=rr(e,t);let i=a?e.makeTargetAnimatable(a,!1):{},{transitionEnd:r={},transition:s={}}=i,o=ie(i,["transitionEnd","transition"]);o=S(S({},o),r);for(const c in o){const p=Cu(o[c]);om(e,c,p)}}function cm(e,t,a){var r,s;const o=Object.keys(t).filter(c=>!e.hasValue(c)),i=o.length;if(i)for(let c=0;c<i;c++){const p=o[c],u=t[p];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=a[p])!==null&&r!==void 0?r:e.readValue(p))!==null&&s!==void 0?s:t[p]),d!=null&&(typeof d=="string"&&(ml(d)||pl(d))?d=parseFloat(d):!im(d)&&Qe.test(u)&&(d=ul(p,u)),e.addValue(p,At(d,{owner:e})),a[p]===void 0&&(a[p]=d),d!==null&&e.setBaseTarget(p,d))}}function dm(e,t){return t?(t[e]||t.default||t).from:void 0}function um(e,t,a){const r={};for(const s in e){const o=dm(s,t);if(o!==void 0)r[s]=o;else{const i=a.getValue(s);i&&(r[s]=i.get())}}return r}function pm({protectedKeys:e,needsAnimating:t},a){const r=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function mm(e,t){const a=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==a)return!0}else return a!==t}function fl(e,t,{delay:a=0,transitionOverride:r,type:s}={}){let m=e.makeTargetAnimatable(t),{transition:o=e.getDefaultTransition(),transitionEnd:i}=m,c=ie(m,["transition","transitionEnd"]);const p=e.getValue("willChange");r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const g=e.getValue(h),y=c[h];if(!g||y===void 0||d&&pm(d,h))continue;const f=S({delay:a,elapsed:0},qn(o||{},h));if(window.HandoffAppearAnimations){const b=e.getProps()[xo];if(b){const k=window.HandoffAppearAnimations(b,h,g,W);k!==null&&(f.elapsed=k,f.isHandoff=!0)}}let v=!f.isHandoff&&!mm(g,y);if(f.type==="spring"&&(g.getVelocity()||f.velocity)&&(v=!1),g.animation&&(v=!1),v)continue;g.start(Hn(h,g,y,e.shouldReduceMotion&&gt.has(h)?{type:!1}:f));const w=g.animation;Ia(p)&&(p.add(h),w.then(()=>p.remove(h))),u.push(w)}return i&&Promise.all(u).then(()=>{i&&lm(e,i)}),u}function en(e,t,a={}){const r=rr(e,t,a.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(s=a.transitionOverride);const o=r?()=>Promise.all(fl(e,r,a)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:m}=s;return hm(e,t,u+p,d,m,a)}:()=>Promise.resolve(),{when:c}=s;if(c){const[p,u]=c==="beforeChildren"?[o,i]:[i,o];return p().then(()=>u())}else return Promise.all([o(),i(a.delay)])}function hm(e,t,a=0,r=0,s=1,o){const i=[],c=(e.variantChildren.size-1)*r,p=s===1?(u=0)=>u*r:(u=0)=>c-u*r;return Array.from(e.variantChildren).sort(gm).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(en(u,t,E(S({},o),{delay:a+p(d)})).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function gm(e,t){return e.sortNodePosition(t)}function fm(e,t,a={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>en(e,o,a));r=Promise.all(s)}else if(typeof t=="string")r=en(e,t,a);else{const s=typeof t=="function"?rr(e,t,a.custom):t;r=Promise.all(fl(e,s,a))}return r.then(()=>e.notify("AnimationComplete",t))}const xm=[...Rn].reverse(),ym=Rn.length;function bm(e){return t=>Promise.all(t.map(({animation:a,options:r})=>fm(e,a,r)))}function vm(e){let t=bm(e);const a=km();let r=!0;const s=(p,u)=>{const d=rr(e,u);if(d){const m=d,{transition:h,transitionEnd:g}=m,y=ie(m,["transition","transitionEnd"]);p=S(S(S({},p),y),g)}return p};function o(p){t=p(e)}function i(p,u){const d=e.getProps(),m=e.getVariantContext(!0)||{},h=[],g=new Set;let y={},f=1/0;for(let w=0;w<ym;w++){const b=xm[w],k=a[b],N=d[b]!==void 0?d[b]:m[b],A=Gt(N),R=b===u?k.isActive:null;R===!1&&(f=w);let L=N===m[b]&&N!==d[b]&&A;if(L&&r&&e.manuallyAnimateOnMount&&(L=!1),k.protectedKeys=S({},y),!k.isActive&&R===null||!N&&!k.prevProp||Za(N)||typeof N=="boolean")continue;let C=wm(k.prevProp,N)||b===u&&k.isActive&&!L&&A||w>f&&A,j=!1;const P=Array.isArray(N)?N:[N];let M=P.reduce(s,{});R===!1&&(M={});const{prevResolvedValues:G={}}=k,U=S(S({},G),M),Q=$=>{C=!0,g.has($)&&(j=!0,g.delete($)),k.needsAnimating[$]=!0};for(const $ in U){const ge=M[$],Ne=G[$];if(y.hasOwnProperty($))continue;let ee=!1;La(ge)&&La(Ne)?ee=!zo(ge,Ne):ee=ge!==Ne,ee?ge!==void 0?Q($):g.add($):ge!==void 0&&g.has($)?Q($):k.protectedKeys[$]=!0}k.prevProp=N,k.prevResolvedValues=M,k.isActive&&(y=S(S({},y),M)),r&&e.blockInitialAnimation&&(C=!1),C&&(!L||j)&&h.push(...P.map($=>({animation:$,options:S({type:b},p)})))}if(g.size){const w={};g.forEach(b=>{const k=e.getBaseTarget(b);k!==void 0&&(w[b]=k)}),h.push({animation:w})}let v=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function c(p,u,d){var m;if(a[p].isActive===u)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(g=>{var y;return(y=g.animationState)===null||y===void 0?void 0:y.setActive(p,u)}),a[p].isActive=u;const h=i(d,p);for(const g in a)a[g].protectedKeys={};return h}return{animateChanges:i,setActive:c,setAnimateFunction:o,getState:()=>a}}function wm(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zo(t,e):!1}function nt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function km(){return{animate:nt(!0),whileInView:nt(),whileHover:nt(),whileTap:nt(),whileDrag:nt(),whileFocus:nt(),exit:nt()}}class Nm extends tt{constructor(t){super(t),t.animationState||(t.animationState=vm(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Za(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){}}let Sm=0;class Cm extends tt{constructor(){super(...arguments),this.id=Sm++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r!=null?r:this.node.getProps().custom});a&&!t&&o.then(()=>a(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Tm={animation:{Feature:Nm},exit:{Feature:Cm}},Rs=(e,t)=>Math.abs(e-t);function Am(e,t){const a=Rs(e.x,t.x),r=Rs(e.y,t.y);return Math.sqrt(ga(a,2)+ga(r,2))}class xl{constructor(t,a,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Or(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=Am(m.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:y}=m,{timestamp:f}=oe;this.history.push(E(S({},y),{timestamp:f}));const{onStart:v,onMove:w}=this.handlers;h||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Lr(h,this.transformPagePoint),W.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Or(m.type==="pointercancel"?this.lastMoveEventInfo:Lr(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,v),y&&y(m,v)},!Oo(t))return;this.dragSnapToOrigin=o,this.handlers=a,this.transformPagePoint=r,this.contextWindow=s||window;const i=ar(t),c=Lr(i,this.transformPagePoint),{point:p}=c,{timestamp:u}=oe;this.history=[E(S({},p),{timestamp:u})];const{onSessionStart:d}=a;d&&d(t,Or(c,this.history)),this.removeListeners=Ke(Ie(this.contextWindow,"pointermove",this.handlePointerMove),Ie(this.contextWindow,"pointerup",this.handlePointerUp),Ie(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Be(this.updatePoint)}}function Lr(e,t){return t?{point:t(e.point)}:e}function Es(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Or({point:e},t){return{point:e,delta:Es(e,yl(t)),offset:Es(e,Pm(t)),velocity:Rm(t,.1)}}function Pm(e){return e[0]}function yl(e){return e[e.length-1]}function Rm(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,r=null;const s=yl(e);for(;a>=0&&(r=e[a],!(s.timestamp-r.timestamp>Ge(t)));)a--;if(!r)return{x:0,y:0};const o=Ve(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function he(e){return e.max-e.min}function tn(e,t=0,a=.01){return Math.abs(e-t)<=a}function js(e,t,a,r=.5){e.origin=r,e.originPoint=X(t.min,t.max,e.origin),e.scale=he(a)/he(t),(tn(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=X(a.min,a.max,e.origin)-e.originPoint,(tn(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ht(e,t,a,r){js(e.x,t.x,a.x,r?r.originX:void 0),js(e.y,t.y,a.y,r?r.originY:void 0)}function Ds(e,t,a){e.min=a.min+t.min,e.max=e.min+he(t)}function Em(e,t,a){Ds(e.x,t.x,a.x),Ds(e.y,t.y,a.y)}function Ls(e,t,a){e.min=t.min-a.min,e.max=e.min+he(t)}function Wt(e,t,a){Ls(e.x,t.x,a.x),Ls(e.y,t.y,a.y)}function jm(e,{min:t,max:a},r){return t!==void 0&&e<t?e=r?X(t,e,r.min):Math.max(e,t):a!==void 0&&e>a&&(e=r?X(a,e,r.max):Math.min(e,a)),e}function Os(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function Dm(e,{top:t,left:a,bottom:r,right:s}){return{x:Os(e.x,a,s),y:Os(e.y,t,r)}}function Ms(e,t){let a=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,r]=[r,a]),{min:a,max:r}}function Lm(e,t){return{x:Ms(e.x,t.x),y:Ms(e.y,t.y)}}function Om(e,t){let a=.5;const r=he(e),s=he(t);return s>r?a=Xt(t.min,t.max-r,e.min):r>s&&(a=Xt(e.min,e.max-s,t.min)),Ye(0,1,a)}function Mm(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const an=.35;function Fm(e=an){return e===!1?e=0:e===!0&&(e=an),{x:Fs(e,"left","right"),y:Fs(e,"top","bottom")}}function Fs(e,t,a){return{min:Is(e,t),max:Is(e,a)}}function Is(e,t){return typeof e=="number"?e:e[t]||0}const Vs=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ct=()=>({x:Vs(),y:Vs()}),zs=()=>({min:0,max:0}),ae=()=>({x:zs(),y:zs()});function ye(e){return[e("x"),e("y")]}function bl({top:e,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:e,max:r}}}function Im({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Vm(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Mr(e){return e===void 0||e===1}function rn({scale:e,scaleX:t,scaleY:a}){return!Mr(e)||!Mr(t)||!Mr(a)}function st(e){return rn(e)||vl(e)||e.z||e.rotate||e.rotateX||e.rotateY}function vl(e){return Bs(e.x)||Bs(e.y)}function Bs(e){return e&&e!=="0%"}function Va(e,t,a){const r=e-a,s=t*r;return a+s}function _s(e,t,a,r,s){return s!==void 0&&(e=Va(e,s,r)),Va(e,a,r)+t}function nn(e,t=0,a=1,r,s){e.min=_s(e.min,t,a,r,s),e.max=_s(e.max,t,a,r,s)}function wl(e,{x:t,y:a}){nn(e.x,t.translate,t.scale,t.originPoint),nn(e.y,a.translate,a.scale,a.originPoint)}function zm(e,t,a,r=!1){const s=a.length;if(!s)return;t.x=t.y=1;let o,i;for(let c=0;c<s;c++){o=a[c],i=o.projectionDelta;const p=o.instance;p&&p.style&&p.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Tt(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,wl(e,i)),r&&st(o.latestValues)&&Tt(e,o.latestValues))}t.x=$s(t.x),t.y=$s(t.y)}function $s(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function qe(e,t){e.min=e.min+t,e.max=e.max+t}function Us(e,t,[a,r,s]){const o=t[s]!==void 0?t[s]:.5,i=X(e.min,e.max,o);nn(e,t[a],t[r],i,t.scale)}const Bm=["x","scaleX","originX"],_m=["y","scaleY","originY"];function Tt(e,t){Us(e.x,t,Bm),Us(e.y,t,_m)}function kl(e,t){return bl(Vm(e.getBoundingClientRect(),t))}function $m(e,t,a){const r=kl(e,a),{scroll:s}=t;return s&&(qe(r.x,s.offset.x),qe(r.y,s.offset.y)),r}const Nl=({current:e})=>e?e.ownerDocument.defaultView:null,Um=new WeakMap;class qm{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ae(),this.visualElement=t}start(t,{snapToCursor:a=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(ar(d,"page").point)},o=(d,m)=>{const{drag:h,dragPropagation:g,onDragStart:y}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Fo(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ye(v=>{let w=this.getAxisMotionValue(v).get()||0;if(Le.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const k=b.layout.layoutBox[v];k&&(w=he(k)*(parseFloat(w)/100))}}this.originPoint[v]=w}),y&&W.update(()=>y(d,m),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},i=(d,m)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:y,onDrag:f}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=m;if(g&&this.currentDirection===null){this.currentDirection=Hm(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),f&&f(d,m)},c=(d,m)=>this.stop(d,m),p=()=>ye(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new xl(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:c,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Nl(this.visualElement)})}stop(t,a){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&W.update(()=>o(t,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:s}=this.getProps();if(!r||!va(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=jm(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:a,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;a&&Nt(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&s?this.constraints=Dm(s.layoutBox,a):this.constraints=!1,this.elastic=Fm(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ye(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=Mm(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Nt(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=$m(r,s.root,this.visualElement.getTransformPagePoint());let i=Lm(s.layout.layoutBox,o);if(a){const c=a(Im(i));this.hasMutatedConstraints=!!c,c&&(i=bl(c))}return i}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:c}=this.getProps(),p=this.constraints||{},u=ye(d=>{if(!va(d,a,this.currentDirection))return;let m=p&&p[d]||{};i&&(m={min:0,max:0});const h=s?200:1e6,g=s?40:1e7,y=S(S({type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10},o),m);return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(c)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return r.start(Hn(t,r,0,a))}stopAnimation(){ye(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ye(t=>{var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.state}getAxisMotionValue(t){const a="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[a];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ye(a=>{const{drag:r}=this.getProps();if(!va(a,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(a);if(s&&s.layout){const{min:i,max:c}=s.layout.layoutBox[a];o.set(t[a]-X(i,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Nt(a)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ye(i=>{const c=this.getAxisMotionValue(i);if(c){const p=c.get();s[i]=Om({min:p,max:p},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ye(i=>{if(!va(i,t,null))return;const c=this.getAxisMotionValue(i),{min:p,max:u}=this.constraints[i];c.set(X(p,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;Um.set(this.visualElement,this);const t=this.visualElement.current,a=Ie(t,"pointerdown",p=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Nt(p)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=Fe(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:p,hasLayoutChanged:u})=>{this.isDragging&&u&&(ye(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=p[d].translate,m.set(m.get()+p[d].translate))}),this.visualElement.render())});return()=>{i(),a(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=an,dragMomentum:c=!0}=t;return E(S({},t),{drag:a,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:c})}}function va(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function Hm(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class Wm extends tt{constructor(t){super(t),this.removeGroupControls=Z,this.removeListeners=Z,this.controls=new qm(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Z}unmount(){this.removeGroupControls(),this.removeListeners()}}const qs=e=>(t,a)=>{e&&W.update(()=>e(t,a))};class Km extends tt{constructor(){super(...arguments),this.removePointerDownListener=Z}onPointerDown(t){this.session=new xl(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nl(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:qs(t),onStart:qs(a),onMove:r,onEnd:(o,i)=>{delete this.session,s&&W.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=Ie(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Gm(){const e=x.useContext(Ya);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:a,register:r}=e,s=x.useId();return x.useEffect(()=>r(s),[]),!t&&a?[!1,()=>a&&a(s)]:[!0]}const Sa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hs(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bt={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(I.test(e))e=parseFloat(e);else return e;const a=Hs(e,t.target.x),r=Hs(e,t.target.y);return`${a}% ${r}%`}},Jm={correct:(e,{treeScale:t,projectionDelta:a})=>{const r=e,s=Qe.parse(e);if(s.length>5)return r;const o=Qe.createTransformer(e),i=typeof s[0]!="number"?1:0,c=a.x.scale*t.x,p=a.y.scale*t.y;s[0+i]/=c,s[1+i]/=p;const u=X(c,p,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class Xm extends ta.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;ru(Ym),o&&(a.group&&a.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions(E(S({},o.options),{onExitComplete:()=>this.safeToRemove()}))),Sa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==a||a===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||W.postRender(()=>{const c=i.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Sl(e){const[t,a]=Gm(),r=x.useContext(jn);return ta.createElement(Xm,E(S({},e),{layoutGroup:r,switchLayoutGroup:x.useContext(bo),isPresent:t,safeToRemove:a}))}const Ym={borderRadius:E(S({},Bt),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomLeftRadius:Bt,borderBottomRightRadius:Bt,boxShadow:Jm},Cl=["TopLeft","TopRight","BottomLeft","BottomRight"],Qm=Cl.length,Ws=e=>typeof e=="string"?parseFloat(e):e,Ks=e=>typeof e=="number"||I.test(e);function Zm(e,t,a,r,s,o){s?(e.opacity=X(0,a.opacity!==void 0?a.opacity:1,eh(r)),e.opacityExit=X(t.opacity!==void 0?t.opacity:1,0,th(r))):o&&(e.opacity=X(t.opacity!==void 0?t.opacity:1,a.opacity!==void 0?a.opacity:1,r));for(let i=0;i<Qm;i++){const c=`border${Cl[i]}Radius`;let p=Gs(t,c),u=Gs(a,c);if(p===void 0&&u===void 0)continue;p||(p=0),u||(u=0),p===0||u===0||Ks(p)===Ks(u)?(e[c]=Math.max(X(Ws(p),Ws(u),r),0),(Le.test(u)||Le.test(p))&&(e[c]+="%")):e[c]=u}(t.rotate||a.rotate)&&(e.rotate=X(t.rotate||0,a.rotate||0,r))}function Gs(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const eh=Tl(0,.5,Go),th=Tl(.5,.95,Z);function Tl(e,t,a){return r=>r<e?0:r>t?1:a(Xt(e,t,r))}function Js(e,t){e.min=t.min,e.max=t.max}function xe(e,t){Js(e.x,t.x),Js(e.y,t.y)}function Xs(e,t,a,r,s){return e-=t,e=Va(e,1/a,r),s!==void 0&&(e=Va(e,1/s,r)),e}function ah(e,t=0,a=1,r=.5,s,o=e,i=e){if(Le.test(t)&&(t=parseFloat(t),t=X(i.min,i.max,t/100)-i.min),typeof t!="number")return;let c=X(o.min,o.max,r);e===o&&(c-=t),e.min=Xs(e.min,t,a,c,s),e.max=Xs(e.max,t,a,c,s)}function Ys(e,t,[a,r,s],o,i){ah(e,t[a],t[r],t[s],t.scale,o,i)}const rh=["x","scaleX","originX"],nh=["y","scaleY","originY"];function Qs(e,t,a,r){Ys(e.x,t,rh,a?a.x:void 0,r?r.x:void 0),Ys(e.y,t,nh,a?a.y:void 0,r?r.y:void 0)}function Zs(e){return e.translate===0&&e.scale===1}function Al(e){return Zs(e.x)&&Zs(e.y)}function sh(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Pl(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function ei(e){return he(e.x)/he(e.y)}class ih{constructor(){this.members=[]}add(t){Wn(this.members,t),t.scheduleRender()}remove(t){if(Kn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(s=>t===s);if(a===0)return!1;let r;for(let s=a;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ti(e,t,a){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{rotate:p,rotateX:u,rotateY:d}=a;p&&(r+=`rotate(${p}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,c=e.y.scale*t.y;return(i!==1||c!==1)&&(r+=`scale(${i}, ${c})`),r||"none"}const oh=(e,t)=>e.depth-t.depth;class lh{constructor(){this.children=[],this.isDirty=!1}add(t){Wn(this.children,t),this.isDirty=!0}remove(t){Kn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(oh),this.isDirty=!1,this.children.forEach(t)}}function ch(e,t){const a=performance.now(),r=({timestamp:s})=>{const o=s-a;o>=t&&(Be(r),e(o-t))};return W.read(r,!0),()=>Be(r)}function dh(e){window.MotionDebug&&window.MotionDebug.record(e)}function uh(e){return e instanceof SVGElement&&e.tagName!=="svg"}function ph(e,t,a){const r=pe(e)?e:At(e);return r.start(Hn("",r,t,a)),r.animation}const ai=["","X","Y","Z"],mh={visibility:"hidden"},ri=1e3;let hh=0;const it={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Rl({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},c=t==null?void 0:t()){this.id=hh++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,it.totalNodes=it.resolvedTargetDeltas=it.recalculatedProjection=0,this.nodes.forEach(xh),this.nodes.forEach(kh),this.nodes.forEach(Nh),this.nodes.forEach(yh),dh(it)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new lh)}addEventListener(i,c){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Gn),this.eventHandlers.get(i).add(c)}notifyListeners(i,...c){const p=this.eventHandlers.get(i);p&&p.notify(...c)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uh(i),this.instance=i;const{layoutId:p,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(u||p)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=ch(h,250),Sa.hasAnimatedSinceResize&&(Sa.hasAnimatedSinceResize=!1,this.nodes.forEach(si))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&d&&(p||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||d.getDefaultTransition()||Ph,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=d.getProps(),b=!this.targetLayout||!Pl(this.targetLayout,y)||g,k=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,k);const N=E(S({},qn(f,"layout")),{onPlay:v,onComplete:w});(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||si(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Be(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sh),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:p}=this.options;if(c===void 0&&!p)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ni);return}this.isUpdating||this.nodes.forEach(vh),this.isUpdating=!1,this.nodes.forEach(wh),this.nodes.forEach(gh),this.nodes.forEach(fh),this.clearAllSnapshots();const c=performance.now();oe.delta=Ye(0,1e3/60,c-oe.timestamp),oe.timestamp=c,oe.isProcessing=!0,Cr.update.process(oe),Cr.preRender.process(oe),Cr.render.process(oe),oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(bh),this.sharedNodes.forEach(Ch)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,W.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){W.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:a(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!Al(this.projectionDelta),p=this.getTransformTemplate(),u=p?p(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(c||st(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const c=this.measurePageBox();let p=this.removeElementScroll(c);return i&&(p=this.removeTransform(p)),Rh(p),{animationId:this.root.animationId,measuredBox:c,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return ae();const c=i.measureViewportBox(),{scroll:p}=this.root;return p&&(qe(c.x,p.offset.x),qe(c.y,p.offset.y)),c}removeElementScroll(i){const c=ae();xe(c,i);for(let p=0;p<this.path.length;p++){const u=this.path[p],{scroll:d,options:m}=u;if(u!==this.root&&d&&m.layoutScroll){if(d.isRoot){xe(c,i);const{scroll:h}=this.root;h&&(qe(c.x,-h.offset.x),qe(c.y,-h.offset.y))}qe(c.x,d.offset.x),qe(c.y,d.offset.y)}}return c}applyTransform(i,c=!1){const p=ae();xe(p,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Tt(p,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),st(d.latestValues)&&Tt(p,d.latestValues)}return st(this.latestValues)&&Tt(p,this.latestValues),p}removeTransform(i){const c=ae();xe(c,i);for(let p=0;p<this.path.length;p++){const u=this.path[p];if(!u.instance||!st(u.latestValues))continue;rn(u.latestValues)&&u.updateSnapshot();const d=ae(),m=u.measurePageBox();xe(d,m),Qs(c,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return st(this.latestValues)&&Qs(c,this.latestValues),c}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options=E(S(S({},this.options),i),{crossfade:i.crossfade!==void 0?i.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var c;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==p;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=oe.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Wt(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),xe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ae(),this.targetWithTransforms=ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Em(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xe(this.target,this.layout.layoutBox),wl(this.target,this.targetDelta)):xe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Wt(this.relativeTargetOrigin,this.target,g.target),xe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}it.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rn(this.parent.latestValues)||vl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const c=this.getLead(),p=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===oe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;xe(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;zm(this.layoutCorrected,this.treeScale,this.path,p),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:y}=c;if(!y){this.projectionTransform&&(this.projectionDelta=Ct(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ct(),this.projectionDeltaWithTransform=Ct());const f=this.projectionTransform;Ht(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=ti(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),it.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,c=!1){const p=this.snapshot,u=p?p.latestValues:{},d=S({},this.latestValues),m=Ct();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const h=ae(),g=p?p.source:void 0,y=this.layout?this.layout.source:void 0,f=g!==y,v=this.getStack(),w=!v||v.members.length<=1,b=!!(f&&!w&&this.options.crossfade===!0&&!this.path.some(Ah));this.animationProgress=0;let k;this.mixTargetDelta=N=>{const A=N/1e3;ii(m.x,i.x,A),ii(m.y,i.y,A),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wt(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Th(this.relativeTarget,this.relativeTargetOrigin,h,A),k&&sh(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ae()),xe(k,this.relativeTarget)),f&&(this.animationValues=d,Zm(d,u,this.latestValues,A,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Be(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=W.update(()=>{Sa.hasAnimatedSinceResize=!0,this.currentAnimation=ph(0,ri,E(S({},i),{onUpdate:c=>{this.mixTargetDelta(c),i.onUpdate&&i.onUpdate(c)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ri),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:c,target:p,layout:u,latestValues:d}=i;if(!(!c||!p||!u)){if(this!==i&&this.layout&&u&&El(this.options.animationType,this.layout.layoutBox,u.layoutBox)){p=this.target||ae();const m=he(this.layout.layoutBox.x);p.x.min=i.target.x.min,p.x.max=p.x.min+m;const h=he(this.layout.layoutBox.y);p.y.min=i.target.y.min,p.y.max=p.y.min+h}xe(c,p),Tt(c,d),Ht(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(i,c){this.sharedNodes.has(i)||this.sharedNodes.set(i,new ih),this.sharedNodes.get(i).add(c);const u=c.options.initialPromotionConfig;c.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(c):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:c}=this.options;return c?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:c}=this.options;return c?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:c,preserveFollowOpacity:p}={}){const u=this.getStack();u&&u.promote(this,p),i&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let c=!1;const{latestValues:p}=i;if((p.rotate||p.rotateX||p.rotateY||p.rotateZ)&&(c=!0),!c)return;const u={};for(let d=0;d<ai.length;d++){const m="rotate"+ai[d];p[m]&&(u[m]=p[m],i.setStaticValue(m,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var c,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mh;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Na(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Na(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!st(this.latestValues)&&(f.transform=d?d({},""):"none",this.hasProjected=!1),f}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=ti(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,m.animationValues?u.opacity=m===this?(p=(c=h.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const f in ja){if(h[f]===void 0)continue;const{correct:v,applyTo:w}=ja[f],b=u.transform==="none"?h[f]:v(h[f],m);if(w){const k=w.length;for(let N=0;N<k;N++)u[w[N]]=b}else u[f]=b}return this.options.layoutId&&(u.pointerEvents=m===this?Na(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var c;return(c=i.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(ni),this.root.sharedNodes.clear()}}}function gh(e){e.updateLayout()}function fh(e){var t;const a=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,i=a.source!==e.layout.source;o==="size"?ye(m=>{const h=i?a.measuredBox[m]:a.layoutBox[m],g=he(h);h.min=r[m].min,h.max=h.min+g}):El(o,a.layoutBox,r)&&ye(m=>{const h=i?a.measuredBox[m]:a.layoutBox[m],g=he(r[m]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+g)});const c=Ct();Ht(c,r,a.layoutBox);const p=Ct();i?Ht(p,e.applyTransform(s,!0),a.measuredBox):Ht(p,r,a.layoutBox);const u=!Al(c);let d=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:g}=m;if(h&&g){const y=ae();Wt(y,a.layoutBox,h.layoutBox);const f=ae();Wt(f,r,g.layoutBox),Pl(y,f)||(d=!0),m.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:a,delta:p,layoutDelta:c,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function xh(e){it.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yh(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bh(e){e.clearSnapshot()}function ni(e){e.clearMeasurements()}function vh(e){e.isLayoutDirty=!1}function wh(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function si(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kh(e){e.resolveTargetDelta()}function Nh(e){e.calcProjection()}function Sh(e){e.resetRotation()}function Ch(e){e.removeLeadSnapshot()}function ii(e,t,a){e.translate=X(t.translate,0,a),e.scale=X(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function oi(e,t,a,r){e.min=X(t.min,a.min,r),e.max=X(t.max,a.max,r)}function Th(e,t,a,r){oi(e.x,t.x,a.x,r),oi(e.y,t.y,a.y,r)}function Ah(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ph={duration:.45,ease:[.4,0,.1,1]},li=e=>typeof navigator!="undefined"&&navigator.userAgent.toLowerCase().includes(e),ci=li("applewebkit/")&&!li("chrome/")?Math.round:Z;function di(e){e.min=ci(e.min),e.max=ci(e.max)}function Rh(e){di(e.x),di(e.y)}function El(e,t,a){return e==="position"||e==="preserve-aspect"&&!tn(ei(t),ei(a),.2)}const Eh=Rl({attachResizeListener:(e,t)=>Fe(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fr={current:void 0},jl=Rl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fr.current){const e=new Eh({});e.mount(window),e.setOptions({layoutScroll:!0}),Fr.current=e}return Fr.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jh={pan:{Feature:Km},drag:{Feature:Wm,ProjectionNode:jl,MeasureLayout:Sl}},Dh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Lh(e){const t=Dh.exec(e);if(!t)return[,];const[,a,r]=t;return[a,r]}function sn(e,t,a=1){const[r,s]=Lh(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return ml(i)?parseFloat(i):i}else return Gr(s)?sn(s,t,a+1):s}function Oh(e,r,a){var t=ie(r,[]);const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:a};a&&(a=S({},a)),e.values.forEach(o=>{const i=o.get();if(!Gr(i))return;const c=sn(i,s);c&&o.set(c)});for(const o in t){const i=t[o];if(!Gr(i))continue;const c=sn(i,s);c&&(t[o]=c,a||(a={}),a[o]===void 0&&(a[o]=i))}return{target:t,transitionEnd:a}}const Mh=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Dl=e=>Mh.has(e),Fh=e=>Object.keys(e).some(Dl),ui=e=>e===ft||e===I,pi=(e,t)=>parseFloat(e.split(", ")[t]),mi=(e,t)=>(a,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return pi(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?pi(o[1],e):0}},Ih=new Set(["x","y","z"]),Vh=na.filter(e=>!Ih.has(e));function zh(e){const t=[];return Vh.forEach(a=>{const r=e.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Pt={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mi(4,13),y:mi(5,14)};Pt.translateX=Pt.x;Pt.translateY=Pt.y;const Bh=(e,t,a)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:i}=o,c={};i==="none"&&t.setStaticValue("display",e.display||"block"),a.forEach(u=>{c[u]=Pt[u](r,o)}),t.render();const p=t.measureViewportBox();return a.forEach(u=>{const d=t.getValue(u);d&&d.jump(c[u]),e[u]=Pt[u](p,o)}),e},_h=(e,t,a={},r={})=>{t=S({},t),r=S({},r);const s=Object.keys(t).filter(Dl);let o=[],i=!1;const c=[];if(s.forEach(p=>{const u=e.getValue(p);if(!e.hasValue(p))return;let d=a[p],m=zt(d);const h=t[p];let g;if(La(h)){const y=h.length,f=h[0]===null?1:0;d=h[f],m=zt(d);for(let v=f;v<y&&h[v]!==null;v++)g?zn(zt(h[v])===g):g=zt(h[v])}else g=zt(h);if(m!==g)if(ui(m)&&ui(g)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?t[p]=parseFloat(h):Array.isArray(h)&&g===I&&(t[p]=h.map(parseFloat))}else m!=null&&m.transform&&(g!=null&&g.transform)&&(d===0||h===0)?d===0?u.set(g.transform(d)):t[p]=m.transform(h):(i||(o=zh(e),i=!0),c.push(p),r[p]=r[p]!==void 0?r[p]:t[p],u.jump(h))}),c.length){const p=c.indexOf("height")>=0?window.pageYOffset:null,u=Bh(t,e,c);return o.length&&o.forEach(([d,m])=>{e.getValue(d).set(m)}),e.render(),Qa&&p!==null&&window.scrollTo({top:p}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function $h(e,t,a,r){return Fh(t)?_h(e,t,a,r):{target:t,transitionEnd:r}}const Uh=(e,t,a,r)=>{const s=Oh(e,t,r);return t=s.target,r=s.transitionEnd,$h(e,t,a,r)},on={current:null},Ll={current:!1};function qh(){if(Ll.current=!0,!!Qa)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>on.current=e.matches;e.addListener(t),t()}else on.current=!1}function Hh(e,t,a){const{willChange:r}=t;for(const s in t){const o=t[s],i=a[s];if(pe(o))e.addValue(s,o),Ia(r)&&r.add(s);else if(pe(i))e.addValue(s,At(o,{owner:e})),Ia(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const c=e.getValue(s);!c.hasAnimated&&c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,At(c!==void 0?c:o,{owner:e}))}}for(const s in a)t[s]===void 0&&e.removeValue(s);return t}const hi=new WeakMap,Ol=Object.keys(Jt),Wh=Ol.length,gi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Kh=En.length;class Gh{constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>W.render(this.render,!1,!0);const{latestValues:c,renderState:p}=o;this.latestValues=c,this.baseTarget=S({},c),this.initialValues=a.initial?S({},c):{},this.renderState=p,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=er(a),this.isVariantNode=yo(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const m=this.scrapeMotionValuesFromProps(a,{}),{willChange:u}=m,d=ie(m,["willChange"]);for(const h in d){const g=d[h];c[h]!==void 0&&pe(g)&&(g.set(c[h],!1),Ia(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,a){return{}}mount(t){this.current=t,hi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),Ll.current||qh(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:on.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hi.delete(this.current),this.projection&&this.projection.unmount(),Be(this.notifyUpdate),Be(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,a){const r=gt.has(t),s=a.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&W.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=a.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures(i,r,s,o){var c=i,{children:t}=c,a=ie(c,["children"]);let p,u;for(let d=0;d<Wh;d++){const m=Ol[d],{isEnabled:h,Feature:g,ProjectionNode:y,MeasureLayout:f}=Jt[m];y&&(p=y),h(a)&&(!this.features[m]&&g&&(this.features[m]=new g(this)),f&&(u=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&p){this.projection=new p(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:m,drag:h,dragConstraints:g,layoutScroll:y,layoutRoot:f}=a;this.projection.setOptions({layoutId:d,layout:m,alwaysMeasureLayout:!!h||g&&Nt(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:o,layoutScroll:y,layoutRoot:f})}return u}updateFeatures(){for(const t in this.features){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ae()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}makeTargetAnimatable(t,a=!0){return this.makeTargetAnimatableFromInstance(t,this.props,a)}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<gi.length;r++){const s=gi[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Hh(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const a={};for(let r=0;r<Kh;r++){const s=En[r],o=this.props[s];(Gt(o)||o===!1)&&(a[s]=o)}return a}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){a!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,a)),this.values.set(t,a),this.latestValues[t]=a.get()}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=At(a,{owner:this}),this.addValue(t,r)),r}readValue(t){var a;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(a=this.getBaseTargetFromProps(this.props,t))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var a;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(a=Vn(this.props,r))===null||a===void 0?void 0:a[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!pe(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new Gn),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}}class Ml extends Gh{sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}makeTargetAnimatableFromInstance(i,{transformValues:s},o){var c=i,{transition:t,transitionEnd:a}=c,r=ie(c,["transition","transitionEnd"]);let p=um(r,t||{},this);if(s&&(a&&(a=s(a)),r&&(r=s(r)),p&&(p=s(p))),o){cm(this,r,p);const u=Uh(this,r,p,a);a=u.transitionEnd,r=u.target}return S({transition:t,transitionEnd:a},r)}}function Jh(e){return window.getComputedStyle(e)}class Xh extends Ml{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,a){if(gt.has(a)){const r=Un(a);return r&&r.default||0}else{const r=Jh(t),s=(ko(a)?r.getPropertyValue(a):r[a])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:a}){return kl(t,a)}build(t,a,r,s){Ln(t,a,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,a){return In(t,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pe(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}renderInstance(t,a,r,s){Po(t,a,r,s)}}class Yh extends Ml{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(gt.has(a)){const r=Un(a);return r&&r.default||0}return a=Ro.has(a)?a:Pn(a),t.getAttribute(a)}measureInstanceViewportBox(){return ae()}scrapeMotionValuesFromProps(t,a){return jo(t,a)}build(t,a,r,s){Mn(t,a,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,a,r,s){Eo(t,a,r,s)}mount(t){this.isSVGTag=Fn(t.tagName),super.mount(t)}}const Qh=(e,t)=>Dn(e)?new Yh(t,{enableHardwareAcceleration:!1}):new Xh(t,{enableHardwareAcceleration:!0}),Zh={layout:{ProjectionNode:jl,MeasureLayout:Sl}},e0=S(S(S(S({},Tm),Wu),jh),Zh),K=tu((e,t)=>Lu(e,t,e0,Qh));function Fl(){const e=x.useRef(!1);return An(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function t0(){const e=Fl(),[t,a]=x.useState(0),r=x.useCallback(()=>{e.current&&a(t+1)},[t]);return[x.useCallback(()=>W.postRender(r),[r]),t]}class a0 extends x.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=a.offsetHeight||0,r.width=a.offsetWidth||0,r.top=a.offsetTop,r.left=a.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function r0({children:e,isPresent:t}){const a=x.useId(),r=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:o,height:i,top:c,left:p}=s.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=a;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${c}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),x.createElement(a0,{isPresent:t,childRef:r,sizeRef:s},x.cloneElement(e,{ref:r}))}const Ir=({children:e,initial:t,isPresent:a,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const c=Do(n0),p=x.useId(),u=x.useMemo(()=>({id:p,initial:t,isPresent:a,custom:s,onExitComplete:d=>{c.set(d,!0);for(const m of c.values())if(!m)return;r&&r()},register:d=>(c.set(d,!1),()=>c.delete(d))}),o?void 0:[a]);return x.useMemo(()=>{c.forEach((d,m)=>c.set(m,!1))},[a]),x.useEffect(()=>{!a&&!c.size&&r&&r()},[a]),i==="popLayout"&&(e=x.createElement(r0,{isPresent:a},e)),x.createElement(Ya.Provider,{value:u},e)};function n0(){return new Map}function s0(e){return x.useEffect(()=>()=>e(),[])}const ot=e=>e.key||"";function i0(e,t){e.forEach(a=>{const r=ot(a);t.set(r,a)})}function o0(e){const t=[];return x.Children.forEach(e,a=>{x.isValidElement(a)&&t.push(a)}),t}const Je=({children:e,custom:t,initial:a=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const c=x.useContext(jn).forceRender||t0()[0],p=Fl(),u=o0(e);let d=u;const m=x.useRef(new Map).current,h=x.useRef(d),g=x.useRef(new Map).current,y=x.useRef(!0);if(An(()=>{y.current=!1,i0(u,g),h.current=d}),s0(()=>{y.current=!0,g.clear(),m.clear()}),y.current)return x.createElement(x.Fragment,null,d.map(b=>x.createElement(Ir,{key:ot(b),isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:o,mode:i},b)));d=[...d];const f=h.current.map(ot),v=u.map(ot),w=f.length;for(let b=0;b<w;b++){const k=f[b];v.indexOf(k)===-1&&!m.has(k)&&m.set(k,void 0)}return i==="wait"&&m.size&&(d=[]),m.forEach((b,k)=>{if(v.indexOf(k)!==-1)return;const N=g.get(k);if(!N)return;const A=f.indexOf(k);let R=b;if(!R){const L=()=>{m.delete(k);const O=Array.from(g.keys()).filter(C=>!v.includes(C));if(O.forEach(C=>g.delete(C)),h.current=u.filter(C=>{const j=ot(C);return j===k||O.includes(j)}),!m.size){if(p.current===!1)return;c(),r&&r()}};R=x.createElement(Ir,{key:ot(N),isPresent:!1,onExitComplete:L,custom:t,presenceAffectsLayout:o,mode:i},N),m.set(k,R)}d.splice(A,0,R)}),d=d.map(b=>{const k=b.key;return m.has(k)?b:x.createElement(Ir,{key:ot(b),isPresent:!0,presenceAffectsLayout:o,mode:i},b)}),x.createElement(x.Fragment,null,m.size?d:d.map(b=>x.cloneElement(b)))};var l0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_=(e,t)=>{const a=x.forwardRef((d,u)=>{var m=d,{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:c}=m,p=ie(m,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return x.createElement("svg",S(E(S({ref:u},l0),{width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${c0(e)}`}),p),[...t.map(([h,g])=>x.createElement(h,g)),...(Array.isArray(c)?c:[c])||[]])});return a.displayName=`${e}`,a},Kt=_("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),d0=_("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ln=_("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Me=_("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),fi=_("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),je=_("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Il=_("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Jn=_("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),u0=_("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),p0=_("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),m0=_("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Vl=_("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Vr=_("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),Yt=_("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Rt=_("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),h0=_("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),za=_("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qt=_("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),zl=_("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ut=_("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),g0=_("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),cn=_("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),xi=_("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),f0=_("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),x0=_("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),y0=_("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),de=_("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),pt=_("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Xe=_("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yi=_("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),b0=_("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Bl=_("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),dn=_("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ca=_("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),v0=_("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),_l=_("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),w0=_("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mt=_("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),k0=({open:e,onClose:t})=>{const a=Wi(),[r,s]=x.useState({}),[o,i]=x.useState(""),c=g=>{s(y=>E(S({},y),{[g]:!y[g]}))},u=[{id:"dashboard",title:"داشبورد اصلی",path:"/dashboard",icon:g0,description:"نمای کلی سیستم و آمار",color:"text-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20",submenu:[{title:"آمار کلی",path:"/dashboard",icon:Me,description:"آمار و گزارش‌های کلی"},{title:"فعالیت‌های اخیر",path:"/dashboard?view=activity",icon:Kt,description:"آخرین فعالیت‌ها"},{title:"نظارت سیستم",path:"/dashboard?view=monitoring",icon:za,description:"نظارت بر عملکرد سیستم"}]},{id:"documents",title:"مدیریت اسناد",path:"/process",icon:Qt,description:"پردازش و تحلیل اسناد حقوقی",color:"text-green-500",bgColor:"bg-green-50 dark:bg-green-900/20",submenu:[{title:"پردازش دستی",path:"/process?tab=manual",icon:Ca,description:"آپلود و پردازش تک فایل"},{title:"پردازش دسته‌ای",path:"/process?tab=batch",icon:cn,description:"پردازش چندین فایل همزمان"},{title:"تاریخچه پردازش",path:"/process?tab=history",icon:Vl,description:"مشاهده تاریخچه پردازش‌ها"},{title:"نتایج تحلیل",path:"/process?tab=results",icon:dn,description:"نتایج و گزارش‌های تحلیل"}]},{id:"search",title:"جستجو و بازیابی",path:"/search",icon:pt,description:"جستجو در پایگاه داده اسناد",color:"text-purple-500",bgColor:"bg-purple-50 dark:bg-purple-900/20",submenu:[{title:"جستجوی ساده",path:"/search",icon:pt,description:"جستجو با کلمات کلیدی"},{title:"جستجوی پیشرفته",path:"/search?mode=advanced",icon:zl,description:"جستجو با فیلترهای پیشرفته"},{title:"جستجوی معنایی",path:"/search?mode=semantic",icon:Vr,description:"جستجو با هوش مصنوعی"},{title:"تاریخچه جستجو",path:"/search?tab=history",icon:Il,description:"مشاهده جستجوهای قبلی"}]},{id:"scraping",title:"استخراج اطلاعات",path:"/scraping",icon:ut,description:"استخراج اطلاعات از منابع آنلاین",color:"text-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20",submenu:[{title:"استخراج خودکار",path:"/scraping",icon:de,description:"استخراج خودکار از منابع"},{title:"منابع قانونی",path:"/scraping?sources=legal",icon:fi,description:"استخراج از سایت‌های حقوقی"},{title:"پیکربندی منابع",path:"/scraping?tab=sources",icon:Xe,description:"تنظیم منابع استخراج"},{title:"گزارش‌های استخراج",path:"/scraping?tab=reports",icon:Me,description:"آمار و گزارش استخراج"}]},{id:"ai-analysis",title:"تحلیل هوش مصنوعی",path:"/ai-analysis",icon:Vr,description:"تحلیل هوشمند اسناد با BERT فارسی",color:"text-pink-500",bgColor:"bg-pink-50 dark:bg-pink-900/20",submenu:[{title:"تحلیل تک متن",path:"/ai-analysis",icon:mt,description:"تحلیل یک متن با هوش مصنوعی"},{title:"تحلیل دسته‌ای",path:"/ai-analysis?mode=batch",icon:cn,description:"تحلیل چندین متن همزمان"},{title:"تست واقعی AI",path:"/ai-test",icon:Vr,description:"تست عملکرد واقعی سیستم هوش مصنوعی"},{title:"نتایج تحلیل",path:"/ai-analysis?tab=results",icon:dn,description:"مشاهده نتایج تحلیل‌ها"},{title:"آمار و گزارش",path:"/ai-analysis?tab=statistics",icon:Me,description:"آمار عملکرد تحلیلگر"}]},{id:"proxy",title:"مدیریت پروکسی",path:"/proxy",icon:yi,description:"مدیریت سرورهای پروکسی",color:"text-indigo-500",bgColor:"bg-indigo-50 dark:bg-indigo-900/20",submenu:[{title:"لیست پروکسی‌ها",path:"/proxy",icon:f0,description:"مشاهده و مدیریت پروکسی‌ها"},{title:"تست سلامت",path:"/proxy?tab=health",icon:Kt,description:"بررسی وضعیت پروکسی‌ها"},{title:"آمار شبکه",path:"/proxy?tab=stats",icon:Me,description:"آمار ترافیک و عملکرد"},{title:"افزودن پروکسی",path:"/proxy?tab=add",icon:Ca,description:"افزودن پروکسی جدید"}]},{id:"database",title:"پایگاه داده",path:"/database",icon:Yt,description:"مدیریت پایگاه داده اسناد",color:"text-cyan-500",bgColor:"bg-cyan-50 dark:bg-cyan-900/20",submenu:[{title:"مرور اسناد",path:"/database",icon:ln,description:"مشاهده تمام اسناد ذخیره شده"},{title:"آمار پایگاه داده",path:"/database?tab=stats",icon:Me,description:"آمار و اطلاعات پایگاه داده"},{title:"پشتیبان‌گیری",path:"/database?tab=backup",icon:Rt,description:"تهیه پشتیبان از داده‌ها"},{title:"بازیابی داده",path:"/database?tab=restore",icon:Ca,description:"بازیابی از پشتیبان"}]},{id:"settings",title:"تنظیمات",path:"/settings",icon:Xe,description:"تنظیمات سیستم و کاربری",color:"text-gray-500",bgColor:"bg-gray-50 dark:bg-gray-800/20",submenu:[{title:"تنظیمات عمومی",path:"/settings",icon:Xe,description:"تنظیمات کلی سیستم"},{title:"تنظیمات API",path:"/settings?tab=api",icon:mt,description:"پیکربندی API و سرویس‌ها"},{title:"تنظیمات پروکسی",path:"/settings?tab=proxy",icon:yi,description:"پیکربندی پروکسی"},{title:"واردات/صادرات",path:"/settings?tab=import-export",icon:de,description:"مدیریت تنظیمات"}]}].filter(g=>{var y;return o===""||g.title.toLowerCase().includes(o.toLowerCase())||g.description.toLowerCase().includes(o.toLowerCase())||((y=g.submenu)==null?void 0:y.some(f=>f.title.toLowerCase().includes(o.toLowerCase())))}),d=g=>g==="/dashboard"?a.pathname==="/"||a.pathname==="/dashboard":a.pathname.startsWith(g),m={open:{x:0,transition:{type:"spring",stiffness:300,damping:30}},closed:{x:"100%",transition:{type:"spring",stiffness:300,damping:30}}},h={open:{opacity:1,x:0,transition:{duration:.2}},closed:{opacity:0,x:20,transition:{duration:.2}}};return l(Y,{children:[n(Je,{children:e&&n(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t})}),n(K.div,{initial:"closed",animate:e?"open":"closed",variants:m,className:"fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-900 shadow-2xl z-50 lg:relative lg:translate-x-0 lg:shadow-lg",children:l("div",{className:"flex flex-col h-full",children:[l("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[l("div",{className:"flex items-center gap-3",children:[n("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:n(fi,{className:"w-6 h-6 text-white"})}),l("div",{children:[n("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"آرشیو حقوقی"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نسخه ۲.۰.۰"})]})]}),n("button",{onClick:t,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:n(w0,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),n("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:l("div",{className:"relative",children:[n(pt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n("input",{type:"text",placeholder:"جستجو در منو...",value:o,onChange:g=>i(g.target.value),className:"w-full pr-10 pl-4 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),n("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:n(Je,{children:u.map((g,y)=>{const f=g.icon,v=d(g.path),w=r[g.id];return n(K.div,{initial:"closed",animate:"open",exit:"closed",variants:h,transition:{delay:y*.05},className:"space-y-1",children:l("div",{className:"group",children:[l(ls,{to:g.path,onClick:()=>{g.submenu?c(g.id):t()},className:`
                          flex items-center gap-3 p-3 rounded-lg transition-all duration-200 group
                          ${v?`${g.bgColor} ${g.color} shadow-sm`:"hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                        `,children:[n("div",{className:`
                          flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-200
                          ${v?`${g.color} bg-white dark:bg-gray-800 shadow-sm`:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"}
                        `,children:n(f,{className:"w-4 h-4"})}),l("div",{className:"flex-1 min-w-0",children:[n("div",{className:"font-medium text-sm truncate",children:g.title}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:g.description})]}),g.submenu&&n("div",{className:`
                            flex-shrink-0 transition-transform duration-200
                            ${w?"rotate-90":""}
                          `,children:n(p0,{className:"w-4 h-4 text-gray-400"})})]}),n(Je,{children:g.submenu&&w&&n(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-1 mr-8 space-y-1 overflow-hidden",children:g.submenu.map((b,k)=>{const N=b.icon,A=a.pathname===b.path||a.pathname+a.search===b.path;return n(K.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:k*.05},children:l(ls,{to:b.path,onClick:t,className:`
                                      flex items-center gap-3 p-2 rounded-lg transition-all duration-200 group
                                      ${A?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}
                                    `,children:[n("div",{className:`
                                      flex-shrink-0 w-6 h-6 rounded-md flex items-center justify-center text-xs
                                      ${A?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300":"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"}
                                    `,children:n(N,{className:"w-3 h-3"})}),l("div",{className:"flex-1 min-w-0",children:[n("div",{className:"text-sm font-medium truncate",children:b.title}),b.description&&n("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:b.description})]})]})},b.path)})})})]})},g.id)})})}),n("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:l("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg",children:[n("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:n(v0,{className:"w-4 h-4 text-white"})}),l("div",{className:"flex-1 min-w-0",children:[n("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"کاربر سیستم"}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"دسترسی کامل"})]}),n("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]})})]})})]})},N0=({title:e,value:t,change:a,changeType:r="neutral",icon:s,description:o,loading:i=!1})=>{const c=()=>{switch(r){case"positive":return"text-green-600 dark:text-green-400";case"negative":return"text-red-600 dark:text-red-400";case"warning":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-600 dark:text-gray-400"}},p=()=>{switch(r){case"positive":return"↗️";case"negative":return"↘️";case"warning":return"⚠️";default:return"→"}};return i?l("div",{className:"card p-6 animate-pulse",children:[l("div",{className:"flex items-center justify-between mb-4",children:[n("div",{className:"skeleton w-20 h-4"}),n("div",{className:"skeleton w-8 h-8 rounded-full"})]}),n("div",{className:"skeleton w-16 h-8 mb-2"}),n("div",{className:"skeleton w-24 h-3"})]}):l("div",{className:"card p-6 hover:shadow-lg transition-all duration-200",children:[l("div",{className:"flex items-center justify-between mb-4",children:[n("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),n("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:s})})]}),n("div",{className:"flex items-end justify-between",children:l("div",{children:[n("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:typeof t=="number"?t.toLocaleString("fa-IR"):t}),a&&l("div",{className:`flex items-center text-sm ${c()}`,children:[n("span",{className:"ml-1",children:p()}),n("span",{children:a})]})]})}),o&&n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 leading-relaxed",children:o})]})};Ki.register(Gi,Ji,Xi,Yi,_c,Qi,Zi,eo,$c);const S0=({type:e="line",data:t,options:a={},height:r=300,loading:s=!1})=>{const{isDark:o}=Tn(),i=x.useRef(),c=S({responsive:!0,maintainAspectRatio:!1,locale:"fa-IR",plugins:{legend:{position:"top",align:"end",rtl:!0,labels:{usePointStyle:!0,padding:20,font:{family:"Vazirmatn, sans-serif",size:12},color:o?"#f3f4f6":"#374151"}},tooltip:{rtl:!0,titleAlign:"right",bodyAlign:"right",backgroundColor:o?"#1f2937":"#ffffff",titleColor:o?"#f3f4f6":"#111827",bodyColor:o?"#d1d5db":"#374151",borderColor:o?"#374151":"#e5e7eb",borderWidth:1,titleFont:{family:"Vazirmatn, sans-serif",size:14,weight:"bold"},bodyFont:{family:"Vazirmatn, sans-serif",size:12},callbacks:{label:function(u){let d=u.dataset.label||"";return d&&(d+=": "),d+=u.parsed.y.toLocaleString("fa-IR"),d}}}},scales:e!=="doughnut"?{x:{grid:{color:o?"#374151":"#f3f4f6",drawBorder:!1},ticks:{color:o?"#9ca3af":"#6b7280",font:{family:"Vazirmatn, sans-serif",size:11}}},y:{grid:{color:o?"#374151":"#f3f4f6",drawBorder:!1},ticks:{color:o?"#9ca3af":"#6b7280",font:{family:"Vazirmatn, sans-serif",size:11},callback:function(u){return u.toLocaleString("fa-IR")}}}}:void 0},a),p=()=>{const u={ref:i,data:t,options:c,height:r};switch(e){case"bar":return n(qc,S({},u));case"doughnut":return n(Uc,S({},u));case"line":default:return n(to,S({},u))}};return s?n("div",{className:"flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-lg animate-pulse",style:{height:r},children:l("div",{className:"text-center",children:[n("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full mb-4 animate-spin",children:n("div",{className:"w-3 h-3 bg-blue-600 rounded-full mt-1 mr-1"})}),n("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"در حال بارگذاری نمودار..."})]})}):!t||!t.datasets||t.datasets.length===0?n("div",{className:"flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",style:{height:r},children:l("div",{className:"text-center",children:[n("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4",children:n("span",{className:"text-2xl",children:"📊"})}),n("p",{className:"text-gray-500 dark:text-gray-400",children:"داده‌ای برای نمایش وجود ندارد"})]})}):n("div",{style:{height:r},className:"relative",children:p()})},De=({size:e="md",color:t="blue",text:a="",className:r="",inline:s=!1})=>{const o={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},i={blue:"border-blue-600",green:"border-green-600",red:"border-red-600",yellow:"border-yellow-600",purple:"border-purple-600",gray:"border-gray-600"},c={xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-base",xl:"text-lg"};return l("div",{className:`${s?"inline-flex":"flex"} items-center justify-center space-x-2 space-x-reverse ${r}`,children:[n("div",{className:`
          ${o[e]} 
          border-2 
          ${i[t]} 
          border-t-transparent 
          rounded-full 
          animate-spin
        `,role:"status","aria-label":"در حال بارگذاری"}),a&&n("span",{className:`text-gray-600 dark:text-gray-400 ${c[e]} font-medium`,children:a}),n("span",{className:"sr-only",children:"در حال بارگذاری..."})]})},C0=({logs:e=[],loading:t=!1})=>{const a=i=>{switch(i==null?void 0:i.toLowerCase()){case"error":return"🔴";case"warning":return"🟡";case"info":return"🔵";case"success":return"🟢";default:return"⚪"}},r=i=>{switch(i==null?void 0:i.toLowerCase()){case"error":return"text-red-600 dark:text-red-400";case"warning":return"text-yellow-600 dark:text-yellow-400";case"info":return"text-blue-600 dark:text-blue-400";case"success":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},s=i=>{if(!i)return"";try{return new Date(i).toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})}catch(c){return""}},o=i=>{if(!i)return"";try{const c=new Date(i),u=Math.floor((new Date-c)/(1e3*60));if(u<1)return"اکنون";if(u<60)return`${u} دقیقه قبل`;const d=Math.floor(u/60);return d<24?`${d} ساعت قبل`:`${Math.floor(d/24)} روز قبل`}catch(c){return""}};return l("div",{className:"card p-6",children:[l("div",{className:"flex items-center justify-between mb-4",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"فعالیت‌های اخیر"}),t&&n(De,{size:"sm"})]}),t?n("div",{className:"space-y-3",children:[...Array(5)].map((i,c)=>l("div",{className:"flex items-start space-x-3 space-x-reverse animate-pulse",children:[n("div",{className:"skeleton w-6 h-6 rounded-full mt-1"}),l("div",{className:"flex-1 space-y-2",children:[n("div",{className:"skeleton w-3/4 h-4"}),n("div",{className:"skeleton w-1/2 h-3"})]})]},c))}):e.length>0?n("div",{className:"space-y-4 max-h-80 overflow-y-auto custom-scrollbar",children:e.map((i,c)=>l("div",{className:"flex items-start space-x-3 space-x-reverse",children:[n("div",{className:"flex-shrink-0 mt-1",children:n("span",{className:"text-lg",children:a(i.level)})}),l("div",{className:"flex-1 min-w-0",children:[l("div",{className:"flex items-center justify-between",children:[n("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:i.component||"سیستم"}),l("div",{className:"flex items-center space-x-2 space-x-reverse text-xs text-gray-500 dark:text-gray-400",children:[n("span",{children:s(i.timestamp)}),n("span",{children:"•"}),n("span",{children:o(i.timestamp)})]})]}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 line-clamp-2",children:i.message}),i.level&&n("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${r(i.level)} bg-opacity-10`,children:i.level.toUpperCase()})]})]},c))}):l("div",{className:"text-center py-8",children:[n("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-3",children:n("span",{className:"text-2xl",children:"📝"})}),n("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"فعالیت اخیری وجود ندارد"}),n("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:"فعالیت‌های سیستم اینجا نمایش داده می‌شوند"})]}),e.length>0&&n("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:n("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"مشاهده همه فعالیت‌ها ←"})})]})},T0=({status:e,networkStatus:t})=>{const r=(()=>{if(!e)return{status:"unknown",color:"gray",text:"نامشخص"};const p=[e.cpu_usage<80,e.memory_usage<85,e.disk_usage<90,(t==null?void 0:t.active_proxies)>0],d=p.filter(Boolean).length/p.length*100;return d>=75?{status:"healthy",color:"green",text:"سالم"}:d>=50?{status:"warning",color:"yellow",text:"هشدار"}:{status:"critical",color:"red",text:"بحرانی"}})(),s=[{label:"استفاده از CPU",value:(e==null?void 0:e.cpu_usage)||0,unit:"%",threshold:80,icon:"🖥️"},{label:"استفاده از حافظه",value:(e==null?void 0:e.memory_usage)||0,unit:"%",threshold:85,icon:"💾"},{label:"استفاده از دیسک",value:(e==null?void 0:e.disk_usage)||0,unit:"%",threshold:90,icon:"💿"},{label:"پروکسی فعال",value:(t==null?void 0:t.active_proxies)||0,unit:"",threshold:1,icon:"🌐",isCount:!0}],o=(p,u,d=!1)=>d?p>=u?"good":"bad":p<u?"good":"bad",i=p=>p==="good"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",c=p=>p==="good"?"bg-green-500":"bg-red-500";return l("div",{className:"card p-6",children:[l("div",{className:"flex items-center justify-between mb-4",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"سلامت سیستم"}),l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("div",{className:`w-3 h-3 rounded-full bg-${r.color}-500`}),n("span",{className:`text-sm font-medium text-${r.color}-600 dark:text-${r.color}-400`,children:r.text})]})]}),n("div",{className:"space-y-4",children:s.map((p,u)=>{const d=o(p.value,p.threshold,p.isCount),m=p.isCount?Math.min(p.value/10*100,100):Math.min(p.value,100);return l("div",{className:"space-y-2",children:[l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-lg",children:p.icon}),n("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.label})]}),l("span",{className:`text-sm font-medium ${i(d)}`,children:[p.isCount?p.value:p.value.toFixed(1),p.unit]})]}),!p.isCount&&n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:`h-2 rounded-full transition-all duration-300 ${c(d)}`,style:{width:`${m}%`}})}),p.isCount&&l("div",{className:"flex items-center space-x-1 space-x-reverse",children:[[...Array(Math.min(p.value,5))].map((h,g)=>n("div",{className:"w-2 h-2 bg-green-500 rounded-full"},g)),[...Array(Math.max(5-p.value,0))].map((h,g)=>n("div",{className:"w-2 h-2 bg-gray-300 dark:bg-gray-600 rounded-full"},g)),p.value>5&&l("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:["+",p.value-5]})]})]},u)})}),e&&n("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:l("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"زمان فعالیت:"}),l("p",{className:"font-medium text-gray-900 dark:text-white mt-1",children:[e.uptime?Math.floor(e.uptime/3600):0," ساعت"]})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"آخرین بروزرسانی:"}),n("p",{className:"font-medium text-gray-900 dark:text-white mt-1",children:new Date().toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})})]})]})}),r.status!=="healthy"&&n("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:l("div",{className:"flex items-start space-x-2 space-x-reverse",children:[n("span",{className:"text-yellow-600 dark:text-yellow-400 mt-0.5",children:"⚠️"}),l("div",{children:[n("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"توصیه‌های بهبود سلامت سیستم:"}),l("ul",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1 space-y-1",children:[(e==null?void 0:e.cpu_usage)>=80&&n("li",{children:"• استفاده از CPU بالا است - فرآیندهای غیرضروری را متوقف کنید"}),(e==null?void 0:e.memory_usage)>=85&&n("li",{children:"• حافظه تقریباً پر است - برنامه‌های اضافی را ببندید"}),(e==null?void 0:e.disk_usage)>=90&&n("li",{children:"• فضای دیسک کم است - فایل‌های غیرضروری را پاک کنید"}),(!(t!=null&&t.active_proxies)||t.active_proxies===0)&&n("li",{children:"• هیچ پروکسی فعالی وجود ندارد - پروکسی‌ها را بررسی کنید"})]})]})]})})]})},Ba=({title:e="خطایی رخ داده است",message:t="",onRetry:a=null,onDismiss:r=null,type:s="error",className:o=""})=>{const c=(()=>{switch(s){case"warning":return{container:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",icon:"⚠️",iconColor:"text-yellow-600 dark:text-yellow-400",titleColor:"text-yellow-800 dark:text-yellow-200",messageColor:"text-yellow-700 dark:text-yellow-300",buttonColor:"bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-800 dark:hover:bg-yellow-700 text-yellow-800 dark:text-yellow-200"};case"info":return{container:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",icon:"ℹ️",iconColor:"text-blue-600 dark:text-blue-400",titleColor:"text-blue-800 dark:text-blue-200",messageColor:"text-blue-700 dark:text-blue-300",buttonColor:"bg-blue-100 hover:bg-blue-200 dark:bg-blue-800 dark:hover:bg-blue-700 text-blue-800 dark:text-blue-200"};case"success":return{container:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",icon:"✅",iconColor:"text-green-600 dark:text-green-400",titleColor:"text-green-800 dark:text-green-200",messageColor:"text-green-700 dark:text-green-300",buttonColor:"bg-green-100 hover:bg-green-200 dark:bg-green-800 dark:hover:bg-green-700 text-green-800 dark:text-green-200"};case"error":default:return{container:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",icon:"❌",iconColor:"text-red-600 dark:text-red-400",titleColor:"text-red-800 dark:text-red-200",messageColor:"text-red-700 dark:text-red-300",buttonColor:"bg-red-100 hover:bg-red-200 dark:bg-red-800 dark:hover:bg-red-700 text-red-800 dark:text-red-200"}}})();return n("div",{className:`border rounded-lg p-4 ${c.container} ${o}`,children:l("div",{className:"flex items-start space-x-3 space-x-reverse",children:[n("div",{className:`flex-shrink-0 ${c.iconColor}`,children:n("span",{className:"text-xl",children:c.icon})}),l("div",{className:"flex-1 min-w-0",children:[n("h3",{className:`text-sm font-medium ${c.titleColor}`,children:e}),t&&n("div",{className:`mt-2 text-sm ${c.messageColor}`,children:typeof t=="string"?n("p",{className:"leading-relaxed",children:t}):t}),(a||r)&&l("div",{className:"mt-4 flex items-center space-x-3 space-x-reverse",children:[a&&l("button",{onClick:a,className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent ${c.buttonColor}`,children:[n("svg",{className:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"تلاش مجدد"]}),r&&n("button",{onClick:r,className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"بستن"})]})]}),r&&n("div",{className:"flex-shrink-0",children:l("button",{onClick:r,className:"inline-flex text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 transition-colors",children:[n("span",{className:"sr-only",children:"بستن"}),n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})})]})})},A0=()=>{var u,d,m,h;const[e,t]=x.useState(null),[a,r]=x.useState(!0),[s,o]=x.useState(!1);x.useEffect(()=>{const g=()=>{if(window.autoStartupService){o(!0);const f=window.autoStartupService.getSystemStatus();t(f),console.log("📊 AutoStartup Status loaded:",f)}else window.iranianLegalArchive&&t({initialized:window.iranianLegalArchive.servicesReady||!1,services:Object.keys(window.iranianLegalArchive.features||{}),sessionId:window.iranianLegalArchive.sessionId,environment:window.iranianLegalArchive.isGitHubPages?"GitHub Pages":"Local"})};g();const y=setInterval(g,5e3);return()=>clearInterval(y)},[]);const i=g=>{const f={proxyService:ut,scrapingService:de,database:Yt,backgroundTasks:Kt,smartProxy:mt,iranianDNS:ut,autoScraping:de,realTimeAnalysis:za}[g]||Xe;return n(f,{className:"w-4 h-4"})},c=g=>{var y,f;return e?e.services&&e.services.includes(g)?"active":(f=(y=window.iranianLegalArchive)==null?void 0:y.features)!=null&&f[g]?"enabled":"inactive":"unknown"},p=g=>{switch(g){case"active":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"enabled":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"inactive":return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400";default:return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400"}};return!a||!e?null:n(Je,{children:l(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[l("div",{className:"flex items-center justify-between mb-4",children:[l("div",{className:"flex items-center gap-3",children:[n("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg",children:n(Kt,{className:"w-5 h-5 text-white"})}),l("div",{children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"وضعیت سیستم خودکار"}),l("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.environment," • Session: ",(u=e.sessionId)==null?void 0:u.substring(0,8)]})]})]}),n("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"✕"})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n("div",{className:"text-center",children:l("div",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm ${e.initialized?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"}`,children:[e.initialized?n(Jn,{className:"w-4 h-4"}):n(de,{className:"w-4 h-4 animate-spin"}),e.initialized?"آماده":"در حال راه‌اندازی"]})}),l("div",{className:"text-center",children:[n("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.serviceCount||((d=e.services)==null?void 0:d.length)||0}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"سرویس فعال"})]}),l("div",{className:"text-center",children:[n("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:((m=e.proxyStats)==null?void 0:m.iranianDNSCount)||7}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"DNS ایرانی"})]}),l("div",{className:"text-center",children:[l("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[((h=e.proxyStats)==null?void 0:h.successRate)||"0","%"]}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"نرخ موفقیت"})]})]}),l("div",{className:"mb-6",children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"وضعیت سرویس‌ها:"}),n("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{key:"smartProxy",name:"پروکسی هوشمند"},{key:"iranianDNS",name:"DNS ایرانی"},{key:"autoScraping",name:"اسکرپینگ خودکار"},{key:"realTimeAnalysis",name:"تحلیل بلادرنگ"},{key:"backgroundSync",name:"همگام‌سازی پس‌زمینه"},{key:"database",name:"پایگاه داده"}].map(g=>{const y=c(g.key);return l("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${p(y)}`,children:[i(g.key),n("span",{className:"text-sm font-medium",children:g.name}),n("div",{className:`w-2 h-2 rounded-full ml-auto ${y==="active"?"bg-green-500":y==="enabled"?"bg-blue-500":"bg-gray-400"}`})]},g.key)})})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l("button",{onClick:()=>{var g;return(g=window.autoStartupService)==null?void 0:g.performHealthCheck()},className:"flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[n(Kt,{className:"w-4 h-4"}),n("span",{className:"text-sm",children:"بررسی سلامت"})]}),l("button",{onClick:()=>{var g;return(g=window.autoStartupService)==null?void 0:g.startBackgroundScraping()},className:"flex items-center gap-2 px-4 py-2 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[n(de,{className:"w-4 h-4"}),n("span",{className:"text-sm",children:"شروع اسکرپینگ"})]}),l("button",{onClick:()=>{var g;return(g=window.autoStartupService)==null?void 0:g.exportSystemState()},className:"flex items-center gap-2 px-4 py-2 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[n(Rt,{className:"w-4 h-4"}),n("span",{className:"text-sm",children:"دانلود وضعیت"})]}),l("button",{onClick:()=>{var y;const g=(y=window.autoStartupService)==null?void 0:y.getNavigationGuidance();alert(JSON.stringify(g,null,2))},className:"flex items-center gap-2 px-4 py-2 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[n(za,{className:"w-4 h-4"}),n("span",{className:"text-sm",children:"راهنمای ناوبری"})]})]}),e.logs&&e.logs.length>0&&l("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"آخرین فعالیت‌ها:"}),n("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:e.logs.slice(-5).map((g,y)=>l("div",{className:"flex items-start gap-2 text-xs",children:[n("span",{className:"text-gray-500 dark:text-gray-400 font-mono",children:new Date(g.timestamp).toLocaleTimeString("fa-IR")}),n("span",{className:"text-gray-700 dark:text-gray-300 flex-1",children:g.message})]},y))})]})]})})},P0=()=>{var A,R,L,O,C,j;const{getApiUrl:e,config:t}=et(),{showApiError:a}=ra(),r=Nn(),[s,o]=x.useState(3e4),{data:i,isLoading:c,error:p}=We({queryKey:["systemStatus"],queryFn:()=>F(B,null,function*(){const P=yield fetch(e("/status"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:s,refetchOnWindowFocus:!0}),{data:u,isLoading:d,error:m}=We({queryKey:["systemStats"],queryFn:()=>F(B,null,function*(){const P=yield fetch(e("/stats"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:s,refetchOnWindowFocus:!0}),{data:h,isLoading:g}=We({queryKey:["networkStatus"],queryFn:()=>F(B,null,function*(){const P=yield fetch(e("/network"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:s*2}),{data:y,isLoading:f}=We({queryKey:["recentLogs"],queryFn:()=>F(B,null,function*(){const P=yield fetch(e("/logs?limit=10"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:s});x.useEffect(()=>{p&&a(p,"خطا در دریافت وضعیت سیستم"),m&&a(m,"خطا در دریافت آمار سیستم")},[p,m,a]);const v=()=>{r.invalidateQueries()},w=()=>{o(P=>P===0?3e4:0)},b=c||d,k=[{title:"کل عملیات",value:((A=u==null?void 0:u.session)==null?void 0:A.total_operations)||0,change:"+12%",changeType:"positive",icon:"📊",description:"تعداد کل عملیات انجام شده"},{title:"عملیات موفق",value:((R=u==null?void 0:u.session)==null?void 0:R.successful_operations)||0,change:"+8%",changeType:"positive",icon:"✅",description:"عملیات با موفقیت انجام شده"},{title:"پروکسی فعال",value:(h==null?void 0:h.active_proxies)||0,change:h!=null&&h.total_proxies?`از ${h.total_proxies}`:"0",changeType:(h==null?void 0:h.active_proxies)>0?"positive":"negative",icon:"🌐",description:"تعداد پروکسی‌های فعال"},{title:"کارهای در صف",value:(i==null?void 0:i.current_batch)||0,change:i!=null&&i.is_processing?"در حال پردازش":"آماده",changeType:i!=null&&i.is_processing?"warning":"neutral",icon:"⏳",description:"وضعیت صف پردازش"}],N={labels:["۶ ساعت قبل","۵ ساعت قبل","۴ ساعت قبل","۳ ساعت قبل","۲ ساعت قبل","۱ ساعت قبل","اکنون"],datasets:[{label:"عملیات موفق",data:[12,19,15,25,22,30,28],borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4},{label:"عملیات ناموفق",data:[2,3,2,5,2,4,3],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]};return b?n("div",{className:"flex items-center justify-center h-64",children:n(De,{size:"lg"})}):l("div",{className:"space-y-6",children:[n(A0,{}),l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"داشبورد اصلی"}),n("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"نمای کلی از وضعیت سیستم آرشیو حقوقی"})]}),l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("button",{onClick:w,className:`px-4 py-2 rounded-lg font-medium transition-colors ${s>0?"bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300"}`,children:s>0?"🔄 بروزرسانی خودکار":"⏸️ بروزرسانی متوقف"}),n("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"🔄 بروزرسانی"})]})]}),n("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:k.map((P,M)=>n(N0,S({},P),M))}),l("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n("div",{className:"lg:col-span-2",children:l("div",{className:"card p-6",children:[l("div",{className:"flex items-center justify-between mb-4",children:[n("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"روند عملیات"}),l("div",{className:"flex space-x-2 space-x-reverse",children:[l("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[n("div",{className:"w-2 h-2 bg-green-500 rounded-full ml-1"}),"موفق"]}),l("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[n("div",{className:"w-2 h-2 bg-red-500 rounded-full ml-1"}),"ناموفق"]})]})]}),n(S0,{type:"line",data:N,height:300})]})}),l("div",{className:"space-y-6",children:[n(C0,{logs:(y==null?void 0:y.logs)||[],loading:f}),n(T0,{status:u==null?void 0:u.system_health,networkStatus:h})]})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"وضعیت پردازش"}),i!=null&&i.is_processing?l("div",{className:"space-y-3",children:[l("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پردازش فعال"}),l("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[n("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse ml-1"}),"در حال اجرا"]})]}),l("div",{className:"space-y-2",children:[l("div",{className:"flex justify-between text-sm",children:[n("span",{className:"text-gray-600 dark:text-gray-400",children:"پیشرفت"}),l("span",{className:"font-medium",children:[i.current_batch,"/",i.total_batches]})]}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i.current_batch/i.total_batches*100}%`}})})]}),i.current_url&&l("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"در حال پردازش:"}),n("p",{className:"text-sm font-mono text-gray-800 dark:text-gray-200 truncate",children:i.current_url})]})]}):l("div",{className:"text-center py-8",children:[n("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-3",children:n("span",{className:"text-2xl",children:"💤"})}),n("p",{className:"text-gray-600 dark:text-gray-400",children:"سیستم در حالت آماده باش"})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"آمار پایگاه داده"}),l("div",{className:"space-y-4",children:[l("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-gray-600 dark:text-gray-400",children:"کل اسناد"}),n("span",{className:"font-semibold text-lg",children:((L=u==null?void 0:u.documents)==null?void 0:L.total_documents)||0})]}),l("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-gray-600 dark:text-gray-400",children:"دسته‌بندی شده"}),n("span",{className:"font-semibold text-lg text-green-600",children:((O=u==null?void 0:u.documents)==null?void 0:O.classified_documents)||0})]}),l("div",{className:"flex items-center justify-between",children:[n("span",{className:"text-gray-600 dark:text-gray-400",children:"منابع فعال"}),n("span",{className:"font-semibold text-lg text-blue-600",children:((C=u==null?void 0:u.sources)==null?void 0:C.total)||0})]}),((j=u==null?void 0:u.sources)==null?void 0:j.categories)&&l("div",{className:"mt-4",children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"دسته‌بندی منابع:"}),l("div",{className:"flex flex-wrap gap-1",children:[u.sources.categories.slice(0,3).map((P,M)=>n("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs rounded",children:P},M)),u.sources.categories.length>3&&l("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs rounded",children:["+",u.sources.categories.length-3," بیشتر"]})]})]})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"عملیات سریع"}),l("div",{className:"space-y-3",children:[l("button",{className:"w-full flex items-center justify-center px-4 py-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",onClick:()=>window.location.href="/process",children:[n("span",{className:"ml-2",children:"📄"}),"پردازش سند جدید"]}),l("button",{className:"w-full flex items-center justify-center px-4 py-3 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",onClick:()=>window.location.href="/search",children:[n("span",{className:"ml-2",children:"🔍"}),"جستجو در پایگاه داده"]}),l("button",{className:"w-full flex items-center justify-center px-4 py-3 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",onClick:()=>window.location.href="/proxy",children:[n("span",{className:"ml-2",children:"🌐"}),"مدیریت پروکسی"]})]})]})]}),p&&n(Ba,{title:"خطا در دریافت وضعیت سیستم",message:p.message,onRetry:()=>r.invalidateQueries(["systemStatus"])}),m&&n(Ba,{title:"خطا در دریافت آمار سیستم",message:m.message,onRetry:()=>r.invalidateQueries(["systemStats"])})]})},R0=({tabs:e,activeTab:t,onTabChange:a})=>n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"-mb-px flex space-x-8 space-x-reverse overflow-x-auto",children:e.map(r=>l("button",{onClick:()=>a(r.id),className:`
              group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
              ${t===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"}
            `,children:[n("span",{className:"text-lg ml-2",children:r.icon}),n("span",{children:r.title}),r.description&&l("span",{className:"hidden lg:block text-xs text-gray-400 dark:text-gray-500 mr-2",children:["• ",r.description]})]},r.id))})}),E0=({onProcess:e,isProcessing:t=!1})=>{const{config:a}=et(),[r,s]=x.useState(""),[o,i]=x.useState(a.proxyEnabled),[c,p]=x.useState(a.maxRetries),u=h=>{if(h.preventDefault(),!r.trim())return;const g=r.trim();!g.startsWith("http://")&&!g.startsWith("https://")||(e([g],{useProxy:o,maxRetries:c}),s(""))},m=r&&!(h=>{try{return new URL(h),!0}catch(g){return!1}})(r)?"آدرس وارد شده معتبر نیست":"";return l("div",{className:"card p-6",children:[l("div",{className:"mb-6",children:[n("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"پردازش تک سند"}),n("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"آدرس سند حقوقی مورد نظر را وارد کنید تا پردازش و تحلیل شود."})]}),l("form",{onSubmit:u,className:"space-y-6",children:[l("div",{children:[l("label",{htmlFor:"url",className:"label",children:["آدرس سند (URL) ",n("span",{className:"text-red-500",children:"*"})]}),l("div",{className:"relative",children:[n("input",{id:"url",type:"url",value:r,onChange:h=>s(h.target.value),placeholder:"https://example.com/legal-document",className:`input pr-10 ${m?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,disabled:t,required:!0}),n("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})})]}),m&&n("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m})]}),l("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-4",children:[n("h3",{className:"font-medium text-gray-900 dark:text-white",children:"تنظیمات پردازش"}),l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"استفاده از پروکسی"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"برای دسترسی بهتر و سرعت بالاتر"})]}),l("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:o,onChange:h=>i(h.target.checked),className:"sr-only peer",disabled:t}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),l("div",{children:[n("label",{className:"label",children:"تعداد تلاش مجدد"}),l("select",{value:c,onChange:h=>p(parseInt(h.target.value)),className:"input",disabled:t,children:[n("option",{value:1,children:"۱ بار"}),n("option",{value:2,children:"۲ بار"}),n("option",{value:3,children:"۳ بار"}),n("option",{value:5,children:"۵ بار"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تعداد دفعات تلاش مجدد در صورت خطا"})]})]}),l("div",{className:"flex items-center justify-between",children:[n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"پردازش ممکن است چند دقیقه طول بکشد"}),n("button",{type:"submit",disabled:t||!r.trim()||m,className:"btn btn-primary px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 space-x-reverse",children:t?l(Y,{children:[l("svg",{className:"animate-spin -mr-1 ml-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("span",{children:"در حال پردازش..."})]}):l(Y,{children:[n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n("span",{children:"شروع پردازش"})]})})]})]}),l("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"آدرس‌های نمونه"}),n("div",{className:"flex flex-wrap gap-2",children:["https://dastour.ir/brows/?lid=15","https://rc.majlis.ir/fa/law","https://www.dastour.ir/brows/?lid=1"].map((h,g)=>l("button",{onClick:()=>s(h),disabled:t,className:"text-xs px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["نمونه ",g+1]},g))})]})]})},j0=({onProcess:e,isProcessing:t=!1})=>{const{config:a}=et(),[r,s]=x.useState(""),[o,i]=x.useState(a.proxyEnabled),[c,p]=x.useState(a.batchSize),[u,d]=x.useState(a.maxRetries),h=(k=>k.split(`
`).map(N=>N.trim()).filter(N=>N&&(N.startsWith("http://")||N.startsWith("https://"))))(r),g=h.length,y=r.split(`
`).filter(k=>{const N=k.trim();return N&&!N.startsWith("http://")&&!N.startsWith("https://")}),f=k=>{k.preventDefault(),g!==0&&e(h,{useProxy:o,batchSize:c,maxRetries:u})},v=()=>F(B,null,function*(){try{const k=yield navigator.clipboard.readText();s(N=>N?`${N}
${k}`:k)}catch(k){console.error("Failed to paste from clipboard:",k)}}),w=()=>{s("")},b=Math.ceil(g/c)*30;return l("div",{className:"card p-6",children:[l("div",{className:"mb-6",children:[n("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"پردازش دسته‌ای اسناد"}),n("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"آدرس‌های متعدد را به صورت همزمان پردازش کنید. هر آدرس در یک خط جداگانه قرار دهید."})]}),l("form",{onSubmit:f,className:"space-y-6",children:[l("div",{children:[l("div",{className:"flex items-center justify-between mb-2",children:[l("label",{htmlFor:"urls",className:"label",children:["لیست آدرس‌ها (هر خط یک آدرس) ",n("span",{className:"text-red-500",children:"*"})]}),l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("button",{type:"button",onClick:v,className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:t,children:"📋 چسباندن"}),n("button",{type:"button",onClick:w,className:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:t,children:"🗑️ پاک کردن"})]})]}),n("textarea",{id:"urls",value:r,onChange:k=>s(k.target.value),placeholder:`https://example.com/document1
https://example.com/document2
https://example.com/document3`,rows:10,className:"input resize-none font-mono text-sm",disabled:t,required:!0}),l("div",{className:"mt-2 flex items-center justify-between text-sm",children:[l("div",{className:"flex items-center space-x-4 space-x-reverse",children:[l("span",{className:"text-green-600 dark:text-green-400",children:["✅ معتبر: ",g]}),y.length>0&&l("span",{className:"text-red-600 dark:text-red-400",children:["❌ نامعتبر: ",y.length]})]}),l("div",{className:"text-gray-500 dark:text-gray-400",children:["خطوط: ",r.split(`
`).filter(k=>k.trim()).length]})]}),y.length>0&&l("div",{className:"mt-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[n("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium mb-1",children:"خطوط نامعتبر:"}),n("div",{className:"text-xs text-red-700 dark:text-red-300 max-h-20 overflow-y-auto",children:y.map((k,N)=>n("div",{className:"font-mono",children:k},N))})]})]}),l("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-4",children:[n("h3",{className:"font-medium text-gray-900 dark:text-white",children:"تنظیمات پردازش دسته‌ای"}),l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"استفاده از پروکسی"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"برای دسترسی بهتر و جلوگیری از محدودیت"})]}),l("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:o,onChange:k=>i(k.target.checked),className:"sr-only peer",disabled:t}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l("div",{children:[n("label",{className:"label",children:"اندازه دسته"}),l("select",{value:c,onChange:k=>p(parseInt(k.target.value)),className:"input",disabled:t,children:[n("option",{value:1,children:"۱ (کند)"}),n("option",{value:3,children:"۳ (متوسط)"}),n("option",{value:5,children:"۵ (سریع)"}),n("option",{value:10,children:"۱۰ (خیلی سریع)"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تعداد اسناد پردازش همزمان"})]}),l("div",{children:[n("label",{className:"label",children:"تعداد تلاش مجدد"}),l("select",{value:u,onChange:k=>d(parseInt(k.target.value)),className:"input",disabled:t,children:[n("option",{value:1,children:"۱ بار"}),n("option",{value:2,children:"۲ بار"}),n("option",{value:3,children:"۳ بار"}),n("option",{value:5,children:"۵ بار"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تلاش مجدد در صورت خطا"})]})]}),g>0&&n("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-blue-600 dark:text-blue-400",children:"⏱️"}),l("div",{className:"text-sm",children:[l("p",{className:"font-medium text-blue-800 dark:text-blue-200",children:["برآورد زمان پردازش: ",Math.floor(b/60)," دقیقه و ",b%60," ثانیه"]}),l("p",{className:"text-blue-700 dark:text-blue-300",children:["تعداد دسته‌ها: ",Math.ceil(g/c)," • اندازه هر دسته: ",c]})]})]})})]}),l("div",{className:"flex items-center justify-between",children:[n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:g>0?`آماده پردازش ${g} سند`:"حداقل یک آدرس معتبر وارد کنید"}),n("button",{type:"submit",disabled:t||g===0,className:"btn btn-primary px-6 py-3 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 space-x-reverse",children:t?l(Y,{children:[l("svg",{className:"animate-spin -mr-1 ml-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("span",{children:"در حال پردازش..."})]}):l(Y,{children:[n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),n("span",{children:"شروع پردازش دسته‌ای"})]})})]})]}),l("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"قالب‌های نمونه"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l("button",{onClick:()=>s(`https://dastour.ir/brows/?lid=15
https://rc.majlis.ir/fa/law
https://www.dastour.ir/brows/?lid=1
https://dastour.ir/brows/?lid=20`),disabled:t,className:"text-xs p-3 bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors text-right disabled:opacity-50 disabled:cursor-not-allowed",children:[n("div",{className:"font-medium mb-1",children:"نمونه قوانین اساسی"}),n("div",{className:"text-gray-500 dark:text-gray-400",children:"۴ آدرس نمونه"})]}),l("button",{onClick:()=>s(`https://rc.majlis.ir/fa/law/show/94262
https://rc.majlis.ir/fa/law/show/94263
https://rc.majlis.ir/fa/law/show/94264`),disabled:t,className:"text-xs p-3 bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors text-right disabled:opacity-50 disabled:cursor-not-allowed",children:[n("div",{className:"font-medium mb-1",children:"نمونه قوانین مجلس"}),n("div",{className:"text-gray-500 dark:text-gray-400",children:"۳ آدرس نمونه"})]})]})]})]})};var $l={exports:{}},D0="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",L0=D0,O0=L0;function Ul(){}function ql(){}ql.resetWarningCache=Ul;var M0=function(){function e(r,s,o,i,c,p){if(p!==O0){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ql,resetWarningCache:Ul};return a.PropTypes=a,a};$l.exports=M0();var F0=$l.exports;const q=Ic(F0);function xt(e,t,a,r){function s(o){return o instanceof a?o:new a(function(i){i(o)})}return new(a||(a=Promise))(function(o,i){function c(d){try{u(r.next(d))}catch(m){i(m)}}function p(d){try{u(r.throw(d))}catch(m){i(m)}}function u(d){d.done?o(d.value):s(d.value).then(c,p)}u((r=r.apply(e,t||[])).next())})}const I0=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Et(e,t,a){const r=V0(e),{webkitRelativePath:s}=e,o=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof r.path!="string"&&bi(r,"path",o),a!==void 0&&Object.defineProperty(r,"handle",{value:a,writable:!1,configurable:!1,enumerable:!0}),bi(r,"relativePath",o),r}function V0(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),s=I0.get(r);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function bi(e,t,a){Object.defineProperty(e,t,{value:a,writable:!1,configurable:!1,enumerable:!0})}const z0=[".DS_Store","Thumbs.db"];function B0(e){return xt(this,void 0,void 0,function*(){return _a(e)&&_0(e.dataTransfer)?H0(e.dataTransfer,e.type):$0(e)?U0(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?q0(e):[]})}function _0(e){return _a(e)}function $0(e){return _a(e)&&_a(e.target)}function _a(e){return typeof e=="object"&&e!==null}function U0(e){return un(e.target.files).map(t=>Et(t))}function q0(e){return xt(this,void 0,void 0,function*(){return(yield Promise.all(e.map(a=>a.getFile()))).map(a=>Et(a))})}function H0(e,t){return xt(this,void 0,void 0,function*(){if(e.items){const a=un(e.items).filter(s=>s.kind==="file");if(t!=="drop")return a;const r=yield Promise.all(a.map(W0));return vi(Hl(r))}return vi(un(e.files).map(a=>Et(a)))})}function vi(e){return e.filter(t=>z0.indexOf(t.name)===-1)}function un(e){if(e===null)return[];const t=[];for(let a=0;a<e.length;a++){const r=e[a];t.push(r)}return t}function W0(e){if(typeof e.webkitGetAsEntry!="function")return wi(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Wl(t):wi(e,t)}function Hl(e){return e.reduce((t,a)=>[...t,...Array.isArray(a)?Hl(a):[a]],[])}function wi(e,t){return xt(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const i=yield o.getFile();return i.handle=o,Et(i)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Et(r,(a=t==null?void 0:t.fullPath)!==null&&a!==void 0?a:void 0)})}function K0(e){return xt(this,void 0,void 0,function*(){return e.isDirectory?Wl(e):G0(e)})}function Wl(e){const t=e.createReader();return new Promise((a,r)=>{const s=[];function o(){t.readEntries(i=>xt(this,void 0,void 0,function*(){if(i.length){const c=Promise.all(i.map(K0));s.push(c),o()}else try{const c=yield Promise.all(s);a(c)}catch(c){r(c)}}),i=>{r(i)})}o()})}function G0(e){return xt(this,void 0,void 0,function*(){return new Promise((t,a)=>{e.file(r=>{const s=Et(r,e.fullPath);t(s)},r=>{a(r)})})})}var zr=function(e,t){if(e&&t){var a=Array.isArray(t)?t:t.split(",");if(a.length===0)return!0;var r=e.name||"",s=(e.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return a.some(function(i){var c=i.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?o===c.replace(/\/.*$/,""):s===c})}return!0};function ki(e){return Y0(e)||X0(e)||Gl(e)||J0()}function J0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y0(e){if(Array.isArray(e))return pn(e)}function Ni(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Si(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ni(Object(a),!0).forEach(function(r){Kl(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ni(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Kl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Zt(e,t){return eg(e)||Z0(e,t)||Gl(e,t)||Q0()}function Q0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gl(e,t){if(e){if(typeof e=="string")return pn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pn(e,t)}}function pn(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Z0(e,t){var a=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r=[],s=!0,o=!1,i,c;try{for(a=a.call(e);!(s=(i=a.next()).done)&&(r.push(i.value),!(t&&r.length===t));s=!0);}catch(p){o=!0,c=p}finally{try{!s&&a.return!=null&&a.return()}finally{if(o)throw c}}return r}}function eg(e){if(Array.isArray(e))return e}var tg=typeof zr=="function"?zr:zr.default,ag="file-invalid-type",rg="file-too-large",ng="file-too-small",sg="too-many-files",ig=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=t.split(","),r=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:ag,message:"File type must be ".concat(r)}},Ci=function(t){return{code:rg,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Ti=function(t){return{code:ng,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},og={code:sg,message:"Too many files"};function Jl(e,t){var a=e.type==="application/x-moz-file"||tg(e,t);return[a,a?null:ig(t)]}function Xl(e,t,a){if(lt(e.size))if(lt(t)&&lt(a)){if(e.size>a)return[!1,Ci(a)];if(e.size<t)return[!1,Ti(t)]}else{if(lt(t)&&e.size<t)return[!1,Ti(t)];if(lt(a)&&e.size>a)return[!1,Ci(a)]}return[!0,null]}function lt(e){return e!=null}function lg(e){var t=e.files,a=e.accept,r=e.minSize,s=e.maxSize,o=e.multiple,i=e.maxFiles,c=e.validator;return!o&&t.length>1||o&&i>=1&&t.length>i?!1:t.every(function(p){var u=Jl(p,a),d=Zt(u,1),m=d[0],h=Xl(p,r,s),g=Zt(h,1),y=g[0],f=c?c(p):null;return m&&y&&!f})}function $a(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble!="undefined"?e.cancelBubble:!1}function wa(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ai(e){e.preventDefault()}function cg(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function dg(e){return e.indexOf("Edge/")!==-1}function ug(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return cg(e)||dg(e)}function Ae(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return t.some(function(c){return!$a(r)&&c&&c.apply(void 0,[r].concat(o)),$a(r)})}}function pg(){return"showOpenFilePicker"in window}function mg(e){if(lt(e)){var t=Object.entries(e).filter(function(a){var r=Zt(a,2),s=r[0],o=r[1],i=!0;return Yl(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(o)||!o.every(Ql))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(a,r){var s=Zt(r,2),o=s[0],i=s[1];return Si(Si({},a),{},Kl({},o,i))},{});return[{description:"Files",accept:t}]}return e}function hg(e){if(lt(e))return Object.entries(e).reduce(function(t,a){var r=Zt(a,2),s=r[0],o=r[1];return[].concat(ki(t),[s],ki(o))},[]).filter(function(t){return Yl(t)||Ql(t)}).join(",")}function gg(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function fg(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Yl(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Ql(e){return/^.*\.[\w]+$/.test(e)}var xg=["children"],yg=["open"],bg=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],vg=["refKey","onChange","onClick"];function wg(e){return Sg(e)||Ng(e)||Zl(e)||kg()}function kg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ng(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sg(e){if(Array.isArray(e))return mn(e)}function Br(e,t){return Ag(e)||Tg(e,t)||Zl(e,t)||Cg()}function Cg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zl(e,t){if(e){if(typeof e=="string")return mn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return mn(e,t)}}function mn(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Tg(e,t){var a=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r=[],s=!0,o=!1,i,c;try{for(a=a.call(e);!(s=(i=a.next()).done)&&(r.push(i.value),!(t&&r.length===t));s=!0);}catch(p){o=!0,c=p}finally{try{!s&&a.return!=null&&a.return()}finally{if(o)throw c}}return r}}function Ag(e){if(Array.isArray(e))return e}function Pi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Pi(Object(a),!0).forEach(function(r){hn(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pi(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ua(e,t){if(e==null)return{};var a=Pg(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pg(e,t){if(e==null)return{};var a={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(a[s]=e[s]);return a}var Xn=x.forwardRef(function(e,t){var a=e.children,r=Ua(e,xg),s=tc(r),o=s.open,i=Ua(s,yg);return x.useImperativeHandle(t,function(){return{open:o}},[o]),ta.createElement(x.Fragment,null,a(J(J({},i),{},{open:o})))});Xn.displayName="Dropzone";var ec={disabled:!1,getFilesFromEvent:B0,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Xn.defaultProps=ec;Xn.propTypes={children:q.func,accept:q.objectOf(q.arrayOf(q.string)),multiple:q.bool,preventDropOnDocument:q.bool,noClick:q.bool,noKeyboard:q.bool,noDrag:q.bool,noDragEventsBubbling:q.bool,minSize:q.number,maxSize:q.number,maxFiles:q.number,disabled:q.bool,getFilesFromEvent:q.func,onFileDialogCancel:q.func,onFileDialogOpen:q.func,useFsAccessApi:q.bool,autoFocus:q.bool,onDragEnter:q.func,onDragLeave:q.func,onDragOver:q.func,onDrop:q.func,onDropAccepted:q.func,onDropRejected:q.func,onError:q.func,validator:q.func};var gn={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function tc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=J(J({},ec),e),a=t.accept,r=t.disabled,s=t.getFilesFromEvent,o=t.maxSize,i=t.minSize,c=t.multiple,p=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,m=t.onDragOver,h=t.onDrop,g=t.onDropAccepted,y=t.onDropRejected,f=t.onFileDialogCancel,v=t.onFileDialogOpen,w=t.useFsAccessApi,b=t.autoFocus,k=t.preventDropOnDocument,N=t.noClick,A=t.noKeyboard,R=t.noDrag,L=t.noDragEventsBubbling,O=t.onError,C=t.validator,j=x.useMemo(function(){return hg(a)},[a]),P=x.useMemo(function(){return mg(a)},[a]),M=x.useMemo(function(){return typeof v=="function"?v:Ri},[v]),G=x.useMemo(function(){return typeof f=="function"?f:Ri},[f]),U=x.useRef(null),Q=x.useRef(null),$=x.useReducer(Rg,gn),ge=Br($,2),Ne=ge[0],ee=ge[1],ur=Ne.isFocused,Lt=Ne.isFileDialogActive,at=x.useRef(typeof window!="undefined"&&window.isSecureContext&&w&&pg()),H=function(){!at.current&&Lt&&setTimeout(function(){if(Q.current){var V=Q.current.files;V.length||(ee({type:"closeDialog"}),G())}},300)};x.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[Q,Lt,G,at]);var fe=x.useRef([]),Ot=function(V){U.current&&U.current.contains(V.target)||(V.preventDefault(),fe.current=[])};x.useEffect(function(){return k&&(document.addEventListener("dragover",Ai,!1),document.addEventListener("drop",Ot,!1)),function(){k&&(document.removeEventListener("dragover",Ai),document.removeEventListener("drop",Ot))}},[U,k]),x.useEffect(function(){return!r&&b&&U.current&&U.current.focus(),function(){}},[U,b,r]);var Se=x.useCallback(function(D){O?O(D):console.error(D)},[O]),Mt=x.useCallback(function(D){D.preventDefault(),D.persist(),pa(D),fe.current=[].concat(wg(fe.current),[D.target]),wa(D)&&Promise.resolve(s(D)).then(function(V){if(!($a(D)&&!L)){var te=V.length,se=te>0&&lg({files:V,accept:j,minSize:i,maxSize:o,multiple:c,maxFiles:p,validator:C}),me=te>0&&!se;ee({isDragAccept:se,isDragReject:me,isDragActive:!0,type:"setDraggedFiles"}),u&&u(D)}}).catch(function(V){return Se(V)})},[s,u,Se,L,j,i,o,c,p,C]),_e=x.useCallback(function(D){D.preventDefault(),D.persist(),pa(D);var V=wa(D);if(V&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch(te){}return V&&m&&m(D),!1},[m,L]),Ft=x.useCallback(function(D){D.preventDefault(),D.persist(),pa(D);var V=fe.current.filter(function(se){return U.current&&U.current.contains(se)}),te=V.indexOf(D.target);te!==-1&&V.splice(te,1),fe.current=V,!(V.length>0)&&(ee({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wa(D)&&d&&d(D))},[U,d,L]),yt=x.useCallback(function(D,V){var te=[],se=[];D.forEach(function(me){var It=Jl(me,j),vt=Br(It,2),hr=vt[0],gr=vt[1],fr=Xl(me,i,o),ma=Br(fr,2),xr=ma[0],yr=ma[1],br=C?C(me):null;if(hr&&xr&&!br)te.push(me);else{var vr=[gr,yr];br&&(vr=vr.concat(br)),se.push({file:me,errors:vr.filter(function(jc){return jc})})}}),(!c&&te.length>1||c&&p>=1&&te.length>p)&&(te.forEach(function(me){se.push({file:me,errors:[og]})}),te.splice(0)),ee({acceptedFiles:te,fileRejections:se,isDragReject:se.length>0,type:"setFiles"}),h&&h(te,se,V),se.length>0&&y&&y(se,V),te.length>0&&g&&g(te,V)},[ee,c,j,i,o,p,h,g,y,C]),$e=x.useCallback(function(D){D.preventDefault(),D.persist(),pa(D),fe.current=[],wa(D)&&Promise.resolve(s(D)).then(function(V){$a(D)&&!L||yt(V,D)}).catch(function(V){return Se(V)}),ee({type:"reset"})},[s,yt,Se,L]),be=x.useCallback(function(){if(at.current){ee({type:"openDialog"}),M();var D={multiple:c,types:P};window.showOpenFilePicker(D).then(function(V){return s(V)}).then(function(V){yt(V,null),ee({type:"closeDialog"})}).catch(function(V){gg(V)?(G(V),ee({type:"closeDialog"})):fg(V)?(at.current=!1,Q.current?(Q.current.value=null,Q.current.click()):Se(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Se(V)});return}Q.current&&(ee({type:"openDialog"}),M(),Q.current.value=null,Q.current.click())},[ee,M,G,w,yt,Se,P,c]),Ce=x.useCallback(function(D){!U.current||!U.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),be())},[U,be]),pr=x.useCallback(function(){ee({type:"focus"})},[]),rs=x.useCallback(function(){ee({type:"blur"})},[]),ns=x.useCallback(function(){N||(ug()?setTimeout(be,0):be())},[N,be]),bt=function(V){return r?null:V},mr=function(V){return A?null:bt(V)},ua=function(V){return R?null:bt(V)},pa=function(V){L&&V.stopPropagation()},Pc=x.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=D.refKey,te=V===void 0?"ref":V,se=D.role,me=D.onKeyDown,It=D.onFocus,vt=D.onBlur,hr=D.onClick,gr=D.onDragEnter,fr=D.onDragOver,ma=D.onDragLeave,xr=D.onDrop,yr=Ua(D,bg);return J(J(hn({onKeyDown:mr(Ae(me,Ce)),onFocus:mr(Ae(It,pr)),onBlur:mr(Ae(vt,rs)),onClick:bt(Ae(hr,ns)),onDragEnter:ua(Ae(gr,Mt)),onDragOver:ua(Ae(fr,_e)),onDragLeave:ua(Ae(ma,Ft)),onDrop:ua(Ae(xr,$e)),role:typeof se=="string"&&se!==""?se:"presentation"},te,U),!r&&!A?{tabIndex:0}:{}),yr)}},[U,Ce,pr,rs,ns,Mt,_e,Ft,$e,A,R,r]),Rc=x.useCallback(function(D){D.stopPropagation()},[]),Ec=x.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=D.refKey,te=V===void 0?"ref":V,se=D.onChange,me=D.onClick,It=Ua(D,vg),vt=hn({accept:j,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:bt(Ae(se,$e)),onClick:bt(Ae(me,Rc)),tabIndex:-1},te,Q);return J(J({},vt),It)}},[Q,a,c,$e,r]);return J(J({},Ne),{},{isFocused:ur&&!r,getRootProps:Pc,getInputProps:Ec,rootRef:U,inputRef:Q,open:bt(be)})}function Rg(e,t){switch(t.type){case"focus":return J(J({},e),{},{isFocused:!0});case"blur":return J(J({},e),{},{isFocused:!1});case"openDialog":return J(J({},gn),{},{isFileDialogActive:!0});case"closeDialog":return J(J({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return J(J({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return J(J({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return J({},gn);default:return e}}function Ri(){}const Eg=({onUpload:e,isUploading:t=!1,acceptedTypes:a=".pdf,.doc,.docx,.txt"})=>{const[r,s]=x.useState(0),o=x.useCallback(d=>{d.length>0&&e&&e(d)},[e]),{getRootProps:i,getInputProps:c,isDragActive:p,isDragReject:u}=tc({onDrop:o,accept:{"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"]},maxFiles:10,maxSize:50*1024*1024});return l("div",{className:"space-y-4",children:[l("div",E(S({},i()),{className:`
          relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all
          ${p&&!u?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":u?"border-red-400 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}
          ${t?"pointer-events-none opacity-50":""}
        `,children:[n("input",S({},c())),t?l("div",{className:"space-y-4",children:[n("div",{className:"text-4xl",children:"⏳"}),l("div",{children:[n("div",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"در حال آپلود..."}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),l("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[r,"%"]})]})]}):l("div",{className:"space-y-4",children:[n("div",{className:"text-6xl",children:p?"📥":"📄"}),l("div",{children:[n("div",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:p?"فایل‌ها را اینجا رها کنید":"فایل‌هایتان را اینجا بکشید یا کلیک کنید"}),n("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"فرمت‌های پشتیبانی شده: PDF, DOC, DOCX, TXT (حداکثر ۵۰ مگابایت)"})]})]}),u&&n("div",{className:"absolute inset-0 bg-red-50 dark:bg-red-900/20 border-2 border-red-400 border-dashed rounded-lg flex items-center justify-center",children:l("div",{className:"text-center",children:[n("div",{className:"text-4xl mb-2",children:"❌"}),n("div",{className:"text-red-600 dark:text-red-400 font-medium",children:"فرمت فایل پشتیبانی نمی‌شود"})]})})]})),n("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"حداکثر ۱۰ فایل در هر بار آپلود • حداکثر حجم هر فایل: ۵۰ مگابایت"})]})},jg=({history:e=[]})=>{const[t,a]=x.useState("all"),r=c=>{switch(c){case"completed":return"✅";case"processing":return"⏳";case"failed":return"❌";case"queued":return"⏱️";default:return"📄"}},s=c=>{switch(c){case"completed":return"تکمیل شده";case"processing":return"در حال پردازش";case"failed":return"ناموفق";case"queued":return"در صف";default:return"نامشخص"}},o=c=>{switch(c){case"completed":return"text-green-600 dark:text-green-400";case"processing":return"text-blue-600 dark:text-blue-400";case"failed":return"text-red-600 dark:text-red-400";case"queued":return"text-yellow-600 dark:text-yellow-400";default:return"text-gray-600 dark:text-gray-400"}},i=e.filter(c=>t==="all"?!0:c.status===t);return e.length,l("div",{className:"space-y-6",children:[l("div",{className:"flex justify-between items-center",children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📋 تاریخچه پردازش"}),l("select",{value:t,onChange:c=>a(c.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[n("option",{value:"all",children:"همه"}),n("option",{value:"completed",children:"تکمیل شده"}),n("option",{value:"processing",children:"در حال پردازش"}),n("option",{value:"failed",children:"ناموفق"}),n("option",{value:"queued",children:"در صف"})]})]}),n("div",{className:"space-y-4",children:i.length===0?l("div",{className:"text-center py-8",children:[n("div",{className:"text-gray-400 text-4xl mb-4",children:"📭"}),n("p",{className:"text-gray-500 dark:text-gray-400",children:"هیچ سابقه پردازشی یافت نشد"})]}):i.map(c=>l("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-6",children:[l("div",{className:"flex items-start justify-between mb-4",children:[l("div",{className:"flex items-center gap-3",children:[n("span",{className:"text-2xl",children:r(c.status)}),l("div",{children:[n("h3",{className:"font-medium text-gray-900 dark:text-white",children:c.filename}),n("span",{className:`text-sm ${o(c.status)}`,children:s(c.status)})]})]}),n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.startTime})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"حجم فایل:"}),n("div",{className:"font-medium text-gray-900 dark:text-white",children:c.fileSize})]}),c.pages&&l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"تعداد صفحات:"}),n("div",{className:"font-medium text-gray-900 dark:text-white",children:c.pages})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"زمان پردازش:"}),n("div",{className:"font-medium text-gray-900 dark:text-white",children:c.processingTime})]}),c.extractedText&&l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"متن استخراج شده:"}),l("div",{className:"font-medium text-gray-900 dark:text-white",children:[c.extractedText," کلمه"]})]})]}),c.error&&n("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:l("div",{className:"text-red-700 dark:text-red-300 text-sm",children:[n("strong",{children:"خطا:"})," ",c.error]})}),c.status==="processing"&&l("div",{className:"mt-4",children:[n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"در حال پردازش..."})]})]},c.id))})]})},Dg=({progress:e,onCancel:t})=>{const{current:a,total:r,processed:s,failed:o,currentUrl:i,startTime:c}=e,p=r>0?Math.round(a/r*100):0,u=s+o,d=u>0?Math.round(s/u*100):0,m=()=>{if(!c)return"0:00";const g=Math.floor((new Date-c)/1e3),y=Math.floor(g/60),f=g%60;return`${y}:${f.toString().padStart(2,"0")}`},h=()=>{if(!c||a===0)return"نامشخص";const y=(new Date-c)/1e3/a,f=r-a,v=Math.round(f*y);if(v<60)return`${v} ثانیه`;const w=Math.floor(v/60),b=v%60;return`${w} دقیقه و ${b} ثانیه`};return l("div",{className:"card p-6 border-l-4 border-blue-500",children:[l("div",{className:"flex items-center justify-between mb-4",children:[l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:n("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),l("div",{children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"پردازش در حال انجام"}),l("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["دسته ",a," از ",r," • ",p,"% تکمیل شده"]})]})]}),t&&n("button",{onClick:t,className:"px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg transition-colors text-sm font-medium",children:"لغو پردازش"})]}),l("div",{className:"mb-4",children:[l("div",{className:"flex items-center justify-between mb-2",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پیشرفت کلی"}),l("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[p,"%"]})]}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:n("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${p}%`}})})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s}),n("div",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"موفق"})]}),l("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:o}),n("div",{className:"text-xs text-red-700 dark:text-red-300 font-medium",children:"ناموفق"})]}),l("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[l("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[d,"%"]}),n("div",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"نرخ موفقیت"})]}),l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:m()}),n("div",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:"زمان سپری شده"})]})]}),i&&l("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4",children:[l("div",{className:"flex items-center space-x-2 space-x-reverse mb-2",children:[n("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"در حال پردازش:"}),n("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),n("div",{className:"font-mono text-sm text-gray-600 dark:text-gray-400 break-all",children:i})]}),l("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[l("span",{children:["زمان تخمینی باقی‌مانده: ",h()]}),l("span",{children:["آخرین بروزرسانی: ",new Date().toLocaleTimeString("fa-IR")]})]})]})},Lg=({results:e=[]})=>{const[t,a]=x.useState(null),[r,s]=x.useState("list"),o=e.length===0?[{id:1,filename:"قرارداد_نمونه.pdf",extractedText:"این یک نمونه متن استخراج شده از سند حقوقی است که شامل اطلاعات مهم قراردادی می‌باشد...",entities:[{type:"person",value:"احمد محمدی",confidence:.95},{type:"organization",value:"شرکت فناوری پارس",confidence:.92},{type:"date",value:"1402/10/15",confidence:.98},{type:"amount",value:"۵۰۰,۰۰۰ تومان",confidence:.89}],categories:["قرارداد","مدنی","تجاری"],confidence:.94,processingTime:"2.3 ثانیه",wordCount:1250,sentiment:"neutral"},{id:2,filename:"رای_دادگاه.pdf",extractedText:"رای شماره ۱۲۳۴ دادگاه عمومی تهران در خصوص پرونده کلاسه ۹۸۰۱۲۳...",entities:[{type:"court",value:"دادگاه عمومی تهران",confidence:.96},{type:"case_number",value:"۹۸۰۱۲۳",confidence:.99},{type:"judge",value:"قاضی رضایی",confidence:.91}],categories:["رای دادگاه","کیفری","حکم"],confidence:.97,processingTime:"3.1 ثانیه",wordCount:2150,sentiment:"formal"}]:e,i=d=>{switch(d){case"positive":return"😊";case"negative":return"😟";case"neutral":return"😐";case"formal":return"📋";default:return"❓"}},c=d=>{switch(d){case"positive":return"مثبت";case"negative":return"منفی";case"neutral":return"خنثی";case"formal":return"رسمی";default:return"نامشخص"}},p=d=>{switch(d){case"person":return"👤";case"organization":return"🏢";case"date":return"📅";case"amount":return"💰";case"court":return"⚖️";case"case_number":return"📋";case"judge":return"👨‍⚖️";default:return"🏷️"}},u=d=>{switch(d){case"person":return"شخص";case"organization":return"سازمان";case"date":return"تاریخ";case"amount":return"مبلغ";case"court":return"دادگاه";case"case_number":return"شماره پرونده";case"judge":return"قاضی";default:return d}};return l("div",{className:"space-y-6",children:[l("div",{className:"flex justify-between items-center",children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📊 نتایج تحلیل"}),l("div",{className:"flex gap-2",children:[n("button",{onClick:()=>s("list"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="list"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"📋 لیست"}),n("button",{onClick:()=>s("grid"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="grid"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"⊞ شبکه‌ای"})]})]}),o.length===0?l("div",{className:"text-center py-8",children:[n("div",{className:"text-gray-400 text-4xl mb-4",children:"📊"}),n("p",{className:"text-gray-500 dark:text-gray-400",children:"هنوز نتیجه‌ای برای نمایش وجود ندارد"})]}):n("div",{className:r==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-6",children:o.map(d=>l("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>a(d),children:[l("div",{className:"flex justify-between items-start mb-4",children:[l("div",{children:[l("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:["📄 ",d.filename]}),l("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[l("span",{children:["⏱️ ",d.processingTime]}),l("span",{children:["📝 ",d.wordCount," کلمه"]}),l("span",{children:["🎯 ",Math.round(d.confidence*100),"%"]})]})]}),l("div",{className:"flex items-center gap-2",children:[n("span",{className:"text-lg",children:i(d.sentiment)}),n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:c(d.sentiment)})]})]}),n("div",{className:"mb-4",children:n("div",{className:"flex flex-wrap gap-2",children:d.categories.map((m,h)=>n("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:m},h))})}),l("div",{className:"mb-4",children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"متن استخراج شده:"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3",children:d.extractedText})]}),l("div",{children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"موجودیت‌های شناسایی شده:"}),l("div",{className:"flex flex-wrap gap-2",children:[d.entities.slice(0,4).map((m,h)=>l("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:[n("span",{children:p(m.type)}),n("span",{className:"font-medium",children:m.value}),l("span",{className:"text-gray-500 dark:text-gray-400",children:["(",Math.round(m.confidence*100),"%)"]})]},h)),d.entities.length>4&&l("span",{className:"text-xs text-gray-500 dark:text-gray-400 px-2 py-1",children:["+",d.entities.length-4," بیشتر"]})]})]})]},d.id))}),t&&n("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:l("div",{className:"p-6",children:[l("div",{className:"flex justify-between items-start mb-6",children:[l("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["📄 ",t.filename]}),n("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:"✕"})]}),l("div",{className:"space-y-6",children:[l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[Math.round(t.confidence*100),"%"]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"دقت"})]}),l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.wordCount}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"کلمه"})]}),l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.entities.length}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"موجودیت"})]}),l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.processingTime}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"زمان پردازش"})]})]}),l("div",{children:[n("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"متن کامل:"}),n("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm text-gray-700 dark:text-gray-300 max-h-60 overflow-y-auto",children:t.extractedText})]}),l("div",{children:[n("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"تمام موجودیت‌های شناسایی شده:"}),n("div",{className:"space-y-2",children:t.entities.map((d,m)=>l("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l("div",{className:"flex items-center gap-3",children:[n("span",{className:"text-lg",children:p(d.type)}),l("div",{children:[n("div",{className:"font-medium text-gray-900 dark:text-white",children:d.value}),n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:u(d.type)})]})]}),l("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[Math.round(d.confidence*100),"% اطمینان"]})]},m))})]})]})]})})})]})};function ac(e,t){return function(){return e.apply(t,arguments)}}const{toString:Og}=Object.prototype,{getPrototypeOf:Yn}=Object,{iterator:nr,toStringTag:rc}=Symbol,sr=(e=>t=>{const a=Og.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ke=e=>(e=e.toLowerCase(),t=>sr(t)===e),ir=e=>t=>typeof t===e,{isArray:jt}=Array,ea=ir("undefined");function la(e){return e!==null&&!ea(e)&&e.constructor!==null&&!ea(e.constructor)&&ue(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nc=ke("ArrayBuffer");function Mg(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nc(e.buffer),t}const Fg=ir("string"),ue=ir("function"),sc=ir("number"),ca=e=>e!==null&&typeof e=="object",Ig=e=>e===!0||e===!1,Ta=e=>{if(sr(e)!=="object")return!1;const t=Yn(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rc in e)&&!(nr in e)},Vg=e=>{if(!ca(e)||la(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},zg=ke("Date"),Bg=ke("File"),_g=ke("Blob"),$g=ke("FileList"),Ug=e=>ca(e)&&ue(e.pipe),qg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ue(e.append)&&((t=sr(e))==="formdata"||t==="object"&&ue(e.toString)&&e.toString()==="[object FormData]"))},Hg=ke("URLSearchParams"),[Wg,Kg,Gg,Jg]=["ReadableStream","Request","Response","Headers"].map(ke),Xg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function da(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e=="undefined")return;let r,s;if(typeof e!="object"&&(e=[e]),jt(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(la(e))return;const o=a?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let c;for(r=0;r<i;r++)c=o[r],t.call(null,e[c],c,e)}}function ic(e,t){if(la(e))return null;t=t.toLowerCase();const a=Object.keys(e);let r=a.length,s;for(;r-- >0;)if(s=a[r],t===s.toLowerCase())return s;return null}const dt=(()=>typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global)(),oc=e=>!ea(e)&&e!==dt;function fn(){const{caseless:e}=oc(this)&&this||{},t={},a=(r,s)=>{const o=e&&ic(t,s)||s;Ta(t[o])&&Ta(r)?t[o]=fn(t[o],r):Ta(r)?t[o]=fn({},r):jt(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&da(arguments[r],a);return t}const Yg=(e,t,a,{allOwnKeys:r}={})=>(da(t,(s,o)=>{a&&ue(s)?e[o]=ac(s,a):e[o]=s},{allOwnKeys:r}),e),Qg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Zg=(e,t,a,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},ef=(e,t,a,r)=>{let s,o,i;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=a!==!1&&Yn(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},tf=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const r=e.indexOf(t,a);return r!==-1&&r===a},af=e=>{if(!e)return null;if(jt(e))return e;let t=e.length;if(!sc(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},rf=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&Yn(Uint8Array)),nf=(e,t)=>{const r=(e&&e[nr]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},sf=(e,t)=>{let a;const r=[];for(;(a=e.exec(t))!==null;)r.push(a);return r},of=ke("HTMLFormElement"),lf=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,s){return r.toUpperCase()+s}),Ei=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),cf=ke("RegExp"),lc=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),r={};da(a,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},df=e=>{lc(e,(t,a)=>{if(ue(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(ue(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},uf=(e,t)=>{const a={},r=s=>{s.forEach(o=>{a[o]=!0})};return jt(e)?r(e):r(String(e).split(t)),a},pf=()=>{},mf=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function hf(e){return!!(e&&ue(e.append)&&e[rc]==="FormData"&&e[nr])}const gf=e=>{const t=new Array(10),a=(r,s)=>{if(ca(r)){if(t.indexOf(r)>=0)return;if(la(r))return r;if(!("toJSON"in r)){t[s]=r;const o=jt(r)?[]:{};return da(r,(i,c)=>{const p=a(i,s+1);!ea(p)&&(o[c]=p)}),t[s]=void 0,o}}return r};return a(e,0)},ff=ke("AsyncFunction"),xf=e=>e&&(ca(e)||ue(e))&&ue(e.then)&&ue(e.catch),cc=((e,t)=>e?setImmediate:t?((a,r)=>(dt.addEventListener("message",({source:s,data:o})=>{s===dt&&o===a&&r.length&&r.shift()()},!1),s=>{r.push(s),dt.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",ue(dt.postMessage)),yf=typeof queueMicrotask!="undefined"?queueMicrotask.bind(dt):typeof process!="undefined"&&process.nextTick||cc,bf=e=>e!=null&&ue(e[nr]),T={isArray:jt,isArrayBuffer:nc,isBuffer:la,isFormData:qg,isArrayBufferView:Mg,isString:Fg,isNumber:sc,isBoolean:Ig,isObject:ca,isPlainObject:Ta,isEmptyObject:Vg,isReadableStream:Wg,isRequest:Kg,isResponse:Gg,isHeaders:Jg,isUndefined:ea,isDate:zg,isFile:Bg,isBlob:_g,isRegExp:cf,isFunction:ue,isStream:Ug,isURLSearchParams:Hg,isTypedArray:rf,isFileList:$g,forEach:da,merge:fn,extend:Yg,trim:Xg,stripBOM:Qg,inherits:Zg,toFlatObject:ef,kindOf:sr,kindOfTest:ke,endsWith:tf,toArray:af,forEachEntry:nf,matchAll:sf,isHTMLForm:of,hasOwnProperty:Ei,hasOwnProp:Ei,reduceDescriptors:lc,freezeMethods:df,toObjectSet:uf,toCamelCase:lf,noop:pf,toFiniteNumber:mf,findKey:ic,global:dt,isContextDefined:oc,isSpecCompliantForm:hf,toJSONObject:gf,isAsyncFn:ff,isThenable:xf,setImmediate:cc,asap:yf,isIterable:bf};function z(e,t,a,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}T.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const dc=z.prototype,uc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uc[e]={value:e}});Object.defineProperties(z,uc);Object.defineProperty(dc,"isAxiosError",{value:!0});z.from=(e,t,a,r,s,o)=>{const i=Object.create(dc);return T.toFlatObject(e,i,function(p){return p!==Error.prototype},c=>c!=="isAxiosError"),z.call(i,e.message,t,a,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const vf=null;function xn(e){return T.isPlainObject(e)||T.isArray(e)}function pc(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function ji(e,t,a){return e?e.concat(t).map(function(s,o){return s=pc(s),!a&&o?"["+s+"]":s}).join(a?".":""):t}function wf(e){return T.isArray(e)&&!e.some(xn)}const kf=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function or(e,t,a){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=T.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,v){return!T.isUndefined(v[f])});const r=a.metaTokens,s=a.visitor||d,o=a.dots,i=a.indexes,p=(a.Blob||typeof Blob!="undefined"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(T.isDate(y))return y.toISOString();if(T.isBoolean(y))return y.toString();if(!p&&T.isBlob(y))throw new z("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(y)||T.isTypedArray(y)?p&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,f,v){let w=y;if(y&&!v&&typeof y=="object"){if(T.endsWith(f,"{}"))f=r?f:f.slice(0,-2),y=JSON.stringify(y);else if(T.isArray(y)&&wf(y)||(T.isFileList(y)||T.endsWith(f,"[]"))&&(w=T.toArray(y)))return f=pc(f),w.forEach(function(k,N){!(T.isUndefined(k)||k===null)&&t.append(i===!0?ji([f],N,o):i===null?f:f+"[]",u(k))}),!1}return xn(y)?!0:(t.append(ji(v,f,o),u(y)),!1)}const m=[],h=Object.assign(kf,{defaultVisitor:d,convertValue:u,isVisitable:xn});function g(y,f){if(!T.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(y),T.forEach(y,function(w,b){(!(T.isUndefined(w)||w===null)&&s.call(t,w,T.isString(b)?b.trim():b,f,h))===!0&&g(w,f?f.concat(b):[b])}),m.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Di(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Qn(e,t){this._pairs=[],e&&or(e,this,t)}const mc=Qn.prototype;mc.append=function(t,a){this._pairs.push([t,a])};mc.toString=function(t){const a=t?function(r){return t.call(this,r,Di)}:Di;return this._pairs.map(function(s){return a(s[0])+"="+a(s[1])},"").join("&")};function Nf(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hc(e,t,a){if(!t)return e;const r=a&&a.encode||Nf;T.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let o;if(s?o=s(t,a):o=T.isURLSearchParams(t)?t.toString():new Qn(t,a).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Sf{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Li=Sf,gc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cf=typeof URLSearchParams!="undefined"?URLSearchParams:Qn,Tf=typeof FormData!="undefined"?FormData:null,Af=typeof Blob!="undefined"?Blob:null,Pf={isBrowser:!0,classes:{URLSearchParams:Cf,FormData:Tf,Blob:Af},protocols:["http","https","file","blob","url","data"]},Zn=typeof window!="undefined"&&typeof document!="undefined",yn=typeof navigator=="object"&&navigator||void 0,Rf=Zn&&(!yn||["ReactNative","NativeScript","NS"].indexOf(yn.product)<0),Ef=(()=>typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),jf=Zn&&window.location.href||"http://localhost",Df=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zn,hasStandardBrowserEnv:Rf,hasStandardBrowserWebWorkerEnv:Ef,navigator:yn,origin:jf},Symbol.toStringTag,{value:"Module"})),le=S(S({},Df),Pf);function Lf(e,t){return or(e,new le.classes.URLSearchParams,S({visitor:function(a,r,s,o){return le.isNode&&T.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Of(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Mf(e){const t={},a=Object.keys(e);let r;const s=a.length;let o;for(r=0;r<s;r++)o=a[r],t[o]=e[o];return t}function fc(e){function t(a,r,s,o){let i=a[o++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),p=o>=a.length;return i=!i&&T.isArray(s)?s.length:i,p?(T.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!c):((!s[i]||!T.isObject(s[i]))&&(s[i]=[]),t(a,r,s[i],o)&&T.isArray(s[i])&&(s[i]=Mf(s[i])),!c)}if(T.isFormData(e)&&T.isFunction(e.entries)){const a={};return T.forEachEntry(e,(r,s)=>{t(Of(r),s,a,0)}),a}return null}function Ff(e,t,a){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const es={transitional:gc,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",s=r.indexOf("application/json")>-1,o=T.isObject(t);if(o&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return s?JSON.stringify(fc(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Lf(t,this.formSerializer).toString();if((c=T.isFileList(t))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return or(c?{"files[]":t}:t,p&&new p,this.formSerializer)}}return o||s?(a.setContentType("application/json",!1),Ff(t)):t}],transformResponse:[function(t){const a=this.transitional||es.transitional,r=a&&a.forcedJSONParsing,s=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(r&&!this.responseType||s)){const i=!(a&&a.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(i)throw c.name==="SyntaxError"?z.from(c,z.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{es.headers[e]={}});const ts=es,If=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vf=e=>{const t={};let a,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),a=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!a||t[a]&&If[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},Oi=Symbol("internals");function _t(e){return e&&String(e).trim().toLowerCase()}function Aa(e){return e===!1||e==null?e:T.isArray(e)?e.map(Aa):String(e)}function zf(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)t[r[1]]=r[2];return t}const Bf=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _r(e,t,a,r,s){if(T.isFunction(r))return r.call(this,t,a);if(s&&(t=a),!!T.isString(t)){if(T.isString(r))return t.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(t)}}function _f(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function $f(e,t){const a=T.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}class lr{constructor(t){t&&this.set(t)}set(t,a,r){const s=this;function o(c,p,u){const d=_t(p);if(!d)throw new Error("header name must be a non-empty string");const m=T.findKey(s,d);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||p]=Aa(c))}const i=(c,p)=>T.forEach(c,(u,d)=>o(u,d,p));if(T.isPlainObject(t)||t instanceof this.constructor)i(t,a);else if(T.isString(t)&&(t=t.trim())&&!Bf(t))i(Vf(t),a);else if(T.isObject(t)&&T.isIterable(t)){let c={},p,u;for(const d of t){if(!T.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(p=c[u])?T.isArray(p)?[...p,d[1]]:[p,d[1]]:d[1]}i(c,a)}else t!=null&&o(a,t,r);return this}get(t,a){if(t=_t(t),t){const r=T.findKey(this,t);if(r){const s=this[r];if(!a)return s;if(a===!0)return zf(s);if(T.isFunction(a))return a.call(this,s,r);if(T.isRegExp(a))return a.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=_t(t),t){const r=T.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||_r(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let s=!1;function o(i){if(i=_t(i),i){const c=T.findKey(r,i);c&&(!a||_r(r,r[c],c,a))&&(delete r[c],s=!0)}}return T.isArray(t)?t.forEach(o):o(t),s}clear(t){const a=Object.keys(this);let r=a.length,s=!1;for(;r--;){const o=a[r];(!t||_r(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const a=this,r={};return T.forEach(this,(s,o)=>{const i=T.findKey(r,o);if(i){a[i]=Aa(s),delete a[o];return}const c=t?_f(o):String(o).trim();c!==o&&delete a[o],a[c]=Aa(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return T.forEach(this,(r,s)=>{r!=null&&r!==!1&&(a[s]=t&&T.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Oi]=this[Oi]={accessors:{}}).accessors,s=this.prototype;function o(i){const c=_t(i);r[c]||($f(s,i),r[c]=!0)}return T.isArray(t)?t.forEach(o):o(t),this}}lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(lr.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[a]=r}}});T.freezeMethods(lr);const we=lr;function $r(e,t){const a=this||ts,r=t||a,s=we.from(r.headers);let o=r.data;return T.forEach(e,function(c){o=c.call(a,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function xc(e){return!!(e&&e.__CANCEL__)}function Dt(e,t,a){z.call(this,e==null?"canceled":e,z.ERR_CANCELED,t,a),this.name="CanceledError"}T.inherits(Dt,z,{__CANCEL__:!0});function yc(e,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):t(new z("Request failed with status code "+a.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Uf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qf(e,t){e=e||10;const a=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(p){const u=Date.now(),d=r[o];i||(i=u),a[s]=p,r[s]=u;let m=o,h=0;for(;m!==s;)h+=a[m++],m=m%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function Hf(e,t){let a=0,r=1e3/t,s,o;const i=(u,d=Date.now())=>{a=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-a;m>=r?i(u,d):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},r-m)))},()=>s&&i(s)]}const qa=(e,t,a=3)=>{let r=0;const s=qf(50,250);return Hf(o=>{const i=o.loaded,c=o.lengthComputable?o.total:void 0,p=i-r,u=s(p),d=i<=c;r=i;const m={loaded:i,total:c,progress:c?i/c:void 0,bytes:p,rate:u||void 0,estimated:u&&c&&d?(c-i)/u:void 0,event:o,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},a)},Mi=(e,t)=>{const a=e!=null;return[r=>t[0]({lengthComputable:a,total:e,loaded:r}),t[1]]},Fi=e=>(...t)=>T.asap(()=>e(...t)),Wf=le.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,le.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(le.origin),le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent)):()=>!0,Kf=le.hasStandardBrowserEnv?{write(e,t,a,r,s,o){const i=[e+"="+encodeURIComponent(t)];T.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),T.isString(r)&&i.push("path="+r),T.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Gf(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Jf(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bc(e,t,a){let r=!Gf(t);return e&&(r||a==!1)?Jf(e,t):t}const Ii=e=>e instanceof we?S({},e):e;function ht(e,t){t=t||{};const a={};function r(u,d,m,h){return T.isPlainObject(u)&&T.isPlainObject(d)?T.merge.call({caseless:h},u,d):T.isPlainObject(d)?T.merge({},d):T.isArray(d)?d.slice():d}function s(u,d,m,h){if(T.isUndefined(d)){if(!T.isUndefined(u))return r(void 0,u,m,h)}else return r(u,d,m,h)}function o(u,d){if(!T.isUndefined(d))return r(void 0,d)}function i(u,d){if(T.isUndefined(d)){if(!T.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function c(u,d,m){if(m in t)return r(u,d);if(m in e)return r(void 0,u)}const p={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(u,d,m)=>s(Ii(u),Ii(d),m,!0)};return T.forEach(Object.keys(S(S({},e),t)),function(d){const m=p[d]||s,h=m(e[d],t[d],d);T.isUndefined(h)&&m!==c||(a[d]=h)}),a}const vc=e=>{const t=ht({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:c}=t;t.headers=i=we.from(i),t.url=hc(bc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let p;if(T.isFormData(a)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((p=i.getContentType())!==!1){const[u,...d]=p?p.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(le.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(t)),r||r!==!1&&Wf(t.url))){const u=s&&o&&Kf.read(o);u&&i.set(s,u)}return t},Xf=typeof XMLHttpRequest!="undefined",Yf=Xf&&function(e){return new Promise(function(a,r){const s=vc(e);let o=s.data;const i=we.from(s.headers).normalize();let{responseType:c,onUploadProgress:p,onDownloadProgress:u}=s,d,m,h,g,y;function f(){g&&g(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function w(){if(!v)return;const k=we.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:k,config:e,request:v};yc(function(L){a(L),f()},function(L){r(L),f()},A),v=null}"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(w)},v.onabort=function(){v&&(r(new z("Request aborted",z.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new z("Network Error",z.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||gc;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new z(N,A.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,e,v)),v=null},o===void 0&&i.setContentType(null),"setRequestHeader"in v&&T.forEach(i.toJSON(),function(N,A){v.setRequestHeader(A,N)}),T.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),c&&c!=="json"&&(v.responseType=s.responseType),u&&([h,y]=qa(u,!0),v.addEventListener("progress",h)),p&&v.upload&&([m,g]=qa(p),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=k=>{v&&(r(!k||k.type?new Dt(null,e,v):k),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=Uf(s.url);if(b&&le.protocols.indexOf(b)===-1){r(new z("Unsupported protocol "+b+":",z.ERR_BAD_REQUEST,e));return}v.send(o||null)})},Qf=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let r=new AbortController,s;const o=function(u){if(!s){s=!0,c();const d=u instanceof Error?u:this.reason;r.abort(d instanceof z?d:new Dt(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new z(`timeout ${t} of ms exceeded`,z.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:p}=r;return p.unsubscribe=()=>T.asap(c),p}},Zf=Qf,ex=function*(e,t){let a=e.byteLength;if(!t||a<t){yield e;return}let r=0,s;for(;r<a;)s=r+t,yield e.slice(r,s),r=s},tx=function(e,t){return Nr(this,null,function*(){try{for(var a=os(ax(e)),r,s,o;r=!(s=yield new rt(a.next())).done;r=!1){const i=s.value;yield*Sr(ex(i,t))}}catch(s){o=[s]}finally{try{r&&(s=a.return)&&(yield new rt(s.call(a)))}finally{if(o)throw o[0]}}})},ax=function(e){return Nr(this,null,function*(){if(e[Symbol.asyncIterator]){yield*Sr(e);return}const t=e.getReader();try{for(;;){const{done:a,value:r}=yield new rt(t.read());if(a)break;yield r}}finally{yield new rt(t.cancel())}})},Vi=(e,t,a,r)=>{const s=tx(e,t);let o=0,i,c=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({pull(u){return F(this,null,function*(){try{const{done:d,value:m}=yield s.next();if(d){c(),u.close();return}let h=m.byteLength;if(a){let g=o+=h;a(g)}u.enqueue(new Uint8Array(m))}catch(d){throw c(d),d}})},cancel(u){return c(u),s.return()}},{highWaterMark:2})},cr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wc=cr&&typeof ReadableStream=="function",rx=cr&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):e=>F(B,null,function*(){return new Uint8Array(yield new Response(e).arrayBuffer())})),kc=(e,...t)=>{try{return!!e(...t)}catch(a){return!1}},nx=wc&&kc(()=>{let e=!1;const t=new Request(le.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),zi=64*1024,bn=wc&&kc(()=>T.isReadableStream(new Response("").body)),Ha={stream:bn&&(e=>e.body)};cr&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ha[t]&&(Ha[t]=T.isFunction(e[t])?a=>a[t]():(a,r)=>{throw new z(`Response type '${t}' is not supported`,z.ERR_NOT_SUPPORT,r)})})})(new Response);const sx=e=>F(B,null,function*(){if(e==null)return 0;if(T.isBlob(e))return e.size;if(T.isSpecCompliantForm(e))return(yield new Request(le.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(T.isArrayBufferView(e)||T.isArrayBuffer(e))return e.byteLength;if(T.isURLSearchParams(e)&&(e=e+""),T.isString(e))return(yield rx(e)).byteLength}),ix=(e,t)=>F(B,null,function*(){const a=T.toFiniteNumber(e.getContentLength());return a==null?sx(t):a}),ox=cr&&(e=>F(B,null,function*(){let{url:t,method:a,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:c,onUploadProgress:p,responseType:u,headers:d,withCredentials:m="same-origin",fetchOptions:h}=vc(e);u=u?(u+"").toLowerCase():"text";let g=Zf([s,o&&o.toAbortSignal()],i),y;const f=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let v;try{if(p&&nx&&a!=="get"&&a!=="head"&&(v=yield ix(d,r))!==0){let A=new Request(t,{method:"POST",body:r,duplex:"half"}),R;if(T.isFormData(r)&&(R=A.headers.get("content-type"))&&d.setContentType(R),A.body){const[L,O]=Mi(v,qa(Fi(p)));r=Vi(A.body,zi,L,O)}}T.isString(m)||(m=m?"include":"omit");const w="credentials"in Request.prototype;y=new Request(t,E(S({},h),{signal:g,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:w?m:void 0}));let b=yield fetch(y,h);const k=bn&&(u==="stream"||u==="response");if(bn&&(c||k&&f)){const A={};["status","statusText","headers"].forEach(C=>{A[C]=b[C]});const R=T.toFiniteNumber(b.headers.get("content-length")),[L,O]=c&&Mi(R,qa(Fi(c),!0))||[];b=new Response(Vi(b.body,zi,L,()=>{O&&O(),f&&f()}),A)}u=u||"text";let N=yield Ha[T.findKey(Ha,u)||"text"](b,e);return!k&&f&&f(),yield new Promise((A,R)=>{yc(A,R,{data:N,headers:we.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:y})})}catch(w){throw f&&f(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new z("Network Error",z.ERR_NETWORK,e,y),{cause:w.cause||w}):z.from(w,w&&w.code,e,y)}})),vn={http:vf,xhr:Yf,fetch:ox};T.forEach(vn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(a){}Object.defineProperty(e,"adapterName",{value:t})}});const Bi=e=>`- ${e}`,lx=e=>T.isFunction(e)||e===null||e===!1,Nc={getAdapter:e=>{e=T.isArray(e)?e:[e];const{length:t}=e;let a,r;const s={};for(let o=0;o<t;o++){a=e[o];let i;if(r=a,!lx(a)&&(r=vn[(i=String(a)).toLowerCase()],r===void 0))throw new z(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([c,p])=>`adapter ${c} `+(p===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(Bi).join(`
`):" "+Bi(o[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:vn};function Ur(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dt(null,e)}function _i(e){return Ur(e),e.headers=we.from(e.headers),e.data=$r.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nc.getAdapter(e.adapter||ts.adapter)(e).then(function(r){return Ur(e),r.data=$r.call(e,e.transformResponse,r),r.headers=we.from(r.headers),r},function(r){return xc(r)||(Ur(e),r&&r.response&&(r.response.data=$r.call(e,e.transformResponse,r.response),r.response.headers=we.from(r.response.headers))),Promise.reject(r)})}const Sc="1.11.0",dr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{dr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const $i={};dr.transitional=function(t,a,r){function s(o,i){return"[Axios v"+Sc+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,c)=>{if(t===!1)throw new z(s(i," has been removed"+(a?" in "+a:"")),z.ERR_DEPRECATED);return a&&!$i[i]&&($i[i]=!0,console.warn(s(i," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(o,i,c):!0}};dr.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function cx(e,t,a){if(typeof e!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const c=e[o],p=c===void 0||i(c,o,e);if(p!==!0)throw new z("option "+o+" must be "+p,z.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new z("Unknown option "+o,z.ERR_BAD_OPTION)}}const Pa={assertOptions:cx,validators:dr},Pe=Pa.validators;class Wa{constructor(t){this.defaults=t||{},this.interceptors={request:new Li,response:new Li}}request(t,a){return F(this,null,function*(){try{return yield this._request(t,a)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch(i){}}throw r}})}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=ht(this.defaults,a);const{transitional:r,paramsSerializer:s,headers:o}=a;r!==void 0&&Pa.assertOptions(r,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),s!=null&&(T.isFunction(s)?a.paramsSerializer={serialize:s}:Pa.assertOptions(s,{encode:Pe.function,serialize:Pe.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Pa.assertOptions(a,{baseUrl:Pe.spelling("baseURL"),withXsrfToken:Pe.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&T.merge(o.common,o[a.method]);o&&T.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),a.headers=we.concat(i,o);const c=[];let p=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(a)===!1||(p=p&&f.synchronous,c.unshift(f.fulfilled,f.rejected))});const u=[];this.interceptors.response.forEach(function(f){u.push(f.fulfilled,f.rejected)});let d,m=0,h;if(!p){const y=[_i.bind(this),void 0];for(y.unshift(...c),y.push(...u),h=y.length,d=Promise.resolve(a);m<h;)d=d.then(y[m++],y[m++]);return d}h=c.length;let g=a;for(m=0;m<h;){const y=c[m++],f=c[m++];try{g=y(g)}catch(v){f.call(this,v);break}}try{d=_i.call(this,g)}catch(y){return Promise.reject(y)}for(m=0,h=u.length;m<h;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=ht(this.defaults,t);const a=bc(t.baseURL,t.url,t.allowAbsoluteUrls);return hc(a,t.params,t.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(t){Wa.prototype[t]=function(a,r){return this.request(ht(r||{},{method:t,url:a,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(t){function a(r){return function(o,i,c){return this.request(ht(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Wa.prototype[t]=a(),Wa.prototype[t+"Form"]=a(!0)});const Ra=Wa;class as{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(c=>{r.subscribe(c),o=c}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,c){r.reason||(r.reason=new Dt(o,i,c),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new as(function(s){t=s}),cancel:t}}}const dx=as;function ux(e){return function(a){return e.apply(null,a)}}function px(e){return T.isObject(e)&&e.isAxiosError===!0}const wn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wn).forEach(([e,t])=>{wn[t]=e});const mx=wn;function Cc(e){const t=new Ra(e),a=ac(Ra.prototype.request,t);return T.extend(a,Ra.prototype,t,{allOwnKeys:!0}),T.extend(a,t,null,{allOwnKeys:!0}),a.create=function(s){return Cc(ht(e,s))},a}const re=Cc(ts);re.Axios=Ra;re.CanceledError=Dt;re.CancelToken=dx;re.isCancel=xc;re.VERSION=Sc;re.toFormData=or;re.AxiosError=z;re.Cancel=re.CanceledError;re.all=function(t){return Promise.all(t)};re.spread=ux;re.isAxiosError=px;re.mergeConfig=ht;re.AxiosHeaders=we;re.formToJSON=e=>fc(T.isHTMLForm(e)?new FormData(e):e);re.getAdapter=Nc.getAdapter;re.HttpStatusCode=mx;re.default=re;const Tc=re;class hx{constructor(){this.baseURL="https://your-backend-domain.com",this.axiosInstance=Tc.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.cache=new Map,this.cacheTimeout=5*60*1e3}analyzeContent(t){return F(this,null,function*(){var r,s;if(!t||!Array.isArray(t)||t.length===0)throw new Error("لطفاً آرایه‌ای از متن‌ها ارسال کنید");const a=this.createCacheKey(t);if(this.cache.has(a)){const o=this.cache.get(a);if(Date.now()-o.timestamp<this.cacheTimeout)return console.log("📋 استفاده از نتایج کش شده"),o.data}try{console.log(`🔍 تحلیل ${t.length} متن با هوش مصنوعی`);const o=yield this.axiosInstance.post("/analyze",{texts:t});if(o.data.success)return this.cache.set(a,{data:o.data,timestamp:Date.now()}),o.data;throw new Error(o.data.error||"خطا در تحلیل")}catch(o){if(console.error("خطا در تحلیل هوش مصنوعی:",o),o.code==="ECONNREFUSED"||o.code==="ERR_NETWORK")return console.warn("🔄 استفاده از تحلیل محلی به دلیل عدم دسترسی به سرور"),this.fallbackAnalysis(t);throw new Error(((s=(r=o.response)==null?void 0:r.data)==null?void 0:s.error)||o.message||"خطا در اتصال به سرور تحلیل")}})}getStats(){return F(this,null,function*(){try{const t=yield this.axiosInstance.get("/stats");return t.data.success?t.data.stats:null}catch(t){return console.error("خطا در دریافت آمار:",t),null}})}checkHealth(){return F(this,null,function*(){try{return(yield this.axiosInstance.get("/health")).data.status==="healthy"}catch(t){return!1}})}fallbackAnalysis(t){console.log("📊 اجرای تحلیل محلی...");const r=t.map((s,o)=>{const i=this.detectCategoryLocally(s),c=this.calculateLocalConfidence(s,i);return{text:s.substring(0,150)+(s.length>150?"...":""),fullText:s,category:i.type,score:c/100,confidence:c,legalType:i.type,legalScore:i.score,entities:this.extractEntitiesLocally(s),textLength:s.length,language:this.detectLanguage(s),analyzedAt:new Date().toISOString(),isLocal:!0}}).sort((s,o)=>o.confidence-s.confidence);return{success:!0,total:r.length,ranked:r,isLocal:!0,timestamp:new Date().toISOString(),stats:{totalRequests:t.length,successfulRequests:t.length,successRate:100,averageConfidence:Math.round(r.reduce((s,o)=>s+o.confidence,0)/r.length)}}}detectCategoryLocally(t){const a={قرارداد:{regex:/قرارداد|طرفین|خریدار|فروشنده|اجاره/gi,score:0},رای_دادگاه:{regex:/رای|حکم|دادگاه|قاضی|خواهان|خوانده/gi,score:0},قانون:{regex:/قانون|ماده|تبصره|فصل|باب/gi,score:0},دادخواست:{regex:/دادخواست|خواهان|علیه|خوانده/gi,score:0},شکایت:{regex:/شکایت|متهم|شاکی|جرم/gi,score:0},مصوبه:{regex:/مصوبه|تصویب|شورا|کمیسیون/gi,score:0},اخبار:{regex:/خبر|گزارش|اعلام|اطلاع/gi,score:0}};let r={type:"عمومی",score:0};return Object.entries(a).forEach(([s,o])=>{const c=(t.match(o.regex)||[]).length*10;c>r.score&&(r={type:s,score:Math.min(c,100)})}),r}calculateLocalConfidence(t,a){let r=50;return t.length>100&&(r+=10),t.length>500&&(r+=10),r+=Math.min(a.score/5,20),r+=Math.random()*10-5,Math.max(30,Math.min(95,Math.round(r)))}extractEntitiesLocally(t){return{persons:[...t.match(/(?:آقای|خانم|دکتر)\s+([آ-ی\s]{2,30})/gi)||[]].slice(0,3),dates:[...t.match(/\d{4}\/\d{1,2}\/\d{1,2}|[۰-۹]{4}\/[۰-۹]{1,2}\/[۰-۹]{1,2}/g)||[]].slice(0,3),amounts:[...t.match(/([\d,۰-۹]+)\s*(تومان|ریال)/gi)||[]].slice(0,2)}}detectLanguage(t){const a=(t.match(/[\u0600-\u06FF]/g)||[]).length,r=t.replace(/\s/g,"").length,s=a/r;return s>.7?"fa":s>.3?"mixed":"en"}createCacheKey(t){return btoa(JSON.stringify(t.map(a=>a.substring(0,100)))).substring(0,50)}clearCache(){this.cache.clear()}getCacheSize(){return this.cache.size}}const Ui=new hx,Ac=({texts:e=[],title:t="🧠 رتبه‌بندی هوش مصنوعی",showDetails:a=!0,autoAnalyze:r=!1,className:s=""})=>{const[o,i]=x.useState([]),[c,p]=x.useState(!1),[u,d]=x.useState(!1),[m,h]=x.useState(null),[g,y]=x.useState(null),[f,v]=x.useState("unknown");x.useEffect(()=>{w(),r&&e.length>0&&b()},[e,r]);const w=()=>F(B,null,function*(){const R=yield Ui.checkHealth();v(R?"healthy":"offline")}),b=()=>F(B,null,function*(){if(e.length===0){h("هیچ متنی برای تحلیل وجود ندارد");return}p(!0),h(null);try{const R=yield Ui.analyzeContent(e);i(R.ranked||[]),y(R.stats),R.isLocal&&h("⚠️ سرور هوش مصنوعی در دسترس نیست. از تحلیل محلی استفاده شد.")}catch(R){h(R.message),i([])}finally{p(!1)}}),k=R=>R>=80?"text-green-600 dark:text-green-400":R>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",N=R=>R>=80?"bg-green-100 dark:bg-green-900/20":R>=60?"bg-yellow-100 dark:bg-yellow-900/20":"bg-red-100 dark:bg-red-900/20",A=R=>({قرارداد:"📄",رای_دادگاه:"⚖️",قانون:"📜",دادخواست:"📝",شکایت:"🚨",مصوبه:"✅",اخبار:"📰"})[R]||"📋";return e.length===0?n("div",{className:`bg-gray-50 dark:bg-gray-800 rounded-lg p-6 ${s}`,children:l("div",{className:"text-center",children:[n(je,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"هیچ متنی برای تحلیل هوش مصنوعی وجود ندارد"})]})}):l("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${s}`,children:[n("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center gap-3",children:[n("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:n(je,{className:"w-4 h-4 text-white"})}),l("div",{children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t}),l("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[l("span",{children:[e.length," متن"]}),n("span",{children:"•"}),l("div",{className:`flex items-center gap-1 ${f==="healthy"?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:[n("div",{className:`w-2 h-2 rounded-full ${f==="healthy"?"bg-green-500":"bg-orange-500"}`}),f==="healthy"?"آنلاین":"آفلاین"]})]})]})]}),l("div",{className:"flex items-center gap-2",children:[!r&&n("button",{onClick:b,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?l(Y,{children:[n(de,{className:"w-4 h-4 animate-spin"}),"تحلیل..."]}):l(Y,{children:[n(mt,{className:"w-4 h-4"}),"تحلیل"]})}),o.length>0&&n("button",{onClick:()=>d(!u),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:u?n(m0,{className:"w-4 h-4"}):n(u0,{className:"w-4 h-4"})})]})]})}),m&&n("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800",children:n("p",{className:"text-red-700 dark:text-red-300 text-sm",children:m})}),c&&n("div",{className:"p-6",children:n("div",{className:"flex items-center justify-center",children:l("div",{className:"text-center",children:[n(de,{className:"w-8 h-8 text-purple-600 animate-spin mx-auto mb-3"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"در حال تحلیل با هوش مصنوعی..."}),n("div",{className:"mt-3 w-64 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})})}),!c&&o.length>0&&l("div",{className:"p-4",children:[g&&l("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[g.averageConfidence,"%"]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"میانگین اطمینان"})]}),l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[g.successRate,"%"]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نرخ موفقیت"})]}),l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:o.length}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"تحلیل شده"})]})]}),n("div",{className:"space-y-3",children:o.slice(0,u?o.length:3).map((R,L)=>l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[n("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:L+1}),n("div",{className:"text-2xl",children:A(R.category)}),l("div",{className:"flex-1 min-w-0",children:[l("div",{className:"flex items-center gap-2 mb-1",children:[n("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(R.confidence)} ${k(R.confidence)}`,children:R.category}),l("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[n(Bl,{className:"w-3 h-3"}),R.confidence,"%"]}),R.isLocal&&n("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 text-xs rounded",children:"محلی"})]}),n("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:R.text}),a&&u&&l("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-600",children:[l("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[l("span",{children:["طول: ",R.textLength," کاراکتر"]}),l("span",{children:["زبان: ",R.language]}),R.legalScore>0&&l("span",{children:["امتیاز حقوقی: ",R.legalScore]})]}),R.entities&&Object.values(R.entities).some(O=>O.length>0)&&n("div",{className:"mt-2",children:n("div",{className:"flex flex-wrap gap-1",children:Object.entries(R.entities).map(([O,C])=>C.slice(0,2).map((j,P)=>n("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs rounded",children:j},`${O}-${P}`)))})})]})]}),n("div",{className:"flex-shrink-0 w-16",children:n("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:n("div",{className:`h-2 rounded-full transition-all duration-500 ${R.confidence>=80?"bg-green-500":R.confidence>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${R.confidence}%`}})})})]},L))}),o.length>3&&n("div",{className:"mt-4 text-center",children:n("button",{onClick:()=>d(!u),className:"text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 text-sm font-medium transition-colors",children:u?"نمایش کمتر":`نمایش ${o.length-3} مورد دیگر`})})]}),!c&&o.length===0&&!m&&e.length>0&&l("div",{className:"p-6 text-center",children:[n(je,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"برای مشاهده رتبه‌بندی هوش مصنوعی، دکمه تحلیل را کلیک کنید"})]})]})},gx=()=>{const[e,t]=kn(),{getApiUrl:a,getWebSocketUrl:r}=et(),{showNotification:s,showApiError:o}=ra(),i=Nn(),[c,p]=x.useState(e.get("tab")||"manual"),[u]=x.useState(["قرارداد خرید و فروش ملک واقع در تهران بین آقای احمد محمدی به عنوان خریدار و خانم زهرا احمدی به عنوان فروشنده منعقد می‌گردد.","دادگاه عمومی تهران در جلسه مورخ 1402/09/15 با حضور قاضی دکتر رضایی و بررسی پرونده کلاسه 9801234 رای زیر را صادر نمود.","بخشنامه شماره 1234 وزارت دادگستری در خصوص نحوه رسیدگی به پرونده‌های مدنی به تمامی دادگاه‌های کشور ابلاغ می‌گردد."]),[d,m]=x.useState(!1),[h,g]=x.useState({current:0,total:0,processed:0,failed:0,currentUrl:"",startTime:null}),y=x.useRef(null),[f,v]=x.useState(!1);x.useEffect(()=>{t({tab:c},{replace:!0})},[c,t]),x.useEffect(()=>{const P=()=>{try{const M=new WebSocket(r());M.onopen=()=>{console.log("WebSocket connected"),v(!0),s("اتصال بلادرنگ برقرار شد","success")},M.onmessage=G=>{try{const U=JSON.parse(G.data);w(U)}catch(U){console.error("Error parsing WebSocket message:",U)}},M.onclose=()=>{console.log("WebSocket disconnected"),v(!1),setTimeout(()=>{(!y.current||y.current.readyState===WebSocket.CLOSED)&&P()},5e3)},M.onerror=G=>{console.error("WebSocket error:",G),v(!1)},y.current=M}catch(M){console.error("Failed to connect WebSocket:",M),v(!1)}};return P(),()=>{y.current&&y.current.close()}},[r,s]);const w=P=>{switch(P.type){case"progress":g(M=>E(S({},M),{current:P.batch||M.current,total:P.total_batches||M.total}));break;case"success":g(M=>E(S({},M),{processed:M.processed+1,currentUrl:P.url||""})),i.invalidateQueries(["processedDocuments"]);break;case"error":g(M=>E(S({},M),{failed:M.failed+1})),s(`خطا در پردازش: ${P.url}`,"error");break;case"completed":m(!1),g(M=>E(S({},M),{currentUrl:""})),s(`پردازش تکمیل شد. موفق: ${P.total_processed}, ناموفق: ${P.total_failed}`,"success"),i.invalidateQueries(["processedDocuments"]);break;case"info":s(P.message,"info");break;default:console.log("Unknown WebSocket message type:",P.type)}};We({queryKey:["processingStatus"],queryFn:()=>F(B,null,function*(){const P=yield fetch(a("/process"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:5e3,onSuccess:P=>{m(P.processing||!1),P.processing&&g(M=>E(S({},M),{current:P.current_batch||0,total:P.total_batches||0,processed:P.processed_count||0,failed:P.failed_count||0,currentUrl:P.current_url||""}))}});const{data:b,isLoading:k,error:N}=We({queryKey:["processedDocuments"],queryFn:()=>F(B,null,function*(){const P=yield fetch(a("/processed-documents"));if(!P.ok)throw new Error(`HTTP ${P.status}: ${P.statusText}`);return P.json()}),refetchInterval:3e4}),A=kt({mutationFn:Q=>F(B,[Q],function*({urls:P,useProxy:M,batchSize:G,maxRetries:U}){const $=yield fetch(a("/process-urls"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:P,use_proxy:M,batch_size:G,max_retries:U})});if(!$.ok)throw new Error(`HTTP ${$.status}: ${$.statusText}`);return $.json()}),onSuccess:P=>{m(!0),g({current:0,total:Math.ceil(P.total_urls/(P.batch_size||5)),processed:0,failed:0,currentUrl:"",startTime:new Date}),s(`پردازش ${P.total_urls} سند آغاز شد`,"success")},onError:P=>{o(P,"خطا در شروع پردازش")}}),R=kt({mutationFn:P=>F(B,null,function*(){const M=new FormData;M.append("file",P);const G=yield fetch(a("/upload-urls"),{method:"POST",body:M});if(!G.ok)throw new Error(`HTTP ${G.status}: ${G.statusText}`);return G.json()}),onSuccess:P=>{s(`${P.count} آدرس از فایل استخراج شد`,"success")},onError:P=>{o(P,"خطا در آپلود فایل")}}),L=(P,M={})=>{A.mutate({urls:P,useProxy:M.useProxy!==!1,batchSize:M.batchSize||5,maxRetries:M.maxRetries||3})},O=P=>{R.mutate(P)};return l("div",{className:"space-y-6",children:[l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"پردازش اسناد حقوقی"}),n("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"پردازش، تحلیل و دسته‌بندی اسناد حقوقی"})]}),l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("div",{className:`w-2 h-2 rounded-full ${f?"bg-green-500":"bg-red-500"}`}),n("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:f?"متصل":"قطع شده"})]}),d&&l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n(De,{size:"sm"}),n("span",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"در حال پردازش..."})]})]})]}),d&&n(Dg,{progress:h,onCancel:()=>{s("قابلیت لغو در نسخه بعدی اضافه خواهد شد","info")}}),n(R0,{tabs:[{id:"manual",title:"پردازش دستی",icon:"✏️",description:"پردازش تک‌به‌تک اسناد"},{id:"batch",title:"پردازش دسته‌ای",icon:"📁",description:"پردازش چندین سند همزمان"},{id:"upload",title:"آپلود فایل",icon:"📤",description:"آپلود فایل حاوی آدرس‌ها"},{id:"history",title:"تاریخچه پردازش",icon:"📊",description:"مشاهده سوابق پردازش"}],activeTab:c,onTabChange:p}),n("div",{className:"min-h-96",children:(()=>{switch(c){case"manual":return n(E0,{onProcess:L,isProcessing:A.isLoading});case"batch":return n(j0,{onProcess:L,isProcessing:A.isLoading});case"upload":return n(Eg,{onUpload:O,onProcess:L,isUploading:R.isLoading,isProcessing:A.isLoading,uploadResult:R.data});case"history":return n(jg,{documents:(b==null?void 0:b.documents)||[],loading:k,error:N});default:return null}})()}),(b==null?void 0:b.documents)&&b.documents.length>0&&l("div",{className:"mt-8 space-y-6",children:[n(Ac,{texts:u,title:"🧠 رتبه‌بندی اسناد پردازش شده",showDetails:!0,autoAnalyze:!1}),n(Lg,{documents:b.documents,total:b.total,loading:k})]}),N&&n(Ba,{title:"خطا در دریافت نتایج پردازش",message:N.message,onRetry:()=>i.invalidateQueries(["processedDocuments"])})]})},fx=({tabs:e,activeTab:t,onTabChange:a})=>n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"-mb-px flex space-x-8 space-x-reverse overflow-x-auto",children:e.map(r=>l("button",{onClick:()=>a(r.id),className:`
              group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
              ${t===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"}
            `,children:[n("span",{className:"text-lg ml-2",children:r.icon}),n("span",{children:r.title}),r.description&&l("span",{className:"hidden lg:block text-xs text-gray-400 dark:text-gray-500 mr-2",children:["• ",r.description]})]},r.id))})}),xx=({proxies:e=[],loading:t=!1,selectedProxies:a=[],onSelectionChange:r,onTest:s,onRemove:o,onRefresh:i})=>{const c=m=>{r(m?e.map(h=>h.id):[])},p=(m,h)=>{r(h?[...a,m]:a.filter(g=>g!==m))},u=m=>{switch(m){case"active":return"🟢";case"inactive":return"🔴";case"testing":return"🟡";default:return"⚪"}},d=m=>m<100?"text-green-600 dark:text-green-400":m<300?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return t?n("div",{className:"card p-8 text-center",children:n(De,{size:"lg",text:"در حال بارگذاری لیست پروکسی‌ها..."})}):e.length===0?l("div",{className:"card p-8 text-center",children:[n("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:n("span",{className:"text-2xl",children:"🌐"})}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هیچ پروکسی یافت نشد"}),n("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"لیست پروکسی‌ها خالی است. پروکسی جدید اضافه کنید یا لیست را بروزرسانی کنید."}),n("button",{onClick:i,className:"btn btn-primary",children:"بروزرسانی لیست"})]}):l("div",{className:"space-y-4",children:[l("div",{className:"flex items-center justify-between",children:[n("div",{className:"flex items-center space-x-4 space-x-reverse",children:l("label",{className:"flex items-center",children:[n("input",{type:"checkbox",checked:a.length===e.length&&e.length>0,onChange:m=>c(m.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"mr-2 text-sm text-gray-700 dark:text-gray-300",children:["انتخاب همه (",e.length,")"]})]})}),n("div",{className:"flex items-center space-x-2 space-x-reverse",children:n("button",{onClick:i,className:"btn btn-secondary btn-sm",children:"🔄 بروزرسانی"})})]}),n("div",{className:"card overflow-hidden",children:n("div",{className:"overflow-x-auto",children:l("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n("thead",{className:"bg-gray-50 dark:bg-gray-800",children:l("tr",{children:[n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"انتخاب"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"وضعیت"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"آدرس"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"کشور"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"تأخیر"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"آخرین تست"}),n("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"عملیات"})]})}),n("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(m=>l("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[n("td",{className:"px-6 py-4 whitespace-nowrap",children:n("input",{type:"checkbox",checked:a.includes(m.id),onChange:h=>p(m.id,h.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),n("td",{className:"px-6 py-4 whitespace-nowrap",children:l("div",{className:"flex items-center",children:[n("span",{className:"text-lg ml-2",children:u(m.status)}),n("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.status==="active"?"فعال":m.status==="inactive"?"غیرفعال":m.status==="testing"?"در حال تست":"نامشخص"})]})}),l("td",{className:"px-6 py-4 whitespace-nowrap",children:[l("div",{className:"text-sm font-mono text-gray-900 dark:text-white",children:[m.host,":",m.port]}),m.type&&n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.type.toUpperCase()})]}),n("td",{className:"px-6 py-4 whitespace-nowrap",children:n("div",{className:"flex items-center",children:m.country&&l(Y,{children:[n("span",{className:"text-lg ml-1",children:m.country_flag||"🌐"}),n("span",{className:"text-sm text-gray-900 dark:text-white",children:m.country})]})})}),n("td",{className:"px-6 py-4 whitespace-nowrap",children:m.latency?l("span",{className:`text-sm font-medium ${d(m.latency)}`,children:[m.latency,"ms"]}):n("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"-"})}),n("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:m.last_tested?new Date(m.last_tested).toLocaleString("fa-IR"):"هرگز"}),n("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("button",{onClick:()=>s([m.id]),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"تست پروکسی",children:"🔍"}),n("button",{onClick:()=>o([m.id]),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"حذف پروکسی",children:"🗑️"})]})})]},m.id))})]})})}),l("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[l("span",{children:[e.length," پروکسی • ",e.filter(m=>m.status==="active").length," فعال"]}),a.length>0&&l("span",{children:[a.length," مورد انتخاب شده"]})]})]})},yx=({proxies:e=[],loading:t=!1,onTest:a,testLoading:r=!1})=>{const s=e.filter(d=>d.status==="active"),o=e.filter(d=>d.status==="inactive"),i=e.filter(d=>!d.last_tested),c=()=>{const d=e.map(m=>m.id);a(d)},p=()=>{const d=s.map(m=>m.id);a(d)},u=()=>{const d=o.map(m=>m.id);a(d)};return t?n("div",{className:"card p-8 text-center",children:n(De,{size:"lg",text:"در حال بارگذاری اطلاعات پروکسی‌ها..."})}):l("div",{className:"space-y-6",children:[l("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l("div",{className:"card p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"کل پروکسی‌ها"})]}),l("div",{className:"card p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s.length}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"فعال"})]}),l("div",{className:"card p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:o.length}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"غیرفعال"})]}),l("div",{className:"card p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:i.length}),n("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"تست نشده"})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تست سلامت پروکسی‌ها"}),l("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l("button",{onClick:c,disabled:r||e.length===0,className:"btn btn-primary flex items-center justify-center space-x-2 space-x-reverse",children:[r?n(De,{size:"sm"}):n("span",{children:"🔍"}),l("span",{children:["تست همه (",e.length,")"]})]}),l("button",{onClick:p,disabled:r||s.length===0,className:"btn btn-success flex items-center justify-center space-x-2 space-x-reverse",children:[r?n(De,{size:"sm"}):n("span",{children:"✅"}),l("span",{children:["تست فعال‌ها (",s.length,")"]})]}),l("button",{onClick:u,disabled:r||o.length===0,className:"btn btn-warning flex items-center justify-center space-x-2 space-x-reverse",children:[r?n(De,{size:"sm"}):n("span",{children:"🔄"}),l("span",{children:["تست غیرفعال‌ها (",o.length,")"]})]})]})]}),e.length>0&&l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"جزئیات سلامت"}),l("div",{className:"space-y-4",children:[l("div",{children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"توزیع تأخیر"}),l("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[l("div",{className:"bg-green-100 dark:bg-green-900/20 p-2 rounded text-center",children:[n("div",{className:"font-semibold text-green-800 dark:text-green-200",children:e.filter(d=>d.latency&&d.latency<100).length}),n("div",{className:"text-green-600 dark:text-green-400",children:"< 100ms"})]}),l("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 p-2 rounded text-center",children:[n("div",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:e.filter(d=>d.latency&&d.latency>=100&&d.latency<300).length}),n("div",{className:"text-yellow-600 dark:text-yellow-400",children:"100-300ms"})]}),l("div",{className:"bg-red-100 dark:bg-red-900/20 p-2 rounded text-center",children:[n("div",{className:"font-semibold text-red-800 dark:text-red-200",children:e.filter(d=>d.latency&&d.latency>=300).length}),n("div",{className:"text-red-600 dark:text-red-400",children:"> 300ms"})]})]})]}),e.some(d=>d.country)&&l("div",{children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"توزیع کشورها"}),n("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.reduce((d,m)=>(m.country&&(d[m.country]=(d[m.country]||0)+1),d),{})).map(([d,m])=>l("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200",children:[d," (",m,")"]},d))})]}),l("div",{children:[n("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"آخرین تست‌ها"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs",children:[l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"امروز:"}),n("span",{className:"font-medium mr-2",children:e.filter(d=>{if(!d.last_tested)return!1;const m=new Date(d.last_tested),h=new Date;return m.toDateString()===h.toDateString()}).length})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"این هفته:"}),n("span",{className:"font-medium mr-2",children:e.filter(d=>{if(!d.last_tested)return!1;const m=new Date(d.last_tested),h=new Date;return h.setDate(h.getDate()-7),m>h}).length})]})]})]})]})]}),e.length===0&&l("div",{className:"card p-8 text-center",children:[n("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:n("span",{className:"text-2xl",children:"🏥"})}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هیچ پروکسی برای تست وجود ندارد"}),n("p",{className:"text-gray-500 dark:text-gray-400",children:"ابتدا پروکسی‌هایی اضافه کنید تا بتوانید سلامت آنها را بررسی کنید."})]})]})},bx=({onAdd:e,loading:t=!1})=>{const[a,r]=x.useState({host:"",port:"",type:"http",username:"",password:"",country:"",description:""}),[s,o]=x.useState({}),i=()=>{const d={};return a.host.trim()||(d.host="آدرس هاست الزامی است"),a.port.trim()?(!/^\d+$/.test(a.port)||parseInt(a.port)<1||parseInt(a.port)>65535)&&(d.port="پورت باید عددی بین ۱ تا ۶۵۵۳۵ باشد"):d.port="پورت الزامی است",o(d),Object.keys(d).length===0},c=d=>{if(d.preventDefault(),!i())return;const m=E(S({},a),{port:parseInt(a.port)});e(m),r({host:"",port:"",type:"http",username:"",password:"",country:"",description:""}),o({})},p=(d,m)=>{r(h=>E(S({},h),{[d]:m})),s[d]&&o(h=>E(S({},h),{[d]:""}))},u=[{value:"http",label:"HTTP"},{value:"https",label:"HTTPS"},{value:"socks4",label:"SOCKS4"},{value:"socks5",label:"SOCKS5"}];return l("div",{className:"space-y-6",children:[l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"افزودن پروکسی جدید"}),l("form",{onSubmit:c,className:"space-y-4",children:[l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l("div",{children:[l("label",{className:"label",children:["آدرس هاست ",n("span",{className:"text-red-500",children:"*"})]}),n("input",{type:"text",value:a.host,onChange:d=>p("host",d.target.value),placeholder:"192.168.1.1 یا proxy.example.com",className:`input ${s.host?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,disabled:t}),s.host&&n("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:s.host})]}),l("div",{children:[l("label",{className:"label",children:["پورت ",n("span",{className:"text-red-500",children:"*"})]}),n("input",{type:"text",value:a.port,onChange:d=>p("port",d.target.value),placeholder:"8080",className:`input ${s.port?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`,disabled:t}),s.port&&n("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:s.port})]})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l("div",{children:[n("label",{className:"label",children:"نوع پروکسی"}),n("select",{value:a.type,onChange:d=>p("type",d.target.value),className:"input",disabled:t,children:u.map(d=>n("option",{value:d.value,children:d.label},d.value))})]}),l("div",{children:[n("label",{className:"label",children:"کشور"}),n("input",{type:"text",value:a.country,onChange:d=>p("country",d.target.value),placeholder:"ایران، آمریکا، ...",className:"input",disabled:t})]})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l("div",{children:[n("label",{className:"label",children:"نام کاربری (اختیاری)"}),n("input",{type:"text",value:a.username,onChange:d=>p("username",d.target.value),placeholder:"username",className:"input",disabled:t})]}),l("div",{children:[n("label",{className:"label",children:"رمز عبور (اختیاری)"}),n("input",{type:"password",value:a.password,onChange:d=>p("password",d.target.value),placeholder:"password",className:"input",disabled:t})]})]}),l("div",{children:[n("label",{className:"label",children:"توضیحات (اختیاری)"}),n("textarea",{value:a.description,onChange:d=>p("description",d.target.value),placeholder:"توضیحات کوتاه درباره این پروکسی...",rows:3,className:"input resize-none",disabled:t})]}),l("div",{className:"flex items-center justify-between pt-4",children:[n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"پروکسی جدید به صورت خودکار تست خواهد شد"}),n("button",{type:"submit",disabled:t,className:"btn btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 space-x-reverse",children:t?l(Y,{children:[l("svg",{className:"animate-spin -mr-1 ml-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n("span",{children:"در حال افزودن..."})]}):l(Y,{children:[n("span",{children:"➕"}),n("span",{children:"افزودن پروکسی"})]})})]})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"درون‌ریزی دسته‌ای"}),l("div",{className:"space-y-4",children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پروکسی‌های متعدد را با فرمت زیر وارد کنید (هر خط یک پروکسی):"}),n("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:l("code",{className:"text-sm font-mono text-gray-700 dark:text-gray-300",children:["host:port",n("br",{}),"host:port:username:password",n("br",{}),"type://host:port",n("br",{}),"type://username:password@host:port"]})}),n("textarea",{placeholder:`192.168.1.1:8080
http://user:pass@proxy.example.com:3128
socks5://127.0.0.1:1080`,rows:6,className:"input font-mono text-sm resize-none",disabled:t}),l("div",{className:"flex items-center justify-between",children:[n("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"پروکسی‌های وارد شده به صورت خودکار تجزیه و تست خواهند شد"}),n("button",{disabled:t,className:"btn btn-secondary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"درون‌ریزی دسته‌ای"})]})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"درون‌ریزی از URL"}),l("div",{className:"space-y-4",children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"پروکسی‌ها را از یک فایل آنلاین یا API دریافت کنید:"}),l("div",{className:"flex space-x-2 space-x-reverse",children:[n("input",{type:"url",placeholder:"https://example.com/proxies.txt",className:"input flex-1",disabled:t}),n("button",{disabled:t,className:"btn btn-secondary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:"دریافت از URL"})]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"فرمت‌های پشتیبانی شده: TXT، JSON، CSV"})]})]})]})};Ki.register(Gi,Ji,Xi,Yi,Qi,Zi,eo);const vx=({stats:e=null,realTimeMode:t=!0})=>{const[a,r]=x.useState({requests:[],responses:[],errors:[],timestamps:[]}),[s,o]=x.useState({totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0,totalBandwidth:0,activeConnections:0,requestsPerSecond:0,errorRate:0});x.useEffect(()=>{if(t){const u=setInterval(()=>{const m=new Date().toLocaleTimeString("fa-IR");r(h=>({requests:[...h.requests.slice(-19),Math.floor(Math.random()*100)+20],responses:[...h.responses.slice(-19),Math.floor(Math.random()*90)+15],errors:[...h.errors.slice(-19),Math.floor(Math.random()*10)],timestamps:[...h.timestamps.slice(-19),m]})),o({totalRequests:Math.floor(Math.random()*1e4)+5e3,successfulRequests:Math.floor(Math.random()*8e3)+4e3,failedRequests:Math.floor(Math.random()*500)+50,averageResponseTime:Math.floor(Math.random()*1e3)+200,totalBandwidth:(Math.random()*100+50).toFixed(2),activeConnections:Math.floor(Math.random()*50)+10,requestsPerSecond:Math.floor(Math.random()*20)+5,errorRate:(Math.random()*5+1).toFixed(2)})},2e3);return()=>clearInterval(u)}},[t]);const i={responsive:!0,plugins:{legend:{position:"top",labels:{font:{family:"Vazirmatn, sans-serif"}}},title:{display:!0,text:"آمار شبکه در زمان واقعی",font:{family:"Vazirmatn, sans-serif",size:16}}},scales:{x:{ticks:{font:{family:"Vazirmatn, sans-serif"}}},y:{beginAtZero:!0,ticks:{font:{family:"Vazirmatn, sans-serif"}}}},animation:{duration:1e3}},c={labels:a.timestamps,datasets:[{label:"درخواست‌ها",data:a.requests,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4},{label:"پاسخ‌ها",data:a.responses,borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4},{label:"خطاها",data:a.errors,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},p=(u,d)=>u<=d.good?"text-green-600 dark:text-green-400":u<=d.warning?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return l("div",{className:"space-y-6",children:[l("div",{className:"flex items-center justify-between",children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📊 آمار شبکه"}),l("div",{className:"flex items-center gap-2",children:[n("div",{className:`w-2 h-2 rounded-full ${t?"bg-green-500 animate-pulse":"bg-gray-400"}`}),n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:t?"زنده":"غیرفعال"})]})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل درخواست‌ها"}),n("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.totalRequests.toLocaleString("fa-IR")})]}),n("div",{className:"text-3xl",children:"📊"})]})}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"میانگین زمان پاسخ"}),l("p",{className:`text-2xl font-bold ${p(s.averageResponseTime,{good:500,warning:1e3})}`,children:[s.averageResponseTime," ms"]})]}),n("div",{className:"text-3xl",children:"⏱️"})]})}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"نرخ خطا"}),l("p",{className:`text-2xl font-bold ${p(parseFloat(s.errorRate),{good:2,warning:5})}`,children:[s.errorRate,"%"]})]}),n("div",{className:"text-3xl",children:"❌"})]})}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"اتصالات فعال"}),n("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.activeConnections})]}),n("div",{className:"text-3xl",children:"🔗"})]})})]}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"📈 معیارهای عملکرد"}),l("div",{className:"space-y-4",children:[l("div",{className:"flex justify-between items-center",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"درخواست در ثانیه"}),n("span",{className:"font-medium text-gray-900 dark:text-white",children:s.requestsPerSecond})]}),l("div",{className:"flex justify-between items-center",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"درخواست‌های موفق"}),n("span",{className:"font-medium text-green-600 dark:text-green-400",children:s.successfulRequests.toLocaleString("fa-IR")})]}),l("div",{className:"flex justify-between items-center",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"درخواست‌های ناموفق"}),n("span",{className:"font-medium text-red-600 dark:text-red-400",children:s.failedRequests.toLocaleString("fa-IR")})]}),l("div",{className:"flex justify-between items-center",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل پهنای باند"}),l("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.totalBandwidth," MB/s"]})]})]})]}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"✅ نرخ موفقیت"}),l("div",{className:"space-y-4",children:[l("div",{children:[l("div",{className:"flex justify-between items-center mb-2",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"موفقیت‌آمیز"}),l("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(s.successfulRequests/s.totalRequests*100).toFixed(1),"%"]})]}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${s.successfulRequests/s.totalRequests*100}%`}})})]}),l("div",{children:[l("div",{className:"flex justify-between items-center mb-2",children:[n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"ناموفق"}),l("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(s.failedRequests/s.totalRequests*100).toFixed(1),"%"]})]}),n("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${s.failedRequests/s.totalRequests*100}%`}})})]})]})]})]}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:n("div",{className:"h-80",children:n(to,{data:c,options:i})})}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"🔗 وضعیت اتصالات"}),l("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Math.floor(s.activeConnections*.8)}),n("div",{className:"text-sm text-green-700 dark:text-green-300",children:"اتصالات سالم"})]}),l("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[n("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:Math.floor(s.activeConnections*.15)}),n("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"اتصالات کند"})]}),l("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[n("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:Math.floor(s.activeConnections*.05)}),n("div",{className:"text-sm text-red-700 dark:text-red-300",children:"اتصالات قطع شده"})]})]})]})]})},wx=()=>{const[e,t]=kn(),{getApiUrl:a}=et(),{showNotification:r,showApiError:s}=ra(),o=Nn(),[i,c]=x.useState(e.get("tab")||"list"),[p,u]=x.useState([]);x.useEffect(()=>{t({tab:i},{replace:!0})},[i,t]);const{data:d,isLoading:m,error:h}=We({queryKey:["proxyList"],queryFn:()=>F(B,null,function*(){const C=yield fetch(a("/network/proxies"));if(!C.ok)throw new Error(`HTTP ${C.status}: ${C.statusText}`);return C.json()}),refetchInterval:3e4}),{data:g,isLoading:y}=We({queryKey:["networkStats"],queryFn:()=>F(B,null,function*(){const C=yield fetch(a("/network"));if(!C.ok)throw new Error(`HTTP ${C.status}: ${C.statusText}`);return C.json()}),refetchInterval:15e3}),f=kt({mutationFn:C=>F(B,null,function*(){const j=yield fetch(a("/network/test"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proxy_ids:C})});if(!j.ok)throw new Error(`HTTP ${j.status}: ${j.statusText}`);return j.json()}),onSuccess:C=>{r(`تست ${C.tested_count} پروکسی تکمیل شد`,"success"),o.invalidateQueries(["proxyList"]),o.invalidateQueries(["networkStats"])},onError:C=>{s(C,"خطا در تست پروکسی‌ها")}}),v=kt({mutationFn:C=>F(B,null,function*(){const j=yield fetch(a("/network/proxies"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!j.ok)throw new Error(`HTTP ${j.status}: ${j.statusText}`);return j.json()}),onSuccess:C=>{r("پروکسی جدید با موفقیت اضافه شد","success"),o.invalidateQueries(["proxyList"]),o.invalidateQueries(["networkStats"])},onError:C=>{s(C,"خطا در افزودن پروکسی")}}),w=kt({mutationFn:C=>F(B,null,function*(){const j=yield fetch(a("/network/proxies"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({proxy_ids:C})});if(!j.ok)throw new Error(`HTTP ${j.status}: ${j.statusText}`);return j.json()}),onSuccess:C=>{r(`${C.removed_count} پروکسی حذف شد`,"success"),o.invalidateQueries(["proxyList"]),o.invalidateQueries(["networkStats"]),u([])},onError:C=>{s(C,"خطا در حذف پروکسی‌ها")}}),b=kt({mutationFn:()=>F(B,null,function*(){const C=yield fetch(a("/network/update"),{method:"POST"});if(!C.ok)throw new Error(`HTTP ${C.status}: ${C.statusText}`);return C.json()}),onSuccess:C=>{r("لیست پروکسی‌ها بروزرسانی شد","success"),o.invalidateQueries(["proxyList"]),o.invalidateQueries(["networkStats"])},onError:C=>{s(C,"خطا در بروزرسانی لیست پروکسی‌ها")}}),k=C=>{f.mutate(C)},N=C=>{v.mutate(C)},A=C=>{w.mutate(C)},R=()=>{b.mutate()},L=[{id:"list",title:"لیست پروکسی‌ها",icon:"📋",description:"مشاهده و مدیریت پروکسی‌ها"},{id:"health",title:"تست سلامت",icon:"🏥",description:"بررسی وضعیت پروکسی‌ها"},{id:"add",title:"افزودن پروکسی",icon:"➕",description:"اضافه کردن پروکسی جدید"},{id:"stats",title:"آمار شبکه",icon:"📈",description:"آمار و گزارش‌های شبکه"}],O=()=>{switch(i){case"list":return n(xx,{proxies:(d==null?void 0:d.proxies)||[],loading:m,selectedProxies:p,onSelectionChange:u,onTest:k,onRemove:A,onRefresh:()=>o.invalidateQueries(["proxyList"])});case"health":return n(yx,{proxies:(d==null?void 0:d.proxies)||[],loading:m,onTest:k,testLoading:f.isLoading});case"add":return n(bx,{onAdd:N,loading:v.isLoading});case"stats":return n(vx,{stats:g,loading:y,onRefresh:()=>o.invalidateQueries(["networkStats"])});default:return null}};return l("div",{className:"space-y-6",children:[l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"مدیریت پروکسی و شبکه"}),n("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"مدیریت پروکسی‌ها، تست سلامت و نظارت بر شبکه"})]}),l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[g&&l("div",{className:"flex items-center space-x-2 space-x-reverse px-3 py-1.5 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[n("div",{className:`w-2 h-2 rounded-full ${g.active_proxies>0?"bg-green-500":"bg-red-500"}`}),l("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[g.active_proxies," از ",g.total_proxies," فعال"]})]}),l("button",{onClick:R,disabled:b.isLoading,className:"btn btn-secondary flex items-center space-x-2 space-x-reverse",children:[b.isLoading?n(De,{size:"sm"}):n("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n("span",{children:"بروزرسانی لیست"})]})]})]}),g&&l("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n("div",{className:"card p-4",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"کل پروکسی‌ها"}),n("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.total_proxies||0})]}),n("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:"🌐"})})]})}),n("div",{className:"card p-4",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"فعال"}),n("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:g.active_proxies||0})]}),n("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:"✅"})})]})}),n("div",{className:"card p-4",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"میانگین تأخیر"}),n("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:g.avg_latency?`${g.avg_latency}ms`:"N/A"})]}),n("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:"⚡"})})]})}),n("div",{className:"card p-4",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"نرخ موفقیت"}),n("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:g.success_rate?`${g.success_rate}%`:"N/A"})]}),n("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center",children:n("span",{className:"text-xl",children:"📊"})})]})})]}),n(fx,{tabs:L,activeTab:i,onTabChange:c}),n("div",{className:"min-h-96",children:O()}),h&&n(Ba,{title:"خطا در دریافت لیست پروکسی‌ها",message:h.message,onRetry:()=>o.invalidateQueries(["proxyList"])}),p.length>0&&n("div",{className:"fixed bottom-6 left-6 right-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 z-40",children:l("div",{className:"flex items-center justify-between",children:[l("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p.length," پروکسی انتخاب شده"]}),l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("button",{onClick:()=>k(p),disabled:f.isLoading,className:"btn btn-primary btn-sm",children:"تست انتخاب شده‌ها"}),n("button",{onClick:()=>A(p),disabled:w.isLoading,className:"btn btn-danger btn-sm",children:"حذف انتخاب شده‌ها"}),n("button",{onClick:()=>u([]),className:"btn btn-secondary btn-sm",children:"لغو انتخاب"})]})]})})]})},qi=()=>{const[e,t]=x.useState(""),[a,r]=x.useState([]),[s,o]=x.useState(!1),[i,c]=x.useState("search"),[p,u]=x.useState("simple"),[d,m]=x.useState({dateFrom:"",dateTo:"",category:"",source:"",language:"all"}),[h,g]=x.useState(!1),y=[{id:1,title:"قرارداد خرید و فروش ملک شماره ۱۲۳",content:"این قرارداد در تاریخ ۱۴۰۲/۰۸/۱۵ بین خریدار آقای احمد محمدی و فروشنده خانم زهرا احمدی منعقد گردیده است. موضوع قرارداد خرید و فروش یک واحد مسکونی به مساحت ۱۲۰ متر مربع در منطقه ۳ تهران می‌باشد.",date:"1402/08/15",category:"قراردادها",source:"آرشیو اسناد",language:"fa",tags:["ملک","خرید و فروش","قرارداد"],relevanceScore:95,extractedEntities:["احمد محمدی","زهرا احمدی","منطقه ۳ تهران"],documentType:"قرارداد",size:"2.5 KB"},{id:2,title:"رای دادگاه در پرونده کلاسه ۹۸۰۱۲۳۴",content:"دادگاه عمومی تهران در جلسه مورخ ۱۴۰۲/۰۹/۱۰ با حضور قاضی جناب آقای دکتر رضایی و با بررسی پرونده کلاسه ۹۸۰۱۲۳۴ در خصوص دعوای خواهان علی اکبری علیه خوانده حسن محمدی رای زیر را صادر نمود.",date:"1402/09/10",category:"آرای قضایی",source:"دادگاه عمومی",language:"fa",tags:["رای دادگاه","دعوا","قضایی"],relevanceScore:88,extractedEntities:["دکتر رضایی","علی اکبری","حسن محمدی"],documentType:"رای قضایی",size:"4.2 KB"},{id:3,title:"مصوبه شورای شهر درباره تغییر کاربری",content:"شورای اسلامی شهر تهران در جلسه ۴۵۲ مورخ ۱۴۰۲/۱۰/۰۵ با اکثریت آرا تصویب نمود که تغییر کاربری قطعه زمین واقع در خیابان ولیعصر از مسکونی به تجاری مجاز اعلام گردد.",date:"1402/10/05",category:"مصوبات",source:"شورای شهر",language:"fa",tags:["شورای شهر","تغییر کاربری","مصوبه"],relevanceScore:82,extractedEntities:["شورای شهر تهران","خیابان ولیعصر"],documentType:"مصوبه",size:"1.8 KB"}],f=["همه دسته‌ها","قراردادها","آرای قضایی","مصوبات","قوانین","آیین‌نامه‌ها","بخشنامه‌ها"],v=["همه منابع","آرشیو اسناد","دادگاه عمومی","شورای شهر","مجلس شورای اسلامی","قوه قضائیه"],w=()=>F(B,null,function*(){if(e.trim()){o(!0);try{yield new Promise(A=>setTimeout(A,1500));const N=y.filter(A=>A.title.includes(e)||A.content.includes(e)||A.tags.some(R=>R.includes(e)));r(N)}catch(N){console.error("Search failed:",N),r([])}finally{o(!1)}}}),b=()=>{w()},k=[{id:"search",title:"جستجو",icon:pt},{id:"browse",title:"مرور",icon:ln},{id:"analytics",title:"تحلیل",icon:Me},{id:"settings",title:"تنظیمات",icon:Xe}];return l("div",{className:"space-y-6",children:[n("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center gap-4",children:[n("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center",children:n(Yt,{className:"w-6 h-6 text-white"})}),l("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🔍 جستجو در پایگاه داده"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"جستجو و بازیابی هوشمند در اسناد حقوقی"})]})]}),n("div",{className:"flex items-center gap-3",children:l("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg",children:[n(Yt,{className:"w-4 h-4"}),l("span",{className:"text-sm font-medium",children:[y.length.toLocaleString("fa-IR")," سند"]})]})})]})}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"flex",children:k.map(N=>{const A=N.icon;return l("button",{onClick:()=>c(N.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${i===N.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[n(A,{className:"w-4 h-4"}),N.title]},N.id)})})}),n("div",{className:"p-6",children:l(Je,{mode:"wait",children:[i==="search"&&l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l("div",{className:"flex items-center gap-4",children:[n("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"نوع جستجو:"}),l("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[n("button",{onClick:()=>u("simple"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${p==="simple"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"ساده"}),n("button",{onClick:()=>u("advanced"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${p==="advanced"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"پیشرفته"}),l("button",{onClick:()=>u("semantic"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${p==="semantic"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[n(mt,{className:"w-4 h-4 inline ml-1"}),"معنایی"]})]})]}),l("div",{className:"space-y-4",children:[l("div",{className:"relative",children:[n(pt,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n("input",{type:"text",value:e,onChange:N=>t(N.target.value),placeholder:p==="semantic"?"سؤال خود را به زبان طبیعی بپرسید...":"کلیدواژه‌های مورد نظر را وارد کنید...",className:"w-full pr-12 pl-4 py-4 text-lg border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",onKeyPress:N=>N.key==="Enter"&&w()}),n("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 flex items-center gap-2",children:n("button",{onClick:()=>g(!h),className:`p-2 rounded-lg transition-colors ${h?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:n(zl,{className:"w-4 h-4"})})})]}),n(Je,{children:h&&n(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-4",children:l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"دسته‌بندی"}),n("select",{value:d.category,onChange:N=>m(E(S({},d),{category:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-600 dark:text-white",children:f.map((N,A)=>n("option",{value:N==="همه دسته‌ها"?"":N,children:N},A))})]}),l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"منبع"}),n("select",{value:d.source,onChange:N=>m(E(S({},d),{source:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-600 dark:text-white",children:v.map((N,A)=>n("option",{value:N==="همه منابع"?"":N,children:N},A))})]}),l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"از تاریخ"}),n("input",{type:"text",value:d.dateFrom,onChange:N=>m(E(S({},d),{dateFrom:N.target.value})),placeholder:"1402/01/01",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-600 dark:text-white"})]}),l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تا تاریخ"}),n("input",{type:"text",value:d.dateTo,onChange:N=>m(E(S({},d),{dateTo:N.target.value})),placeholder:"1402/12/29",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-600 dark:text-white"})]})]})})}),l("div",{className:"flex items-center gap-4",children:[n("button",{onClick:p==="advanced"?b:w,disabled:s||!e.trim(),className:"flex items-center gap-2 px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?l(Y,{children:[n(de,{className:"w-4 h-4 animate-spin"}),"در حال جستجو..."]}):l(Y,{children:[n(pt,{className:"w-4 h-4"}),"جستجو"]})}),a.length>0&&l("button",{onClick:()=>{},className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n(Rt,{className:"w-4 h-4"}),"دانلود نتایج"]})]})]}),s&&n("div",{className:"flex items-center justify-center py-12",children:l("div",{className:"text-center",children:[n(de,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"در حال جستجو..."})]})}),!s&&a.length>0&&l("div",{className:"space-y-6",children:[n(Ac,{texts:a.map(N=>N.content),title:"🧠 رتبه‌بندی هوشمند نتایج",showDetails:!0,autoAnalyze:!0,className:"mb-6"}),l("div",{className:"flex items-center justify-between",children:[l("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["نتایج جستجو (",a.length," نتیجه)"]}),l("div",{className:"flex items-center gap-2",children:[n("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"مرتب‌سازی:"}),l("select",{className:"text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 dark:bg-gray-700 dark:text-white",children:[n("option",{children:"مرتبط‌ترین"}),n("option",{children:"جدیدترین"}),n("option",{children:"قدیمی‌ترین"}),n("option",{children:"بیشترین مشاهده"})]})]})]}),n("div",{className:"space-y-4",children:a.map(N=>l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[l("div",{className:"flex items-start justify-between mb-4",children:[l("div",{className:"flex-1",children:[n("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:N.title}),l("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[l("div",{className:"flex items-center gap-1",children:[n(Il,{className:"w-4 h-4"}),N.date]}),l("div",{className:"flex items-center gap-1",children:[n(b0,{className:"w-4 h-4"}),N.category]}),l("div",{className:"flex items-center gap-1",children:[n(ut,{className:"w-4 h-4"}),N.source]}),l("div",{className:"flex items-center gap-1",children:[n(dn,{className:"w-4 h-4"}),N.relevanceScore,"%"]})]})]}),l("div",{className:"flex items-center gap-2",children:[n("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:n(za,{className:"w-4 h-4"})}),n("button",{className:"p-2 text-gray-400 hover:text-green-600 transition-colors",children:n(Rt,{className:"w-4 h-4"})})]})]}),n("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed mb-4",children:N.content}),l("div",{className:"flex items-center justify-between",children:[n("div",{className:"flex flex-wrap gap-2",children:N.tags.map((A,R)=>n("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:A},R))}),l("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[n("span",{children:N.documentType}),n("span",{children:N.size})]})]}),N.extractedEntities.length>0&&l("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[n("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"موجودیت‌های استخراج شده:"}),n("div",{className:"flex flex-wrap gap-2",children:N.extractedEntities.map((A,R)=>n("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-xs rounded",children:A},R))})]})]},N.id))})]}),!s&&e&&a.length===0&&l("div",{className:"text-center py-12",children:[n(Qt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"نتیجه‌ای یافت نشد"}),l("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:['برای عبارت "',e,'" نتیجه‌ای پیدا نشد.']}),n("button",{onClick:()=>t(""),className:"text-blue-600 hover:text-blue-700 transition-colors",children:"پاک کردن جستجو"})]})]},"search"),i==="browse"&&l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-12",children:[n(ln,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"مرور اسناد"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"این بخش در حال توسعه است"})]},"browse"),i==="analytics"&&l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-12",children:[n(Me,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"تحلیل داده‌ها"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"این بخش در حال توسعه است"})]},"analytics"),i==="settings"&&l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-12",children:[n(Xe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"تنظیمات جستجو"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"این بخش در حال توسعه است"})]},"settings")]})})]})]})};class kx{constructor(t={}){this.options=S({timeout:t.timeout||3e4,retries:t.retries||3,delay:t.delay||1e3,proxyUrl:t.proxyUrl||null},t),this.axiosInstance=Tc.create({timeout:this.options.timeout,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"fa-IR,fa;q=0.9,en;q=0.8","Accept-Encoding":"gzip, deflate, br",DNT:"1",Connection:"keep-alive","Upgrade-Insecure-Requests":"1"}}),this.stats={totalRequests:0,successfulRequests:0,failedRequests:0,startTime:Date.now()}}scrapeUrl(r){return F(this,arguments,function*(t,a={}){const s=a.retries||this.options.retries;let o=null;for(let i=1;i<=s;i++)try{this.stats.totalRequests++,console.log(`🔍 Scraping ${t} (attempt ${i}/${s})`);const c=yield this._performScrape(t,a);return this.stats.successfulRequests++,{success:!0,url:t,data:c,timestamp:new Date().toISOString(),attempt:i}}catch(c){o=c,console.warn(`⚠️ Attempt ${i} failed for ${t}:`,c.message),i<s&&(yield this.delay(this.options.delay*i))}return this.stats.failedRequests++,{success:!1,url:t,error:(o==null?void 0:o.message)||"Unknown error",timestamp:new Date().toISOString(),attempts:s}})}_performScrape(r){return F(this,arguments,function*(t,a={}){const o=`${a.proxyUrl||this.options.proxyUrl||"https://api.allorigins.win/get?url="}${encodeURIComponent(t)}`;try{const i=yield this.axiosInstance.get(o);let c=i.data.contents||i.data;const u=new DOMParser().parseFromString(c,"text/html");return this._extractDataFromDOM(u,t,a)}catch(i){try{const c=yield this.axiosInstance.get(t),u=new DOMParser().parseFromString(c.data,"text/html");return this._extractDataFromDOM(u,t,a)}catch(c){throw new Error(`Both proxy and direct requests failed: ${i.message}`)}}})}_extractDataFromDOM(t,a,r={}){const s={url:a,timestamp:new Date().toISOString(),title:"",content:"",metadata:{},links:[],extractedPatterns:{}};try{const o=t.querySelector("title")||t.querySelector("h1");s.title=o?this.cleanText(o.textContent):"";const i=["main","article",".content",".main-content",".post-content",".entry-content","#content"];let c=null;for(const d of i)if(c=t.querySelector(d),c)break;c||(c=t.body),s.content=c?this.cleanText(c.textContent):"",t.querySelectorAll("meta").forEach(d=>{const m=d.getAttribute("name")||d.getAttribute("property"),h=d.getAttribute("content");m&&h&&(s.metadata[m]=h)});const u=t.querySelectorAll("a[href]");return s.links=Array.from(u).map(d=>({text:this.cleanText(d.textContent),href:this.resolveUrl(d.getAttribute("href"),a),title:d.getAttribute("title")||""})).filter(d=>d.text&&d.href).slice(0,50),s.extractedPatterns=this.extractLegalPatterns(s.content),s.language=this.detectLanguage(s.content),s.direction=s.language==="fa"?"rtl":"ltr",s}catch(o){throw console.error("Error extracting data from DOM:",o),o}}extractLegalPatterns(t){if(!t)return{};const a={caseNumber:{regex:/شماره.*?پرونده[:\s]*([۰-۹0-9\-\/]+)/gi,label:"شماره پرونده"},date:{regex:/تاریخ[:\s]*([۰-۹0-9\/\-]+)/gi,label:"تاریخ"},court:{regex:/دادگاه[:\s]*([^\.]{10,50})/gi,label:"دادگاه"},judge:{regex:/قاضی[:\s]*([^\.]{5,30})/gi,label:"قاضی"},plaintiff:{regex:/خواهان[:\s]*([^\.]{5,50})/gi,label:"خواهان"},defendant:{regex:/خوانده[:\s]*([^\.]{5,50})/gi,label:"خوانده"},verdict:{regex:/حکم[:\s]*([^\.]{10,100})/gi,label:"حکم"},law:{regex:/ماده[:\s]*([۰-۹0-9]+)[:\s]*([^\.]{10,100})/gi,label:"ماده قانون"},amount:{regex:/مبلغ[:\s]*([۰-۹0-9,]+)[:\s]*(تومان|ریال|درهم)/gi,label:"مبلغ"}},r={};return Object.keys(a).forEach(s=>{const o=a[s],i=[...t.matchAll(o.regex)];i.length>0&&(r[s]={label:o.label,values:i.map(c=>({text:c[0].trim(),value:c[1]?c[1].trim():"",context:this.getContext(t,c.index,50)}))})}),r}getContext(t,a,r=50){const s=Math.max(0,a-r),o=Math.min(t.length,a+r);return t.substring(s,o).trim()}detectLanguage(t){if(!t)return"unknown";const a=(t.match(/[\u0600-\u06FF]/g)||[]).length,r=t.replace(/\s/g,"").length;if(r===0)return"unknown";const s=a/r;return s>.3?"fa":s>.1?"mixed":"en"}cleanText(t){return t?t.replace(/\s+/g," ").replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/[‌]/g," ").trim():""}resolveUrl(t,a){try{return new URL(t,a).href}catch(r){return t}}scrapeMultiple(r){return F(this,arguments,function*(t,a={}){const s=a.concurrency||2,o=[];console.log(`🔄 Starting batch scraping of ${t.length} URLs`);for(let i=0;i<t.length;i+=s){const p=t.slice(i,i+s).map(d=>this.scrapeUrl(d,a)),u=yield Promise.all(p);o.push(...u),i+s<t.length&&(yield this.delay(this.options.delay))}return o})}searchLegalSources(r){return F(this,arguments,function*(t,a={}){const s=[{name:"سایت قوه قضائیه",searchUrl:`https://www.judiciary.ir/search?q=${encodeURIComponent(t)}`,baseUrl:"https://www.judiciary.ir"},{name:"مرکز اسناد و تحقیقات دفاع مقدس",searchUrl:`https://www.defapress.ir/search?q=${encodeURIComponent(t)}`,baseUrl:"https://www.defapress.ir"},{name:"پایگاه اطلاع‌رسانی دولت",searchUrl:`https://www.dolat.ir/search?q=${encodeURIComponent(t)}`,baseUrl:"https://www.dolat.ir"}],o=[];for(const i of s)try{console.log(`🏛️ Searching ${i.name} for: ${t}`);const c=yield this.scrapeUrl(i.searchUrl,E(S({},a),{source:i.name}));c.success&&o.push(E(S({},c),{source:i.name,query:t})),yield this.delay(this.options.delay)}catch(c){console.error(`❌ Failed to search ${i.name}:`,c)}return o})}saveAsJSON(t,a=null){return F(this,null,function*(){try{const r=a||`legal_documents_${Date.now()}.json`,s={metadata:{timestamp:new Date().toISOString(),totalDocuments:Array.isArray(t)?t.length:1,scrapingStats:this.getStats(),generator:"Iranian Legal Archive Scraping Engine v2.0"},documents:Array.isArray(t)?t:[t]},o=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),c=document.createElement("a");return c.href=i,c.download=r,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i),console.log(`✅ Data saved as ${r}`),{success:!0,filename:r,documentCount:s.documents.length}}catch(r){throw console.error("❌ Failed to save JSON:",r),r}})}getStats(){const t=Date.now()-this.stats.startTime;return E(S({},this.stats),{runtime:`${Math.round(t/1e3)}s`,successRate:this.stats.totalRequests>0?Math.round(this.stats.successfulRequests/this.stats.totalRequests*100):0})}delay(t){return F(this,null,function*(){return new Promise(a=>setTimeout(a,t))})}}const qr=new kx,Nx=()=>{const[e,t]=x.useState("scraper"),[a,r]=x.useState(!1),[s,o]=x.useState([]),[i,c]=x.useState(""),[p,u]=x.useState([]),[d,m]=x.useState({totalRequests:0,successfulRequests:0,failedRequests:0,runtime:"0s",successRate:0}),h=[{id:"judiciary",name:"سایت قوه قضائیه",url:"https://www.judiciary.ir",description:"اخبار و اطلاعیه‌های قوه قضائیه",status:"active",lastScrape:"۲ ساعت پیش",documentsFound:1250},{id:"parliament",name:"مرکز پژوهش‌های مجلس",url:"https://rc.majlis.ir",description:"تحقیقات و گزارش‌های مجلس شورای اسلامی",status:"active",lastScrape:"۳ ساعت پیش",documentsFound:890},{id:"government",name:"پایگاه اطلاع‌رسانی دولت",url:"https://www.dolat.ir",description:"اخبار و مصوبات دولت",status:"inactive",lastScrape:"۱ روز پیش",documentsFound:2100},{id:"legal-news",name:"خبرگزاری حقوقی",url:"https://www.legalpress.ir",description:"اخبار و تحلیل‌های حقوقی",status:"error",lastScrape:"۵ ساعت پیش",documentsFound:456}],g=()=>F(B,null,function*(){if(p.length===0){alert("لطفاً حداقل یک منبع را انتخاب کنید");return}r(!0);try{const b=yield qr.searchLegalSources(i,{sources:p,concurrency:2});o(b),m(qr.getStats())}catch(b){console.error("خطا در استخراج:",b)}finally{r(!1)}}),y=()=>F(B,null,function*(){if(s.length===0){alert("هیچ نتیجه‌ای برای دانلود وجود ندارد");return}try{yield qr.saveAsJSON(s,`legal_scraping_${Date.now()}.json`)}catch(b){console.error("خطا در ذخیره فایل:",b)}}),f=b=>{switch(b){case"active":return n(Jn,{className:"w-4 h-4 text-green-500"});case"inactive":return n(Vl,{className:"w-4 h-4 text-yellow-500"});case"error":return n(_l,{className:"w-4 h-4 text-red-500"});default:return n(d0,{className:"w-4 h-4 text-gray-500"})}},v=b=>{switch(b){case"active":return"فعال";case"inactive":return"غیرفعال";case"error":return"خطا";default:return"نامشخص"}};return l("div",{className:"space-y-6",children:[n("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center gap-4",children:[n("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:n(ut,{className:"w-6 h-6 text-white"})}),l("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🌐 سیستم استخراج اطلاعات"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"استخراج هوشمند اطلاعات از منابع حقوقی آنلاین"})]})]}),n("div",{className:"flex items-center gap-3",children:l("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${a?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:[n("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500 animate-pulse":"bg-gray-400"}`}),n("span",{className:"text-sm font-medium",children:a?"در حال استخراج":"آماده"})]})})]})}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"flex",children:[{id:"scraper",title:"استخراج داده",icon:ut},{id:"sources",title:"منابع",icon:Yt},{id:"results",title:"نتایج",icon:Qt},{id:"stats",title:"آمار",icon:Me}].map(b=>{const k=b.icon;return l("button",{onClick:()=>t(b.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${e===b.id?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[n(k,{className:"w-4 h-4"}),b.title]},b.id)})})}),n("div",{className:"p-6",children:l(Je,{mode:"wait",children:[e==="scraper"&&l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l("div",{className:"space-y-4",children:[l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"جستجوی کلیدواژه"}),l("div",{className:"relative",children:[n(pt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n("input",{type:"text",value:i,onChange:b=>c(b.target.value),placeholder:"کلیدواژه‌های مورد نظر را وارد کنید...",className:"w-full pr-12 pl-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"انتخاب منابع"}),n("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(b=>n("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${p.includes(b.id)?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,onClick:()=>{u(k=>k.includes(b.id)?k.filter(N=>N!==b.id):[...k,b.id])},children:l("div",{className:"flex items-start justify-between",children:[l("div",{className:"flex-1",children:[l("div",{className:"flex items-center gap-2 mb-1",children:[n("h3",{className:"font-medium text-gray-900 dark:text-white",children:b.name}),f(b.status)]}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:b.description}),l("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[l("span",{children:["آخرین استخراج: ",b.lastScrape]}),l("span",{children:["اسناد: ",b.documentsFound.toLocaleString("fa-IR")]})]})]}),n("input",{type:"checkbox",checked:p.includes(b.id),onChange:()=>{},className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"})]})},b.id))})]}),l("div",{className:"flex items-center gap-4",children:[n("button",{onClick:g,disabled:a||p.length===0,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?l(Y,{children:[n(de,{className:"w-4 h-4 animate-spin"}),"در حال استخراج..."]}):l(Y,{children:[n(y0,{className:"w-4 h-4"}),"شروع استخراج"]})}),l("button",{onClick:y,disabled:s.length===0,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n(Rt,{className:"w-4 h-4"}),"دانلود نتایج"]})]})]}),a&&l("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[l("div",{className:"flex items-center gap-3 mb-3",children:[n(de,{className:"w-5 h-5 text-blue-600 animate-spin"}),n("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"در حال استخراج اطلاعات..."})]}),n("div",{className:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-2",children:n("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})]},"scraper"),e==="sources"&&n(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:n("div",{className:"grid grid-cols-1 gap-4",children:h.map(b=>l("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[l("div",{className:"flex items-center justify-between mb-4",children:[l("div",{className:"flex items-center gap-3",children:[n(ut,{className:"w-8 h-8 text-purple-600"}),l("div",{children:[n("h3",{className:"font-semibold text-gray-900 dark:text-white",children:b.name}),l("div",{className:"flex items-center gap-2",children:[f(b.status),n("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:v(b.status)})]})]})]}),l("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-purple-600 hover:text-purple-700 transition-colors",children:[n(h0,{className:"w-4 h-4"}),n("span",{className:"text-sm",children:"مشاهده سایت"})]})]}),n("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:b.description}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l("div",{className:"text-center p-3 bg-white dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:b.documentsFound.toLocaleString("fa-IR")}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"اسناد یافت شده"})]}),l("div",{className:"text-center p-3 bg-white dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:b.lastScrape}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"آخرین استخراج"})]}),l("div",{className:"text-center p-3 bg-white dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-bold text-green-600",children:"۹۵%"}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نرخ موفقیت"})]}),l("div",{className:"text-center p-3 bg-white dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-bold text-blue-600",children:"۲.۳s"}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"میانگین زمان"})]})]})]},b.id))})},"sources"),e==="results"&&n(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:s.length===0?l("div",{className:"text-center py-12",children:[n(Qt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هنوز نتیجه‌ای وجود ندارد"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"برای مشاهده نتایج، ابتدا عملیات استخراج را انجام دهید"})]}):n("div",{className:"space-y-4",children:s.map((b,k)=>{var N,A,R;return l("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6",children:[l("div",{className:"flex items-start justify-between mb-4",children:[l("div",{className:"flex-1",children:[n("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:((N=b.data)==null?void 0:N.title)||"بدون عنوان"}),l("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-300",children:[l("span",{children:["منبع: ",b.source]}),l("span",{children:["تاریخ: ",new Date(b.timestamp).toLocaleDateString("fa-IR")]})]})]}),n("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${b.success?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300"}`,children:b.success?"موفق":"ناموفق"})]}),b.success&&((A=b.data)==null?void 0:A.content)&&l("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed line-clamp-3",children:[b.data.content.substring(0,300),"..."]}),((R=b.data)==null?void 0:R.extractedPatterns)&&Object.keys(b.data.extractedPatterns).length>0&&l("div",{className:"mt-4",children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"الگوهای استخراج شده:"}),n("div",{className:"flex flex-wrap gap-2",children:Object.keys(b.data.extractedPatterns).map(L=>n("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-xs rounded",children:b.data.extractedPatterns[L].label},L))})]})]},k)})})},"results"),e==="stats"&&n(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:l("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:d.totalRequests}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل درخواست‌ها"})]}),l("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:d.successfulRequests}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"موفق"})]}),l("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:d.failedRequests}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"ناموفق"})]}),l("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6 text-center",children:[l("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[d.successRate,"%"]}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"نرخ موفقیت"})]})]})},"stats")]})})]})]})};class Sx{constructor(){this.apiKey="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",this.baseUrl="https://api-inference.huggingface.co/models",this.model="HooshvareLab/bert-fa-base-uncased-clf-persiannews",this.fallbackModel="microsoft/DialoGPT-medium",this.stats={totalRequests:0,successfulRequests:0,failedRequests:0,startTime:Date.now(),categoryCounts:{}}}query(r){return F(this,arguments,function*(t,a=this.model){const s=yield fetch(`${this.baseUrl}/${a}`,{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return yield s.json()})}preprocessPersianText(t){return!t||typeof t!="string"?"":t.trim().replace(/\s+/g," ").replace(/[‌]/g," ").substring(0,512)}enhanceWithLegalContext(t,a){const r={قرارداد:/قرارداد|طرفین|خریدار|فروشنده|اجاره/gi,رای_دادگاه:/رای|حکم|دادگاه|قاضی|خواهان|خوانده/gi,قانون:/قانون|ماده|تبصره|فصل|باب/gi,دادخواست:/دادخواست|خواهان|علیه|خوانده/gi,شکایت:/شکایت|متهم|شاکی|جرم/gi,مصوبه:/مصوبه|تصویب|شورا|کمیسیون/gi};let s=0,o="عمومی";Object.entries(r).forEach(([c,p])=>{const u=t.match(p)||[];u.length>s&&(s=u.length,o=c)});const i={persons:[...t.match(/(?:آقای|خانم|دکتر)\s+([آ-ی\s]{2,30})/gi)||[]].slice(0,3),dates:[...t.match(/\d{4}\/\d{1,2}\/\d{1,2}|[۰-۹]{4}\/[۰-۹]{1,2}\/[۰-۹]{1,2}/g)||[]].slice(0,3),amounts:[...t.match(/([\d,۰-۹]+)\s*(تومان|ریال)/gi)||[]].slice(0,2)};return E(S({},a),{legalType:o,legalScore:Math.min(s*10,100),entities:i,textLength:t.length,language:this.detectLanguage(t)})}detectLanguage(t){const a=(t.match(/[\u0600-\u06FF]/g)||[]).length,r=t.replace(/\s/g,"").length,s=a/r;return s>.7?"fa":s>.3?"mixed":"en"}analyzeTexts(t){return F(this,null,function*(){try{if(!t||!Array.isArray(t)||t.length===0)throw new Error("لطفاً آرایه‌ای از متن‌ها ارسال کنید");this.stats.totalRequests++,console.log(`🔍 تحلیل ${t.length} متن با مدل ${this.model}`);const a=t.map(c=>this.preprocessPersianText(c)).filter(c=>c.length>0);if(a.length===0)throw new Error("هیچ متن معتبری برای تحلیل یافت نشد");const o=(yield this.query({inputs:a})).map((c,p)=>{const u=t[p],d=Array.isArray(c)?c[0]:c,m=this.enhanceWithLegalContext(u,d),h=m.label||"نامشخص";return this.stats.categoryCounts[h]=(this.stats.categoryCounts[h]||0)+1,{text:u.substring(0,150)+(u.length>150?"...":""),fullText:u,category:h,score:m.score||.5,confidence:Math.round((m.score||.5)*100),legalType:m.legalType,legalScore:m.legalScore,entities:m.entities,textLength:m.textLength,language:m.language,analyzedAt:new Date().toISOString(),allScores:Array.isArray(c)?c:[c]}}).sort((c,p)=>p.score-c.score),i=o.reduce((c,p)=>c+p.score,0);return this.stats.averageConfidence=i/o.length,this.stats.successfulRequests++,{success:!0,total:o.length,ranked:o,stats:this.getStats(),model:this.model,timestamp:new Date().toISOString()}}catch(a){console.error("تحلیل ناموفق:",a),this.stats.failedRequests++;let r="خطا در تحلیل متن";throw a.message.includes("Rate limit")?r="محدودیت نرخ درخواست. لطفاً کمی صبر کنید":a.message.includes("Model")&&(r="خطا در بارگذاری مدل. لطفاً دوباره تلاش کنید"),new Error(r)}})}generateText(t,a=100){return F(this,null,function*(){var r;try{return{success:!0,generated_text:((r=(yield this.query({inputs:t,parameters:{max_length:a,temperature:.7,do_sample:!0}},"microsoft/DialoGPT-medium"))[0])==null?void 0:r.generated_text)||"متن تولید نشد",timestamp:new Date().toISOString()}}catch(s){throw console.error("تولید متن ناموفق:",s),new Error("خطا در تولید متن")}})}summarizeText(t,a=150){return F(this,null,function*(){var r;try{return{success:!0,summary_text:((r=(yield this.query({inputs:t,parameters:{max_length:a,min_length:50,do_sample:!1}},"facebook/bart-large-cnn"))[0])==null?void 0:r.summary_text)||"خلاصه تولید نشد",timestamp:new Date().toISOString()}}catch(s){throw console.error("خلاصه‌سازی ناموفق:",s),new Error("خطا در خلاصه‌سازی متن")}})}getStats(){const t=Date.now()-this.stats.startTime;return{totalRequests:this.stats.totalRequests,successfulRequests:this.stats.successfulRequests,failedRequests:this.stats.failedRequests,successRate:this.stats.totalRequests>0?Math.round(this.stats.successfulRequests/this.stats.totalRequests*100):0,averageConfidence:Math.round((this.stats.averageConfidence||0)*100),runtime:Math.round(t/1e3)+"s",requestsPerMinute:Math.round(this.stats.totalRequests/(t/6e4)||0),categoryCounts:this.stats.categoryCounts}}getHealth(){return{status:"healthy",timestamp:new Date().toISOString(),uptime:Math.round((Date.now()-this.stats.startTime)/1e3),model:this.model,stats:this.getStats()}}}const Re=new Sx,Cx=()=>{const[e,t]=x.useState("analyzer"),[a,r]=x.useState([]),[s,o]=x.useState(!1),[i,c]=x.useState(""),[p,u]=x.useState("single"),[d,m]=x.useState([""]),[h,g]=x.useState({totalAnalyzed:0,successfulAnalyses:0,failedAnalyses:0,averageConfidence:0,runtime:"0s",successRate:0}),y=["قرارداد خرید و فروش ملک واقع در تهران بین آقای احمد محمدی به عنوان خریدار و خانم زهرا احمدی به عنوان فروشنده منعقد می‌گردد. مبلغ معامله پنج میلیارد تومان می‌باشد.","دادگاه عمومی تهران در جلسه مورخ 1402/09/15 با حضور قاضی دکتر رضایی و بررسی پرونده کلاسه 9801234 در خصوص دعوای خواهان علی اکبری علیه خوانده حسن محمدی رای زیر را صادر نمود.","بخشنامه شماره 1234 وزارت دادگستری در خصوص نحوه رسیدگی به پرونده‌های مدنی و اجرای احکام دادگاه‌ها به تمامی دادگاه‌های کشور ابلاغ می‌گردد.","شکایت آقای محمد کریمی از شرکت تجاری پارس به دلیل نقض قرارداد و عدم ایفای تعهدات قراردادی در مهلت مقرر که موجب ضرر و زیان شاکی گردیده است."],f=()=>F(B,null,function*(){if(!i.trim()){alert("لطفاً متن مورد نظر را وارد کنید");return}o(!0);try{const C=yield Re.analyzeTexts([i]);r(C.ranked),g(Re.getStats())}catch(C){console.error("Analysis failed:",C),alert("خطا در تحلیل متن: "+C.message)}finally{o(!1)}}),v=()=>F(B,null,function*(){const C=d.filter(j=>j.trim());if(C.length===0){alert("لطفاً حداقل یک متن وارد کنید");return}o(!0);try{const j=yield Re.analyzeTexts(C);r(j.ranked),g(Re.getStats())}catch(j){console.error("Batch analysis failed:",j),alert("خطا در تحلیل دسته‌ای: "+j.message)}finally{o(!1)}}),w=()=>F(B,null,function*(){o(!0);try{const C=yield Re.analyzeTexts(y);r(C.ranked),g(Re.getStats())}catch(C){console.error("Sample analysis failed:",C),alert("خطا در تحلیل نمونه‌ها: "+C.message)}finally{o(!1)}}),b=()=>{m([...d,""])},k=(C,j)=>{const P=[...d];P[C]=j,m(P)},N=C=>{d.length>1&&m(d.filter((j,P)=>P!==C))},A=()=>{if(a.length===0){alert("نتیجه‌ای برای صادرات وجود ندارد");return}const C={metadata:{timestamp:new Date().toISOString(),totalResults:a.length,stats:h,generator:"Iranian Legal Archive AI Analyzer v2.0"},results:a},j=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),P=URL.createObjectURL(j),M=document.createElement("a");M.href=P,M.download=`ai_analysis_results_${Date.now()}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(P)},R=C=>C>=.8?"text-green-600 dark:text-green-400":C>=.6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",L=C=>C>=.8?"bg-green-100 dark:bg-green-900/20":C>=.6?"bg-yellow-100 dark:bg-yellow-900/20":"bg-red-100 dark:bg-red-900/20";return l("div",{className:"space-y-6",children:[n("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:l("div",{className:"flex items-center justify-between",children:[l("div",{className:"flex items-center gap-4",children:[n("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:n(je,{className:"w-6 h-6 text-white"})}),l("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"🧠 تحلیلگر هوش مصنوعی"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"تحلیل هوشمند اسناد حقوقی با مدل BERT فارسی"})]})]}),n("div",{className:"flex items-center gap-3",children:l("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${s?"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300"}`,children:[n("div",{className:`w-2 h-2 rounded-full ${s?"bg-blue-500 animate-pulse":"bg-green-500"}`}),n("span",{className:"text-sm font-medium",children:s?"در حال تحلیل":"آماده"})]})})]})}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"flex",children:[{id:"analyzer",title:"تحلیلگر هوش مصنوعی",icon:je},{id:"results",title:"نتایج تحلیل",icon:Me},{id:"statistics",title:"آمار و گزارش",icon:x0},{id:"settings",title:"تنظیمات",icon:Xe}].map(C=>{const j=C.icon;return l("button",{onClick:()=>t(C.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${e===C.id?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[n(j,{className:"w-4 h-4"}),C.title]},C.id)})})}),n("div",{className:"p-6",children:l(Je,{mode:"wait",children:[e==="analyzer"&&l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l("div",{className:"flex items-center gap-4 mb-6",children:[n("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"نوع تحلیل:"}),l("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[n("button",{onClick:()=>u("single"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${p==="single"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"تک متن"}),n("button",{onClick:()=>u("batch"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${p==="batch"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"دسته‌ای"})]})]}),p==="single"&&l("div",{className:"space-y-4",children:[l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"متن مورد تحلیل"}),n("textarea",{value:i,onChange:C=>c(C.target.value),placeholder:"متن سند حقوقی خود را اینجا وارد کنید...",className:"w-full h-40 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white resize-none"}),l("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["تعداد کاراکتر: ",i.length]})]}),l("div",{className:"flex items-center gap-4",children:[n("button",{onClick:f,disabled:s||!i.trim(),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?l(Y,{children:[n(de,{className:"w-4 h-4 animate-spin"}),"در حال تحلیل..."]}):l(Y,{children:[n(mt,{className:"w-4 h-4"}),"تحلیل متن"]})}),l("button",{onClick:w,disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n(Qt,{className:"w-4 h-4"}),"تحلیل نمونه‌ها"]})]})]}),p==="batch"&&l("div",{className:"space-y-4",children:[l("div",{className:"flex items-center justify-between",children:[l("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["متن‌های مورد تحلیل (",d.length," متن)"]}),l("button",{onClick:b,className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[n(Ca,{className:"w-3 h-3"}),"افزودن متن"]})]}),n("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:d.map((C,j)=>l("div",{className:"flex gap-2",children:[n("textarea",{value:C,onChange:P=>k(j,P.target.value),placeholder:`متن ${j+1}...`,className:"flex-1 h-24 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white resize-none"}),d.length>1&&n("button",{onClick:()=>N(j),className:"px-2 py-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:"×"})]},j))}),n("button",{onClick:v,disabled:s||d.every(C=>!C.trim()),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?l(Y,{children:[n(de,{className:"w-4 h-4 animate-spin"}),"در حال تحلیل دسته‌ای..."]}):l(Y,{children:[n(cn,{className:"w-4 h-4"}),"تحلیل دسته‌ای"]})})]}),h.totalAnalyzed>0&&l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[l("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:h.totalAnalyzed}),n("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"کل تحلیل‌ها"})]}),l("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h.successfulAnalyses}),n("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"موفق"})]}),l("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 text-center",children:[l("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[Math.round(h.averageConfidence*100),"%"]}),n("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"میانگین اطمینان"})]}),l("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 text-center",children:[n("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:h.runtime}),n("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"زمان کل"})]})]})]},"analyzer"),e==="results"&&n(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:a.length===0?l("div",{className:"text-center py-12",children:[n(je,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"هنوز تحلیلی انجام نشده"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"برای مشاهده نتایج، ابتدا تحلیل متن را انجام دهید"})]}):l("div",{className:"space-y-4",children:[l("div",{className:"flex items-center justify-between",children:[l("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["نتایج تحلیل (",a.length," نتیجه)"]}),l("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n(Rt,{className:"w-4 h-4"}),"صادرات نتایج"]})]}),a.map((C,j)=>l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-6",children:[n("div",{className:"flex items-start justify-between mb-4",children:l("div",{className:"flex-1",children:[l("div",{className:"flex items-center gap-3 mb-2",children:[n("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${L(C.confidence)} ${R(C.confidence)}`,children:C.category}),l("div",{className:"flex items-center gap-1",children:[n(Bl,{className:"w-4 h-4 text-gray-400"}),l("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["اطمینان: ",Math.round(C.confidence*100),"%"]})]})]}),n("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:C.text})]})}),C.legalAnalysis&&l("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"تحلیل حقوقی تخصصی:"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.legalAnalysis.documentType.type}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نوع سند"})]}),l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-600 rounded-lg",children:[l("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[C.legalAnalysis.legalRelevanceScore,"%"]}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ارتباط حقوقی"})]}),l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.legalAnalysis.complexity.level}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"پیچیدگی"})]}),l("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-600 rounded-lg",children:[n("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.legalAnalysis.sentiment.sentiment}),n("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"احساس کلی"})]})]}),Object.keys(C.legalAnalysis.legalEntities).some(P=>C.legalAnalysis.legalEntities[P].length>0)&&l("div",{className:"mb-4",children:[n("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"موجودیت‌های حقوقی استخراج شده:"}),n("div",{className:"flex flex-wrap gap-2",children:Object.entries(C.legalAnalysis.legalEntities).map(([P,M])=>M.slice(0,3).map((G,U)=>n("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs rounded",children:G},`${P}-${U}`)))})]}),C.legalAnalysis.keyTerms.length>0&&l("div",{children:[n("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"کلمات کلیدی:"}),n("div",{className:"flex flex-wrap gap-2",children:C.legalAnalysis.keyTerms.slice(0,8).map((P,M)=>l("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 text-xs rounded",children:[P.term," (",P.count,")"]},M))})]})]})]},j))]})},"results"),e==="statistics"&&l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:h.totalAnalyzed}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل تحلیل‌ها"})]}),l("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 text-center",children:[l("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[h.successRate,"%"]}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"نرخ موفقیت"})]}),l("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6 text-center",children:[l("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[Math.round(h.averageConfidence*100),"%"]}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"میانگین اطمینان"})]}),l("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-6 text-center",children:[n("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:h.runtime}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"زمان کل"})]})]}),a.length>0&&l("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"توزیع دسته‌بندی‌ها"}),n("div",{className:"space-y-3",children:Object.entries(a.reduce((C,j)=>(C[j.category]=(C[j.category]||0)+1,C),{})).map(([C,j])=>{const P=j/a.length*100;return l("div",{className:"flex items-center gap-4",children:[n("div",{className:"w-24 text-sm text-gray-600 dark:text-gray-300",children:C}),n("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-4",children:n("div",{className:"bg-purple-600 h-4 rounded-full transition-all duration-500",style:{width:`${P}%`}})}),l("div",{className:"w-16 text-sm text-gray-600 dark:text-gray-300 text-left",children:[j," (",Math.round(P),"%)"]})]},C)})})]})]},"statistics"),e==="settings"&&l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center py-12",children:[n(Xe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"تنظیمات تحلیلگر"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"این بخش در حال توسعه است"})]},"settings")]})})]})]})},Tx=({tabs:e,activeTab:t,onTabChange:a})=>n("div",{className:"border-b border-gray-200 dark:border-gray-700",children:n("nav",{className:"-mb-px flex space-x-8 space-x-reverse overflow-x-auto",children:e.map(r=>l("button",{onClick:()=>a(r.id),className:`
              group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
              ${t===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"}
            `,children:[n("span",{className:"text-lg ml-2",children:r.icon}),n("span",{children:r.title}),r.description&&l("span",{className:"hidden lg:block text-xs text-gray-400 dark:text-gray-500 mr-2",children:["• ",r.description]})]},r.id))})}),Ax=({config:e,onConfigChange:t,theme:a,onThemeChange:r})=>{var o,i,c,p,u;const s=(d,m)=>{t({[d]:m})};return l("div",{className:"space-y-6",children:[l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات ظاهری"}),l("div",{className:"space-y-4",children:[l("div",{children:[n("label",{className:"label",children:"تم رنگی"}),l("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n("button",{onClick:r,className:`p-3 rounded-lg border-2 transition-colors ${a==="light"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-lg",children:"☀️"}),n("span",{className:"text-sm font-medium",children:"روشن"})]})}),n("button",{onClick:r,className:`p-3 rounded-lg border-2 transition-colors ${a==="dark"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-lg",children:"🌙"}),n("span",{className:"text-sm font-medium",children:"تیره"})]})}),n("button",{onClick:r,className:`p-3 rounded-lg border-2 transition-colors ${a==="system"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-lg",children:"🖥️"}),n("span",{className:"text-sm font-medium",children:"سیستم"})]})})]})]}),l("div",{children:[n("label",{className:"label",children:"زبان"}),l("select",{value:e.language||"fa",onChange:d=>s("language",d.target.value),className:"input",children:[n("option",{value:"fa",children:"فارسی"}),n("option",{value:"en",children:"English"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تغییر زبان نیاز به بازنشانی صفحه دارد"})]})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات اعلان‌ها"}),l("div",{className:"space-y-4",children:[l("div",{children:[n("label",{className:"label",children:"موقعیت اعلان‌ها"}),l("select",{value:((o=e.notifications)==null?void 0:o.position)||"top-left",onChange:d=>s("notifications",E(S({},e.notifications),{position:d.target.value})),className:"input",children:[n("option",{value:"top-left",children:"بالا راست"}),n("option",{value:"top-right",children:"بالا چپ"}),n("option",{value:"bottom-left",children:"پایین راست"}),n("option",{value:"bottom-right",children:"پایین چپ"}),n("option",{value:"top-center",children:"بالا وسط"}),n("option",{value:"bottom-center",children:"پایین وسط"})]})]}),l("div",{children:[n("label",{className:"label",children:"مدت نمایش اعلان (ثانیه)"}),n("input",{type:"number",min:"1",max:"10",value:(((i=e.notifications)==null?void 0:i.duration)||4e3)/1e3,onChange:d=>s("notifications",E(S({},e.notifications),{duration:parseInt(d.target.value)*1e3})),className:"input"})]}),l("div",{children:[n("label",{className:"label",children:"حداکثر تعداد اعلان‌های همزمان"}),l("select",{value:((c=e.notifications)==null?void 0:c.maxNotifications)||5,onChange:d=>s("notifications",E(S({},e.notifications),{maxNotifications:parseInt(d.target.value)})),className:"input",children:[n("option",{value:"3",children:"۳"}),n("option",{value:"5",children:"۵"}),n("option",{value:"7",children:"۷"}),n("option",{value:"10",children:"۱۰"})]})]})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات عملکرد"}),l("div",{className:"space-y-4",children:[l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"بروزرسانی خودکار"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"بروزرسانی خودکار داده‌ها در صفحات"})]}),l("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:e.autoRefresh!==!1,onChange:d=>s("autoRefresh",d.target.checked),className:"sr-only peer"}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.autoRefresh!==!1&&l("div",{children:[n("label",{className:"label",children:"فاصله بروزرسانی (ثانیه)"}),l("select",{value:e.refreshInterval||3e4,onChange:d=>s("refreshInterval",parseInt(d.target.value)),className:"input",children:[n("option",{value:"5000",children:"۵ ثانیه"}),n("option",{value:"15000",children:"۱۵ ثانیه"}),n("option",{value:"30000",children:"۳۰ ثانیه"}),n("option",{value:"60000",children:"۱ دقیقه"}),n("option",{value:"300000",children:"۵ دقیقه"})]})]}),l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"کش مرورگر"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ذخیره موقت داده‌ها برای سرعت بیشتر"})]}),l("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:((p=e.cache)==null?void 0:p.enabled)!==!1,onChange:d=>s("cache",E(S({},e.cache),{enabled:d.target.checked})),className:"sr-only peer"}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات صفحه‌بندی"}),l("div",{className:"space-y-4",children:[l("div",{children:[n("label",{className:"label",children:"تعداد پیش‌فرض آیتم‌ها در هر صفحه"}),l("select",{value:((u=e.pagination)==null?void 0:u.defaultPageSize)||20,onChange:d=>s("pagination",E(S({},e.pagination),{defaultPageSize:parseInt(d.target.value)})),className:"input",children:[n("option",{value:"10",children:"۱۰"}),n("option",{value:"20",children:"۲۰"}),n("option",{value:"50",children:"۵۰"}),n("option",{value:"100",children:"۱۰۰"})]})]}),l("div",{children:[n("label",{className:"label",children:"گزینه‌های تعداد آیتم‌ها"}),n("div",{className:"flex flex-wrap gap-2 mt-2",children:[10,20,50,100,200].map(d=>{var m;return l("label",{className:"flex items-center",children:[n("input",{type:"checkbox",checked:(((m=e.pagination)==null?void 0:m.pageSizeOptions)||[10,20,50,100]).includes(d),onChange:h=>{var f;const g=((f=e.pagination)==null?void 0:f.pageSizeOptions)||[10,20,50,100],y=h.target.checked?[...g,d].sort((v,w)=>v-w):g.filter(v=>v!==d);s("pagination",E(S({},e.pagination),{pageSizeOptions:y}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 ml-2"}),n("span",{className:"text-sm",children:d})]},d)})})]})]})]})]})},Px=({config:e,onConfigChange:t,onTestConnection:a})=>{const[r,s]=x.useState(!1),[o,i]=x.useState(null),c=(u,d)=>{t({[u]:d})},p=()=>F(B,null,function*(){s(!0),i(null);try{const u=yield a();i(u)}catch(u){i({success:!1,error:u.message})}finally{s(!1)}});return l("div",{className:"space-y-6",children:[l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"اتصال به سرور"}),l("div",{className:"space-y-4",children:[l("div",{children:[l("label",{className:"label",children:["آدرس پایه API ",n("span",{className:"text-red-500",children:"*"})]}),n("input",{type:"url",value:e.apiBaseUrl||"",onChange:u=>c("apiBaseUrl",u.target.value),placeholder:"http://127.0.0.1:8000/api",className:"input"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"آدرس کامل API سرور (بدون / در انتها)"})]}),l("div",{children:[n("label",{className:"label",children:"آدرس WebSocket"}),n("input",{type:"text",value:e.websocketUrl||"",onChange:u=>c("websocketUrl",u.target.value),placeholder:"ws://127.0.0.1:8000/ws",className:"input"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"آدرس WebSocket برای بروزرسانی بلادرنگ"})]}),l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[l("button",{onClick:p,disabled:r||!e.apiBaseUrl,className:"btn btn-primary flex items-center space-x-2 space-x-reverse disabled:opacity-50",children:[r?n(De,{size:"sm"}):n("span",{children:"🔍"}),n("span",{children:"تست اتصال"})]}),o&&l("div",{className:`flex items-center space-x-2 space-x-reverse ${o.success?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[n("span",{children:o.success?"✅":"❌"}),n("span",{className:"text-sm",children:o.success?`اتصال موفق (${o.status})`:`خطا: ${o.error}`})]})]})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تنظیمات درخواست"}),l("div",{className:"space-y-4",children:[l("div",{children:[n("label",{className:"label",children:"زمان انتظار (میلی‌ثانیه)"}),n("input",{type:"number",min:"5000",max:"120000",step:"1000",value:e.timeout||3e4,onChange:u=>c("timeout",parseInt(u.target.value)),className:"input"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"حداکثر زمان انتظار برای پاسخ سرور (۵-۱۲۰ ثانیه)"})]}),l("div",{children:[n("label",{className:"label",children:"تعداد تلاش مجدد"}),l("select",{value:e.maxRetries||3,onChange:u=>c("maxRetries",parseInt(u.target.value)),className:"input",children:[n("option",{value:"1",children:"۱ بار"}),n("option",{value:"2",children:"۲ بار"}),n("option",{value:"3",children:"۳ بار"}),n("option",{value:"5",children:"۵ بار"}),n("option",{value:"10",children:"۱۰ بار"})]})]}),l("div",{children:[n("label",{className:"label",children:"اندازه پیش‌فرض دسته"}),l("select",{value:e.batchSize||5,onChange:u=>c("batchSize",parseInt(u.target.value)),className:"input",children:[n("option",{value:"1",children:"۱ (کند)"}),n("option",{value:"3",children:"۳ (متوسط)"}),n("option",{value:"5",children:"۵ (سریع)"}),n("option",{value:"10",children:"۱۰ (خیلی سریع)"}),n("option",{value:"20",children:"۲۰ (حداکثر)"})]}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"تعداد درخواست‌های همزمان در پردازش دسته‌ای"})]})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"احراز هویت"}),l("div",{className:"space-y-4",children:[n("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-yellow-600 dark:text-yellow-400",children:"ℹ️"}),l("div",{children:[n("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"احراز هویت در نسخه آینده"}),n("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:"در حال حاضر سیستم نیازی به احراز هویت ندارد. این قابلیت در نسخه‌های آینده اضافه خواهد شد."})]})]})}),l("div",{className:"opacity-50",children:[n("label",{className:"label",children:"کلید API (در آینده)"}),n("input",{type:"password",placeholder:"api_key_here",className:"input",disabled:!0})]}),l("div",{className:"opacity-50",children:[n("label",{className:"label",children:"توکن احراز هویت (در آینده)"}),n("textarea",{placeholder:"Bearer token here",rows:3,className:"input resize-none",disabled:!0})]})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"هدرهای سفارشی"}),l("div",{className:"space-y-4",children:[n("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"هدرهای HTTP که با تمام درخواست‌ها ارسال می‌شوند:"}),l("div",{className:"space-y-2",children:[l("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n("code",{className:"text-sm",children:"Content-Type: application/json"}),n("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"پیش‌فرض"})]}),l("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[n("code",{className:"text-sm",children:"Accept: application/json"}),n("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"پیش‌فرض"})]})]}),n("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n("input",{type:"text",placeholder:"نام هدر",className:"input"}),l("div",{className:"flex space-x-2 space-x-reverse",children:[n("input",{type:"text",placeholder:"مقدار",className:"input flex-1"}),n("button",{className:"btn btn-secondary px-3 py-2 whitespace-nowrap",children:"افزودن"})]})]})})]})]}),l("div",{className:"card p-6",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"تشخیص محیط"}),l("div",{className:"space-y-4",children:[l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"محیط فعلی:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"تولید"})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"آدرس فعلی:"}),n("p",{className:"font-medium text-gray-900 dark:text-white font-mono text-xs",children:window.location.origin})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"پروتکل:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:window.location.protocol==="https:"?"امن (HTTPS)":"غیرامن (HTTP)"})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"پورت:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:window.location.port||(window.location.protocol==="https:"?"443":"80")})]})]}),n("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"تشخیص خودکار آدرس API"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"تنظیم خودکار آدرس API بر اساس محیط"})]}),n("button",{onClick:()=>{const u=`${window.location.origin}/api`;c("apiBaseUrl",u)},className:"btn btn-secondary btn-sm",children:"تشخیص خودکار"})]})})]})]})]})},Rx=({config:e,onUpdate:t,onTest:a})=>{const[r,s]=x.useState({enabled:!1,type:"http",host:"",port:"",username:"",password:"",auth:!1,timeout:30,retries:3,rotateProxies:!1,proxyList:[]}),[o,i]=x.useState(!1),[c,p]=x.useState(null);x.useEffect(()=>{e!=null&&e.proxy&&s(S(S({},r),e.proxy))},[e]);const u=(m,h)=>{const g=E(S({},r),{[m]:h});s(g),t("proxy",g)},d=()=>F(B,null,function*(){i(!0),p(null);try{yield new Promise(m=>setTimeout(m,2e3)),p({success:!0,message:"اتصال پروکسی موفقیت‌آمیز بود"})}catch(m){p({success:!1,message:"خطا در اتصال پروکسی"})}finally{i(!1)}});return l("div",{className:"space-y-6",children:[l("div",{children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"🌐 تنظیمات پروکسی"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"پیکربندی سرور پروکسی برای درخواست‌های شبکه"})]}),n("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"فعال‌سازی پروکسی"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"استفاده از سرور پروکسی برای تمام درخواست‌ها"})]}),l("label",{className:"relative inline-flex items-center cursor-pointer",children:[n("input",{type:"checkbox",checked:r.enabled,onChange:m=>u("enabled",m.target.checked),className:"sr-only peer"}),n("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})}),r.enabled&&l(Y,{children:[l("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"پیکربندی پروکسی"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"نوع پروکسی"}),l("select",{value:r.type,onChange:m=>u("type",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[n("option",{value:"http",children:"HTTP"}),n("option",{value:"https",children:"HTTPS"}),n("option",{value:"socks4",children:"SOCKS4"}),n("option",{value:"socks5",children:"SOCKS5"})]})]}),l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"آدرس سرور"}),n("input",{type:"text",value:r.host,onChange:m=>u("host",m.target.value),placeholder:"127.0.0.1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"پورت"}),n("input",{type:"number",value:r.port,onChange:m=>u("port",m.target.value),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تایم‌اوت (ثانیه)"}),n("input",{type:"number",value:r.timeout,onChange:m=>u("timeout",parseInt(m.target.value)),min:"1",max:"300",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),l("div",{className:"mt-6",children:[l("div",{className:"flex items-center mb-4",children:[n("input",{type:"checkbox",id:"proxy-auth",checked:r.auth,onChange:m=>u("auth",m.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),n("label",{htmlFor:"proxy-auth",className:"mr-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"نیاز به احراز هویت"})]}),r.auth&&l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"نام کاربری"}),n("input",{type:"text",value:r.username,onChange:m=>u("username",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"رمز عبور"}),n("input",{type:"password",value:r.password,onChange:m=>u("password",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]})]}),l("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:[l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"تست اتصال"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"بررسی صحت تنظیمات پروکسی"})]}),n("button",{onClick:d,disabled:o||!r.host||!r.port,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?l(Y,{children:[n("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"در حال تست..."]}):n(Y,{children:"🔍 تست اتصال"})})]}),c&&n("div",{className:`mt-4 p-3 rounded-lg ${c.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:l("div",{className:"flex items-center gap-2",children:[n("span",{children:c.success?"✅":"❌"}),n("span",{className:"text-sm",children:c.message})]})})]})]}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"تنظیمات پیشرفته"}),l("div",{className:"space-y-4",children:[l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تعداد تلاش مجدد"}),n("input",{type:"number",value:r.retries,onChange:m=>u("retries",parseInt(m.target.value)),min:"0",max:"10",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),l("div",{className:"flex items-center",children:[n("input",{type:"checkbox",id:"rotate-proxies",checked:r.rotateProxies,onChange:m=>u("rotateProxies",m.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),n("label",{htmlFor:"rotate-proxies",className:"mr-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"چرخش خودکار پروکسی‌ها"})]})]})]})]})]})},Ex=({config:e,onImport:t,onExport:a})=>{const[r,s]=x.useState(!1),[o,i]=x.useState(!1),[c,p]=x.useState(null),[u,d]=x.useState(null),m=()=>F(B,null,function*(){i(!0),d(null);try{yield new Promise(A=>setTimeout(A,1500));const w={version:"2.0.0",timestamp:new Date().toISOString(),settings:e,metadata:{exportedBy:"Iranian Legal Archive System",totalSettings:Object.keys(e||{}).length}},b=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),k=URL.createObjectURL(b),N=document.createElement("a");N.href=k,N.download=`legal-archive-settings-${Date.now()}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(k),d({success:!0,message:"تنظیمات با موفقیت صادر شد"}),a&&a(w)}catch(w){d({success:!1,message:"خطا در صادرات تنظیمات"})}finally{i(!1)}}),h=w=>F(B,null,function*(){s(!0),p(null);try{const b=yield w.text(),k=JSON.parse(b);if(!k.settings||!k.version)throw new Error("فرمت فایل نامعتبر است");yield new Promise(N=>setTimeout(N,1e3)),p({success:!0,message:`تنظیمات با موفقیت وارد شد (نسخه ${k.version})`,data:k}),t&&t(k.settings)}catch(b){p({success:!1,message:`خطا در واردات تنظیمات: ${b.message}`})}finally{s(!1)}}),g=w=>{const b=w.target.files[0];b&&h(b)},y=()=>F(B,null,function*(){if(confirm("آیا مطمئن هستید که می‌خواهید تمام تنظیمات را به حالت پیش‌فرض برگردانید؟"))try{yield new Promise(b=>setTimeout(b,500)),t&&t({theme:"light",language:"fa",api:{baseUrl:"http://localhost:8000",timeout:3e4,retries:3},proxy:{enabled:!1},processing:{batchSize:10,maxFileSize:50,autoProcess:!1}}),p({success:!0,message:"تنظیمات به حالت پیش‌فرض بازگردانده شد"})}catch(w){p({success:!1,message:"خطا در بازگردانی تنظیمات"})}}),v=(()=>{if(!e)return{total:0,categories:0};const w=Object.keys(e).length;let b=0;const k=N=>{Object.keys(N).forEach(A=>{typeof N[A]=="object"&&N[A]!==null?k(N[A]):b++})};return k(e),{total:b,categories:w}})();return l("div",{className:"space-y-6",children:[l("div",{children:[n("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"📁 واردات و صادرات تنظیمات"}),n("p",{className:"text-gray-600 dark:text-gray-300",children:"پشتیبان‌گیری، بازیابی و انتقال تنظیمات سیستم"})]}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"📊 وضعیت فعلی تنظیمات"}),l("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:v.total}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"کل تنظیمات"})]}),l("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:v.categories}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"دسته‌بندی‌ها"})]}),l("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"2.0.0"}),n("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"نسخه سیستم"})]})]})]}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[l("div",{className:"flex items-center justify-between mb-4",children:[l("div",{children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"📤 صادرات تنظیمات"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"ایجاد فایل پشتیبان از تمام تنظیمات فعلی"})]}),n("button",{onClick:m,disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?l(Y,{children:[n("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"در حال صادرات..."]}):n(Y,{children:"📤 صادرات تنظیمات"})})]}),u&&n("div",{className:`p-3 rounded-lg ${u.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:l("div",{className:"flex items-center gap-2",children:[n("span",{children:u.success?"✅":"❌"}),n("span",{className:"text-sm",children:u.message})]})})]}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[l("div",{className:"mb-4",children:[n("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"📥 واردات تنظیمات"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"بازیابی تنظیمات از فایل پشتیبان"})]}),l("div",{className:"space-y-4",children:[l("div",{children:[n("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"انتخاب فایل پشتیبان"}),n("input",{type:"file",accept:".json",onChange:g,disabled:r,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed"}),n("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"فقط فایل‌های JSON قابل قبول هستند"})]}),r&&l("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[n("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n("span",{className:"text-sm",children:"در حال واردات تنظیمات..."})]}),c&&n("div",{className:`p-3 rounded-lg ${c.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:l("div",{className:"flex items-center gap-2",children:[n("span",{children:c.success?"✅":"❌"}),n("span",{className:"text-sm",children:c.message})]})})]})]}),l("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("h3",{className:"text-lg font-medium text-red-600 dark:text-red-400",children:"🔄 بازگردانی به تنظیمات پیش‌فرض"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"حذف تمام تنظیمات سفارشی و بازگشت به حالت پیش‌فرض"})]}),n("button",{onClick:y,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:"🔄 بازگردانی"})]}),n("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:l("div",{className:"flex items-start gap-2",children:[n("span",{className:"text-red-600 dark:text-red-400",children:"⚠️"}),l("div",{className:"text-sm text-red-700 dark:text-red-300",children:[n("strong",{children:"هشدار:"})," این عملیات غیرقابل بازگشت است. تمام تنظیمات سفارشی شما حذف خواهد شد. قبل از انجام این کار، حتماً از تنظیمات خود پشتیبان تهیه کنید."]})]})})]}),l("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[n("h3",{className:"text-lg font-medium text-blue-900 dark:text-blue-100 mb-3",children:"📖 راهنمای استفاده"}),l("ul",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[l("li",{className:"flex items-start gap-2",children:[n("span",{children:"•"}),n("span",{children:'برای پشتیبان‌گیری از تنظیمات، روی دکمه "صادرات تنظیمات" کلیک کنید'})]}),l("li",{className:"flex items-start gap-2",children:[n("span",{children:"•"}),n("span",{children:"برای بازیابی تنظیمات، فایل JSON پشتیبان را انتخاب کنید"})]}),l("li",{className:"flex items-start gap-2",children:[n("span",{children:"•"}),n("span",{children:"فایل‌های پشتیبان شامل تمام تنظیمات سیستم هستند"})]}),l("li",{className:"flex items-start gap-2",children:[n("span",{children:"•"}),n("span",{children:"پس از واردات تنظیمات، ممکن است نیاز به بازآغازی برنامه باشد"})]})]})]})]})},jx=()=>{const[e,t]=kn(),{config:a,updateConfig:r,resetConfig:s,testConnection:o}=et(),{theme:i,toggleTheme:c}=Tn(),{showNotification:p,showSuccess:u,showError:d}=ra(),[m,h]=x.useState(e.get("tab")||"general"),[g,y]=x.useState(!1),[f,v]=x.useState(a);x.useEffect(()=>{t({tab:m},{replace:!0})},[m,t]),x.useEffect(()=>{const R=JSON.stringify(a)!==JSON.stringify(f);y(R)},[a,f]),x.useEffect(()=>{const R=L=>{g&&(L.preventDefault(),L.returnValue="تغییرات ذخیره نشده وجود دارد. آیا مطمئن هستید؟")};return window.addEventListener("beforeunload",R),()=>window.removeEventListener("beforeunload",R)},[g]);const w=()=>F(B,null,function*(){try{if(f.apiBaseUrl!==a.apiBaseUrl&&(p("در حال تست اتصال...","info"),!(yield o()).success)){d("اتصال به API ناموفق بود. تنظیمات ذخیره نشد.");return}v(a),y(!1),u("تنظیمات با موفقیت ذخیره شد")}catch(R){d("خطا در ذخیره تنظیمات: "+R.message)}}),b=()=>{window.confirm("آیا مطمئن هستید که می‌خواهید تمام تنظیمات را به حالت پیش‌فرض برگردانید؟")&&(s(),v(a),y(!1),u("تنظیمات به حالت پیش‌فرض برگردانده شد"))};return l("div",{className:"space-y-6",children:[l("div",{className:"flex items-center justify-between",children:[l("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"تنظیمات سیستم"}),n("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"پیکربندی و تنظیمات سیستم آرشیو حقوقی"})]}),g&&l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("button",{onClick:()=>{window.confirm("آیا مطمئن هستید که می‌خواهید تغییرات را لغو کنید؟")&&(r(f),y(!1),p("تغییرات لغو شد","info"))},className:"btn btn-secondary",children:"لغو تغییرات"}),n("button",{onClick:w,className:"btn btn-primary",children:"ذخیره تنظیمات"})]})]}),g&&n("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:l("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n("span",{className:"text-yellow-600 dark:text-yellow-400",children:"⚠️"}),l("div",{children:[n("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"تغییرات ذخیره نشده"}),n("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:'تغییراتی که اعمال کرده‌اید هنوز ذخیره نشده‌اند. برای اعمال تغییرات، روی "ذخیره تنظیمات" کلیک کنید.'})]})]})}),n(Tx,{tabs:[{id:"general",title:"تنظیمات عمومی",icon:"⚙️",description:"تم، زبان و تنظیمات کلی"},{id:"api",title:"تنظیمات API",icon:"🔌",description:"آدرس سرور و تنظیمات اتصال"},{id:"proxy",title:"تنظیمات پروکسی",icon:"🌐",description:"مدیریت پروکسی و شبکه"},{id:"import-export",title:"درون‌ریزی/برون‌ریزی",icon:"💾",description:"پشتیبان‌گیری و بازگردانی تنظیمات"}],activeTab:m,onTabChange:h}),n("div",{className:"min-h-96",children:(()=>{switch(m){case"general":return n(Ax,{config:a,onConfigChange:r,theme:i,onThemeChange:c});case"api":return n(Px,{config:a,onConfigChange:r,onTestConnection:o});case"proxy":return n(Rx,{config:a,onConfigChange:r});case"import-export":return n(Ex,{config:a,onConfigChange:r,onReset:b});default:return null}})()}),n("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:l("div",{className:"flex items-center justify-between",children:[l("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["آخرین تغییر: ",new Date().toLocaleString("fa-IR")]}),l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n("button",{onClick:b,className:"btn btn-secondary text-sm",children:"بازنشانی همه تنظیمات"}),g&&n("button",{onClick:w,className:"btn btn-primary text-sm",children:"ذخیره همه تغییرات"})]})]})}),l("div",{className:"card p-6 bg-gray-50 dark:bg-gray-800/50",children:[n("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"اطلاعات سیستم"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"نسخه:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"۲.۰.۰"})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"تاریخ ساخت:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:new Date().toLocaleDateString("fa-IR")})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"محیط:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"تولید"})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"مرورگر:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:navigator.userAgent.split(" ")[0]})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"زبان:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"فارسی"})]}),l("div",{children:[n("span",{className:"text-gray-500 dark:text-gray-400",children:"جهت:"}),n("p",{className:"font-medium text-gray-900 dark:text-white",children:"راست به چپ"})]})]})]})]})};class Dx extends ta.Component{constructor(a){super(a);kr(this,"handleReload",()=>{window.location.reload()});kr(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,r){console.error("Error caught by boundary:",a,r),this.setState({error:a,errorInfo:r})}render(){return this.state.hasError?n("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:n("div",{className:"max-w-md w-full",children:l("div",{className:"card p-8 text-center",children:[n("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:n("span",{className:"text-4xl",children:"💥"})}),n("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"خطای غیرمنتظره"}),n("p",{className:"text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:"متأسفانه خطایی در برنامه رخ داده است. لطفاً صفحه را بازنشانی کنید یا با پشتیبانی تماس بگیرید."}),!1,l("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n("button",{onClick:this.handleReload,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"🔄 بازنشانی صفحه"}),n("button",{onClick:this.handleReset,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"🔄 تلاش مجدد"})]}),l("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"اگر مشکل ادامه دارد، لطفاً با پشتیبانی تماس بگیرید."}),l("div",{className:"mt-4 text-xs text-gray-400 dark:text-gray-500 space-y-1",children:[n("div",{children:"نسخه: ۲.۰.۰"}),l("div",{children:["زمان خطا: ",new Date().toLocaleString("fa-IR")]}),l("div",{children:["مرورگر: ",navigator.userAgent.split(" ")[0]]})]})]})]})})}):this.props.children}}const Lx=()=>{const[e,t]=x.useState([]),[a,r]=x.useState(!1),[s,o]=x.useState(""),i=[{name:"تست تحلیل متن ساده",text:"این یک متن نمونه برای تست سیستم تحلیل هوش مصنوعی است.",expectedType:"text-classification"},{name:"تست سند حقوقی - قرارداد",text:"قرارداد خرید و فروش ملک واقع در تهران بین آقای احمد محمدی به عنوان خریدار و خانم زهرا احمدی به عنوان فروشنده منعقد می‌گردد.",expectedType:"قرارداد"},{name:"تست سند حقوقی - رای دادگاه",text:"دادگاه عمومی تهران در جلسه مورخ 1402/09/15 با حضور قاضی دکتر رضایی رای زیر را صادر نمود.",expectedType:"رای_دادگاه"},{name:"تست چندین متن همزمان",texts:["قانون اساسی جمهوری اسلامی ایران در ماده یک تصریح می‌کند","شکایت آقای کریمی از شرکت تجاری به دلیل نقض قرارداد","مصوبه شورای شهر در خصوص تغییر کاربری"],expectedType:"batch-analysis"}],c=()=>F(B,null,function*(){r(!0),t([]);for(const u of i){o(u.name);try{let d;const m=Date.now();u.texts?d=yield Re.analyzeTexts(u.texts):d=yield Re.analyzeTexts([u.text]);const g=Date.now()-m;t(y=>[...y,{name:u.name,status:"success",result:d,duration:g,details:`✅ تحلیل موفق - ${d.total} متن تحلیل شد`,data:d.ranked||[]}])}catch(d){t(m=>[...m,{name:u.name,status:"error",error:d.message,details:`❌ خطا: ${d.message}`,data:[]}])}yield new Promise(d=>setTimeout(d,1e3))}r(!1),o("")}),p=()=>F(B,null,function*(){try{const u=Re.getHealth(),d=Re.getStats();t(m=>[...m,{name:"وضعیت سلامت سیستم",status:"info",details:`✅ سیستم سالم - ${d.successRate}% موفقیت`,data:{health:u,stats:d}}])}catch(u){t(d=>[...d,{name:"وضعیت سلامت سیستم",status:"error",details:`❌ خطا در دریافت وضعیت: ${u.message}`,data:{}}])}});return n("div",{className:"max-w-6xl mx-auto p-6",children:l(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[l("div",{className:"flex items-center justify-between mb-6",children:[l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n(je,{className:"w-8 h-8 text-blue-600"}),l("div",{children:[n("h1",{className:"text-2xl font-bold text-gray-900",children:"تست سیستم هوش مصنوعی"}),n("p",{className:"text-gray-600",children:"آزمایش عملکرد واقعی سیستم تحلیل اسناد حقوقی"})]})]}),l("div",{className:"flex space-x-3 space-x-reverse",children:[l("button",{onClick:p,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2 space-x-reverse",children:[n(mt,{className:"w-4 h-4"}),n("span",{children:"وضعیت سیستم"})]}),l("button",{onClick:c,disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2 space-x-reverse",children:[a?n(xi,{className:"w-4 h-4 animate-spin"}):n(je,{className:"w-4 h-4"}),n("span",{children:a?"در حال تست...":"شروع تست"})]})]})]}),a&&s&&n(K.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:l("div",{className:"flex items-center space-x-3 space-x-reverse",children:[n(xi,{className:"w-5 h-5 text-blue-600 animate-spin"}),l("span",{className:"text-blue-800 font-medium",children:["در حال اجرای: ",s]})]})}),n("div",{className:"space-y-4",children:e.map((u,d)=>n(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},className:`p-4 rounded-lg border ${u.status==="success"?"bg-green-50 border-green-200":u.status==="error"?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:n("div",{className:"flex items-start justify-between",children:l("div",{className:"flex items-start space-x-3 space-x-reverse",children:[u.status==="success"&&n(Jn,{className:"w-5 h-5 text-green-600 mt-1"}),u.status==="error"&&n(_l,{className:"w-5 h-5 text-red-600 mt-1"}),u.status==="info"&&n(je,{className:"w-5 h-5 text-blue-600 mt-1"}),l("div",{className:"flex-1",children:[n("h3",{className:"font-semibold text-gray-900 mb-1",children:u.name}),n("p",{className:`text-sm ${u.status==="success"?"text-green-700":u.status==="error"?"text-red-700":"text-blue-700"}`,children:u.details}),u.duration&&l("p",{className:"text-xs text-gray-500 mt-1",children:["مدت زمان: ",u.duration,"ms"]}),u.data&&u.data.length>0&&n("div",{className:"mt-3 space-y-2",children:u.data.slice(0,2).map((m,h)=>l("div",{className:"bg-white p-3 rounded border text-sm",children:[l("div",{className:"flex justify-between items-start mb-2",children:[n("span",{className:"font-medium text-gray-900",children:m.category||"نامشخص"}),l("span",{className:"text-green-600 font-bold",children:[m.confidence,"%"]})]}),n("p",{className:"text-gray-600 text-xs",children:m.text}),m.legalType&&l("div",{className:"mt-2 flex flex-wrap gap-2",children:[n("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:m.legalType}),n("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs",children:m.language})]})]},h))})]})]})})},d))}),e.length===0&&!a&&l("div",{className:"text-center py-12 text-gray-500",children:[n(je,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),n("p",{children:'برای شروع تست سیستم، روی دکمه "شروع تست" کلیک کنید'})]})]})})},Ox=new Hc({defaultOptions:{queries:{retry:3,retryDelay:e=>Math.min(1e3*ga(2,e),3e4),staleTime:5*60*1e3,refetchOnWindowFocus:!1}}});function Mx(){const[e,t]=x.useState(!1),[a,r]=x.useState(!0),[s,o]=x.useState(null),[i,c]=x.useState(!1);return x.useEffect(()=>{(()=>F(this,null,function*(){var m,h;const d=Date.now();try{console.log("🚀 Initializing Iranian Legal Archive System..."),console.log("🔗 Connecting to auto-startup services...");let g=0;for(;!window.autoStartupService&&g<3;)yield new Promise(w=>setTimeout(w,200)),g++;if(window.autoStartupService){console.log("✅ Auto-startup service connected");const w=window.autoStartupService.getNavigationGuidance();console.log("🧭 Navigation guidance:",w),(h=(m=window.iranianLegalArchive)==null?void 0:m.features)!=null&&h.autoScraping&&(console.log("🔄 Starting background scraping..."),setTimeout(()=>{window.autoStartupService.startBackgroundScraping()},5e3))}else console.warn("⚠️ Auto-startup service not available, continuing with basic initialization");const y=document.querySelector(".loading-container"),f=document.getElementById("initial-loader");y&&(y.style.display="none",y.remove()),f&&(f.style.display="none",f.remove()),window.cleanupHTMLLoader&&window.cleanupHTMLLoader(),document.readyState!=="complete"&&(yield new Promise(w=>{document.readyState==="complete"?w():window.addEventListener("load",w,{once:!0})})),yield new Promise(w=>setTimeout(w,500));const v=Date.now()-d;console.log(`✅ App initialized successfully in ${v}ms`),console.log("🎯 Current location:",window.location.href),console.log("🎯 Base URL:","/Aihoghoghi/"),c(!0)}catch(g){console.error("❌ Failed to initialize app:",g),o(g.message),c(!0)}finally{setTimeout(()=>r(!1),100)}}))();const u=setTimeout(()=>{console.warn("⚠️ Failsafe timeout reached, forcing app display"),r(!1),c(!0)},1e3);return()=>{clearTimeout(u)}},[]),a?n("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:l("div",{className:"text-center",children:[l("div",{className:"relative",children:[l("div",{className:"w-16 h-16 mx-auto mb-6",children:[n("div",{className:"absolute inset-0 rounded-full border-4 border-blue-200 dark:border-gray-700"}),n("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-600 dark:border-t-blue-400 animate-spin"})]}),l("div",{className:"space-y-2",children:[n("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white animate-pulse",children:"🏛️ سیستم آرشیو اسناد حقوقی ایران"}),n("p",{className:"text-sm text-gray-600 dark:text-gray-300 animate-pulse",children:"در حال بارگذاری..."})]}),n("div",{className:"mt-6 w-64 mx-auto",children:n("div",{className:"h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:n("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})})]}),n("div",{className:"mt-8 text-xs text-gray-500 dark:text-gray-400",children:"در صورت طولانی شدن بارگذاری، صفحه را رفرش کنید"})]})}):s&&!i?n("div",{className:"min-h-screen bg-red-50 dark:bg-red-900/20 flex items-center justify-center",children:l("div",{className:"text-center p-8 max-w-md",children:[n("div",{className:"text-6xl mb-4",children:"⚠️"}),n("h2",{className:"text-xl font-semibold text-red-800 dark:text-red-200 mb-2",children:"خطا در بارگذاری"}),n("p",{className:"text-red-600 dark:text-red-300 mb-4",children:s}),n("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"تلاش مجدد"})]})}):l(Wc,{client:Ox,children:[n($d,{children:n(Ud,{children:n(qd,{children:n(zc,{basename:"/Aihoghoghi/",children:n(Dx,{children:l("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 font-vazir",dir:"rtl",children:[n(Hd,{onMenuClick:()=>t(!e)}),n(k0,{open:e,onClose:()=>t(!1)}),n("main",{className:`transition-all duration-300 ${e?"lg:mr-64":"lg:mr-16"} pt-16`,children:n("div",{className:"p-6",children:l(Bc,{children:[n(ve,{path:"/",element:n(cs,{to:"/dashboard",replace:!0})}),n(ve,{path:"/dashboard",element:n(P0,{})}),n(ve,{path:"/process",element:n(gx,{})}),n(ve,{path:"/proxy",element:n(wx,{})}),n(ve,{path:"/search",element:n(qi,{})}),n(ve,{path:"/scraping",element:n(Nx,{})}),n(ve,{path:"/ai-analysis",element:n(Cx,{})}),n(ve,{path:"/ai-test",element:n(Lx,{})}),n(ve,{path:"/database",element:n(qi,{})}),n(ve,{path:"/settings",element:n(jx,{})}),n(ve,{path:"*",element:n(cs,{to:"/dashboard",replace:!0})})]})})}),n(_d,{position:"top-left",toastOptions:{duration:4e3,style:{direction:"rtl",fontFamily:"Vazirmatn, sans-serif"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})})})})}),n(Zc,{initialIsOpen:!1})]})}console.log("🚀 Iranian Legal Archive - Enhanced Startup");var Hi;console.log("📍 Environment:",(Hi=window.iranianLegalArchive)!=null&&Hi.isGitHubPages?"GitHub Pages":"Local Development");const Fx=Hr.createRoot(document.getElementById("root")),Ix=()=>{try{Fx.render(n(ta.StrictMode,{children:n(Mx,{})})),console.log("✅ React app rendered successfully"),window.autoStartupService&&window.autoStartupService.log("✅ React application loaded and rendered")}catch(e){console.error("❌ Failed to render React app:",e),document.getElementById("root").innerHTML=`
      <div style="
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-family: 'Vazirmatn', sans-serif;
        direction: rtl;
        text-align: center;
        padding: 2rem;
      ">
        <div>
          <div style="font-size: 4rem; margin-bottom: 1rem;">⚖️</div>
          <h1 style="font-size: 1.5rem; margin-bottom: 1rem;">سیستم آرشیو اسناد حقوقی ایران</h1>
          <p style="margin-bottom: 2rem; opacity: 0.9;">خطا در بارگذاری اپلیکیشن</p>
          <button onclick="window.location.reload()" style="
            padding: 1rem 2rem;
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-weight: 500;
            font-size: 1rem;
          ">🔄 رفرش صفحه</button>
        </div>
      </div>
    `}},Vx=()=>F(B,null,function*(){var a;let e=0;const t=20;for(;e<t&&!((a=window.iranianLegalArchive)!=null&&a.servicesReady||e>10);)yield new Promise(r=>setTimeout(r,250)),e++;console.log(`⏳ Waited ${e*250}ms for services`),Ix()});Vx()});export default zx();
//# sourceMappingURL=index-15da0962.js.map
